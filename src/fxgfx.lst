  Mon Aug  9 2021 16:52                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",0
     7                        ;#include "fxos.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
     9                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    11                        	.line	88
    12                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    13                        	.stag	fake1_,32,1
    14                        	.member	quot,0,5,8,16
    15                        	.member	rem,16,5,8,16
    16                        	.eos
    17                        	.stag	fake2_,64,2
    18                        	.member	quot,0,7,8,32
    19                        	.member	rem,32,7,8,32
    20                        	.eos
    21                        	.stag	int_sqrt,32,3
    22                        	.member	sqrt,0,16,8,16
    23                        	.member	frac,16,16,8,16
    24                        	.eos
    25                        	.line	205
    26                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",4
    27                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    28                        	.line	134
    29                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",5
    30                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
    31                        	.line	103
    32                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",6
    33                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
    34                        	.stag	_fx_bytebits,8,4
    35                        	.member	b7,0,14,17,1
    36                        	.member	b6,1,14,17,1
    37                        	.member	b5,2,14,17,1
    38                        	.member	b4,3,14,17,1
    39                        	.member	b3,4,14,17,1
    40                        	.member	b2,5,14,17,1
    41                        	.member	b1,6,14,17,1
  Mon Aug  9 2021 16:52                                                Page 2


    42                        	.member	b0,7,14,17,1
    43                        	.eos
    44                        	.stag	_fx_node,384,5
    45                        	.member	type,0,14,8,8
    46                        	.member	Reserved0,8,14,8,8
    47                        	.member	data,16,129,8,32
    48                        	.member	last,48,138,8,32,5
    49                        	.member	next,80,138,8,32,5
    50                        	.member	name,112,110,8,0,32
    51                        	.member	Reserved1,368,16,8,16
    52                        	.eos
    53                        	.stag	_fx_nodelist,96,6
    54                        	.member	listhead,0,138,8,32,5
    55                        	.member	listData,32,129,8,32
    56                        	.member	deallocator,64,641,8,32
    57                        	.eos
    58                        	.stag	_fx_queue,80,7
    59                        	.member	count,0,5,8,16
    60                        	.member	front,16,138,8,32,5
    61                        	.member	rear,48,138,8,32,5
    62                        	.eos
    63                        	.stag	fake8_,32,8
    64                        	.member	subsystem,0,14,8,8
    65                        	.member	level,8,14,8,8
    66                        	.member	error,16,16,8,16
    67                        	.eos
    68                        	.stag	_fx_process_signal,16,9
    69                        	.member	cbSize,0,16,8,16
    70                        	.eos
    71                        	.stag	_fx_semaphore,16,10
    72                        	.member	reserved,0,5,8,16
    73                        	.eos
    74                        	.stag	_fx_fileBlock,552,11
    75                        	.member	openCount,0,16,8,16
    76                        	.member	lockCount,16,16,8,16
    77                        	.member	dirty,32,14,8,8
    78                        	.member	fileBuffer,40,110,8,0,64
    79                        	.eos
    80                        	.stag	_fx_irq_data,48,12
    81                        	.member	line,0,5,8,16
    82                        	.member	keycode,16,142,8,32
    83                        	.eos
    84                        	.stag	_task,48,13
    85                        	.member	SPL,0,14,8,8
    86                        	.member	SPH,8,14,8,8
    87                        	.member	pstack,16,142,8,32
    88                        	.eos
    89                        	.stag	_task_stack,32,14
    90                        	.member	SS,0,142,8,32
    91                        	.eos
    92                        	.stag	int_regs,104,15
    93                        	.member	PB,0,14,8,8
    94                        	.member	PH,8,14,8,8
    95                        	.member	PL,16,14,8,8
    96                        	.member	PP,24,14,8,8
    97                        	.member	DB,32,14,8,8
    98                        	.member	DH,40,14,8,8
    99                        	.member	DL,48,14,8,8
  Mon Aug  9 2021 16:52                                                Page 3


   100                        	.member	AH,56,14,8,8
   101                        	.member	AL,64,14,8,8
   102                        	.member	XH,72,14,8,8
   103                        	.member	XL,80,14,8,8
   104                        	.member	YH,88,14,8,8
   105                        	.member	YL,96,14,8,8
   106                        	.eos
   107                        	.stag	_fx_eventMessage,312,16
   108                        	.member	src,0,18,8,32
   109                        	.member	dest,32,18,8,32
   110                        	.member	type,64,16,8,16
   111                        	.member	hwnd,80,129,8,32
   112                        	.member	pheap,112,129,8,32
   113                        	.member	msgTime,144,18,8,32
   114                        	.member	data,176,110,8,0,16
   115                        	.member	attr,304,14,8,8
   116                        	.eos
   117                        	.stag	_fx_cmdMessage,312,17
   118                        	.member	src,0,18,8,32
   119                        	.member	dest,32,18,8,32
   120                        	.member	type,64,16,8,16
   121                        	.member	hwnd,80,129,8,32
   122                        	.member	pheap,112,129,8,32
   123                        	.member	msgTime,144,18,8,32
   124                        	.member	cmdCId,176,16,8,16
   125                        	.member	cmdMId,192,16,8,16
   126                        	.member	parameter1,208,18,8,32
   127                        	.member	parameter2,240,18,8,32
   128                        	.member	parameter3,272,18,8,32
   129                        	.member	attr,304,14,8,8
   130                        	.eos
   131                        	.stag	_fx_console_ctl,448,18
   132                        	.member	maxCols,0,5,8,16
   133                        	.member	maxRows,16,5,8,16
   134                        	.member	curX,32,5,8,16
   135                        	.member	curY,48,5,8,16
   136                        	.member	fgColor,64,5,8,16
   137                        	.member	bgColor,80,5,8,16
   138                        	.member	mode,96,14,8,8
   139                        	.member	kbBuffer,104,101,8,0,16
   140                        	.member	screenBuffer,360,142,8,32
   141                        	.member	desktopMode,392,14,8,8
   142                        	.member	lastMouseButton,400,5,8,16
   143                        	.member	lastMouseX,416,5,8,16
   144                        	.member	lastMouseY,432,5,8,16
   145                        	.eos
   146                        	.stag	_fx_desktop_ctl,392,19
   147                        	.member	desktopMode,0,14,8,8
   148                        	.member	cursorCtl,8,5,8,16
   149                        	.member	cursorState,24,5,8,16
   150                        	.member	backgroundColor,40,5,8,16
   151                        	.member	foregroundColor,56,5,8,16
   152                        	.member	menuMode,72,5,8,16
   153                        	.member	lastMouseButton,88,5,8,16
   154                        	.member	lastMouseX,104,5,8,16
   155                        	.member	lastMouseY,120,5,8,16
   156                        	.member	currentDiskName,136,142,8,32
   157                        	.member	diskNodes,168,129,8,32
  Mon Aug  9 2021 16:52                                                Page 4


   158                        	.member	titleNodes,200,129,8,32
   159                        	.member	menuNodes,232,129,8,32
   160                        	.member	iconNodes,264,129,8,32
   161                        	.member	windowNodes,296,129,8,32
   162                        	.member	fontNodes,328,129,8,32
   163                        	.member	wndProc,360,138,8,32,6
   164                        	.eos
   165                        	.stag	_fx_process,800,20
   166                        	.member	cbSize,0,5,8,16
   167                        	.member	procId,16,18,8,32
   168                        	.member	parentId,48,18,8,32
   169                        	.member	ctx,80,129,8,32
   170                        	.member	userId,112,16,8,16
   171                        	.member	status,128,16,8,16
   172                        	.member	foregroundActive,144,14,8,8
   173                        	.member	tls,152,1121,8,32,8
   174                        	.member	commandLine,408,142,8,32
   175                        	.member	semaphores,440,138,8,32,6
   176                        	.member	fileHandles,472,138,8,32,6
   177                        	.member	pathList,504,138,8,32,6
   178                        	.member	resources,536,138,8,32,6
   179                        	.member	timerAware,568,14,8,8
   180                        	.member	timerTicks,576,112,8,0,2
   181                        	.member	timerTickCount,608,112,8,0,2
   182                        	.member	kernelError,640,10,8,32,8
   183                        	.member	consoleCtl,672,138,8,32,18
   184                        	.member	desktopCtl,704,138,8,32,19
   185                        	.member	execProc,736,641,8,32
   186                        	.member	startupArgs,768,129,8,32
   187                        	.eos
   188                        	.stag	_fxProcessMessage,112,21
   189                        	.member	src,0,18,8,32
   190                        	.member	dest,32,18,8,32
   191                        	.member	type,64,16,8,16
   192                        	.member	processInfo,80,138,8,32,20
   193                        	.eos
   194                        	.stag	_k_key_state,112,22
   195                        	.member	scanCode,0,14,8,8
   196                        	.member	isShifted,8,14,8,8
   197                        	.member	isAlt,16,14,8,8
   198                        	.member	isExtended,24,14,8,8
   199                        	.member	isCapsLock,32,14,8,8
   200                        	.member	isNumLock,40,14,8,8
   201                        	.member	isScrollLock,48,14,8,8
   202                        	.member	keyChar,56,16,8,16
   203                        	.member	scanTime,72,18,8,32
   204                        	.member	ledStatus,104,14,8,8
   205                        	.eos
   206                        	.stag	_fx_property,384,23
   207                        	.member	name,0,110,8,0,16
   208                        	.member	value,128,110,8,0,32
   209                        	.eos
   210                        	.utag	_24bitPointer,32,24
   211                        	.member	address,0,142,11,32
   212                        	.member	bytes,0,110,11,0,4
   213                        	.eos
   214                        	.stag	_PointStruct,32,25
   215                        	.member	x,0,5,8,16
  Mon Aug  9 2021 16:52                                                Page 5


   216                        	.member	y,16,5,8,16
   217                        	.eos
   218                        	.stag	_RectStruct,112,26
   219                        	.member	x,0,5,8,16
   220                        	.member	y,16,5,8,16
   221                        	.member	z,32,18,8,32
   222                        	.member	width,64,5,8,16
   223                        	.member	height,80,5,8,16
   224                        	.member	attr,96,5,8,16
   225                        	.eos
   226                        	.stag	fake27_,96,27
   227                        	.member	name,0,142,8,32
   228                        	.member	topLeft,32,10,8,32,25
   229                        	.member	bottomRight,64,10,8,32,25
   230                        	.eos
   231                        	.stag	fake28_,112,28
   232                        	.member	x,0,5,8,16
   233                        	.member	y,16,5,8,16
   234                        	.member	z,32,5,8,16
   235                        	.member	width,48,5,8,16
   236                        	.member	height,64,5,8,16
   237                        	.member	data,80,18,8,32
   238                        	.eos
   239                        	.stag	_k_WindowClass,272,29
   240                        	.member	cbSize,0,16,8,16
   241                        	.member	style,16,16,8,16
   242                        	.member	styleEx,32,16,8,16
   243                        	.member	pWndProc,48,654,8,32
   244                        	.member	hInstance,80,129,8,32
   245                        	.member	hIcon,112,129,8,32
   246                        	.member	hCursor,144,129,8,32
   247                        	.member	hbrBackground,176,129,8,32
   248                        	.member	lpszMenuName,208,142,8,32
   249                        	.member	lpszClassName,240,142,8,32
   250                        	.eos
   251                        	.stag	_ClickableRect,152,30
   252                        	.member	area,0,10,8,112,26
   253                        	.member	z,112,18,8,32
   254                        	.member	enabled,144,14,8,8
   255                        	.eos
   256                        	.stag	_NCClickableRect,136,31
   257                        	.member	area,0,10,8,112,26
   258                        	.member	msgType,112,16,8,16
   259                        	.member	enabled,128,14,8,8
   260                        	.eos
   261                        	.stag	_DragData,216,32
   262                        	.member	area,0,10,8,112,26
   263                        	.member	xoffset,112,5,8,16
   264                        	.member	yoffset,128,5,8,16
   265                        	.member	msgType,144,16,8,16
   266                        	.member	ncAction,160,16,8,16
   267                        	.member	isDrag,176,14,8,8
   268                        	.member	isResize,184,14,8,8
   269                        	.member	canDrag,192,14,8,8
   270                        	.member	canDrop,200,14,8,8
   271                        	.member	didDrag,208,14,8,8
   272                        	.eos
   273                        	.stag	_k_WindowStruct,3904,33
  Mon Aug  9 2021 16:52                                                Page 6


   274                        	.member	cbSize,0,16,8,16
   275                        	.member	style,16,18,8,32
   276                        	.member	styleEx,48,18,8,32
   277                        	.member	win_id,80,5,8,16
   278                        	.member	win_x,96,5,8,16
   279                        	.member	win_y,112,5,8,16
   280                        	.member	win_width,128,5,8,16
   281                        	.member	win_height,144,5,8,16
   282                        	.member	win_xoffset,160,5,8,16
   283                        	.member	win_yoffset,176,5,8,16
   284                        	.member	win_cxoffset,192,5,8,16
   285                        	.member	win_cyoffset,208,5,8,16
   286                        	.member	wndRect,224,10,8,112,26
   287                        	.member	clientRect,336,10,8,112,26
   288                        	.member	nonclientGadgets,448,106,8,0,31,16
   289                        	.member	clickable,2624,129,8,32
   290                        	.member	win_title,2656,110,8,0,32
   291                        	.member	Reserved0,2912,16,8,16
   292                        	.member	win_class,2928,110,8,0,16
   293                        	.member	win_class_name,3056,110,8,0,32
   294                        	.member	nBitmapLayer,3312,16,8,16
   295                        	.member	bgRegion,3328,129,8,32
   296                        	.member	procid,3360,18,8,32
   297                        	.member	pWndClass,3392,138,8,32,29
   298                        	.member	pParentWindow,3424,129,8,32
   299                        	.member	hMenu,3456,129,8,32
   300                        	.member	hPointer,3488,129,8,32
   301                        	.member	hBackground,3520,129,8,32
   302                        	.member	pChildWindows,3552,138,8,32,6
   303                        	.member	pChildHitList,3584,138,8,32,6
   304                        	.member	isVisible,3616,14,8,8
   305                        	.member	windowData,3624,129,8,32
   306                        	.member	clientData,3656,1121,8,32,6
   307                        	.member	isClosed,3848,14,8,8
   308                        	.member	isClosing,3856,14,8,8
   309                        	.member	isDesktop,3864,14,8,8
   310                        	.member	clickableNode,3872,138,8,32,5
   311                        	.eos
   312                        	.stag	_k_WindowStructEx,3880,34
   313                        	.member	cbSize,0,16,8,16
   314                        	.member	style,16,18,8,32
   315                        	.member	styleEx,48,18,8,32
   316                        	.member	win_id,80,5,8,16
   317                        	.member	win_x,96,5,8,16
   318                        	.member	win_y,112,5,8,16
   319                        	.member	win_width,128,5,8,16
   320                        	.member	win_height,144,5,8,16
   321                        	.member	win_xoffset,160,5,8,16
   322                        	.member	win_yoffset,176,5,8,16
   323                        	.member	win_cxoffset,192,5,8,16
   324                        	.member	win_cyoffset,208,5,8,16
   325                        	.member	wndRect,224,10,8,112,26
   326                        	.member	clientRect,336,10,8,112,26
   327                        	.member	nonclientGadgets,448,106,8,0,31,16
   328                        	.member	clickable,2624,129,8,32
   329                        	.member	win_title,2656,110,8,0,32
   330                        	.member	Reserved0,2912,16,8,16
   331                        	.member	win_class,2928,110,8,0,16
  Mon Aug  9 2021 16:52                                                Page 7


   332                        	.member	nBitmapLayer,3056,16,8,16
   333                        	.member	procid,3072,18,8,32
   334                        	.member	pWndClass,3104,138,8,32,29
   335                        	.member	pParentWindow,3136,129,8,32
   336                        	.member	hMenu,3168,129,8,32
   337                        	.member	hPointer,3200,129,8,32
   338                        	.member	hBackground,3232,129,8,32
   339                        	.member	pChildWindows,3264,138,8,32,6
   340                        	.member	pChildHitList,3296,138,8,32,6
   341                        	.member	isVisible,3328,14,8,8
   342                        	.member	windowData,3336,129,8,32
   343                        	.member	clientData,3368,1121,8,32,4
   344                        	.member	isClosed,3496,14,8,8
   345                        	.member	hWnd,3504,129,8,32
   346                        	.member	localRect,3536,10,8,112,26
   347                        	.member	globalRect,3648,10,8,112,26
   348                        	.member	clientOffsetRect,3760,10,8,112,26
   349                        	.member	isDesktop,3872,14,8,8
   350                        	.eos
   351                        	.stag	_FontMetric,32,35
   352                        	.member	width,0,5,8,16
   353                        	.member	height,16,5,8,16
   354                        	.eos
   355                        	.stag	_MenuStruct,280,36
   356                        	.member	cx,0,5,8,16
   357                        	.member	cy,16,5,8,16
   358                        	.member	width,32,5,8,16
   359                        	.member	height,48,5,8,16
   360                        	.member	fcolor,64,14,8,8
   361                        	.member	bcolor,72,14,8,8
   362                        	.member	chromeLeft,80,14,8,8
   363                        	.member	chromeRight1,88,14,8,8
   364                        	.member	chromeRight2,96,14,8,8
   365                        	.member	hFont,104,129,8,32
   366                        	.member	itemId,136,16,8,16
   367                        	.member	pCaption,152,142,8,32
   368                        	.member	subMenus,184,138,8,32,6
   369                        	.member	pBackground,216,129,8,32
   370                        	.member	hWndOwner,248,129,8,32
   371                        	.eos
   372                        	.stag	fake37_,160,37
   373                        	.member	menuId,0,16,8,16
   374                        	.member	caption,16,142,8,32
   375                        	.member	rect,48,10,8,112,26
   376                        	.eos
   377                        	.stag	fake38_,5152,38
   378                        	.member	pParent,0,138,8,32,33
   379                        	.member	rect,32,10,8,112,26
   380                        	.member	captions,144,1134,8,32,24
   381                        	.member	chrome,912,110,8,0,24
   382                        	.member	ids,1104,112,8,0,24
   383                        	.member	clickable,1488,106,8,0,30,24
   384                        	.member	selected,5136,16,8,16
   385                        	.eos
   386                        	.stag	_fx_button_t,96,39
   387                        	.member	pCaption,0,142,8,32
   388                        	.member	cCaption,32,16,8,16
   389                        	.member	data,48,129,8,32
  Mon Aug  9 2021 16:52                                                Page 8


   390                        	.member	captionPixelWidth,80,16,8,16
   391                        	.eos
   392                        	.stag	_fx_scrollbar_t,240,40
   393                        	.member	min,0,16,8,16
   394                        	.member	max,16,16,8,16
   395                        	.member	increment,32,16,8,16
   396                        	.member	stopsize,48,16,8,16
   397                        	.member	location,64,5,8,16
   398                        	.member	state,80,5,8,16
   399                        	.member	rectThumb,96,10,8,112,26
   400                        	.member	data,208,129,8,32
   401                        	.eos
   402                        	.stag	_fx_listbox_t,240,41
   403                        	.member	pos,0,5,8,16
   404                        	.member	selected,16,16,8,16
   405                        	.member	offsetX,32,5,8,16
   406                        	.member	offsetY,48,5,8,16
   407                        	.member	inc,64,5,8,16
   408                        	.member	direction,80,5,8,16
   409                        	.member	top,96,5,8,16
   410                        	.member	bottom,112,5,8,16
   411                        	.member	indexTop,128,5,8,16
   412                        	.member	indexBottom,144,5,8,16
   413                        	.member	maxItems,160,16,8,16
   414                        	.member	fontSet,176,142,8,32
   415                        	.member	data,208,129,8,32
   416                        	.eos
   417                        	.stag	_fx_textbox_t,144,42
   418                        	.member	pos,0,5,8,16
   419                        	.member	selected,16,16,8,16
   420                        	.member	offsetX,32,5,8,16
   421                        	.member	offsetY,48,5,8,16
   422                        	.member	isShifted,64,14,8,8
   423                        	.member	cursorState,72,14,8,8
   424                        	.member	fontSet,80,142,8,32
   425                        	.member	data,112,129,8,32
   426                        	.eos
   427                        	.stag	_fx_msgbox_t,144,43
   428                        	.member	pos,0,5,8,16
   429                        	.member	selected,16,16,8,16
   430                        	.member	offsetX,32,5,8,16
   431                        	.member	offsetY,48,5,8,16
   432                        	.member	isShifted,64,14,8,8
   433                        	.member	cursorState,72,14,8,8
   434                        	.member	fontSet,80,142,8,32
   435                        	.member	data,112,129,8,32
   436                        	.eos
   437                        	.stag	_fx_menuAnchor_t,272,44
   438                        	.member	pCaption,0,142,8,32
   439                        	.member	renderLayoutX,32,16,8,16
   440                        	.member	renderLayoutY,48,16,8,16
   441                        	.member	captionPixelWidth,64,16,8,16
   442                        	.member	data,80,129,8,32
   443                        	.member	droppedWindow,112,138,8,32,33
   444                        	.member	bytes,144,110,8,0,16
   445                        	.eos
   446                        	.stag	_SubMenuStruct,64,45
   447                        	.member	caption,0,142,8,32
  Mon Aug  9 2021 16:52                                                Page 9


   448                        	.member	action,32,641,8,32
   449                        	.eos
   450                        	.stag	_SubMenuListStruct,40,46
   451                        	.member	cMenus,0,14,8,8
   452                        	.member	psubmenus,8,9354,8,32,45
   453                        	.eos
   454                        	.stag	_fx_ComBuffer,2080,47
   455                        	.member	cbSize,0,16,8,16
   456                        	.member	cbBuffer,16,16,8,16
   457                        	.member	buffer,32,110,8,0,256
   458                        	.eos
   459                        	.stag	_fx_resource_header,72,48
   460                        	.member	magic,0,110,8,0,4
   461                        	.member	major,32,14,8,8
   462                        	.member	minor,40,14,8,8
   463                        	.member	type,48,14,8,8
   464                        	.member	reserved,56,14,8,8
   465                        	.member	resheaderSize,64,14,8,8
   466                        	.eos
   467                        	.stag	_fx_resource_header_font,144,49
   468                        	.member	title,0,110,8,0,16
   469                        	.member	height,128,14,8,8
   470                        	.member	width,136,14,8,8
   471                        	.eos
   472                        	.stag	_fx_resource_string,32,50
   473                        	.member	locale,0,110,8,0,2
   474                        	.member	entries,16,16,8,16
   475                        	.eos
   476                        	.stag	_fx_resource_string_entry,40,51
   477                        	.member	index,0,16,8,16
   478                        	.member	length,16,16,8,16
   479                        	.member	data,32,14,8,8
   480                        	.eos
   481                        	.line	1064
   482                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",8
   483                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstringtable.h",0
   484                        	.line	90
   485                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",9
   486                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",0
   487                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   488                        	.line	1064
   489                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",5
   490                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fmx_vicky.h",0
   491                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   492                        	.line	1064
   493                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fmx_vicky.h",11
   494                        	.line	72
   495                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",6
  Mon Aug  9 2021 16:52                                                Page 10


   496                        	.line	1960
   497                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",16
   498                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",0
   499                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   500                        	.line	30
   501                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",5
   502                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   503                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   504                        	.line	1064
   505                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",11
   506                        	.line	118
   507                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",6
   508                        	.stag	_fx_api_call_table,8192,52
   509                        	.member	call_table,0,1121,8,32,256
   510                        	.eos
   511                        	.stag	_fx_zero_page_irq_data,32,53
   512                        	.member	data,0,110,8,0,4
   513                        	.eos
   514                        	.stag	_fx_zero_page,720,54
   515                        	.member	fxos_mouse_byte_0,0,14,8,8
   516                        	.member	fxos_mouse_byte_1,8,14,8,8
   517                        	.member	fxos_mouse_byte_2,16,14,8,8
   518                        	.member	fxos_mouse_byte_t,24,14,8,8
   519                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   520                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   521                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   522                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   523                        	.member	fxos_key_byte_0,64,14,8,8
   524                        	.member	fxos_key_byte_1,72,14,8,8
   525                        	.member	fxos_key_byte_2,80,14,8,8
   526                        	.member	fxos_mouse_ctl,88,14,8,8
   527                        	.member	fxos_mouse_index,96,14,8,8
   528                        	.member	fxos_mouse_status,104,14,8,8
   529                        	.member	Endianness,112,16,8,16
   530                        	.member	VersionMajor,128,16,8,16
   531                        	.member	VersionMinor,144,16,8,16
   532                        	.member	VersionRelease,160,16,8,16
   533                        	.member	topMemory,176,18,8,32
   534                        	.member	bottomMemory,208,18,8,32
   535                        	.member	availableMemory,240,18,8,32
   536                        	.member	availableMemoryK,272,18,8,32
   537                        	.member	availableHeapMemory,304,18,8,32
   538                        	.member	availableHeapMemoryK,336,18,8,32
   539                        	.member	fxos_console_row,368,16,8,16
   540                        	.member	fxos_console_col,384,16,8,16
   541                        	.member	executive,400,129,8,32
   542                        	.member	eventmanager,432,129,8,32
   543                        	.member	devicemanager,464,129,8,32
   544                        	.member	windowmanager,496,129,8,32
   545                        	.member	fxos_kernel_api,528,138,8,32,52
  Mon Aug  9 2021 16:52                                                Page 11


   546                        	.member	fxos_dos_api,560,138,8,32,52
   547                        	.member	fxos_gfx_api,592,138,8,32,52
   548                        	.member	fxos_gui_api,624,138,8,32,52
   549                        	.member	fxos_con_api,656,138,8,32,52
   550                        	.member	fxos_reserved_2_api,688,138,8,32,52
   551                        	.eos
   552                        	.stag	_fx_environment,96,55
   553                        	.member	variables,0,142,8,32
   554                        	.member	reserved1,32,5,8,16
   555                        	.member	reserved2,48,5,8,16
   556                        	.member	reserved3,64,5,8,16
   557                        	.member	reserved4,80,5,8,16
   558                        	.eos
   559                        	.stag	_debug_byte_bits,8,56
   560                        	.member	bit7,0,14,17,1
   561                        	.member	bit6,1,14,17,1
   562                        	.member	bit5,2,14,17,1
   563                        	.member	bit4,3,14,17,1
   564                        	.member	bit3,4,14,17,1
   565                        	.member	bit2,5,14,17,1
   566                        	.member	bit1,6,14,17,1
   567                        	.member	bit0,7,14,17,1
   568                        	.eos
   569                        	.stag	_k_segmentheader,160,57
   570                        	.member	version_major,0,14,8,8
   571                        	.member	version_minor,8,14,8,8
   572                        	.member	length,16,5,8,16
   573                        	.member	segment_start_addr,32,7,8,32
   574                        	.member	segment_end_addr,64,7,8,32
   575                        	.member	segment_size,96,7,8,32
   576                        	.member	main_entry_addr,128,7,8,32
   577                        	.eos
   578                        	.stag	_fx_device_driver,776,58
   579                        	.member	name,0,110,8,0,32
   580                        	.member	version,256,110,8,0,16
   581                        	.member	hmajor,384,110,8,0,8
   582                        	.member	hminor,448,110,8,0,8
   583                        	.member	type,512,14,8,8
   584                        	.member	designation,520,110,8,0,6
   585                        	.member	irq_ctl,568,16,8,16
   586                        	.member	f_driver_irq,584,129,8,32
   587                        	.member	driver_context,616,129,8,32
   588                        	.member	f_driver_load,648,129,8,32
   589                        	.member	f_driver_read,680,129,8,32
   590                        	.member	f_driver_write,712,129,8,32
   591                        	.member	f_driver_unload,744,129,8,32
   592                        	.eos
   593                        	.stag	_fx_block_device_driver,808,59
   594                        	.member	name,0,110,8,0,32
   595                        	.member	version,256,110,8,0,16
   596                        	.member	hmajor,384,110,8,0,8
   597                        	.member	hminor,448,110,8,0,8
   598                        	.member	type,512,14,8,8
   599                        	.member	designation,520,110,8,0,6
   600                        	.member	irq_ctl,568,16,8,16
   601                        	.member	f_driver_irq,584,129,8,32
   602                        	.member	driver_context,616,129,8,32
   603                        	.member	f_driver_load,648,129,8,32
  Mon Aug  9 2021 16:52                                                Page 12


   604                        	.member	f_driver_read,680,129,8,32
   605                        	.member	f_driver_write,712,129,8,32
   606                        	.member	f_driver_unload,744,129,8,32
   607                        	.member	f_driver_command,776,129,8,32
   608                        	.eos
   609                        	.stag	_k_irq_chain,128,60
   610                        	.member	handlers,0,5217,8,32,4
   611                        	.eos
   612                        	.line	490
   613                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",22
   614                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",0
   615                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   616                        	.line	134
   617                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",5
   618                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   619                        	.line	205
   620                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",6
   621                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   622                        	.line	1064
   623                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",7
   624                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",0
   625                        	.line	1960
   626                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",12
   627                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",0
   628                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   629                        	.line	205
   630                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",5
   631                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   632                        	.line	134
   633                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",6
   634                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   635                        	.line	1064
   636                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",7
   637                        	.stag	_fx_string,64,61
   638                        	.member	size,0,16,8,16
   639                        	.member	pos,16,5,8,16
   640                        	.member	buffer,32,142,8,32
   641                        	.eos
   642                        	.line	141
   643                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",17
  Mon Aug  9 2021 16:52                                                Page 13


   644                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",0
   645                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   646                        	.line	30
   647                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",5
   648                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxexec.h",0
   649                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   650                        	.line	1064
   651                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxexec.h",5
   652                        	.stag	_fxos_executive_vtable,128,62
   653                        	.member	Init,0,8833,8,32
   654                        	.member	Configure,32,656,8,32
   655                        	.member	Query,64,656,8,32
   656                        	.member	Uninit,96,641,8,32
   657                        	.eos
   658                        	.line	86
   659                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",6
   660                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   661                        	.line	118
   662                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",7
   663                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",0
   664                        	.line	208
   665                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",8
   666                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",0
   667                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   668                        	.line	30
   669                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",5
   670                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",0
   671                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   672                        	.line	30
   673                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",5
   674                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc_cfg.h",0
   675                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos_build_parameters.h",0
   676                        	.line	35
   677                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc_cfg.h",8
   678                        	.stag	UMM_HEAP_INFO_t,256,63
   679                        	.member	totalEntries,0,18,8,32
   680                        	.member	usedEntries,32,18,8,32
   681                        	.member	freeEntries,64,18,8,32
  Mon Aug  9 2021 16:52                                                Page 14


   682                        	.member	totalBlocks,96,18,8,32
   683                        	.member	usedBlocks,128,18,8,32
   684                        	.member	freeBlocks,160,18,8,32
   685                        	.member	maxFreeContiguousBlocks,192,18,8,32
   686                        	.member	blockSize,224,18,8,32
   687                        	.eos
   688                        	.line	199
   689                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",6
   690                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc.h",0
   691                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   692                        	.line	1064
   693                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc.h",11
   694                        	.line	24
   695                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",7
   696                        	.stag	_fx_memory_map,2072,64
   697                        	.member	availableMemory,0,18,8,32
   698                        	.member	valid_segments,32,110,8,0,255
   699                        	.eos
   700                        	.stag	_fx_ipc_port,144,65
   701                        	.member	id,0,18,8,32
   702                        	.member	type,32,14,8,8
   703                        	.member	name,40,138,8,32,61
   704                        	.member	time,72,18,8,32
   705                        	.member	queue,104,138,8,32,7
   706                        	.member	reserved_1,136,14,8,8
   707                        	.eos
   708                        	.stag	_k_mem_alloc_header,80,66
   709                        	.member	user,0,14,8,8
   710                        	.member	attr,8,14,8,8
   711                        	.member	size,16,18,8,32
   712                        	.member	virtual,48,129,8,32
   713                        	.eos
   714                        	.line	129
   715                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",6
   716                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",0
   717                        	.line	568
   718                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",7
   719                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.h",0
   720                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",0
   721                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   722                        	.line	1064
   723                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",6
   724                        	.line	74
   725                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.h",5
   726                        	.stag	_click_detected,64,67
  Mon Aug  9 2021 16:52                                                Page 15


   727                        	.member	window,0,138,8,32,33
   728                        	.member	handler,32,641,8,32
   729                        	.eos
   730                        	.stag	_current_palette_map,400,68
   731                        	.member	CUR_DESKTOP,0,5,8,16
   732                        	.member	CUR_BACKGROUND,16,5,8,16
   733                        	.member	CUR_FONT,32,5,8,16
   734                        	.member	CUR_SELECTED_FONT,48,5,8,16
   735                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   736                        	.member	CUR_WINDOWFRAME,80,5,8,16
   737                        	.member	CUR_WINDOWBORDER,96,5,8,16
   738                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   739                        	.member	CUR_MENU,128,5,8,16
   740                        	.member	CUR_GADGET,144,5,8,16
   741                        	.member	CUR_COLOR,160,101,8,0,15
   742                        	.eos
   743                        	.line	359
   744                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",8
   745                        	.stag	_fxos_winman_vtable,160,69
   746                        	.member	Events,0,641,8,32
   747                        	.member	ConfigureWindowManager,32,656,8,32
   748                        	.member	ProcessWindowEvent,64,8833,8,32
   749                        	.member	QueryWindowManager,96,656,8,32
   750                        	.member	DoWndProcs,128,641,8,32
   751                        	.eos
   752                        	.stag	fake70_,64,70
   753                        	.member	type,0,16,8,16
   754                        	.member	size,16,16,8,16
   755                        	.member	desktopAction,32,129,8,32
   756                        	.eos
   757                        	.stag	fake71_,96,71
   758                        	.member	type,0,16,8,16
   759                        	.member	caption,16,138,8,32,61
   760                        	.member	buttonType,48,16,8,16
   761                        	.member	x,64,5,8,16
   762                        	.member	y,80,5,8,16
   763                        	.eos
   764                        	.stag	_childMessage_t,64,72
   765                        	.member	msgType,0,16,8,16
   766                        	.member	msgData,16,129,8,32
   767                        	.member	dataSize,48,16,8,16
   768                        	.eos
   769                        	.line	594
   770                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",9
   771                        	.stag	_fx_main_loopvars,16,73
   772                        	.member	dummy,0,5,8,16
   773                        	.eos
   774                        	.stag	_fxMouseMessageData,64,74
   775                        	.member	button1,0,14,8,8
   776                        	.member	button2,8,14,8,8
   777                        	.member	button3,16,14,8,8
   778                        	.member	button4,24,14,8,8
   779                        	.member	x,32,16,8,16
   780                        	.member	y,48,16,8,16
   781                        	.eos
   782                        	.utag	marshalled_data,32,75
  Mon Aug  9 2021 16:52                                                Page 16


   783                        	.member	byteValue,0,14,11,8
   784                        	.member	verbValue,0,110,11,0,2
   785                        	.member	intValue,0,16,11,16
   786                        	.member	longValue,0,18,11,32
   787                        	.member	pointerValue,0,129,11,32
   788                        	.eos
   789                        	.stag	_fx_eventProcess,64,76
   790                        	.member	process,0,138,8,32,20
   791                        	.member	eventProc,32,641,8,32
   792                        	.eos
   793                        	.stag	_mouse_msg_state,184,77
   794                        	.member	lastEvent,0,18,8,32
   795                        	.member	buttonLeftDown,32,14,8,8
   796                        	.member	lastLeftDown,40,18,8,32
   797                        	.member	buttonRightDown,72,14,8,8
   798                        	.member	lastRightDown,80,18,8,32
   799                        	.member	buttonMiddleDown,112,14,8,8
   800                        	.member	lastMiddleDown,120,18,8,32
   801                        	.member	lastX,152,16,8,16
   802                        	.member	lastY,168,16,8,16
   803                        	.eos
   804                        	.stag	_fxos_eventmanager_vtable,192,78
   805                        	.member	EventQueue,0,138,8,32,7
   806                        	.member	Init,32,8833,8,32
   807                        	.member	Run,64,656,8,32
   808                        	.member	Configure,96,656,8,32
   809                        	.member	Query,128,656,8,32
   810                        	.member	Uninit,160,641,8,32
   811                        	.eos
   812                        	.stag	_k_clipboard_data,168,79
   813                        	.member	type,0,14,8,8
   814                        	.member	readable,8,110,8,0,16
   815                        	.member	data,136,129,8,32
   816                        	.eos
   817                        	.line	568
   818                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",18
   819                        	.stag	_fx_spinner_ctx,48,80
   820                        	.member	index,0,5,8,16
   821                        	.member	spinner,16,142,8,32
   822                        	.eos
   823                        	.stag	_fx_console_ctx,1144,81
   824                        	.member	lineBufferIndex,0,5,8,16
   825                        	.member	lineBuffer,16,110,8,0,128
   826                        	.member	isShifted,1040,14,8,8
   827                        	.member	userData,1048,129,8,32
   828                        	.member	screenBuffer,1080,129,8,32
   829                        	.member	Reserved1,1112,129,8,32
   830                        	.eos
   831                        	.stag	_token,64,82
   832                        	.member	type,0,5,8,16
   833                        	.member	depth,16,16,8,16
   834                        	.member	text,32,142,8,32
   835                        	.eos
   836                        	.stag	_command_args,64,83
   837                        	.member	proc,0,656,8,32
   838                        	.member	tokens,32,138,8,32,5
   839                        	.eos
  Mon Aug  9 2021 16:52                                                Page 17


   840                        	.line	208
   841                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",23
   842                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",0
   843                        	.line	141
   844                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",24
   845                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   846                        	.line	118
   847                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",25
   848                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",0
   849                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ffconf.h",0
   850                        	.line	298
   851                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",29
   852                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   853                        	.line	1064
   854                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",30
   855                        	.stag	fake84_,4504,84
   856                        	.member	fs_type,0,14,8,8
   857                        	.member	pdrv,8,14,8,8
   858                        	.member	n_fats,16,14,8,8
   859                        	.member	wflag,24,14,8,8
   860                        	.member	fsi_flag,32,14,8,8
   861                        	.member	id,40,5,8,16
   862                        	.member	n_rootdir,56,5,8,16
   863                        	.member	csize,72,5,8,16
   864                        	.member	lfnbuf,88,144,8,32
   865                        	.member	last_clst,120,18,8,32
   866                        	.member	free_clst,152,18,8,32
   867                        	.member	n_fatent,184,18,8,32
   868                        	.member	fsize,216,18,8,32
   869                        	.member	volbase,248,18,8,32
   870                        	.member	fatbase,280,18,8,32
   871                        	.member	dirbase,312,18,8,32
   872                        	.member	database,344,18,8,32
   873                        	.member	winsect,376,18,8,32
   874                        	.member	win,408,110,8,0,512
   875                        	.eos
   876                        	.stag	fake85_,128,85
   877                        	.member	fs,0,138,8,32,84
   878                        	.member	id,32,5,8,16
   879                        	.member	attr,48,14,8,8
   880                        	.member	stat,56,14,8,8
   881                        	.member	sclust,64,18,8,32
   882                        	.member	objsize,96,18,8,32
   883                        	.eos
   884                        	.stag	fake86_,4400,86
   885                        	.member	obj,0,10,8,128,85
   886                        	.member	flag,128,14,8,8
   887                        	.member	err,136,14,8,8
  Mon Aug  9 2021 16:52                                                Page 18


   888                        	.member	fptr,144,18,8,32
   889                        	.member	clust,176,18,8,32
   890                        	.member	sect,208,18,8,32
   891                        	.member	dir_sect,240,18,8,32
   892                        	.member	dir_ptr,272,142,8,32
   893                        	.member	buf,304,110,8,0,512
   894                        	.eos
   895                        	.stag	fake87_,416,87
   896                        	.member	obj,0,10,8,128,85
   897                        	.member	dptr,128,18,8,32
   898                        	.member	clust,160,18,8,32
   899                        	.member	sect,192,18,8,32
   900                        	.member	dir,224,142,8,32
   901                        	.member	fn,256,110,8,0,12
   902                        	.member	blk_ofs,352,18,8,32
   903                        	.member	pat,384,142,8,32
   904                        	.eos
   905                        	.stag	fake88_,2224,88
   906                        	.member	fsize,0,18,8,32
   907                        	.member	fdate,32,5,8,16
   908                        	.member	ftime,48,5,8,16
   909                        	.member	fattrib,64,14,8,8
   910                        	.member	altname,72,110,8,0,13
   911                        	.member	fname,176,110,8,0,256
   912                        	.eos
   913                        	.stag	fake89_,80,89
   914                        	.member	fmt,0,14,8,8
   915                        	.member	n_fat,8,14,8,8
   916                        	.member	align,16,16,8,16
   917                        	.member	n_root,32,16,8,16
   918                        	.member	au_size,48,18,8,32
   919                        	.eos
   920                        	.line	429
   921                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",26
   922                        	.line	30
   923                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",1
   924                        ;#include "fxmemorymanager.h"
   925                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",0
   926                        	.line	129
   927                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",2
   928                        ;#include "fxwindowmanager.h"
   929                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",0
   930                        	.line	594
   931                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",3
   932                        ;#include "fxfont.h"
   933                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",0
   934                        	.line	74
   935                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",4
   936                        ;#include "fxgfx.h"
   937                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Mon Aug  9 2021 16:52                                                Page 19


                    space\FXOS-Beta\src\fxgfx.h",0
   938                        	.line	359
   939                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",5
   940                        ;#include "fxdos.h"
   941                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxdos.h",0
   942                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   943                        	.line	1064
   944                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxdos.h",5
   945                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",0
   946                        	.line	429
   947                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxdos.h",6
   948                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\diskio.h",0
   949                        	.line	85
   950                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxdos.h",7
   951                        	.stag	_fx_sd_direntry,256,90
   952                        	.member	filename,0,110,8,0,11
   953                        	.member	type,88,14,8,8
   954                        	.member	attrs,96,110,8,0,20
   955                        	.eos
   956                        	.stag	_fx_info,416,91
   957                        	.member	stgName,0,110,8,0,32
   958                        	.member	Reserved1,256,14,8,8
   959                        	.member	stgType,264,16,8,16
   960                        	.member	Reserved2,280,14,8,8
   961                        	.member	stgReserved,288,110,8,0,16
   962                        	.eos
   963                        	.stag	_fx_fileinfo,136,92
   964                        	.member	type,0,14,8,8
   965                        	.member	pFilename,8,142,8,32
   966                        	.member	lSize,40,18,8,32
   967                        	.member	lcreateDate,72,18,8,32
   968                        	.member	lchangeDate,104,18,8,32
   969                        	.eos
   970                        	.stag	_FX_FAT_DIR_INFO,256,93
   971                        	.member	DIR_Name,0,110,8,0,11
   972                        	.member	DIR_Attr,88,14,8,8
   973                        	.member	DIR_NTRes,96,14,8,8
   974                        	.member	DIR_CrtTimeTenth,104,14,8,8
   975                        	.member	DIR_CrtTime,112,16,8,16
   976                        	.member	DIR_CrtDate,128,16,8,16
   977                        	.member	DIR_LstAccDate,144,16,8,16
   978                        	.member	DIR_FstClusHI,160,16,8,16
   979                        	.member	DIR_WrtTime,176,16,8,16
   980                        	.member	DIR_WrtDate,192,16,8,16
   981                        	.member	DIR_FstClusLO,208,16,8,16
   982                        	.member	DIR_FileSize,224,18,8,32
   983                        	.eos
   984                        	.stag	fat_extBS_32,416,94
   985                        	.member	table_size_32,0,18,8,32
   986                        	.member	extended_flags,32,16,8,16
  Mon Aug  9 2021 16:52                                                Page 20


   987                        	.member	fat_version,48,16,8,16
   988                        	.member	root_cluster,64,18,8,32
   989                        	.member	fat_info,96,16,8,16
   990                        	.member	backup_BS_sector,112,16,8,16
   991                        	.member	reserved_0,128,110,8,0,12
   992                        	.member	drive_number,224,14,8,8
   993                        	.member	reserved_1,232,14,8,8
   994                        	.member	boot_signature,240,14,8,8
   995                        	.member	volume_id,248,16,8,16
   996                        	.member	volume_label,264,110,8,0,11
   997                        	.member	fat_type_label,352,110,8,0,8
   998                        	.eos
   999                        	.stag	fat_extBS_16,192,95
  1000                        	.member	bios_drive_num,0,14,8,8
  1001                        	.member	reserved1,8,14,8,8
  1002                        	.member	boot_signature,16,14,8,8
  1003                        	.member	volume_id,24,16,8,16
  1004                        	.member	volume_label,40,110,8,0,11
  1005                        	.member	fat_type_label,128,110,8,0,8
  1006                        	.eos
  1007                        	.stag	fat_BS,688,96
  1008                        	.member	bootjmp,0,110,8,0,3
  1009                        	.member	oem_name,24,110,8,0,8
  1010                        	.member	bytes_per_sector,88,16,8,16
  1011                        	.member	sectors_per_cluster,104,14,8,8
  1012                        	.member	reserved_sector_count,112,16,8,16
  1013                        	.member	table_count,128,14,8,8
  1014                        	.member	root_entry_count,136,16,8,16
  1015                        	.member	total_sectors_16,152,16,8,16
  1016                        	.member	media_type,168,14,8,8
  1017                        	.member	table_size_16,176,16,8,16
  1018                        	.member	sectors_per_track,192,16,8,16
  1019                        	.member	head_side_count,208,16,8,16
  1020                        	.member	hidden_sector_count,224,16,8,16
  1021                        	.member	total_sectors_32,240,16,8,16
  1022                        	.member	extended_section,256,110,8,0,54
  1023                        	.eos
  1024                        	.stag	__FATBootSector,928,97
  1025                        	.member	bootjmp,0,110,8,0,3
  1026                        	.member	oem_name,24,110,8,0,8
  1027                        	.member	bytes_per_sector,88,16,8,16
  1028                        	.member	sectors_per_cluster,104,14,8,8
  1029                        	.member	reserved_sector_count,112,16,8,16
  1030                        	.member	fat_table_count,128,14,8,8
  1031                        	.member	root_entry_count,136,16,8,16
  1032                        	.member	total_sectors_16,152,16,8,16
  1033                        	.member	media_type,168,14,8,8
  1034                        	.member	sectors_per_fat,176,16,8,16
  1035                        	.member	sectors_per_track,192,16,8,16
  1036                        	.member	head_side_count,208,16,8,16
  1037                        	.member	hidden_sector_count,224,18,8,32
  1038                        	.member	total_sectors_32,256,18,8,32
  1039                        	.member	drive_number,288,14,8,8
  1040                        	.member	reserved1,296,14,8,8
  1041                        	.member	boot_sig,304,14,8,8
  1042                        	.member	vol_id,312,18,8,32
  1043                        	.member	vol_name,344,110,8,0,11
  1044                        	.member	file_system_type,432,110,8,0,8
  Mon Aug  9 2021 16:52                                                Page 21


  1045                        	.member	extended_section,496,110,8,0,54
  1046                        	.eos
  1047                        	.stag	__PARTITIONTABLE,128,98
  1048                        	.member	first_byte,0,14,8,8
  1049                        	.member	start_chs,8,110,8,0,3
  1050                        	.member	partition_type,32,14,8,8
  1051                        	.member	end_chs,40,110,8,0,3
  1052                        	.member	start_sector,64,18,8,32
  1053                        	.member	length_sectors,96,18,8,32
  1054                        	.eos
  1055                        	.stag	fake99_,4096,99
  1056                        	.member	jmp,0,110,8,0,3
  1057                        	.member	oem,24,110,8,0,8
  1058                        	.member	sector_size,88,15,8,16
  1059                        	.member	sectors_per_cluster,104,14,8,8
  1060                        	.member	reserved_sectors,112,15,8,16
  1061                        	.member	number_ok_dos_fats,128,14,8,8
  1062                        	.member	root_dir_entries,136,15,8,16
  1063                        	.member	total_sectors_short,152,15,8,16
  1064                        	.member	media_descriptor,168,14,8,8
  1065                        	.member	fat_size_sectors,176,15,8,16
  1066                        	.member	sectors_per_track,192,15,8,16
  1067                        	.member	number_ok_dos_heads,208,15,8,16
  1068                        	.member	hidden_sectors,224,18,8,32
  1069                        	.member	total_sectors_long,256,18,8,32
  1070                        	.member	drive_number,288,14,8,8
  1071                        	.member	current_head,296,14,8,8
  1072                        	.member	boot_signature,304,14,8,8
  1073                        	.member	volume_id,312,18,8,32
  1074                        	.member	volume_label,344,110,8,0,11
  1075                        	.member	fs_type,432,110,8,0,8
  1076                        	.member	boot_code,496,110,8,0,448
  1077                        	.member	boot_sector_signature,4080,15,8,16
  1078                        	.eos
  1079                        	.stag	__FAT16ENTRY,256,100
  1080                        	.member	filename,0,110,8,0,8
  1081                        	.member	ext,64,110,8,0,3
  1082                        	.member	attributes,88,14,8,8
  1083                        	.member	reserved,96,110,8,0,10
  1084                        	.member	modify_time,176,16,8,16
  1085                        	.member	modify_date,192,16,8,16
  1086                        	.member	starting_cluster,208,16,8,16
  1087                        	.member	file_size,224,18,8,32
  1088                        	.eos
  1089                        	.stag	__FAT16ENTRYLONG,288,101
  1090                        	.member	filename,0,110,8,0,8
  1091                        	.member	ext,64,110,8,0,3
  1092                        	.member	attributes,88,14,8,8
  1093                        	.member	reserved,96,110,8,0,10
  1094                        	.member	modify_time,176,16,8,16
  1095                        	.member	modify_date,192,16,8,16
  1096                        	.member	starting_cluster,208,16,8,16
  1097                        	.member	file_size,224,18,8,32
  1098                        	.member	plongfileName,256,142,8,32
  1099                        	.eos
  1100                        	.stag	_LongFileName,256,102
  1101                        	.member	sequenceNo,0,14,8,8
  1102                        	.member	fileName_Part1,8,110,8,0,10
  Mon Aug  9 2021 16:52                                                Page 22


  1103                        	.member	fileattribute,88,14,8,8
  1104                        	.member	type,96,14,8,8
  1105                        	.member	checksum,104,14,8,8
  1106                        	.member	fileName_Part2,112,110,8,0,12
  1107                        	.member	fstclusLO,208,5,8,16
  1108                        	.member	fileName_Part3,224,110,8,0,4
  1109                        	.eos
  1110                        	.stag	_IDSECTOR,2048,103
  1111                        	.member	wGenConfig,0,16,8,16
  1112                        	.member	wNumCyls,16,16,8,16
  1113                        	.member	wReserved,32,16,8,16
  1114                        	.member	wNumHeads,48,16,8,16
  1115                        	.member	wBytesPerTrack,64,16,8,16
  1116                        	.member	wBytesPerSector,80,16,8,16
  1117                        	.member	wSectorsPerTrack,96,16,8,16
  1118                        	.member	wVendorUnique,112,112,8,0,3
  1119                        	.member	sSerialNumber,160,110,8,0,20
  1120                        	.member	wBufferType,320,16,8,16
  1121                        	.member	wBufferSize,336,16,8,16
  1122                        	.member	wECCSize,352,16,8,16
  1123                        	.member	sFirmwareRev,368,110,8,0,8
  1124                        	.member	sModelNumber,432,110,8,0,40
  1125                        	.member	wMoreVendorUnique,752,16,8,16
  1126                        	.member	wDoubleWordIO,768,16,8,16
  1127                        	.member	wCapabilities,784,16,8,16
  1128                        	.member	wReserved1,800,16,8,16
  1129                        	.member	wPIOTiming,816,16,8,16
  1130                        	.member	wDMATiming,832,16,8,16
  1131                        	.member	wBS,848,16,8,16
  1132                        	.member	wNumCurrentCyls,864,16,8,16
  1133                        	.member	wNumCurrentHeads,880,16,8,16
  1134                        	.member	wNumCurrentSectorsPerTrack,896,16,8,16
  1135                        	.member	ulCurrentSectorCapacity,912,18,8,32
  1136                        	.member	wMultSectorStuff,944,16,8,16
  1137                        	.member	ulTotalAddressableSectors,960,18,8,32
  1138                        	.member	wSingleWordDMA,992,16,8,16
  1139                        	.member	wMultiWordDMA,1008,16,8,16
  1140                        	.member	bReserved,1024,110,8,0,128
  1141                        	.eos
  1142                        	.stag	fake104_,16,104
  1143                        	.member	Reserved1,0,16,17,1
  1144                        	.member	Retired3,1,16,17,1
  1145                        	.member	ResponseIncomplete,2,16,17,1
  1146                        	.member	Retired2,3,16,17,3
  1147                        	.member	FixedDevice,6,16,17,1
  1148                        	.member	RemovableMedia,7,16,17,1
  1149                        	.member	Retired1,8,16,17,7
  1150                        	.member	DeviceType,15,16,17,1
  1151                        	.eos
  1152                        	.stag	fake105_,16,105
  1153                        	.member	FeatureSupported,0,16,17,1
  1154                        	.member	Reserved,1,16,17,15
  1155                        	.eos
  1156                        	.stag	fake106_,32,106
  1157                        	.member	CurrentLongPhysicalSectorAlignment,0,14,
                    17,2
  1158                        	.member	ReservedByte49,2,14,17,6
  1159                        	.member	DmaSupported,8,14,17,1
  Mon Aug  9 2021 16:52                                                Page 23


  1160                        	.member	LbaSupported,9,14,17,1
  1161                        	.member	IordyDisable,10,14,17,1
  1162                        	.member	IordySupported,11,14,17,1
  1163                        	.member	Reserved1,12,14,17,1
  1164                        	.member	StandybyTimerSupport,13,14,17,1
  1165                        	.member	Reserved2,14,14,17,2
  1166                        	.member	ReservedWord50,16,16,8,16
  1167                        	.eos
  1168                        	.stag	fake107_,16,107
  1169                        	.member	ZonedCapabilities,0,16,17,2
  1170                        	.member	NonVolatileWriteCache,2,16,17,1
  1171                        	.member	ExtendedUserAddressableSectorsSupported,
                    3,16,17,1
  1172                        	.member	DeviceEncryptsAllUserData,4,16,17,1
  1173                        	.member	ReadZeroAfterTrimSupported,5,16,17,1
  1174                        	.member	Optional28BitCommandsSupported,6,16,17,1
  1175                        	.member	IEEE1667,7,16,17,1
  1176                        	.member	DownloadMicrocodeDmaSupported,8,16,17,1
  1177                        	.member	SetMaxSetPasswordUnlockDmaSupported,9,16
                    ,17,1
  1178                        	.member	WriteBufferDmaSupported,10,16,17,1
  1179                        	.member	ReadBufferDmaSupported,11,16,17,1
  1180                        	.member	DeviceConfigIdentifySetDmaSupported,12,1
                    6,17,1
  1181                        	.member	LPSAERCSupported,13,16,17,1
  1182                        	.member	DeterministicReadAfterTrimSupported,14,1
                    6,17,1
  1183                        	.member	CFastSpecSupported,15,16,17,1
  1184                        	.eos
  1185                        	.stag	fake108_,32,108
  1186                        	.member	Reserved0,0,16,17,1
  1187                        	.member	SataGen1,1,16,17,1
  1188                        	.member	SataGen2,2,16,17,1
  1189                        	.member	SataGen3,3,16,17,1
  1190                        	.member	Reserved1,4,16,17,4
  1191                        	.member	NCQ,8,16,17,1
  1192                        	.member	HIPM,9,16,17,1
  1193                        	.member	PhyEvents,10,16,17,1
  1194                        	.member	NcqUnload,11,16,17,1
  1195                        	.member	NcqPriority,12,16,17,1
  1196                        	.member	HostAutoPS,13,16,17,1
  1197                        	.member	DeviceAutoPS,14,16,17,1
  1198                        	.member	ReadLogDMA,15,16,17,1
  1199                        	.member	Reserved2,16,16,17,1
  1200                        	.member	CurrentSpeed,17,16,17,3
  1201                        	.member	NcqStreaming,20,16,17,1
  1202                        	.member	NcqQueueMgmt,21,16,17,1
  1203                        	.member	NcqReceiveSend,22,16,17,1
  1204                        	.member	DEVSLPtoReducedPwrState,23,16,17,1
  1205                        	.member	Reserved3,24,16,17,8
  1206                        	.eos
  1207                        	.stag	fake109_,16,109
  1208                        	.member	Reserved0,0,16,17,1
  1209                        	.member	NonZeroOffsets,1,16,17,1
  1210                        	.member	DmaSetupAutoActivate,2,16,17,1
  1211                        	.member	DIPM,3,16,17,1
  1212                        	.member	InOrderData,4,16,17,1
  1213                        	.member	HardwareFeatureControl,5,16,17,1
  Mon Aug  9 2021 16:52                                                Page 24


  1214                        	.member	SoftwareSettingsPreservation,6,16,17,1
  1215                        	.member	NCQAutosense,7,16,17,1
  1216                        	.member	DEVSLP,8,16,17,1
  1217                        	.member	HybridInformation,9,16,17,1
  1218                        	.member	Reserved1,10,16,17,6
  1219                        	.eos
  1220                        	.stag	fake110_,16,110
  1221                        	.member	Reserved0,0,16,17,1
  1222                        	.member	NonZeroOffsets,1,16,17,1
  1223                        	.member	DmaSetupAutoActivate,2,16,17,1
  1224                        	.member	DIPM,3,16,17,1
  1225                        	.member	InOrderData,4,16,17,1
  1226                        	.member	HardwareFeatureControl,5,16,17,1
  1227                        	.member	SoftwareSettingsPreservation,6,16,17,1
  1228                        	.member	DeviceAutoPS,7,16,17,1
  1229                        	.member	DEVSLP,8,16,17,1
  1230                        	.member	HybridInformation,9,16,17,1
  1231                        	.member	Reserved1,10,16,17,6
  1232                        	.eos
  1233                        	.stag	fake111_,48,111
  1234                        	.member	SmartCommands,0,16,17,1
  1235                        	.member	SecurityMode,1,16,17,1
  1236                        	.member	RemovableMediaFeature,2,16,17,1
  1237                        	.member	PowerManagement,3,16,17,1
  1238                        	.member	Reserved1,4,16,17,1
  1239                        	.member	WriteCache,5,16,17,1
  1240                        	.member	LookAhead,6,16,17,1
  1241                        	.member	ReleaseInterrupt,7,16,17,1
  1242                        	.member	ServiceInterrupt,8,16,17,1
  1243                        	.member	DeviceReset,9,16,17,1
  1244                        	.member	HostProtectedArea,10,16,17,1
  1245                        	.member	Obsolete1,11,16,17,1
  1246                        	.member	WriteBuffer,12,16,17,1
  1247                        	.member	ReadBuffer,13,16,17,1
  1248                        	.member	Nop,14,16,17,1
  1249                        	.member	Obsolete2,15,16,17,1
  1250                        	.member	DownloadMicrocode,16,16,17,1
  1251                        	.member	DmaQueued,17,16,17,1
  1252                        	.member	Cfa,18,16,17,1
  1253                        	.member	AdvancedPm,19,16,17,1
  1254                        	.member	Msn,20,16,17,1
  1255                        	.member	PowerUpInStandby,21,16,17,1
  1256                        	.member	ManualPowerUp,22,16,17,1
  1257                        	.member	Reserved2,23,16,17,1
  1258                        	.member	SetMax,24,16,17,1
  1259                        	.member	Acoustics,25,16,17,1
  1260                        	.member	BigLba,26,16,17,1
  1261                        	.member	DeviceConfigOverlay,27,16,17,1
  1262                        	.member	FlushCache,28,16,17,1
  1263                        	.member	FlushCacheExt,29,16,17,1
  1264                        	.member	WordValid83,30,16,17,2
  1265                        	.member	SmartErrorLog,32,16,17,1
  1266                        	.member	SmartSelfTest,33,16,17,1
  1267                        	.member	MediaSerialNumber,34,16,17,1
  1268                        	.member	MediaCardPassThrough,35,16,17,1
  1269                        	.member	StreamingFeature,36,16,17,1
  1270                        	.member	GpLogging,37,16,17,1
  1271                        	.member	WriteFua,38,16,17,1
  Mon Aug  9 2021 16:52                                                Page 25


  1272                        	.member	WriteQueuedFua,39,16,17,1
  1273                        	.member	WWN64Bit,40,16,17,1
  1274                        	.member	URGReadStream,41,16,17,1
  1275                        	.member	URGWriteStream,42,16,17,1
  1276                        	.member	ReservedForTechReport,43,16,17,2
  1277                        	.member	IdleWithUnloadFeature,45,16,17,1
  1278                        	.member	WordValid,46,16,17,2
  1279                        	.eos
  1280                        	.stag	fake112_,48,112
  1281                        	.member	SmartCommands,0,16,17,1
  1282                        	.member	SecurityMode,1,16,17,1
  1283                        	.member	RemovableMediaFeature,2,16,17,1
  1284                        	.member	PowerManagement,3,16,17,1
  1285                        	.member	Reserved1,4,16,17,1
  1286                        	.member	WriteCache,5,16,17,1
  1287                        	.member	LookAhead,6,16,17,1
  1288                        	.member	ReleaseInterrupt,7,16,17,1
  1289                        	.member	ServiceInterrupt,8,16,17,1
  1290                        	.member	DeviceReset,9,16,17,1
  1291                        	.member	HostProtectedArea,10,16,17,1
  1292                        	.member	Obsolete1,11,16,17,1
  1293                        	.member	WriteBuffer,12,16,17,1
  1294                        	.member	ReadBuffer,13,16,17,1
  1295                        	.member	Nop,14,16,17,1
  1296                        	.member	Obsolete2,15,16,17,1
  1297                        	.member	DownloadMicrocode,16,16,17,1
  1298                        	.member	DmaQueued,17,16,17,1
  1299                        	.member	Cfa,18,16,17,1
  1300                        	.member	AdvancedPm,19,16,17,1
  1301                        	.member	Msn,20,16,17,1
  1302                        	.member	PowerUpInStandby,21,16,17,1
  1303                        	.member	ManualPowerUp,22,16,17,1
  1304                        	.member	Reserved2,23,16,17,1
  1305                        	.member	SetMax,24,16,17,1
  1306                        	.member	Acoustics,25,16,17,1
  1307                        	.member	BigLba,26,16,17,1
  1308                        	.member	DeviceConfigOverlay,27,16,17,1
  1309                        	.member	FlushCache,28,16,17,1
  1310                        	.member	FlushCacheExt,29,16,17,1
  1311                        	.member	Resrved3,30,16,17,1
  1312                        	.member	Words119_120Valid,31,16,17,1
  1313                        	.member	SmartErrorLog,32,16,17,1
  1314                        	.member	SmartSelfTest,33,16,17,1
  1315                        	.member	MediaSerialNumber,34,16,17,1
  1316                        	.member	MediaCardPassThrough,35,16,17,1
  1317                        	.member	StreamingFeature,36,16,17,1
  1318                        	.member	GpLogging,37,16,17,1
  1319                        	.member	WriteFua,38,16,17,1
  1320                        	.member	WriteQueuedFua,39,16,17,1
  1321                        	.member	WWN64Bit,40,16,17,1
  1322                        	.member	URGReadStream,41,16,17,1
  1323                        	.member	URGWriteStream,42,16,17,1
  1324                        	.member	ReservedForTechReport,43,16,17,2
  1325                        	.member	IdleWithUnloadFeature,45,16,17,1
  1326                        	.member	Reserved4,46,16,17,2
  1327                        	.eos
  1328                        	.stag	fake113_,16,113
  1329                        	.member	TimeRequired,0,16,17,15
  Mon Aug  9 2021 16:52                                                Page 26


  1330                        	.member	ExtendedTimeReported,15,16,17,1
  1331                        	.eos
  1332                        	.stag	fake114_,16,114
  1333                        	.member	TimeRequired,0,16,17,15
  1334                        	.member	ExtendedTimeReported,15,16,17,1
  1335                        	.eos
  1336                        	.stag	fake115_,16,115
  1337                        	.member	LogicalSectorsPerPhysicalSector,0,16,17,
                    4
  1338                        	.member	Reserved0,4,16,17,8
  1339                        	.member	LogicalSectorLongerThan256Words,12,16,17
                    ,1
  1340                        	.member	MultipleLogicalSectorsPerPhysicalSector,
                    13,16,17,1
  1341                        	.member	Reserved1,14,16,17,2
  1342                        	.eos
  1343                        	.stag	fake116_,16,116
  1344                        	.member	ReservedForDrqTechnicalReport,0,16,17,1
  1345                        	.member	WriteReadVerify,1,16,17,1
  1346                        	.member	WriteUncorrectableExt,2,16,17,1
  1347                        	.member	ReadWriteLogDmaExt,3,16,17,1
  1348                        	.member	DownloadMicrocodeMode3,4,16,17,1
  1349                        	.member	FreefallControl,5,16,17,1
  1350                        	.member	SenseDataReporting,6,16,17,1
  1351                        	.member	ExtendedPowerConditions,7,16,17,1
  1352                        	.member	Reserved0,8,16,17,6
  1353                        	.member	WordValid,14,16,17,2
  1354                        	.eos
  1355                        	.stag	fake117_,16,117
  1356                        	.member	ReservedForDrqTechnicalReport,0,16,17,1
  1357                        	.member	WriteReadVerify,1,16,17,1
  1358                        	.member	WriteUncorrectableExt,2,16,17,1
  1359                        	.member	ReadWriteLogDmaExt,3,16,17,1
  1360                        	.member	DownloadMicrocodeMode3,4,16,17,1
  1361                        	.member	FreefallControl,5,16,17,1
  1362                        	.member	SenseDataReporting,6,16,17,1
  1363                        	.member	ExtendedPowerConditions,7,16,17,1
  1364                        	.member	Reserved0,8,16,17,6
  1365                        	.member	Reserved1,14,16,17,2
  1366                        	.eos
  1367                        	.stag	fake118_,16,118
  1368                        	.member	SecuritySupported,0,16,17,1
  1369                        	.member	SecurityEnabled,1,16,17,1
  1370                        	.member	SecurityLocked,2,16,17,1
  1371                        	.member	SecurityFrozen,3,16,17,1
  1372                        	.member	SecurityCountExpired,4,16,17,1
  1373                        	.member	EnhancedSecurityEraseSupported,5,16,17,1
  1374                        	.member	Reserved0,6,16,17,2
  1375                        	.member	SecurityLevel,8,16,17,1
  1376                        	.member	Reserved1,9,16,17,7
  1377                        	.eos
  1378                        	.stag	fake119_,16,119
  1379                        	.member	MaximumCurrentInMA,0,16,17,12
  1380                        	.member	CfaPowerMode1Disabled,12,16,17,1
  1381                        	.member	CfaPowerMode1Required,13,16,17,1
  1382                        	.member	Reserved0,14,16,17,1
  1383                        	.member	Word160Supported,15,16,17,1
  1384                        	.eos
  Mon Aug  9 2021 16:52                                                Page 27


  1385                        	.stag	fake120_,16,120
  1386                        	.member	SupportsTrim,0,16,17,1
  1387                        	.member	Reserved0,1,16,17,15
  1388                        	.eos
  1389                        	.stag	fake121_,16,121
  1390                        	.member	Supported,0,16,17,1
  1391                        	.member	Reserved0,1,16,17,1
  1392                        	.member	WriteSameSuported,2,16,17,1
  1393                        	.member	ErrorRecoveryControlSupported,3,16,17,1
  1394                        	.member	FeatureControlSuported,4,16,17,1
  1395                        	.member	DataTablesSuported,5,16,17,1
  1396                        	.member	Reserved1,6,16,17,6
  1397                        	.member	VendorSpecific,12,16,17,4
  1398                        	.eos
  1399                        	.stag	fake122_,16,122
  1400                        	.member	AlignmentOfLogicalWithinPhysical,0,16,17
                    ,14
  1401                        	.member	Word209Supported,14,16,17,1
  1402                        	.member	Reserved0,15,16,17,1
  1403                        	.eos
  1404                        	.stag	fake123_,16,123
  1405                        	.member	NVCachePowerModeEnabled,0,16,17,1
  1406                        	.member	Reserved0,1,16,17,3
  1407                        	.member	NVCacheFeatureSetEnabled,4,16,17,1
  1408                        	.member	Reserved1,5,16,17,3
  1409                        	.member	NVCachePowerModeVersion,8,16,17,4
  1410                        	.member	NVCacheFeatureSetVersion,12,16,17,4
  1411                        	.eos
  1412                        	.stag	fake124_,16,124
  1413                        	.member	NVCacheEstimatedTimeToSpinUpInSeconds,0,
                    14,8,8
  1414                        	.member	Reserved,8,14,8,8
  1415                        	.eos
  1416                        	.stag	fake125_,16,125
  1417                        	.member	MajorVersion,0,16,17,12
  1418                        	.member	TransportType,12,16,17,4
  1419                        	.eos
  1420                        	.stag	_IDENTIFY_DEVICE_DATA,4096,126
  1421                        	.member	GeneralConfiguration,0,10,8,16,104
  1422                        	.member	NumCylinders,16,16,8,16
  1423                        	.member	SpecificConfiguration,32,16,8,16
  1424                        	.member	NumHeads,48,16,8,16
  1425                        	.member	Retired1Bytes,64,110,8,0,4
  1426                        	.member	NumSectorsPerTrack,96,16,8,16
  1427                        	.member	VendorUnique1Bytes,112,110,8,0,6
  1428                        	.member	SerialNumber,160,110,8,0,20
  1429                        	.member	Retired2,320,112,8,0,2
  1430                        	.member	Obsolete1,352,16,8,16
  1431                        	.member	FirmwareRevision,368,110,8,0,8
  1432                        	.member	ModelNumber,432,110,8,0,40
  1433                        	.member	MaximumBlockTransfer,752,14,8,8
  1434                        	.member	VendorUnique2,760,14,8,8
  1435                        	.member	TrustedComputing,768,10,8,16,105
  1436                        	.member	Capabilities,784,10,8,32,106
  1437                        	.member	ObsoleteWords51,816,112,8,0,2
  1438                        	.member	TranslationFieldsValid,848,16,17,3
  1439                        	.member	Reserved3,851,16,17,5
  1440                        	.member	FreeFallControlSensitivity,856,16,17,8
  Mon Aug  9 2021 16:52                                                Page 28


  1441                        	.member	NumberOfCurrentCylinders,864,16,8,16
  1442                        	.member	NumberOfCurrentHeads,880,16,8,16
  1443                        	.member	CurrentSectorsPerTrack,896,16,8,16
  1444                        	.member	CurrentSectorCapacity,912,18,8,32
  1445                        	.member	CurrentMultiSectorSetting,944,14,8,8
  1446                        	.member	MultiSectorSettingValid,952,14,17,1
  1447                        	.member	ReservedByte59,953,14,17,3
  1448                        	.member	SanitizeFeatureSupported,956,14,17,1
  1449                        	.member	CryptoScrambleExtCommandSupported,957,14
                    ,17,1
  1450                        	.member	OverwriteExtCommandSupported,958,14,17,1
  1451                        	.member	BlockEraseExtCommandSupported,959,14,17,
                    1
  1452                        	.member	UserAddressableSectors,960,18,8,32
  1453                        	.member	ObsoleteWord62,992,16,8,16
  1454                        	.member	MultiWordDMASupport,1008,16,17,8
  1455                        	.member	MultiWordDMAActive,1016,16,17,8
  1456                        	.member	AdvancedPIOModes,1024,16,17,8
  1457                        	.member	ReservedByte64,1032,16,17,8
  1458                        	.member	MinimumMWXferCycleTime,1040,16,8,16
  1459                        	.member	RecommendedMWXferCycleTime,1056,16,8,16
  1460                        	.member	MinimumPIOCycleTime,1072,16,8,16
  1461                        	.member	MinimumPIOCycleTimeIORDY,1088,16,8,16
  1462                        	.member	AdditionalSupported,1104,10,8,16,107
  1463                        	.member	ReservedWords70,1120,112,8,0,5
  1464                        	.member	QueueDepth,1200,16,17,5
  1465                        	.member	ReservedWord75,1205,16,17,11
  1466                        	.member	SerialAtaCapabilities,1216,10,8,32,108
  1467                        	.member	SerialAtaFeaturesSupported,1248,10,8,16,
                    109
  1468                        	.member	SerialAtaFeaturesEnabled,1264,10,8,16,11
                    0
  1469                        	.member	MajorRevision,1280,16,8,16
  1470                        	.member	MinorRevision,1296,16,8,16
  1471                        	.member	CommandSetSupport,1312,10,8,48,111
  1472                        	.member	CommandSetActive,1360,10,8,48,112
  1473                        	.member	UltraDMASupport,1408,16,17,8
  1474                        	.member	UltraDMAActive,1416,16,17,8
  1475                        	.member	NormalSecurityEraseUnit,1424,10,8,16,113
  1476                        	.member	EnhancedSecurityEraseUnit,1440,10,8,16,1
                    14
  1477                        	.member	CurrentAPMLevel,1456,16,17,8
  1478                        	.member	ReservedWord91,1464,16,17,8
  1479                        	.member	MasterPasswordID,1472,16,8,16
  1480                        	.member	HardwareResetResult,1488,16,8,16
  1481                        	.member	CurrentAcousticValue,1504,16,17,8
  1482                        	.member	RecommendedAcousticValue,1512,16,17,8
  1483                        	.member	StreamMinRequestSize,1520,16,8,16
  1484                        	.member	StreamingTransferTimeDMA,1536,16,8,16
  1485                        	.member	StreamingAccessLatencyDMAPIO,1552,16,8,1
                    6
  1486                        	.member	StreamingPerfGranularity,1568,18,8,32
  1487                        	.member	Max48BitLBA,1600,114,8,0,2
  1488                        	.member	StreamingTransferTime,1664,16,8,16
  1489                        	.member	DsmCap,1680,16,8,16
  1490                        	.member	PhysicalLogicalSectorSize,1696,10,8,16,1
                    15
  1491                        	.member	InterSeekDelay,1712,16,8,16
  Mon Aug  9 2021 16:52                                                Page 29


  1492                        	.member	WorldWideName,1728,112,8,0,4
  1493                        	.member	ReservedForWorldWideName128,1792,112,8,0
                    ,4
  1494                        	.member	ReservedForTlcTechnicalReport,1856,16,8,
                    16
  1495                        	.member	WordsPerLogicalSector,1872,112,8,0,2
  1496                        	.member	CommandSetSupportExt,1904,10,8,16,116
  1497                        	.member	CommandSetActiveExt,1920,10,8,16,117
  1498                        	.member	ReservedForExpandedSupportandActive,1936
                    ,112,8,0,6
  1499                        	.member	MsnSupport,2032,16,17,2
  1500                        	.member	ReservedWord127,2034,16,17,14
  1501                        	.member	SecurityStatus,2048,10,8,16,118
  1502                        	.member	ReservedWord129,2064,112,8,0,31
  1503                        	.member	CfaPowerMode1,2560,10,8,16,119
  1504                        	.member	ReservedForCfaWord161,2576,112,8,0,7
  1505                        	.member	NominalFormFactor,2688,16,17,4
  1506                        	.member	ReservedWord168,2692,16,17,12
  1507                        	.member	DataSetManagementFeature,2704,10,8,16,12
                    0
  1508                        	.member	AdditionalProductID,2720,112,8,0,4
  1509                        	.member	ReservedForCfaWord174,2784,112,8,0,2
  1510                        	.member	CurrentMediaSerialNumber,2816,112,8,0,30
  1511                        	.member	SCTCommandTransport,3296,10,8,16,121
  1512                        	.member	ReservedWord207,3312,112,8,0,2
  1513                        	.member	BlockAlignment,3344,10,8,16,122
  1514                        	.member	WriteReadVerifySectorCountMode3Only,3360
                    ,112,8,0,2
  1515                        	.member	WriteReadVerifySectorCountMode2Only,3392
                    ,112,8,0,2
  1516                        	.member	NVCacheCapabilities,3424,10,8,16,123
  1517                        	.member	NVCacheSizeLSW,3440,16,8,16
  1518                        	.member	NVCacheSizeMSW,3456,16,8,16
  1519                        	.member	NominalMediaRotationRate,3472,16,8,16
  1520                        	.member	ReservedWord218,3488,16,8,16
  1521                        	.member	NVCacheOptions,3504,10,8,16,124
  1522                        	.member	WriteReadVerifySectorCountMode,3520,16,1
                    7,8
  1523                        	.member	ReservedWord220,3528,16,17,8
  1524                        	.member	ReservedWord221,3536,16,8,16
  1525                        	.member	TransportMajorVersion,3552,10,8,16,125
  1526                        	.member	TransportMinorVersion,3568,16,8,16
  1527                        	.member	ReservedWord224,3584,112,8,0,6
  1528                        	.member	ExtendedNumberOfUserAddressableSectors,3
                    680,114,8,0,2
  1529                        	.member	MinBlocksPerDownloadMicrocodeMode03,3744
                    ,16,8,16
  1530                        	.member	MaxBlocksPerDownloadMicrocodeMode03,3760
                    ,16,8,16
  1531                        	.member	ReservedWord236,3776,112,8,0,19
  1532                        	.member	Signature,4080,16,17,8
  1533                        	.member	CheckSum,4088,16,17,8
  1534                        	.eos
  1535                        	.stag	_FXDosDevice,5744,127
  1536                        	.member	type,0,14,8,8
  1537                        	.member	initialized,8,14,8,8
  1538                        	.member	devdata,16,129,8,32
  1539                        	.member	devstatus,48,14,8,8
  Mon Aug  9 2021 16:52                                                Page 30


  1540                        	.member	bootSector,56,10,8,928,97
  1541                        	.member	partitionTable,984,10,8,128,98
  1542                        	.member	fileAllocationTable,1112,110,8,0,512
  1543                        	.member	bsOffset,5208,18,8,32
  1544                        	.member	rootDirSectors,5240,18,8,32
  1545                        	.member	root_entry_count,5272,5,8,16
  1546                        	.member	rootEntriesPerPage,5288,5,8,16
  1547                        	.member	sectors_per_cluster,5304,5,8,16
  1548                        	.member	firstDataSector,5320,18,8,32
  1549                        	.member	fatTableOffset,5352,18,8,32
  1550                        	.member	volume_name,5384,110,8,0,12
  1551                        	.member	root_volume_name,5480,110,8,0,12
  1552                        	.member	errorCode,5576,14,8,8
  1553                        	.member	pfInit,5584,641,8,32
  1554                        	.member	pfReset,5616,641,8,32
  1555                        	.member	pfUninit,5648,641,8,32
  1556                        	.member	pfReader,5680,654,8,32
  1557                        	.member	pfWriter,5712,654,8,32
  1558                        	.eos
  1559                        	.utag	item,32,128
  1560                        	.member	dir,0,138,11,32,87
  1561                        	.member	file,0,138,11,32,86
  1562                        	.member	fileInfo,0,138,11,32,88
  1563                        	.eos
  1564                        	.stag	_dos_handle,80,129
  1565                        	.member	fs,0,138,8,32,84
  1566                        	.member	fr,32,5,8,16
  1567                        	.member	path,48,142,8,32
  1568                        	.eos
  1569                        	.stag	fx_file,112,130
  1570                        	.member	fs,0,138,8,32,84
  1571                        	.member	fileInfo,32,138,8,32,88
  1572                        	.member	f,64,138,8,32,86
  1573                        	.member	fr,96,5,8,16
  1574                        	.eos
  1575                        	.line	812
  1576                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",6
  1577                        ;
  1578                        ;VOID readBMP(LPCSTR path);
  1579                        ;
  1580                        ;#define BITMAP_SEG0   ((char FAR*)0xB00000)
  1581                        ;#define BITMAP_SEG1   ((char FAR*)0xB10000)
  1582                        ;#define BITMAP_SEG2   ((char FAR*)0xB20000)
  1583                        ;#define BITMAP_SEG3   ((char FAR*)0xB30000)
  1584                        ;#define BITMAP_SEG4   ((char FAR*)0xB40000)
  1585                        ;
  1586                        ;#define BITMAP0_SEG0   ((char FAR*)0xB00000)
  1587                        ;#define BITMAP0_SEG1   ((char FAR*)0xB10000)
  1588                        ;#define BITMAP0_SEG2   ((char FAR*)0xB20000)
  1589                        ;#define BITMAP0_SEG3   ((char FAR*)0xB30000)
  1590                        ;#define BITMAP0_SEG4   ((char FAR*)0xB40000)
  1591                        ;#define BITMAP1_SEG0   ((char FAR*)0xB00000)
  1592                        ;#define BITMAP1_SEG1   ((char FAR*)0xB10000)
  1593                        ;#define BITMAP1_SEG2   ((char FAR*)0xB20000)
  1594                        ;#define BITMAP1_SEG3   ((char FAR*)0xB30000)
  1595                        ;#define BITMAP1_SEG4   ((char FAR*)0xB40000)
  1596                        ;
  Mon Aug  9 2021 16:52                                                Page 31


  1597                        ;
  1598                        ;#define GUI_POINT_LIMIT_X_LO  	(0)
  1599                        ;#define GUI_POINT_LIMIT_Y_LO  	(0)
  1600                        ;
  1601                        ;#define GUI_POINT_LIMIT_X_HI  	(640)
  1602                        ;#define GUI_POINT_LIMIT_Y_HI  	(480)
  1603                        ;//#define GUI_POINT_LIMIT_X_HI  	(639)
  1604                        ;//#define GUI_POINT_LIMIT_Y_HI  	(479)
  1605                        ;
  1606                        ;static CHAR FAR TEXT_CAPTION_BLOCK[] = {0x00};
  1607                        	data
  1608                        ~~TEXT_CAPTION_BLOCK:
  1609 00:0000: 00           	db	$0
  1610 00:0001:              	ends
  1611                        ;
  1612                        ;static LPSTR TITLE_LINES_640x480 = NULL;
  1613                        	data
  1614                        ~~TITLE_LINES_640x480:
  1615 00:0001: 00 00 00 00  	dl	$0
  1616 00:0005:              	ends
  1617                        ;
  1618                        ;static CHAR FAR TEXT_FG_COLORS[] =
  1619                        	data
  1620                        ~~TEXT_FG_COLORS:
  1621                        ;{
  1622                        ;	0x00,0x00,0x00,0xFF,
  1623 00:0005: 00 00 00 FF  	db	$0,$0,$0,$FF
  1624                        ;	0x00,0x00,0x80,0xFF,
  1625 00:0009: 00 00 80 FF  	db	$0,$0,$80,$FF
  1626                        ;	0x00,0x80,0x00,0xFF,
  1627 00:000D: 00 80 00 FF  	db	$0,$80,$0,$FF
  1628                        ;	0x80,0x00,0x00,0xFF,
  1629 00:0011: 80 00 00 FF  	db	$80,$0,$0,$FF
  1630                        ;	0x00,0x80,0x80,0xFF,
  1631 00:0015: 00 80 80 FF  	db	$0,$80,$80,$FF
  1632                        ;	0x80,0x80,0x00,0xFF,
  1633 00:0019: 80 80 00 FF  	db	$80,$80,$0,$FF
  1634                        ;	0x80,0x00,0x80,0xFF,
  1635 00:001D: 80 00 80 FF  	db	$80,$0,$80,$FF
  1636                        ;	0x80,0x80,0x80,0xFF,
  1637 00:0021: 80 80 80 FF  	db	$80,$80,$80,$FF
  1638                        ;	0x00,0x45,0xFF,0xFF,
  1639 00:0025: 00 45 FF FF  	db	$0,$45,$FF,$FF
  1640                        ;	0x13,0x45,0x8B,0xFF,
  1641 00:0029: 13 45 8B FF  	db	$13,$45,$8B,$FF
  1642                        ;	0x00,0x00,0x20,0xFF,
  1643 00:002D: 00 00 20 FF  	db	$0,$0,$20,$FF
  1644                        ;	0x00,0x20,0x00,0xFF,
  1645 00:0031: 00 20 00 FF  	db	$0,$20,$0,$FF
  1646                        ;	0x20,0x00,0x00,0xFF,
  1647 00:0035: 20 00 00 FF  	db	$20,$0,$0,$FF
  1648                        ;	0x20,0x20,0x20,0xFF,
  1649 00:0039: 20 20 20 FF  	db	$20,$20,$20,$FF
  1650                        ;	0x40,0x40,0x40,0xFF,
  1651 00:003D: 40 40 40 FF  	db	$40,$40,$40,$FF
  1652                        ;	0xFF,0xFF,0xFF,0xFF,
  1653 00:0041: FF FF FF FF  	db	$FF,$FF,$FF,$FF
  1654                        ;
  Mon Aug  9 2021 16:52                                                Page 32


  1655                        ;};
  1656 00:0045:              	ends
  1657                        ;
  1658                        ;static CHAR FAR TEXT_BG_COLORS[] =
  1659                        	data
  1660                        ~~TEXT_BG_COLORS:
  1661                        ;{
  1662                        ;
  1663                        ;	0x00,0x00,0x00,0xFF,
  1664 00:0045: 00 00 00 FF  	db	$0,$0,$0,$FF
  1665                        ;	0x00,0x00,0x80,0xFF,
  1666 00:0049: 00 00 80 FF  	db	$0,$0,$80,$FF
  1667                        ;	0x00,0x80,0x00,0xFF,
  1668 00:004D: 00 80 00 FF  	db	$0,$80,$0,$FF
  1669                        ;	0x80,0x00,0x00,0xFF,
  1670 00:0051: 80 00 00 FF  	db	$80,$0,$0,$FF
  1671                        ;	0x00,0x20,0x20,0xFF,
  1672 00:0055: 00 20 20 FF  	db	$0,$20,$20,$FF
  1673                        ;	0x20,0x20,0x00,0xFF,
  1674 00:0059: 20 20 00 FF  	db	$20,$20,$0,$FF
  1675                        ;	0x20,0x00,0x20,0xFF,
  1676 00:005D: 20 00 20 FF  	db	$20,$0,$20,$FF
  1677                        ;	0x20,0x20,0x20,0xFF,
  1678 00:0061: 20 20 20 FF  	db	$20,$20,$20,$FF
  1679                        ;	0x1E,0x69,0xD2,0xFF,
  1680 00:0065: 1E 69 D2 FF  	db	$1E,$69,$D2,$FF
  1681                        ;	0x13,0x45,0x8B,0xFF,
  1682 00:0069: 13 45 8B FF  	db	$13,$45,$8B,$FF
  1683                        ;	0x00,0x00,0x20,0xFF,
  1684 00:006D: 00 00 20 FF  	db	$0,$0,$20,$FF
  1685                        ;	0x00,0x20,0x00,0xFF,
  1686 00:0071: 00 20 00 FF  	db	$0,$20,$0,$FF
  1687                        ;	0x40,0x00,0x00,0xFF,
  1688 00:0075: 40 00 00 FF  	db	$40,$0,$0,$FF
  1689                        ;	0x10,0x10,0x10,0xFF,
  1690 00:0079: 10 10 10 FF  	db	$10,$10,$10,$FF
  1691                        ;	0x40,0x40,0x40,0xFF,
  1692 00:007D: 40 40 40 FF  	db	$40,$40,$40,$FF
  1693                        ;	0xFF,0xFF,0xFF,0xFF,
  1694 00:0081: FF FF FF FF  	db	$FF,$FF,$FF,$FF
  1695                        ;};
  1696 00:0085:              	ends
  1697                        ;
  1698                        ;CHAR FAR MOUSE_POINTER_HELP[] =
  1699                        	data
  1700                        	xdef	~~MOUSE_POINTER_HELP
  1701                        ~~MOUSE_POINTER_HELP:
  1702                        ;{
  1703                        ;	0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x0
                    1,0x01,0x01,0x00,0x00,0x00,0x00,
  1704 00:0085: 00 00 00 01  	db	$0,$0,$0,$1,$1,$1,$1,$1,$1,$1
       00:0089: 01 01 01 01 
       00:008D: 01 01 
  1705 00:008F: 01 01 00 00  	db	$1,$1,$0,$0,$0,$0
       00:0093: 00 00 
  1706                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1707 00:0095: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
  Mon Aug  9 2021 16:52                                                Page 33


       00:0099: FF FF FF FF 
       00:009D: FF FF 
  1708 00:009F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:00A3: 00 00 
  1709                        ;	0x00,0x01,0xFF,0xFF,0xFF,0x01,0x01,0x01,0x01,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1710 00:00A5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$1,$1,$1,$1,$1
       00:00A9: FF 01 01 01 
       00:00AD: 01 01 
  1711 00:00AF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00B3: 00 00 
  1712                        ;	0x00,0x01,0xFF,0xFF,0x01,0x01,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1713 00:00B5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$1,$0,$0,$0,$1
       00:00B9: 01 01 00 00 
       00:00BD: 00 01 
  1714 00:00BF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00C3: 00 00 
  1715                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1716 00:00C5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00C9: 01 00 00 00 
       00:00CD: 00 01 
  1717 00:00CF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00D3: 00 00 
  1718                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1719 00:00D5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00D9: 01 00 00 00 
       00:00DD: 00 01 
  1720 00:00DF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00E3: 00 00 
  1721                        ;	0x00,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1722 00:00E5: 00 01 01 01  	db	$0,$1,$1,$1,$1,$0,$0,$0,$0,$1
       00:00E9: 01 00 00 00 
       00:00ED: 00 01 
  1723 00:00EF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00F3: 00 00 
  1724                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1725 00:00F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$1,$FF
       00:00F9: 00 00 00 01 
       00:00FD: 01 FF 
  1726 00:00FF: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0103: 00 00 
  1727                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xF
                    F,0xFF,0x01,0x00,0x00,0x00,0x00,
  1728 00:0105: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$FF,$FF
       00:0109: 00 00 00 01 
       00:010D: FF FF 
  1729 00:010F: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:0113: 00 00 
  1730                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0xFF,0xF
                    F,0xFF,0x00,0x00,0x00,0x00,0x00,
  1731 00:0115: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$FF,$FF
       00:0119: 00 01 01 01 
       00:011D: FF FF 
  Mon Aug  9 2021 16:52                                                Page 34


  1732 00:011F: FF 00 00 00  	db	$FF,$0,$0,$0,$0,$0
       00:0123: 00 00 
  1733                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x01,0x00,0x00,0x00,0x00,0x00,
  1734 00:0125: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0129: 00 01 FF FF 
       00:012D: FF 01 
  1735 00:012F: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:0133: 00 00 
  1736                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1737 00:0135: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0139: 00 01 FF FF 
       00:013D: FF 01 
  1738 00:013F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0143: 00 00 
  1739                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1740 00:0145: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$1,$1,$0
       00:0149: 00 00 01 01 
       00:014D: 01 00 
  1741 00:014F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0153: 00 00 
  1742                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1743 00:0155: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0159: 00 01 FF FF 
       00:015D: FF 01 
  1744 00:015F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0163: 00 00 
  1745                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1746 00:0165: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0169: 00 01 FF FF 
       00:016D: FF 01 
  1747 00:016F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0173: 00 00 
  1748                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00
  1749 00:0175: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:0179: 00 01 01 01 
       00:017D: 01 01 
  1750 00:017F: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:0183: 00 
  1751                        ;};
  1752 00:0184: 00           	db	$0
  1753 00:0185:              	ends
  1754                        ;
  1755                        ;CHAR FAR MOUSE_POINTER_HOURGLASS[] =
  1756                        	data
  1757                        	xdef	~~MOUSE_POINTER_HOURGLASS
  1758                        ~~MOUSE_POINTER_HOURGLASS:
  1759                        ;{
  1760                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,
  1761 00:0185: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0189: 01 01 01 01 
       00:018D: 01 01 
  Mon Aug  9 2021 16:52                                                Page 35


  1762 00:018F: 01 01 01 01  	db	$1,$1,$1,$1,$0,$0
       00:0193: 00 00 
  1763                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1764 00:0195: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0199: FF FF FF FF 
       00:019D: FF FF 
  1765 00:019F: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:01A3: 00 00 
  1766                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
  1767 00:01A5: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:01A9: FF 55 55 55 
       00:01AD: 55 55 
  1768 00:01AF: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:01B3: 00 00 
  1769                        ;		0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1770 00:01B5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$55,$55,$55,$55
       00:01B9: FF FF 55 55 
       00:01BD: 55 55 
  1771 00:01BF: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:01C3: 00 00 
  1772                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,
                    0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,
  1773 00:01C5: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$FF,$55,$55,$FF
       00:01C9: 01 FF FF 55 
       00:01CD: 55 FF 
  1774 00:01CF: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:01D3: 00 00 
  1775                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0x55,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
  1776 00:01D5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$55,$FF
       00:01D9: 00 01 FF 55 
       00:01DD: 55 FF 
  1777 00:01DF: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:01E3: 00 00 
  1778                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1779 00:01E5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:01E9: 00 00 01 FF 
       00:01ED: 55 01 
  1780 00:01EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01F3: 00 00 
  1781                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1782 00:01F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:01F9: 00 00 01 55 
       00:01FD: FF 01 
  1783 00:01FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0203: 00 00 
  1784                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1785 00:0205: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0209: 00 00 01 FF 
       00:020D: 55 01 
  1786 00:020F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0213: 00 00 
  Mon Aug  9 2021 16:52                                                Page 36


  1787                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1788 00:0215: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:0219: 00 00 01 55 
       00:021D: FF 01 
  1789 00:021F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0223: 00 00 
  1790                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1791 00:0225: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0229: 00 00 01 FF 
       00:022D: 55 01 
  1792 00:022F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0233: 00 00 
  1793                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
  1794 00:0235: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$FF,$FF
       00:0239: 00 01 FF 55 
       00:023D: FF FF 
  1795 00:023F: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:0243: 00 00 
  1796                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0x01,0x00,0x00,0x00,0x00,
  1797 00:0245: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$55,$55,$55,$55
       00:0249: 01 FF 55 55 
       00:024D: 55 55 
  1798 00:024F: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:0253: 00 00 
  1799                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
  1800 00:0255: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:0259: FF 55 55 55 
       00:025D: 55 55 
  1801 00:025F: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:0263: 00 00 
  1802                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1803 00:0265: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0269: FF FF FF FF 
       00:026D: FF FF 
  1804 00:026F: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:0273: 00 00 
  1805                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00
  1806 00:0275: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0279: 01 01 01 01 
       00:027D: 01 01 
  1807 00:027F: 01 01 01 01  	db	$1,$1,$1,$1,$0
       00:0283: 00 
  1808                        ;};
  1809 00:0284: 00           	db	$0
  1810 00:0285:              	ends
  1811                        ;
  1812                        ;CHAR FAR MOUSE_POINTER_ARROW[] =
  1813                        	data
  1814                        	xdef	~~MOUSE_POINTER_ARROW
  1815                        ~~MOUSE_POINTER_ARROW:
  1816                        ;{
  Mon Aug  9 2021 16:52                                                Page 37


  1817                        ;	0xFF,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1818 00:0285: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0,$0,$0,$0,$0
       00:0289: 00 00 00 00 
       00:028D: 00 00 
  1819 00:028F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0293: 00 00 
  1820                        ;	0x01,0xFF,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1821 00:0295: 01 FF 55 55  	db	$1,$FF,$55,$55,$0,$0,$0,$0,$0,$0
       00:0299: 00 00 00 00 
       00:029D: 00 00 
  1822 00:029F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02A3: 00 00 
  1823                        ;	0x00,0x01,0xFF,0xFF,0x55,0x55,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1824 00:02A5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$55,$55,$0,$0,$0,$0
       00:02A9: 55 55 00 00 
       00:02AD: 00 00 
  1825 00:02AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02B3: 00 00 
  1826                        ;	0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x55,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1827 00:02B5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$FF,$55,$55,$0,$0
       00:02B9: FF FF 55 55 
       00:02BD: 00 00 
  1828 00:02BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02C3: 00 00 
  1829                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0x55,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
  1830 00:02C5: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$55,$55
       00:02C9: FF FF FF FF 
       00:02CD: 55 55 
  1831 00:02CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02D3: 00 00 
  1832                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0x00,0x00,0x00,0x00,0x00,0x00,
  1833 00:02D5: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:02D9: FF FF FF FF 
       00:02DD: FF FF 
  1834 00:02DF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02E3: 00 00 
  1835                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1836 00:02E5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$0,$0
       00:02E9: FF FF FF FF 
       00:02ED: 00 00 
  1837 00:02EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02F3: 00 00 
  1838                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1839 00:02F5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$55,$0
       00:02F9: FF FF FF FF 
       00:02FD: 55 00 
  1840 00:02FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0303: 00 00 
  1841                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x01,0xFF,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
  Mon Aug  9 2021 16:52                                                Page 38


  1842 00:0305: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$1,$FF,$55
       00:0309: 01 FF 00 01 
       00:030D: FF 55 
  1843 00:030F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0313: 00 00 
  1844                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x01,0xF
                    F,0x55,0x00,0x00,0x00,0x00,0x00,
  1845 00:0315: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$0,$1,$FF
       00:0319: 01 FF 00 00 
       00:031D: 01 FF 
  1846 00:031F: 55 00 00 00  	db	$55,$0,$0,$0,$0,$0
       00:0323: 00 00 
  1847                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0x55,0x00,0x00,0x00,0x00,
  1848 00:0325: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$1
       00:0329: 00 00 00 00 
       00:032D: 00 01 
  1849 00:032F: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0
       00:0333: 00 00 
  1850                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x01,0xFF,0x00,0x00,0x00,0x00,
  1851 00:0335: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0339: 00 00 00 00 
       00:033D: 00 00 
  1852 00:033F: 01 FF 00 00  	db	$1,$FF,$0,$0,$0,$0
       00:0343: 00 00 
  1853                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1854 00:0345: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0349: 00 00 00 00 
       00:034D: 00 00 
  1855 00:034F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0353: 00 00 
  1856                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1857 00:0355: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0359: 00 00 00 00 
       00:035D: 00 00 
  1858 00:035F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0363: 00 00 
  1859                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1860 00:0365: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0369: 00 00 00 00 
       00:036D: 00 00 
  1861 00:036F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0373: 00 00 
  1862                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1863 00:0375: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0379: 00 00 00 00 
       00:037D: 00 00 
  1864 00:037F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0383: 00 00 
  1865                        ;};
  1866 00:0385:              	ends
  1867                        ;
  1868                        ;
  Mon Aug  9 2021 16:52                                                Page 39


  1869                        ;CHAR FAR MOUSE_POINTER_RESIZE[] =
  1870                        	data
  1871                        	xdef	~~MOUSE_POINTER_RESIZE
  1872                        ~~MOUSE_POINTER_RESIZE:
  1873                        ;{
  1874                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1875 00:0385: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$0,$0,$0
       00:0389: FF FF FF 00 
       00:038D: 00 00 
  1876 00:038F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0393: 00 00 
  1877                        ;	0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1878 00:0395: FF FF 01 01  	db	$FF,$FF,$1,$1,$1,$1,$1,$0,$0,$0
       00:0399: 01 01 01 00 
       00:039D: 00 00 
  1879 00:039F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03A3: 00 00 
  1880                        ;	0xFF,0x01,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1881 00:03A5: FF 01 FF 00  	db	$FF,$1,$FF,$0,$0,$0,$0,$0,$0,$0
       00:03A9: 00 00 00 00 
       00:03AD: 00 00 
  1882 00:03AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03B3: 00 00 
  1883                        ;	0xFF,0x01,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1884 00:03B5: FF 01 00 FF  	db	$FF,$1,$0,$FF,$0,$0,$0,$0,$0,$0
       00:03B9: 00 00 00 00 
       00:03BD: 00 00 
  1885 00:03BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03C3: 00 00 
  1886                        ;	0xFF,0x01,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1887 00:03C5: FF 01 00 00  	db	$FF,$1,$0,$0,$FF,$0,$0,$0,$0,$0
       00:03C9: FF 00 00 00 
       00:03CD: 00 00 
  1888 00:03CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03D3: 00 00 
  1889                        ;	0xFF,0x01,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1890 00:03D5: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$FF,$0,$0,$0,$0
       00:03D9: 00 FF 00 00 
       00:03DD: 00 00 
  1891 00:03DF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:03E3: 00 00 
  1892                        ;	0xFF,0x01,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1893 00:03E5: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0,$FF,$0,$0,$0
       00:03E9: 00 00 FF 00 
       00:03ED: 00 00 
  1894 00:03EF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:03F3: 00 00 
  1895                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1896 00:03F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$FF,$0,$0
       00:03F9: 00 00 00 FF 
  Mon Aug  9 2021 16:52                                                Page 40


       00:03FD: 00 00 
  1897 00:03FF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0403: 00 00 
  1898                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1899 00:0405: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$FF,$0
       00:0409: 00 00 00 00 
       00:040D: FF 00 
  1900 00:040F: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0413: 00 00 
  1901                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF
                    F,0x00,0xFF,0x01,0x00,0x00,0x00,
  1902 00:0415: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$FF
       00:0419: 00 00 00 00 
       00:041D: 00 FF 
  1903 00:041F: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0423: 00 00 
  1904                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1905 00:0425: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0429: 00 00 00 00 
       00:042D: 00 00 
  1906 00:042F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0433: 00 00 
  1907                        ;	0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1908 00:0435: 00 00 00 00  	db	$0,$0,$0,$0,$0,$FF,$FF,$FF,$FF,$FF
       00:0439: 00 FF FF FF 
       00:043D: FF FF 
  1909 00:043F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0443: 00 00 
  1910                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x01,0x01,0x01,0x00,0x00,0x00,
  1911 00:0445: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:0449: 00 01 01 01 
       00:044D: 01 01 
  1912 00:044F: 01 01 01 00  	db	$1,$1,$1,$0,$0,$0
       00:0453: 00 00 
  1913                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1914 00:0455: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0459: 00 00 00 00 
       00:045D: 00 00 
  1915 00:045F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0463: 00 00 
  1916                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1917 00:0465: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0469: 00 00 00 00 
       00:046D: 00 00 
  1918 00:046F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0473: 00 00 
  1919                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1920 00:0475: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0479: 00 00 00 00 
       00:047D: 00 00 
  1921 00:047F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
  Mon Aug  9 2021 16:52                                                Page 41


       00:0483: 00 00 
  1922                        ;};
  1923 00:0485:              	ends
  1924                        ;
  1925                        ;/*
  1926                        ;CHAR FAR MOUSE_POINTER_RESIZE[] =
  1927                        ;{
  1928                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1929                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1930                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1931                        ;	0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1932                        ;	0x00,0x00,0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1933                        ;	0x00,0x00,0xFF,0x01,0xFF,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1934                        ;	0x00,0x00,0xFF,0x01,0x00,0xFF,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1935                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0xFF,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1936                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1937                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0x00,0xFF,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1938                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF
                    F,0x00,0x00,0x00,0xFF,0x01,0x00,
  1939                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0xFF,0x00,0x00,0xFF,0x01,0x00,
  1940                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0xFF,0x00,0xFF,0x01,0x00,
  1941                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0xFF,0xFF,0x01,0x00,
  1942                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0x01,0x00,
  1943                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x0
                    1,0x01,0x01,0x01,0x01,0x01,0x00,
  1944                        ;};
  1945                        ; */
  1946                        ;
  1947                        ;CHAR FAR MOUSE_POINTER_EMPTY[] =
  1948                        	data
  1949                        	xdef	~~MOUSE_POINTER_EMPTY
  1950                        ~~MOUSE_POINTER_EMPTY:
  1951                        ;{
  1952                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1953 00:0485: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0489: 00 00 00 00 
       00:048D: 00 00 
  1954 00:048F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0493: 00 00 
  1955                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1956 00:0495: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0499: 00 00 00 00 
  Mon Aug  9 2021 16:52                                                Page 42


       00:049D: 00 00 
  1957 00:049F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04A3: 00 00 
  1958                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1959 00:04A5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04A9: 00 00 00 00 
       00:04AD: 00 00 
  1960 00:04AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04B3: 00 00 
  1961                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1962 00:04B5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04B9: 00 00 00 00 
       00:04BD: 00 00 
  1963 00:04BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04C3: 00 00 
  1964                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1965 00:04C5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04C9: 00 00 00 00 
       00:04CD: 00 00 
  1966 00:04CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04D3: 00 00 
  1967                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1968 00:04D5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04D9: 00 00 00 00 
       00:04DD: 00 00 
  1969 00:04DF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04E3: 00 00 
  1970                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1971 00:04E5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04E9: 00 00 00 00 
       00:04ED: 00 00 
  1972 00:04EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04F3: 00 00 
  1973                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1974 00:04F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04F9: 00 00 00 00 
       00:04FD: 00 00 
  1975 00:04FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0503: 00 00 
  1976                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1977 00:0505: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0509: 00 00 00 00 
       00:050D: 00 00 
  1978 00:050F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0513: 00 00 
  1979                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1980 00:0515: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0519: 00 00 00 00 
       00:051D: 00 00 
  1981 00:051F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
  Mon Aug  9 2021 16:52                                                Page 43


       00:0523: 00 00 
  1982                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1983 00:0525: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0529: 00 00 00 00 
       00:052D: 00 00 
  1984 00:052F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0533: 00 00 
  1985                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1986 00:0535: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0539: 00 00 00 00 
       00:053D: 00 00 
  1987 00:053F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0543: 00 00 
  1988                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1989 00:0545: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0549: 00 00 00 00 
       00:054D: 00 00 
  1990 00:054F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0553: 00 00 
  1991                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1992 00:0555: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0559: 00 00 00 00 
       00:055D: 00 00 
  1993 00:055F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0563: 00 00 
  1994                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1995 00:0565: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0569: 00 00 00 00 
       00:056D: 00 00 
  1996 00:056F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0573: 00 00 
  1997                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00
  1998 00:0575: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0579: 00 00 00 00 
       00:057D: 00 00 
  1999 00:057F: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:0583: 00 
  2000                        ;};
  2001 00:0584: 00           	db	$0
  2002 00:0585:              	ends
  2003                        ;
  2004                        ;static CHAR BG_FILL_LINE_ODD[] =
  2005                        	data
  2006                        ~~BG_FILL_LINE_ODD:
  2007                        ;{
  2008                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2009 00:0585: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0589: AA AA AA AA 
  2010                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2011 00:058D: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0591: AA AA AA AA 
  2012                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  Mon Aug  9 2021 16:52                                                Page 44


  2013 00:0595: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0599: AA AA AA AA 
  2014                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2015 00:059D: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05A1: AA AA AA AA 
  2016                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2017 00:05A5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05A9: AA AA AA AA 
  2018                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2019 00:05AD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05B1: AA AA AA AA 
  2020                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2021 00:05B5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05B9: AA AA AA AA 
  2022                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2023 00:05BD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05C1: AA AA AA AA 
  2024                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2025 00:05C5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05C9: AA AA AA AA 
  2026                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA
  2027 00:05CD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05D1: AA AA AA 
  2028                        ;};
  2029 00:05D4: AA           	db	$AA
  2030 00:05D5:              	ends
  2031                        ;
  2032                        ;static CHAR BG_FILL_LINE_EVEN[] =
  2033                        	data
  2034                        ~~BG_FILL_LINE_EVEN:
  2035                        ;{
  2036                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2037 00:05D5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05D9: 55 55 55 55 
  2038                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2039 00:05DD: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05E1: 55 55 55 55 
  2040                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2041 00:05E5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05E9: 55 55 55 55 
  2042                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2043 00:05ED: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05F1: 55 55 55 55 
  2044                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2045 00:05F5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05F9: 55 55 55 55 
  2046                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2047 00:05FD: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0601: 55 55 55 55 
  2048                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2049 00:0605: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0609: 55 55 55 55 
  2050                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2051 00:060D: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0611: 55 55 55 55 
  2052                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2053 00:0615: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0619: 55 55 55 55 
  Mon Aug  9 2021 16:52                                                Page 45


  2054                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55
  2055 00:061D: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55
       00:0621: 55 55 55 
  2056                        ;};
  2057 00:0624: 55           	db	$55
  2058 00:0625:              	ends
  2059                        ;
  2060                        ;
  2061                        ;static CUR_PALETTE_MAP _k_currentPalatte;
  2062                        ;
  2063                        ;#define GRP_LUT_BASE_ADDR GRPH_LUT0_PTR
  2064                        ;
  2065                        ;#define GUI_CACHE_RESERVE1  (0)
  2066                        ;#define GUI_CACHE_RESERVE2  (2)
  2067                        ;#define GUI_CACHE_START     (4)
  2068                        ;#define GUI_CACHE_FRONT		((ULONG)0x000000
                    )
  2069                        ;#define GUI_CACHE_BACK		((ULONG)0x080000
                    )
  2070                        ;//#define GUI_CACHE_PAGE		((ULONG)0x100000
                    )
  2071                        ;// testing
  2072                        ;#define GUI_CACHE_PAGE		((ULONG)0x100000
                    )
  2073                        ;
  2074                        ;#define GUI_CACHE_WIDTH		(320)
  2075                        ;#define GUI_CACHE_HEIGHT	(16)
  2076                        ;//
  2077                        ;#define GUI_CACHE_SIZE		(60)
  2078                        ;#define GUI_CACHE_PAGE_OFFSET(s)   ((5120L * ((LO
                    NG)s - (LONG)(s % 2))) + 320L * (LONG)(s % 2))
  2079                        ;
  2080                        ;static BYTE _k_guiCacheSlots[GUI_CACHE_SIZE];
  2081                        ;
  2082                        ;#pragma section CODE=GFX,offset $06:0000
  2083                        GFX	section	offset $06:0000
  2084 06:0000:              	ends
  2085                        ;
  2086                        ;PRECT k_new_RECT(LPCSTR name, int x,int y,int wid
                    th,int height, int z, int scaler)
  2087                        ;{
  2088                        	.line	257
  2089                        	.line	258
  2090                        	GFX
  2091                        	xdef	~~k_new_RECT
  2092                        	func
  2093                        	.function	258
  2094                        ~~k_new_RECT:
  2095                        	longa	on
  2096                        	longi	on
  2097 06:0000: 3B           	tsc
  2098 06:0001: 38           	sec
  2099 06:0002: E9 08 00     	sbc	#L2
  2100 06:0005: 1B           	tcs
  2101 06:0006: 0B           	phd
  2102 06:0007: 5B           	tcd
  2103             00000004   name_0	set	4
  2104             00000008   x_0	set	8
  Mon Aug  9 2021 16:52                                                Page 46


  2105             0000000A   y_0	set	10
  2106             0000000C   width_0	set	12
  2107             0000000E   height_0	set	14
  2108             00000010   z_0	set	16
  2109             00000012   scaler_0	set	18
  2110                        	.block	258
  2111                        ;	PRECT r = k_mem_allocate_heap(sizeof(RECT));
  2112                        ;	if(r)
  2113             00000000   r_1	set	0
  2114                        	.sym	r,0,138,1,32,26
  2115                        	.sym	name,4,142,6,32
  2116                        	.sym	x,8,5,6,16
  2117                        	.sym	y,10,5,6,16
  2118                        	.sym	width,12,5,6,16
  2119                        	.sym	height,14,5,6,16
  2120                        	.sym	z,16,5,6,16
  2121                        	.sym	scaler,18,5,6,16
  2122 06:0008: F4 00 00     	pea	#^$e
  2123 06:000B: F4 0E 00     	pea	#<$e
  2124 06:000E: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  2125 06:0012: 85 05        	sta	<L3+r_1
  2126 06:0014: 86 07        	stx	<L3+r_1+2
  2127                        	.line	260
  2128                        ;	{
  2129 06:0016: A5 05        	lda	<L3+r_1
  2130 06:0018: 05 07        	ora	<L3+r_1+2
  2131 06:001A: D0 03        	bne	L5
  2132 06:001C: 82 1A 00     	brl	L10001
  2133                        L5:
  2134                        	.line	261
  2135                        ;		r->z = z;
  2136                        	.line	262
  2137 06:001F: A0 00 00     	ldy	#$0
  2138 06:0022: A5 18        	lda	<L2+z_0
  2139 06:0024: 10 01        	bpl	L6
  2140 06:0026: 88           	dey
  2141                        L6:
  2142 06:0027: 85 01        	sta	<R0
  2143 06:0029: 84 03        	sty	<R0+2
  2144 06:002B: A5 01        	lda	<R0
  2145 06:002D: A0 04 00     	ldy	#$4
  2146 06:0030: 97 05        	sta	[<L3+r_1],Y
  2147 06:0032: A5 03        	lda	<R0+2
  2148 06:0034: A0 06 00     	ldy	#$6
  2149 06:0037: 97 05        	sta	[<L3+r_1],Y
  2150                        ;		//r->scaler = scaler;
  2151                        ;		r->x;
  2152                        	.line	264
  2153                        ;		r->y;
  2154                        	.line	265
  2155                        ;		r->width;
  2156                        	.line	266
  2157                        ;		r->height;
  2158                        	.line	267
  2159                        ;		/*
  2160                        ;		r->z = z;
  2161                        ;		r->scaler = scaler;
  2162                        ;		r->x/scaler+(i),
  Mon Aug  9 2021 16:52                                                Page 47


  2163                        ;		r->y/scaler+(j),
  2164                        ;		r->width/scaler - ((k + i)),
  2165                        ;		r->height/scaler - ((l + j)));
  2166                        ;		*/
  2167                        ;	}
  2168                        	.line	276
  2169                        ;	return r;
  2170                        L10001:
  2171                        	.line	277
  2172 06:0039: A6 07        	ldx	<L3+r_1+2
  2173 06:003B: A5 05        	lda	<L3+r_1
  2174                        L7:
  2175 06:003D: A8           	tay
  2176 06:003E: A5 0A        	lda	<L2+2
  2177 06:0040: 85 1A        	sta	<L2+2+16
  2178 06:0042: A5 09        	lda	<L2+1
  2179 06:0044: 85 19        	sta	<L2+1+16
  2180 06:0046: 2B           	pld
  2181 06:0047: 3B           	tsc
  2182 06:0048: 18           	clc
  2183 06:0049: 69 18 00     	adc	#L2+16
  2184 06:004C: 1B           	tcs
  2185 06:004D: 98           	tya
  2186 06:004E: 6B           	rtl
  2187                        ;}
  2188                        	.line	278
  2189                        	.endblock	278
  2190             00000008   L2	equ	8
  2191             00000005   L3	equ	5
  2192 06:004F:              	ends
  2193                        	efunc
  2194                        	.endfunc	278,5,8
  2195                        	.line	278
  2196                        ;
  2197                        ;PRECTP k_new_RECTP(LPCSTR name, int x,int y,int w
                    idth,int height)
  2198                        ;{
  2199                        	.line	280
  2200                        	.line	281
  2201                        	GFX
  2202                        	xdef	~~k_new_RECTP
  2203                        	func
  2204                        	.function	281
  2205                        ~~k_new_RECTP:
  2206                        	longa	on
  2207                        	longi	on
  2208 06:004F: 3B           	tsc
  2209 06:0050: 38           	sec
  2210 06:0051: E9 04 00     	sbc	#L8
  2211 06:0054: 1B           	tcs
  2212 06:0055: 0B           	phd
  2213 06:0056: 5B           	tcd
  2214             00000004   name_0	set	4
  2215             00000008   x_0	set	8
  2216             0000000A   y_0	set	10
  2217             0000000C   width_0	set	12
  2218             0000000E   height_0	set	14
  2219                        	.block	281
  Mon Aug  9 2021 16:52                                                Page 48


  2220                        ;	PRECTP r = k_mem_allocate_heap(sizeof(PRECTP));
  2221                        ;	if(r)
  2222             00000000   r_1	set	0
  2223                        	.sym	r,0,138,1,32,27
  2224                        	.sym	name,4,142,6,32
  2225                        	.sym	x,8,5,6,16
  2226                        	.sym	y,10,5,6,16
  2227                        	.sym	width,12,5,6,16
  2228                        	.sym	height,14,5,6,16
  2229 06:0057: F4 00 00     	pea	#^$4
  2230 06:005A: F4 04 00     	pea	#<$4
  2231 06:005D: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  2232 06:0061: 85 01        	sta	<L9+r_1
  2233 06:0063: 86 03        	stx	<L9+r_1+2
  2234                        	.line	283
  2235                        ;	{
  2236 06:0065: A5 01        	lda	<L9+r_1
  2237 06:0067: 05 03        	ora	<L9+r_1+2
  2238 06:0069: D0 03        	bne	L11
  2239 06:006B: 82 22 00     	brl	L10002
  2240                        L11:
  2241                        	.line	284
  2242                        ;		r->topLeft.x = x;
  2243                        	.line	285
  2244 06:006E: A5 0C        	lda	<L8+x_0
  2245 06:0070: A0 04 00     	ldy	#$4
  2246 06:0073: 97 01        	sta	[<L9+r_1],Y
  2247                        ;		r->topLeft.y = y;
  2248                        	.line	286
  2249 06:0075: A5 0E        	lda	<L8+y_0
  2250 06:0077: A0 06 00     	ldy	#$6
  2251 06:007A: 97 01        	sta	[<L9+r_1],Y
  2252                        ;
  2253                        ;		r->bottomRight.x = x + width;
  2254                        	.line	288
  2255 06:007C: 18           	clc
  2256 06:007D: A5 0C        	lda	<L8+x_0
  2257 06:007F: 65 10        	adc	<L8+width_0
  2258 06:0081: A0 08 00     	ldy	#$8
  2259 06:0084: 97 01        	sta	[<L9+r_1],Y
  2260                        ;		r->bottomRight.y = y + height;
  2261                        	.line	289
  2262 06:0086: 18           	clc
  2263 06:0087: A5 0E        	lda	<L8+y_0
  2264 06:0089: 65 12        	adc	<L8+height_0
  2265 06:008B: A0 0A 00     	ldy	#$a
  2266 06:008E: 97 01        	sta	[<L9+r_1],Y
  2267                        ;	}
  2268                        	.line	290
  2269                        ;	return r;
  2270                        L10002:
  2271                        	.line	291
  2272 06:0090: A6 03        	ldx	<L9+r_1+2
  2273 06:0092: A5 01        	lda	<L9+r_1
  2274                        L12:
  2275 06:0094: A8           	tay
  2276 06:0095: A5 06        	lda	<L8+2
  2277 06:0097: 85 12        	sta	<L8+2+12
  Mon Aug  9 2021 16:52                                                Page 49


  2278 06:0099: A5 05        	lda	<L8+1
  2279 06:009B: 85 11        	sta	<L8+1+12
  2280 06:009D: 2B           	pld
  2281 06:009E: 3B           	tsc
  2282 06:009F: 18           	clc
  2283 06:00A0: 69 10 00     	adc	#L8+12
  2284 06:00A3: 1B           	tcs
  2285 06:00A4: 98           	tya
  2286 06:00A5: 6B           	rtl
  2287                        ;}
  2288                        	.line	292
  2289                        	.endblock	292
  2290             00000004   L8	equ	4
  2291             00000001   L9	equ	1
  2292 06:00A6:              	ends
  2293                        	efunc
  2294                        	.endfunc	292,1,4
  2295                        	.line	292
  2296                        ;
  2297                        ;/*
  2298                        ;RECT(r.name + "-child",
  2299                        ;							
                    r.x/RECT.scaler+(i),
  2300                        ;							
                    r.y/RECT.scaler+(j),
  2301                        ;							
                    r.width/RECT.scaler - ((k + i)),
  2302                        ;							
                    r.height/RECT.scaler - ((l + j)));
  2303                        ;*/
  2304                        ;VOID k_ToRECT(PRECTP prectp,PRECT prect,LPCSTR na
                    me)
  2305                        ;{
  2306                        	.line	301
  2307                        	.line	302
  2308                        	GFX
  2309                        	xdef	~~k_ToRECT
  2310                        	func
  2311                        	.function	302
  2312                        ~~k_ToRECT:
  2313                        	longa	on
  2314                        	longi	on
  2315 06:00A6: 3B           	tsc
  2316 06:00A7: 38           	sec
  2317 06:00A8: E9 00 00     	sbc	#L13
  2318 06:00AB: 1B           	tcs
  2319 06:00AC: 0B           	phd
  2320 06:00AD: 5B           	tcd
  2321             00000004   prectp_0	set	4
  2322             00000008   prect_0	set	8
  2323             0000000C   name_0	set	12
  2324                        	.block	302
  2325                        ;	if(prect && prectp)
  2326                        	.sym	prectp,4,138,6,32,27
  2327                        	.sym	prect,8,138,6,32,26
  2328                        	.sym	name,12,142,6,32
  2329                        	.line	303
  2330                        ;	{
  Mon Aug  9 2021 16:52                                                Page 50


  2331 06:00AE: A5 08        	lda	<L13+prect_0
  2332 06:00B0: 05 0A        	ora	<L13+prect_0+2
  2333 06:00B2: D0 03        	bne	L16
  2334 06:00B4: 82 3A 00     	brl	L10003
  2335                        L16:
  2336 06:00B7: A5 04        	lda	<L13+prectp_0
  2337 06:00B9: 05 06        	ora	<L13+prectp_0+2
  2338 06:00BB: D0 03        	bne	L17
  2339 06:00BD: 82 31 00     	brl	L10003
  2340                        L17:
  2341                        	.line	304
  2342                        ;
  2343                        ;		prect->x = prectp->topLeft.x;
  2344                        	.line	306
  2345 06:00C0: A0 04 00     	ldy	#$4
  2346 06:00C3: B7 04        	lda	[<L13+prectp_0],Y
  2347 06:00C5: 87 08        	sta	[<L13+prect_0]
  2348                        ;		prect->y = prectp->topLeft.y;
  2349                        	.line	307
  2350 06:00C7: A0 06 00     	ldy	#$6
  2351 06:00CA: B7 04        	lda	[<L13+prectp_0],Y
  2352 06:00CC: A0 02 00     	ldy	#$2
  2353 06:00CF: 97 08        	sta	[<L13+prect_0],Y
  2354                        ;
  2355                        ;		prect->width  = prectp->bottomRight.x - 
                    prectp->topLeft.x;
  2356                        	.line	309
  2357 06:00D1: 38           	sec
  2358 06:00D2: A0 08 00     	ldy	#$8
  2359 06:00D5: B7 04        	lda	[<L13+prectp_0],Y
  2360 06:00D7: A0 04 00     	ldy	#$4
  2361 06:00DA: F7 04        	sbc	[<L13+prectp_0],Y
  2362 06:00DC: A0 08 00     	ldy	#$8
  2363 06:00DF: 97 08        	sta	[<L13+prect_0],Y
  2364                        ;		prect->height = prectp->bottomRight.y - 
                    prectp->topLeft.y;
  2365                        	.line	310
  2366 06:00E1: 38           	sec
  2367 06:00E2: A0 0A 00     	ldy	#$a
  2368 06:00E5: B7 04        	lda	[<L13+prectp_0],Y
  2369 06:00E7: A0 06 00     	ldy	#$6
  2370 06:00EA: F7 04        	sbc	[<L13+prectp_0],Y
  2371 06:00EC: A0 0A 00     	ldy	#$a
  2372 06:00EF: 97 08        	sta	[<L13+prect_0],Y
  2373                        ;
  2374                        ;	}
  2375                        	.line	312
  2376                        ;}
  2377                        L10003:
  2378                        	.line	313
  2379                        L18:
  2380 06:00F1: A5 02        	lda	<L13+2
  2381 06:00F3: 85 0E        	sta	<L13+2+12
  2382 06:00F5: A5 01        	lda	<L13+1
  2383 06:00F7: 85 0D        	sta	<L13+1+12
  2384 06:00F9: 2B           	pld
  2385 06:00FA: 3B           	tsc
  2386 06:00FB: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 51


  2387 06:00FC: 69 0C 00     	adc	#L13+12
  2388 06:00FF: 1B           	tcs
  2389 06:0100: 6B           	rtl
  2390                        	.endblock	313
  2391             00000000   L13	equ	0
  2392             00000001   L14	equ	1
  2393 06:0101:              	ends
  2394                        	efunc
  2395                        	.endfunc	313,1,0
  2396                        	.line	313
  2397                        ;
  2398                        ;VOID k_ToRECTP(PRECT pr,PRECTP prectp)
  2399                        ;{
  2400                        	.line	315
  2401                        	.line	316
  2402                        	GFX
  2403                        	xdef	~~k_ToRECTP
  2404                        	func
  2405                        	.function	316
  2406                        ~~k_ToRECTP:
  2407                        	longa	on
  2408                        	longi	on
  2409 06:0101: 3B           	tsc
  2410 06:0102: 38           	sec
  2411 06:0103: E9 00 00     	sbc	#L19
  2412 06:0106: 1B           	tcs
  2413 06:0107: 0B           	phd
  2414 06:0108: 5B           	tcd
  2415             00000004   pr_0	set	4
  2416             00000008   prectp_0	set	8
  2417                        	.block	316
  2418                        ;	if(pr && prectp)
  2419                        	.sym	pr,4,138,6,32,26
  2420                        	.sym	prectp,8,138,6,32,27
  2421                        	.line	317
  2422                        ;	{
  2423 06:0109: A5 04        	lda	<L19+pr_0
  2424 06:010B: 05 06        	ora	<L19+pr_0+2
  2425 06:010D: D0 03        	bne	L22
  2426 06:010F: 82 37 00     	brl	L10004
  2427                        L22:
  2428 06:0112: A5 08        	lda	<L19+prectp_0
  2429 06:0114: 05 0A        	ora	<L19+prectp_0+2
  2430 06:0116: D0 03        	bne	L23
  2431 06:0118: 82 2E 00     	brl	L10004
  2432                        L23:
  2433                        	.line	318
  2434                        ;		prectp->topLeft.x = pr->x;
  2435                        	.line	319
  2436 06:011B: A7 04        	lda	[<L19+pr_0]
  2437 06:011D: A0 04 00     	ldy	#$4
  2438 06:0120: 97 08        	sta	[<L19+prectp_0],Y
  2439                        ;		prectp->topLeft.y = pr->y;
  2440                        	.line	320
  2441 06:0122: A0 02 00     	ldy	#$2
  2442 06:0125: B7 04        	lda	[<L19+pr_0],Y
  2443 06:0127: A0 06 00     	ldy	#$6
  2444 06:012A: 97 08        	sta	[<L19+prectp_0],Y
  Mon Aug  9 2021 16:52                                                Page 52


  2445                        ;
  2446                        ;		prectp->bottomRight.x = pr->x + pr->widt
                    h;
  2447                        	.line	322
  2448 06:012C: 18           	clc
  2449 06:012D: A7 04        	lda	[<L19+pr_0]
  2450 06:012F: A0 08 00     	ldy	#$8
  2451 06:0132: 77 04        	adc	[<L19+pr_0],Y
  2452 06:0134: A0 08 00     	ldy	#$8
  2453 06:0137: 97 08        	sta	[<L19+prectp_0],Y
  2454                        ;		prectp->bottomRight.y = pr->y + pr->heig
                    ht;
  2455                        	.line	323
  2456 06:0139: 18           	clc
  2457 06:013A: A0 02 00     	ldy	#$2
  2458 06:013D: B7 04        	lda	[<L19+pr_0],Y
  2459 06:013F: A0 0A 00     	ldy	#$a
  2460 06:0142: 77 04        	adc	[<L19+pr_0],Y
  2461 06:0144: A0 0A 00     	ldy	#$a
  2462 06:0147: 97 08        	sta	[<L19+prectp_0],Y
  2463                        ;	}
  2464                        	.line	324
  2465                        ;}
  2466                        L10004:
  2467                        	.line	325
  2468                        L24:
  2469 06:0149: A5 02        	lda	<L19+2
  2470 06:014B: 85 0A        	sta	<L19+2+8
  2471 06:014D: A5 01        	lda	<L19+1
  2472 06:014F: 85 09        	sta	<L19+1+8
  2473 06:0151: 2B           	pld
  2474 06:0152: 3B           	tsc
  2475 06:0153: 18           	clc
  2476 06:0154: 69 08 00     	adc	#L19+8
  2477 06:0157: 1B           	tcs
  2478 06:0158: 6B           	rtl
  2479                        	.endblock	325
  2480             00000000   L19	equ	0
  2481             00000001   L20	equ	1
  2482 06:0159:              	ends
  2483                        	efunc
  2484                        	.endfunc	325,1,0
  2485                        	.line	325
  2486                        ;
  2487                        ;
  2488                        ;VOID k_gui_init_image_cache_slot()
  2489                        ;{
  2490                        	.line	328
  2491                        	.line	329
  2492                        	GFX
  2493                        	xdef	~~k_gui_init_image_cache_slot
  2494                        	func
  2495                        	.function	329
  2496                        ~~k_gui_init_image_cache_slot:
  2497                        	longa	on
  2498                        	longi	on
  2499 06:0159: 3B           	tsc
  2500 06:015A: 38           	sec
  Mon Aug  9 2021 16:52                                                Page 53


  2501 06:015B: E9 02 00     	sbc	#L25
  2502 06:015E: 1B           	tcs
  2503 06:015F: 0B           	phd
  2504 06:0160: 5B           	tcd
  2505                        	.block	329
  2506                        ;	int i = 0;
  2507                        ;
  2508                        ;	for(i=0;i<GUI_CACHE_SIZE;i++)
  2509             00000000   i_1	set	0
  2510                        	.sym	i,0,5,1,16
  2511 06:0161: 64 01        	stz	<L26+i_1
  2512                        	.line	332
  2513 06:0163: 64 01        	stz	<L26+i_1
  2514                        L10007:
  2515                        ;		_k_guiCacheSlots[i] = FALSE;
  2516                        	.line	333
  2517 06:0165: E2 20        	sep	#$20
  2518                        	longa	off
  2519 06:0167: A9 00        	lda	#$0
  2520 06:0169: A6 01        	ldx	<L26+i_1
  2521 06:016B: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  2522 06:016E: C2 20        	rep	#$20
  2523                        	longa	on
  2524                        L10005:
  2525 06:0170: E6 01        	inc	<L26+i_1
  2526 06:0172: 38           	sec
  2527 06:0173: A5 01        	lda	<L26+i_1
  2528 06:0175: E9 3C 00     	sbc	#<$3c
  2529 06:0178: 70 03        	bvs	L28
  2530 06:017A: 49 00 80     	eor	#$8000
  2531                        L28:
  2532 06:017D: 30 03        	bmi	L29
  2533 06:017F: 82 E3 FF     	brl	L10007
  2534                        L29:
  2535                        L10006:
  2536                        ;}
  2537                        	.line	334
  2538                        L30:
  2539 06:0182: 2B           	pld
  2540 06:0183: 3B           	tsc
  2541 06:0184: 18           	clc
  2542 06:0185: 69 02 00     	adc	#L25
  2543 06:0188: 1B           	tcs
  2544 06:0189: 6B           	rtl
  2545                        	.endblock	334
  2546             00000002   L25	equ	2
  2547             00000001   L26	equ	1
  2548 06:018A:              	ends
  2549                        	efunc
  2550                        	.endfunc	334,1,2
  2551                        	.line	334
  2552                        ;
  2553                        ;UINT k_gui_alloc_image_cache_slot()
  2554                        ;{
  2555                        	.line	336
  2556                        	.line	337
  2557                        	GFX
  2558                        	xdef	~~k_gui_alloc_image_cache_slot
  Mon Aug  9 2021 16:52                                                Page 54


  2559                        	func
  2560                        	.function	337
  2561                        ~~k_gui_alloc_image_cache_slot:
  2562                        	longa	on
  2563                        	longi	on
  2564 06:018A: 3B           	tsc
  2565 06:018B: 38           	sec
  2566 06:018C: E9 04 00     	sbc	#L31
  2567 06:018F: 1B           	tcs
  2568 06:0190: 0B           	phd
  2569 06:0191: 5B           	tcd
  2570                        	.block	337
  2571                        ;	UINT index = -1;
  2572                        ;	int i = 0;
  2573                        ;
  2574                        ;	for(i=GUI_CACHE_START;i<GUI_CACHE_SIZE;i++)
  2575             00000000   index_1	set	0
  2576             00000002   i_1	set	2
  2577                        	.sym	index,0,16,1,16
  2578                        	.sym	i,2,5,1,16
  2579 06:0192: A9 FF FF     	lda	#$ffff
  2580 06:0195: 85 01        	sta	<L32+index_1
  2581 06:0197: 64 03        	stz	<L32+i_1
  2582                        	.line	341
  2583 06:0199: A9 04 00     	lda	#$4
  2584 06:019C: 85 03        	sta	<L32+i_1
  2585                        L10010:
  2586                        ;	{
  2587                        	.line	342
  2588                        ;		if(!_k_guiCacheSlots[i])
  2589                        	.line	343
  2590                        ;		{
  2591 06:019E: A6 03        	ldx	<L32+i_1
  2592 06:01A0: BD xx xx     	lda	|~~_k_guiCacheSlots,X
  2593 06:01A3: 29 FF 00     	and	#$ff
  2594 06:01A6: F0 03        	beq	L34
  2595 06:01A8: 82 12 00     	brl	L10011
  2596                        L34:
  2597                        	.line	344
  2598                        ;			_k_guiCacheSlots[i] = TRUE;
  2599                        	.line	345
  2600 06:01AB: E2 20        	sep	#$20
  2601                        	longa	off
  2602 06:01AD: A9 01        	lda	#$1
  2603 06:01AF: A6 03        	ldx	<L32+i_1
  2604 06:01B1: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  2605 06:01B4: C2 20        	rep	#$20
  2606                        	longa	on
  2607                        ;			index = i;
  2608                        	.line	346
  2609 06:01B6: A5 03        	lda	<L32+i_1
  2610 06:01B8: 85 01        	sta	<L32+index_1
  2611                        ;			break;
  2612                        	.line	347
  2613 06:01BA: 82 12 00     	brl	L10009
  2614                        ;		}
  2615                        	.line	348
  2616                        ;	}
  Mon Aug  9 2021 16:52                                                Page 55


  2617                        L10011:
  2618                        	.line	349
  2619                        L10008:
  2620 06:01BD: E6 03        	inc	<L32+i_1
  2621 06:01BF: 38           	sec
  2622 06:01C0: A5 03        	lda	<L32+i_1
  2623 06:01C2: E9 3C 00     	sbc	#<$3c
  2624 06:01C5: 70 03        	bvs	L35
  2625 06:01C7: 49 00 80     	eor	#$8000
  2626                        L35:
  2627 06:01CA: 30 03        	bmi	L36
  2628 06:01CC: 82 CF FF     	brl	L10010
  2629                        L36:
  2630                        L10009:
  2631                        ;
  2632                        ;	//k_debug_integer("k_gui_alloc_image_cache_slot:
                    index:",index);
  2633                        ;
  2634                        ;	return index;
  2635                        	.line	353
  2636 06:01CF: A5 01        	lda	<L32+index_1
  2637                        L37:
  2638 06:01D1: A8           	tay
  2639 06:01D2: 2B           	pld
  2640 06:01D3: 3B           	tsc
  2641 06:01D4: 18           	clc
  2642 06:01D5: 69 04 00     	adc	#L31
  2643 06:01D8: 1B           	tcs
  2644 06:01D9: 98           	tya
  2645 06:01DA: 6B           	rtl
  2646                        ;}
  2647                        	.line	354
  2648                        	.endblock	354
  2649             00000004   L31	equ	4
  2650             00000001   L32	equ	1
  2651 06:01DB:              	ends
  2652                        	efunc
  2653                        	.endfunc	354,1,4
  2654                        	.line	354
  2655                        ;
  2656                        ;VOID k_gui_free_image_cache_slot(UINT slotIndex)
  2657                        ;{
  2658                        	.line	356
  2659                        	.line	357
  2660                        	GFX
  2661                        	xdef	~~k_gui_free_image_cache_slot
  2662                        	func
  2663                        	.function	357
  2664                        ~~k_gui_free_image_cache_slot:
  2665                        	longa	on
  2666                        	longi	on
  2667 06:01DB: 3B           	tsc
  2668 06:01DC: 38           	sec
  2669 06:01DD: E9 00 00     	sbc	#L38
  2670 06:01E0: 1B           	tcs
  2671 06:01E1: 0B           	phd
  2672 06:01E2: 5B           	tcd
  2673             00000004   slotIndex_0	set	4
  Mon Aug  9 2021 16:52                                                Page 56


  2674                        	.block	357
  2675                        ;	if(slotIndex >= GUI_CACHE_START)
  2676                        	.sym	slotIndex,4,16,6,16
  2677                        	.line	358
  2678                        ;		_k_guiCacheSlots[slotIndex] = FALSE;
  2679 06:01E3: A5 04        	lda	<L38+slotIndex_0
  2680 06:01E5: C9 04 00     	cmp	#<$4
  2681 06:01E8: B0 03        	bcs	L41
  2682 06:01EA: 82 0B 00     	brl	L10012
  2683                        L41:
  2684                        	.line	359
  2685 06:01ED: E2 20        	sep	#$20
  2686                        	longa	off
  2687 06:01EF: A9 00        	lda	#$0
  2688 06:01F1: A6 04        	ldx	<L38+slotIndex_0
  2689 06:01F3: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  2690 06:01F6: C2 20        	rep	#$20
  2691                        	longa	on
  2692                        ;}
  2693                        L10012:
  2694                        	.line	360
  2695                        L42:
  2696 06:01F8: A5 02        	lda	<L38+2
  2697 06:01FA: 85 04        	sta	<L38+2+2
  2698 06:01FC: A5 01        	lda	<L38+1
  2699 06:01FE: 85 03        	sta	<L38+1+2
  2700 06:0200: 2B           	pld
  2701 06:0201: 3B           	tsc
  2702 06:0202: 18           	clc
  2703 06:0203: 69 02 00     	adc	#L38+2
  2704 06:0206: 1B           	tcs
  2705 06:0207: 6B           	rtl
  2706                        	.endblock	360
  2707             00000000   L38	equ	0
  2708             00000001   L39	equ	1
  2709 06:0208:              	ends
  2710                        	efunc
  2711                        	.endfunc	360,1,0
  2712                        	.line	360
  2713                        ;
  2714                        ;
  2715                        ;UINT k_gui_set_image_cache(ULONG srcVMARelPage,PR
                    ECT prect)
  2716                        ;{
  2717                        	.line	363
  2718                        	.line	364
  2719                        	GFX
  2720                        	xdef	~~k_gui_set_image_cache
  2721                        	func
  2722                        	.function	364
  2723                        ~~k_gui_set_image_cache:
  2724                        	longa	on
  2725                        	longi	on
  2726 06:0208: 3B           	tsc
  2727 06:0209: 38           	sec
  2728 06:020A: E9 16 00     	sbc	#L43
  2729 06:020D: 1B           	tcs
  2730 06:020E: 0B           	phd
  Mon Aug  9 2021 16:52                                                Page 57


  2731 06:020F: 5B           	tcd
  2732             00000004   srcVMARelPage_0	set	4
  2733             00000008   prect_0	set	8
  2734                        	.block	364
  2735                        ;	UINT slot;
  2736                        ;
  2737                        ;	int cw = prect->width < GUI_CACHE_WIDTH  ? prect
                    ->width  : GUI_CACHE_WIDTH;
  2738                        ;	int ch = prect->height< GUI_CACHE_HEIGHT ? prect
                    ->height : GUI_CACHE_HEIGHT;
  2739                        ;
  2740                        ;	//k_debug_pointer("k_gui_set_image_cache:srcVMAR
                    elPage:",srcVMARelPage);
  2741                        ;
  2742                        ;	slot = k_gui_alloc_image_cache_slot();
  2743             00000000   slot_1	set	0
  2744             00000002   cw_1	set	2
  2745             00000004   ch_1	set	4
  2746                        	.sym	slot,0,16,1,16
  2747                        	.sym	cw,2,5,1,16
  2748                        	.sym	ch,4,5,1,16
  2749                        	.sym	srcVMARelPage,4,18,6,32
  2750                        	.sym	prect,8,138,6,32,26
  2751 06:0210: 38           	sec
  2752 06:0211: A0 08 00     	ldy	#$8
  2753 06:0214: B7 1E        	lda	[<L43+prect_0],Y
  2754 06:0216: E9 40 01     	sbc	#<$140
  2755 06:0219: 70 03        	bvs	L47
  2756 06:021B: 49 00 80     	eor	#$8000
  2757                        L47:
  2758 06:021E: 10 03        	bpl	L48
  2759 06:0220: 82 07 00     	brl	L46
  2760                        L48:
  2761 06:0223: A0 08 00     	ldy	#$8
  2762 06:0226: B7 1E        	lda	[<L43+prect_0],Y
  2763 06:0228: 80 03        	bra	L49
  2764                        L46:
  2765 06:022A: A9 40 01     	lda	#$140
  2766                        L49:
  2767 06:022D: 85 13        	sta	<L44+cw_1
  2768 06:022F: 38           	sec
  2769 06:0230: A0 0A 00     	ldy	#$a
  2770 06:0233: B7 1E        	lda	[<L43+prect_0],Y
  2771 06:0235: E9 10 00     	sbc	#<$10
  2772 06:0238: 70 03        	bvs	L51
  2773 06:023A: 49 00 80     	eor	#$8000
  2774                        L51:
  2775 06:023D: 10 03        	bpl	L52
  2776 06:023F: 82 07 00     	brl	L50
  2777                        L52:
  2778 06:0242: A0 0A 00     	ldy	#$a
  2779 06:0245: B7 1E        	lda	[<L43+prect_0],Y
  2780 06:0247: 80 03        	bra	L53
  2781                        L50:
  2782 06:0249: A9 10 00     	lda	#$10
  2783                        L53:
  2784 06:024C: 85 15        	sta	<L44+ch_1
  2785                        	.line	372
  Mon Aug  9 2021 16:52                                                Page 58


  2786 06:024E: 22 8A 01 06  	jsl	~~k_gui_alloc_image_cache_slot
  2787 06:0252: 85 11        	sta	<L44+slot_1
  2788                        ;	if(slot!=-1)
  2789                        	.line	373
  2790                        ;	{
  2791 06:0254: A5 11        	lda	<L44+slot_1
  2792 06:0256: C9 FF FF     	cmp	#<$ffffffff
  2793 06:0259: D0 03        	bne	L54
  2794 06:025B: 82 9B 00     	brl	L10013
  2795                        L54:
  2796                        	.line	374
  2797                        ;		k_vdma_copy_address_ex((LPSTR)(GUI_CACHE
                    _PAGE + GUI_CACHE_PAGE_OFFSET(slot)),
  2798                        	.line	375
  2799                        ;							
                       (LPSTR)(srcVMARelPage  + k_gui_get_pixel_offset(prect->x,
                    prect->y)),
  2800                        ;							
                       cw,ch);
  2801 06:025E: D4 15        	pei	<L44+ch_1
  2802 06:0260: D4 13        	pei	<L44+cw_1
  2803 06:0262: A0 02 00     	ldy	#$2
  2804 06:0265: B7 1E        	lda	[<L43+prect_0],Y
  2805 06:0267: 48           	pha
  2806 06:0268: A7 1E        	lda	[<L43+prect_0]
  2807 06:026A: 48           	pha
  2808 06:026B: 22 BA 07 06  	jsl	~~k_gui_get_pixel_offset
  2809 06:026F: 85 01        	sta	<R0
  2810 06:0271: 86 03        	stx	<R0+2
  2811 06:0273: 18           	clc
  2812 06:0274: A5 01        	lda	<R0
  2813 06:0276: 65 1A        	adc	<L43+srcVMARelPage_0
  2814 06:0278: 85 05        	sta	<R1
  2815 06:027A: A5 03        	lda	<R0+2
  2816 06:027C: 65 1C        	adc	<L43+srcVMARelPage_0+2
  2817 06:027E: 85 07        	sta	<R1+2
  2818 06:0280: D4 07        	pei	<R1+2
  2819 06:0282: D4 05        	pei	<R1
  2820 06:0284: A5 11        	lda	<L44+slot_1
  2821 06:0286: 29 01 00     	and	#<$1
  2822 06:0289: 85 01        	sta	<R0
  2823 06:028B: A5 01        	lda	<R0
  2824 06:028D: 85 01        	sta	<R0
  2825 06:028F: 64 03        	stz	<R0+2
  2826 06:0291: A5 11        	lda	<L44+slot_1
  2827 06:0293: 85 09        	sta	<R2
  2828 06:0295: 64 0B        	stz	<R2+2
  2829 06:0297: 38           	sec
  2830 06:0298: A5 09        	lda	<R2
  2831 06:029A: E5 01        	sbc	<R0
  2832 06:029C: 85 0D        	sta	<R3
  2833 06:029E: A5 0B        	lda	<R2+2
  2834 06:02A0: E5 03        	sbc	<R0+2
  2835 06:02A2: 85 0F        	sta	<R3+2
  2836 06:02A4: F4 00 00     	pea	#^$1400
  2837 06:02A7: F4 00 14     	pea	#<$1400
  2838 06:02AA: D4 0F        	pei	<R3+2
  2839 06:02AC: D4 0D        	pei	<R3
  Mon Aug  9 2021 16:52                                                Page 59


  2840                        	xref	~~~lmul
  2841 06:02AE: 22 xx xx xx  	jsl	~~~lmul
  2842 06:02B2: 85 01        	sta	<R0
  2843 06:02B4: 86 03        	stx	<R0+2
  2844 06:02B6: A5 11        	lda	<L44+slot_1
  2845 06:02B8: 29 01 00     	and	#<$1
  2846 06:02BB: 85 09        	sta	<R2
  2847 06:02BD: A5 09        	lda	<R2
  2848 06:02BF: 85 09        	sta	<R2
  2849 06:02C1: 64 0B        	stz	<R2+2
  2850 06:02C3: F4 00 00     	pea	#^$140
  2851 06:02C6: F4 40 01     	pea	#<$140
  2852 06:02C9: D4 0B        	pei	<R2+2
  2853 06:02CB: D4 09        	pei	<R2
  2854                        	xref	~~~lmul
  2855 06:02CD: 22 xx xx xx  	jsl	~~~lmul
  2856 06:02D1: 85 09        	sta	<R2
  2857 06:02D3: 86 0B        	stx	<R2+2
  2858 06:02D5: 18           	clc
  2859 06:02D6: A5 09        	lda	<R2
  2860 06:02D8: 65 01        	adc	<R0
  2861 06:02DA: 85 0D        	sta	<R3
  2862 06:02DC: A5 0B        	lda	<R2+2
  2863 06:02DE: 65 03        	adc	<R0+2
  2864 06:02E0: 85 0F        	sta	<R3+2
  2865 06:02E2: 18           	clc
  2866 06:02E3: A9 00 00     	lda	#$0
  2867 06:02E6: 65 0D        	adc	<R3
  2868 06:02E8: 85 01        	sta	<R0
  2869 06:02EA: A9 10 00     	lda	#$10
  2870 06:02ED: 65 0F        	adc	<R3+2
  2871 06:02EF: 85 03        	sta	<R0+2
  2872 06:02F1: D4 03        	pei	<R0+2
  2873 06:02F3: D4 01        	pei	<R0
  2874 06:02F5: 22 0B 85 06  	jsl	~~k_vdma_copy_address_ex
  2875                        ;	}
  2876                        	.line	378
  2877                        ;
  2878                        ;	k_debug_integer("k_gui_set_image_cache:slot:",sl
                    ot);
  2879                        L10013:
  2880                        	.line	380
  2881 06:02F9: D4 11        	pei	<L44+slot_1
  2882 06:02FB: F4 xx xx     	pea	#^L1
  2883 06:02FE: F4 xx xx     	pea	#<L1
  2884 06:0301: 22 xx xx xx  	jsl	~~k_debug_integer
  2885                        ;
  2886                        ;	return slot;
  2887                        	.line	382
  2888 06:0305: A5 11        	lda	<L44+slot_1
  2889                        L55:
  2890 06:0307: A8           	tay
  2891 06:0308: A5 18        	lda	<L43+2
  2892 06:030A: 85 20        	sta	<L43+2+8
  2893 06:030C: A5 17        	lda	<L43+1
  2894 06:030E: 85 1F        	sta	<L43+1+8
  2895 06:0310: 2B           	pld
  2896 06:0311: 3B           	tsc
  Mon Aug  9 2021 16:52                                                Page 60


  2897 06:0312: 18           	clc
  2898 06:0313: 69 1E 00     	adc	#L43+8
  2899 06:0316: 1B           	tcs
  2900 06:0317: 98           	tya
  2901 06:0318: 6B           	rtl
  2902                        ;}
  2903                        	.line	383
  2904                        	.endblock	383
  2905             00000016   L43	equ	22
  2906             00000011   L44	equ	17
  2907 06:0319:              	ends
  2908                        	efunc
  2909                        	.endfunc	383,17,22
  2910                        	.line	383
  2911                        	data
  2912                        L1:
  2913 00:0625: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$73,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0629: 69 5F 73 65 
       00:062D: 74 5F 69 6D 
       00:0631: 61 67 65 
  2914 00:0634: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$73,$6C,$6F,
                    $74,$3A,$00
       00:0638: 68 65 3A 73 
       00:063C: 6C 6F 74 3A 
       00:0640: 00 
  2915 00:0641:              	ends
  2916                        ;
  2917                        ;BOOL k_gui_get_image_cache(UINT slot,ULONG destVM
                    ARelPage,PRECT prect)
  2918                        ;{
  2919                        	.line	385
  2920                        	.line	386
  2921                        	GFX
  2922                        	xdef	~~k_gui_get_image_cache
  2923                        	func
  2924                        	.function	386
  2925                        ~~k_gui_get_image_cache:
  2926                        	longa	on
  2927                        	longi	on
  2928 06:0319: 3B           	tsc
  2929 06:031A: 38           	sec
  2930 06:031B: E9 1A 00     	sbc	#L57
  2931 06:031E: 1B           	tcs
  2932 06:031F: 0B           	phd
  2933 06:0320: 5B           	tcd
  2934             00000004   slot_0	set	4
  2935             00000006   destVMARelPage_0	set	6
  2936             0000000A   prect_0	set	10
  2937                        	.block	386
  2938                        ;	LPSTR pDst = NULL;
  2939                        ;	int cw;
  2940                        ;	int ch;
  2941                        ;	int clippingOffset = 0;
  2942                        ;
  2943                        ;	if(prect->x < GUI_POINT_LIMIT_X_LO)
  2944             00000000   pDst_1	set	0
  2945             00000004   cw_1	set	4
  Mon Aug  9 2021 16:52                                                Page 61


  2946             00000006   ch_1	set	6
  2947             00000008   clippingOffset_1	set	8
  2948                        	.sym	pDst,0,142,1,32
  2949                        	.sym	cw,4,5,1,16
  2950                        	.sym	ch,6,5,1,16
  2951                        	.sym	clippingOffset,8,5,1,16
  2952                        	.sym	slot,4,16,6,16
  2953                        	.sym	destVMARelPage,6,18,6,32
  2954                        	.sym	prect,10,138,6,32,26
  2955 06:0321: 64 11        	stz	<L58+pDst_1
  2956 06:0323: 64 13        	stz	<L58+pDst_1+2
  2957 06:0325: 64 19        	stz	<L58+clippingOffset_1
  2958                        	.line	392
  2959                        ;	{
  2960 06:0327: A7 24        	lda	[<L57+prect_0]
  2961 06:0329: 30 03        	bmi	L60
  2962 06:032B: 82 72 00     	brl	L10014
  2963                        L60:
  2964                        	.line	393
  2965                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:-x:",(int)prect->x);
  2966                        	.line	394
  2967 06:032E: A7 24        	lda	[<L57+prect_0]
  2968 06:0330: 48           	pha
  2969 06:0331: F4 xx xx     	pea	#^L56
  2970 06:0334: F4 xx xx     	pea	#<L56
  2971 06:0337: 22 xx xx xx  	jsl	~~k_debug_integer
  2972                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:-width:",(int)prect->width);
  2973                        	.line	395
  2974 06:033B: A0 08 00     	ldy	#$8
  2975 06:033E: B7 24        	lda	[<L57+prect_0],Y
  2976 06:0340: 48           	pha
  2977 06:0341: F4 xx xx     	pea	#^L56+34
  2978 06:0344: F4 xx xx     	pea	#<L56+34
  2979 06:0347: 22 xx xx xx  	jsl	~~k_debug_integer
  2980                        ;		prect->width = (prect->width + prect->x)
                    ;
  2981                        	.line	396
  2982 06:034B: 18           	clc
  2983 06:034C: A0 08 00     	ldy	#$8
  2984 06:034F: B7 24        	lda	[<L57+prect_0],Y
  2985 06:0351: 67 24        	adc	[<L57+prect_0]
  2986 06:0353: A0 08 00     	ldy	#$8
  2987 06:0356: 97 24        	sta	[<L57+prect_0],Y
  2988                        ;
  2989                        ;		if(prect->width < 0)
  2990                        	.line	398
  2991                        ;			return FALSE;
  2992 06:0358: A0 08 00     	ldy	#$8
  2993 06:035B: B7 24        	lda	[<L57+prect_0],Y
  2994 06:035D: 30 03        	bmi	L61
  2995 06:035F: 82 15 00     	brl	L10015
  2996                        L61:
  2997                        	.line	399
  2998 06:0362: A9 00 00     	lda	#$0
  2999                        L62:
  3000 06:0365: A8           	tay
  Mon Aug  9 2021 16:52                                                Page 62


  3001 06:0366: A5 1C        	lda	<L57+2
  3002 06:0368: 85 26        	sta	<L57+2+10
  3003 06:036A: A5 1B        	lda	<L57+1
  3004 06:036C: 85 25        	sta	<L57+1+10
  3005 06:036E: 2B           	pld
  3006 06:036F: 3B           	tsc
  3007 06:0370: 18           	clc
  3008 06:0371: 69 24 00     	adc	#L57+10
  3009 06:0374: 1B           	tcs
  3010 06:0375: 98           	tya
  3011 06:0376: 6B           	rtl
  3012                        ;
  3013                        ;		clippingOffset = (prect->x * (-1));
  3014                        L10015:
  3015                        	.line	401
  3016 06:0377: 38           	sec
  3017 06:0378: A9 00 00     	lda	#$0
  3018 06:037B: E7 24        	sbc	[<L57+prect_0]
  3019 06:037D: 85 19        	sta	<L58+clippingOffset_1
  3020                        ;
  3021                        ;		prect->x =  GUI_POINT_LIMIT_X_LO;
  3022                        	.line	403
  3023 06:037F: A9 00 00     	lda	#$0
  3024 06:0382: 87 24        	sta	[<L57+prect_0]
  3025                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:clippingOffset:",clippingOffset);
  3026                        	.line	404
  3027 06:0384: D4 19        	pei	<L58+clippingOffset_1
  3028 06:0386: F4 xx xx     	pea	#^L56+72
  3029 06:0389: F4 xx xx     	pea	#<L56+72
  3030 06:038C: 22 xx xx xx  	jsl	~~k_debug_integer
  3031                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:",(int)prect->width);
  3032                        	.line	405
  3033 06:0390: A0 08 00     	ldy	#$8
  3034 06:0393: B7 24        	lda	[<L57+prect_0],Y
  3035 06:0395: 48           	pha
  3036 06:0396: F4 xx xx     	pea	#^L56+118
  3037 06:0399: F4 xx xx     	pea	#<L56+118
  3038 06:039C: 22 xx xx xx  	jsl	~~k_debug_integer
  3039                        ;	}
  3040                        	.line	406
  3041                        ;
  3042                        ;	if(prect->y < GUI_POINT_LIMIT_Y_LO)
  3043                        L10014:
  3044                        	.line	408
  3045                        ;	{
  3046 06:03A0: A0 02 00     	ldy	#$2
  3047 06:03A3: B7 24        	lda	[<L57+prect_0],Y
  3048 06:03A5: 30 03        	bmi	L63
  3049 06:03A7: 82 18 00     	brl	L10016
  3050                        L63:
  3051                        	.line	409
  3052                        ;		prect->height = (prect->height + prect->
                    y);
  3053                        	.line	410
  3054 06:03AA: 18           	clc
  3055 06:03AB: A0 0A 00     	ldy	#$a
  Mon Aug  9 2021 16:52                                                Page 63


  3056 06:03AE: B7 24        	lda	[<L57+prect_0],Y
  3057 06:03B0: A0 02 00     	ldy	#$2
  3058 06:03B3: 77 24        	adc	[<L57+prect_0],Y
  3059 06:03B5: A0 0A 00     	ldy	#$a
  3060 06:03B8: 97 24        	sta	[<L57+prect_0],Y
  3061                        ;		prect->y = GUI_POINT_LIMIT_Y_LO;
  3062                        	.line	411
  3063 06:03BA: A9 00 00     	lda	#$0
  3064 06:03BD: A0 02 00     	ldy	#$2
  3065 06:03C0: 97 24        	sta	[<L57+prect_0],Y
  3066                        ;	}
  3067                        	.line	412
  3068                        ;
  3069                        ;	if(prect->x > GUI_POINT_LIMIT_X_HI)
  3070                        L10016:
  3071                        	.line	414
  3072                        ;		prect->x = GUI_POINT_LIMIT_X_HI - 1;
  3073 06:03C2: 38           	sec
  3074 06:03C3: A9 80 02     	lda	#$280
  3075 06:03C6: E7 24        	sbc	[<L57+prect_0]
  3076 06:03C8: 70 03        	bvs	L64
  3077 06:03CA: 49 00 80     	eor	#$8000
  3078                        L64:
  3079 06:03CD: 10 03        	bpl	L65
  3080 06:03CF: 82 05 00     	brl	L10017
  3081                        L65:
  3082                        	.line	415
  3083 06:03D2: A9 7F 02     	lda	#$27f
  3084 06:03D5: 87 24        	sta	[<L57+prect_0]
  3085                        ;
  3086                        ;	if(prect->y > GUI_POINT_LIMIT_Y_HI)
  3087                        L10017:
  3088                        	.line	417
  3089                        ;		prect->y = GUI_POINT_LIMIT_Y_HI - 1;
  3090 06:03D7: 38           	sec
  3091 06:03D8: A9 E0 01     	lda	#$1e0
  3092 06:03DB: A0 02 00     	ldy	#$2
  3093 06:03DE: F7 24        	sbc	[<L57+prect_0],Y
  3094 06:03E0: 70 03        	bvs	L66
  3095 06:03E2: 49 00 80     	eor	#$8000
  3096                        L66:
  3097 06:03E5: 10 03        	bpl	L67
  3098 06:03E7: 82 08 00     	brl	L10018
  3099                        L67:
  3100                        	.line	418
  3101 06:03EA: A9 DF 01     	lda	#$1df
  3102 06:03ED: A0 02 00     	ldy	#$2
  3103 06:03F0: 97 24        	sta	[<L57+prect_0],Y
  3104                        ;
  3105                        ;	if(prect->x + prect->width > GUI_POINT_LIMIT_X_H
                    I)
  3106                        L10018:
  3107                        	.line	420
  3108                        ;	{
  3109 06:03F2: 18           	clc
  3110 06:03F3: A7 24        	lda	[<L57+prect_0]
  3111 06:03F5: A0 08 00     	ldy	#$8
  3112 06:03F8: 77 24        	adc	[<L57+prect_0],Y
  Mon Aug  9 2021 16:52                                                Page 64


  3113 06:03FA: 85 01        	sta	<R0
  3114 06:03FC: 38           	sec
  3115 06:03FD: A9 80 02     	lda	#$280
  3116 06:0400: E5 01        	sbc	<R0
  3117 06:0402: 70 03        	bvs	L68
  3118 06:0404: 49 00 80     	eor	#$8000
  3119                        L68:
  3120 06:0407: 10 03        	bpl	L69
  3121 06:0409: 82 38 00     	brl	L10019
  3122                        L69:
  3123                        	.line	421
  3124                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:x:",prect->x);
  3125                        	.line	422
  3126 06:040C: A7 24        	lda	[<L57+prect_0]
  3127 06:040E: 48           	pha
  3128 06:040F: F4 xx xx     	pea	#^L56+155
  3129 06:0412: F4 xx xx     	pea	#<L56+155
  3130 06:0415: 22 xx xx xx  	jsl	~~k_debug_integer
  3131                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:",prect->width);
  3132                        	.line	423
  3133 06:0419: A0 08 00     	ldy	#$8
  3134 06:041C: B7 24        	lda	[<L57+prect_0],Y
  3135 06:041E: 48           	pha
  3136 06:041F: F4 xx xx     	pea	#^L56+188
  3137 06:0422: F4 xx xx     	pea	#<L56+188
  3138 06:0425: 22 xx xx xx  	jsl	~~k_debug_integer
  3139                        ;
  3140                        ;		prect->width = GUI_POINT_LIMIT_X_HI - pr
                    ect->x;
  3141                        	.line	425
  3142 06:0429: 38           	sec
  3143 06:042A: A9 80 02     	lda	#$280
  3144 06:042D: E7 24        	sbc	[<L57+prect_0]
  3145 06:042F: A0 08 00     	ldy	#$8
  3146 06:0432: 97 24        	sta	[<L57+prect_0],Y
  3147                        ;
  3148                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:adjusted:",prect->width);
  3149                        	.line	427
  3150 06:0434: A0 08 00     	ldy	#$8
  3151 06:0437: B7 24        	lda	[<L57+prect_0],Y
  3152 06:0439: 48           	pha
  3153 06:043A: F4 xx xx     	pea	#^L56+225
  3154 06:043D: F4 xx xx     	pea	#<L56+225
  3155 06:0440: 22 xx xx xx  	jsl	~~k_debug_integer
  3156                        ;	}
  3157                        	.line	428
  3158                        ;
  3159                        ;	if(prect->y + prect->height > GUI_POINT_LIMIT_Y_
                    HI)
  3160                        L10019:
  3161                        	.line	430
  3162                        ;	{
  3163 06:0444: 18           	clc
  3164 06:0445: A0 02 00     	ldy	#$2
  3165 06:0448: B7 24        	lda	[<L57+prect_0],Y
  Mon Aug  9 2021 16:52                                                Page 65


  3166 06:044A: A0 0A 00     	ldy	#$a
  3167 06:044D: 77 24        	adc	[<L57+prect_0],Y
  3168 06:044F: 85 01        	sta	<R0
  3169 06:0451: 38           	sec
  3170 06:0452: A9 E0 01     	lda	#$1e0
  3171 06:0455: E5 01        	sbc	<R0
  3172 06:0457: 70 03        	bvs	L70
  3173 06:0459: 49 00 80     	eor	#$8000
  3174                        L70:
  3175 06:045C: 10 03        	bpl	L71
  3176 06:045E: 82 3E 00     	brl	L10020
  3177                        L71:
  3178                        	.line	431
  3179                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:y:",prect->y);
  3180                        	.line	432
  3181 06:0461: A0 02 00     	ldy	#$2
  3182 06:0464: B7 24        	lda	[<L57+prect_0],Y
  3183 06:0466: 48           	pha
  3184 06:0467: F4 xx xx     	pea	#^L56+271
  3185 06:046A: F4 xx xx     	pea	#<L56+271
  3186 06:046D: 22 xx xx xx  	jsl	~~k_debug_integer
  3187                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:height:",prect->height);
  3188                        	.line	433
  3189 06:0471: A0 0A 00     	ldy	#$a
  3190 06:0474: B7 24        	lda	[<L57+prect_0],Y
  3191 06:0476: 48           	pha
  3192 06:0477: F4 xx xx     	pea	#^L56+304
  3193 06:047A: F4 xx xx     	pea	#<L56+304
  3194 06:047D: 22 xx xx xx  	jsl	~~k_debug_integer
  3195                        ;
  3196                        ;		prect->height = GUI_POINT_LIMIT_Y_HI - p
                    rect->y;
  3197                        	.line	435
  3198 06:0481: 38           	sec
  3199 06:0482: A9 E0 01     	lda	#$1e0
  3200 06:0485: A0 02 00     	ldy	#$2
  3201 06:0488: F7 24        	sbc	[<L57+prect_0],Y
  3202 06:048A: A0 0A 00     	ldy	#$a
  3203 06:048D: 97 24        	sta	[<L57+prect_0],Y
  3204                        ;
  3205                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:height:adjusted:",prect->height);
  3206                        	.line	437
  3207 06:048F: A0 0A 00     	ldy	#$a
  3208 06:0492: B7 24        	lda	[<L57+prect_0],Y
  3209 06:0494: 48           	pha
  3210 06:0495: F4 xx xx     	pea	#^L56+342
  3211 06:0498: F4 xx xx     	pea	#<L56+342
  3212 06:049B: 22 xx xx xx  	jsl	~~k_debug_integer
  3213                        ;	}
  3214                        	.line	438
  3215                        ;
  3216                        ;
  3217                        ;	cw = (prect->width < GUI_CACHE_WIDTH ) ? prect->
                    width  : GUI_CACHE_WIDTH;
  3218                        L10020:
  Mon Aug  9 2021 16:52                                                Page 66


  3219                        	.line	441
  3220 06:049F: 38           	sec
  3221 06:04A0: A0 08 00     	ldy	#$8
  3222 06:04A3: B7 24        	lda	[<L57+prect_0],Y
  3223 06:04A5: E9 40 01     	sbc	#<$140
  3224 06:04A8: 70 03        	bvs	L73
  3225 06:04AA: 49 00 80     	eor	#$8000
  3226                        L73:
  3227 06:04AD: 10 03        	bpl	L74
  3228 06:04AF: 82 07 00     	brl	L72
  3229                        L74:
  3230 06:04B2: A0 08 00     	ldy	#$8
  3231 06:04B5: B7 24        	lda	[<L57+prect_0],Y
  3232 06:04B7: 80 03        	bra	L75
  3233                        L72:
  3234 06:04B9: A9 40 01     	lda	#$140
  3235                        L75:
  3236 06:04BC: 85 15        	sta	<L58+cw_1
  3237                        ;	ch = (prect->height< GUI_CACHE_HEIGHT) ? prect->
                    height : GUI_CACHE_HEIGHT;
  3238                        	.line	442
  3239 06:04BE: 38           	sec
  3240 06:04BF: A0 0A 00     	ldy	#$a
  3241 06:04C2: B7 24        	lda	[<L57+prect_0],Y
  3242 06:04C4: E9 10 00     	sbc	#<$10
  3243 06:04C7: 70 03        	bvs	L77
  3244 06:04C9: 49 00 80     	eor	#$8000
  3245                        L77:
  3246 06:04CC: 10 03        	bpl	L78
  3247 06:04CE: 82 07 00     	brl	L76
  3248                        L78:
  3249 06:04D1: A0 0A 00     	ldy	#$a
  3250 06:04D4: B7 24        	lda	[<L57+prect_0],Y
  3251 06:04D6: 80 03        	bra	L79
  3252                        L76:
  3253 06:04D8: A9 10 00     	lda	#$10
  3254                        L79:
  3255 06:04DB: 85 17        	sta	<L58+ch_1
  3256                        ;
  3257                        ;
  3258                        ;	if(slot < GUI_CACHE_SIZE)
  3259                        	.line	445
  3260                        ;	{
  3261 06:04DD: A5 1E        	lda	<L57+slot_0
  3262 06:04DF: C9 3C 00     	cmp	#<$3c
  3263 06:04E2: 90 03        	bcc	L80
  3264 06:04E4: 82 CD 00     	brl	L10021
  3265                        L80:
  3266                        	.line	446
  3267                        ;		if(slot < GUI_CACHE_START)
  3268                        	.line	447
  3269                        ;		{
  3270 06:04E7: A5 1E        	lda	<L57+slot_0
  3271 06:04E9: C9 04 00     	cmp	#<$4
  3272 06:04EC: 90 03        	bcc	L81
  3273 06:04EE: 82 07 00     	brl	L10022
  3274                        L81:
  3275                        	.line	448
  Mon Aug  9 2021 16:52                                                Page 67


  3276                        ;			cw = prect->width;
  3277                        	.line	449
  3278 06:04F1: A0 08 00     	ldy	#$8
  3279 06:04F4: B7 24        	lda	[<L57+prect_0],Y
  3280 06:04F6: 85 15        	sta	<L58+cw_1
  3281                        ;		}
  3282                        	.line	450
  3283                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::slot:",slot);
  3284                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::cw:",cw);
  3285                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::ch:",ch);
  3286                        ;
  3287                        ;		pDst = (LPSTR)(destVMARelPage + k_gui_ge
                    t_pixel_offset(prect->x,prect->y));
  3288                        L10022:
  3289                        	.line	455
  3290 06:04F8: A0 02 00     	ldy	#$2
  3291 06:04FB: B7 24        	lda	[<L57+prect_0],Y
  3292 06:04FD: 48           	pha
  3293 06:04FE: A7 24        	lda	[<L57+prect_0]
  3294 06:0500: 48           	pha
  3295 06:0501: 22 BA 07 06  	jsl	~~k_gui_get_pixel_offset
  3296 06:0505: 85 01        	sta	<R0
  3297 06:0507: 86 03        	stx	<R0+2
  3298 06:0509: 18           	clc
  3299 06:050A: A5 01        	lda	<R0
  3300 06:050C: 65 20        	adc	<L57+destVMARelPage_0
  3301 06:050E: 85 05        	sta	<R1
  3302 06:0510: A5 03        	lda	<R0+2
  3303 06:0512: 65 22        	adc	<L57+destVMARelPage_0+2
  3304 06:0514: 85 07        	sta	<R1+2
  3305 06:0516: A5 05        	lda	<R1
  3306 06:0518: 85 11        	sta	<L58+pDst_1
  3307 06:051A: A5 07        	lda	<R1+2
  3308 06:051C: 85 13        	sta	<L58+pDst_1+2
  3309                        ;
  3310                        ;		//k_debug_pointer("k_gui_get_image_cache
                    ::pDst:",pDst);
  3311                        ;
  3312                        ;		k_vdma_copy_address_ex(pDst,
  3313                        	.line	459
  3314                        ;							
                       (LPSTR)(GUI_CACHE_PAGE + (GUI_CACHE_PAGE_OFFSET(slot) + c
                    lippingOffset)),
  3315                        ;							
                       cw,ch);
  3316 06:051E: D4 17        	pei	<L58+ch_1
  3317 06:0520: D4 15        	pei	<L58+cw_1
  3318 06:0522: A0 00 00     	ldy	#$0
  3319 06:0525: A5 19        	lda	<L58+clippingOffset_1
  3320 06:0527: 10 01        	bpl	L82
  3321 06:0529: 88           	dey
  3322                        L82:
  3323 06:052A: 85 01        	sta	<R0
  3324 06:052C: 84 03        	sty	<R0+2
  3325 06:052E: A5 1E        	lda	<L57+slot_0
  Mon Aug  9 2021 16:52                                                Page 68


  3326 06:0530: 29 01 00     	and	#<$1
  3327 06:0533: 85 05        	sta	<R1
  3328 06:0535: A5 05        	lda	<R1
  3329 06:0537: 85 05        	sta	<R1
  3330 06:0539: 64 07        	stz	<R1+2
  3331 06:053B: A5 1E        	lda	<L57+slot_0
  3332 06:053D: 85 09        	sta	<R2
  3333 06:053F: 64 0B        	stz	<R2+2
  3334 06:0541: 38           	sec
  3335 06:0542: A5 09        	lda	<R2
  3336 06:0544: E5 05        	sbc	<R1
  3337 06:0546: 85 0D        	sta	<R3
  3338 06:0548: A5 0B        	lda	<R2+2
  3339 06:054A: E5 07        	sbc	<R1+2
  3340 06:054C: 85 0F        	sta	<R3+2
  3341 06:054E: F4 00 00     	pea	#^$1400
  3342 06:0551: F4 00 14     	pea	#<$1400
  3343 06:0554: D4 0F        	pei	<R3+2
  3344 06:0556: D4 0D        	pei	<R3
  3345                        	xref	~~~lmul
  3346 06:0558: 22 xx xx xx  	jsl	~~~lmul
  3347 06:055C: 85 05        	sta	<R1
  3348 06:055E: 86 07        	stx	<R1+2
  3349 06:0560: A5 1E        	lda	<L57+slot_0
  3350 06:0562: 29 01 00     	and	#<$1
  3351 06:0565: 85 09        	sta	<R2
  3352 06:0567: A5 09        	lda	<R2
  3353 06:0569: 85 09        	sta	<R2
  3354 06:056B: 64 0B        	stz	<R2+2
  3355 06:056D: F4 00 00     	pea	#^$140
  3356 06:0570: F4 40 01     	pea	#<$140
  3357 06:0573: D4 0B        	pei	<R2+2
  3358 06:0575: D4 09        	pei	<R2
  3359                        	xref	~~~lmul
  3360 06:0577: 22 xx xx xx  	jsl	~~~lmul
  3361 06:057B: 85 09        	sta	<R2
  3362 06:057D: 86 0B        	stx	<R2+2
  3363 06:057F: 18           	clc
  3364 06:0580: A5 09        	lda	<R2
  3365 06:0582: 65 05        	adc	<R1
  3366 06:0584: 85 0D        	sta	<R3
  3367 06:0586: A5 0B        	lda	<R2+2
  3368 06:0588: 65 07        	adc	<R1+2
  3369 06:058A: 85 0F        	sta	<R3+2
  3370 06:058C: 18           	clc
  3371 06:058D: A5 0D        	lda	<R3
  3372 06:058F: 65 01        	adc	<R0
  3373 06:0591: 85 05        	sta	<R1
  3374 06:0593: A5 0F        	lda	<R3+2
  3375 06:0595: 65 03        	adc	<R0+2
  3376 06:0597: 85 07        	sta	<R1+2
  3377 06:0599: 18           	clc
  3378 06:059A: A9 00 00     	lda	#$0
  3379 06:059D: 65 05        	adc	<R1
  3380 06:059F: 85 01        	sta	<R0
  3381 06:05A1: A9 10 00     	lda	#$10
  3382 06:05A4: 65 07        	adc	<R1+2
  3383 06:05A6: 85 03        	sta	<R0+2
  Mon Aug  9 2021 16:52                                                Page 69


  3384 06:05A8: D4 03        	pei	<R0+2
  3385 06:05AA: D4 01        	pei	<R0
  3386 06:05AC: D4 13        	pei	<L58+pDst_1+2
  3387 06:05AE: D4 11        	pei	<L58+pDst_1
  3388 06:05B0: 22 0B 85 06  	jsl	~~k_vdma_copy_address_ex
  3389                        ;	}
  3390                        	.line	462
  3391                        ;
  3392                        ;	return TRUE;
  3393                        L10021:
  3394                        	.line	464
  3395 06:05B4: A9 01 00     	lda	#$1
  3396 06:05B7: 82 AB FD     	brl	L62
  3397                        ;}
  3398                        	.line	465
  3399                        	.endblock	465
  3400             0000001A   L57	equ	26
  3401             00000011   L58	equ	17
  3402 06:05BA:              	ends
  3403                        	efunc
  3404                        	.endfunc	465,17,26
  3405                        	.line	465
  3406                        	data
  3407                        L56:
  3408 00:0641: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0645: 69 5F 67 65 
       00:0649: 74 5F 69 6D 
       00:064D: 61 67 65 
  3409 00:0650: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$3A,$78,$2D,
                    $6F,$76,$65,$72,$3A
       00:0654: 68 65 3A 3A 
       00:0658: 78 2D 6F 76 
       00:065C: 65 72 3A 
  3410 00:065F: 2D 78 3A 00  	db	$2D,$78,$3A,$00,$6B,$5F,$67,$75,$69,$5F,
                    $67,$65,$74,$5F,$69
       00:0663: 6B 5F 67 75 
       00:0667: 69 5F 67 65 
       00:066B: 74 5F 69 
  3411 00:066E: 6D 61 67 65  	db	$6D,$61,$67,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$3A,$78,$2D,$6F
       00:0672: 5F 63 61 63 
       00:0676: 68 65 3A 3A 
       00:067A: 78 2D 6F 
  3412 00:067D: 76 65 72 3A  	db	$76,$65,$72,$3A,$2D,$77,$69,$64,$74,$68,
                    $3A,$00,$6B,$5F,$67
       00:0681: 2D 77 69 64 
       00:0685: 74 68 3A 00 
       00:0689: 6B 5F 67 
  3413 00:068C: 75 69 5F 67  	db	$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,$61,
                    $67,$65,$5F,$63,$61
       00:0690: 65 74 5F 69 
       00:0694: 6D 61 67 65 
       00:0698: 5F 63 61 
  3414 00:069B: 63 68 65 3A  	db	$63,$68,$65,$3A,$3A,$78,$2D,$6F,$76,$65,
                    $72,$3A,$63,$6C,$69
       00:069F: 3A 78 2D 6F 
       00:06A3: 76 65 72 3A 
  Mon Aug  9 2021 16:52                                                Page 70


       00:06A7: 63 6C 69 
  3415 00:06AA: 70 70 69 6E  	db	$70,$70,$69,$6E,$67,$4F,$66,$66,$73,$65,
                    $74,$3A,$00,$6B,$5F
       00:06AE: 67 4F 66 66 
       00:06B2: 73 65 74 3A 
       00:06B6: 00 6B 5F 
  3416 00:06B9: 67 75 69 5F  	db	$67,$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,
                    $61,$67,$65,$5F,$63
       00:06BD: 67 65 74 5F 
       00:06C1: 69 6D 61 67 
       00:06C5: 65 5F 63 
  3417 00:06C8: 61 63 68 65  	db	$61,$63,$68,$65,$3A,$3A,$78,$2D,$6F,$76,
                    $65,$72,$3A,$77,$69
       00:06CC: 3A 3A 78 2D 
       00:06D0: 6F 76 65 72 
       00:06D4: 3A 77 69 
  3418 00:06D7: 64 74 68 3A  	db	$64,$74,$68,$3A,$00,$6B,$5F,$67,$75,$69,
                    $5F,$67,$65,$74,$5F
       00:06DB: 00 6B 5F 67 
       00:06DF: 75 69 5F 67 
       00:06E3: 65 74 5F 
  3419 00:06E6: 69 6D 61 67  	db	$69,$6D,$61,$67,$65,$5F,$63,$61,$63,$68,
                    $65,$3A,$3A,$78,$2D
       00:06EA: 65 5F 63 61 
       00:06EE: 63 68 65 3A 
       00:06F2: 3A 78 2D 
  3420 00:06F5: 6F 76 65 72  	db	$6F,$76,$65,$72,$3A,$78,$3A,$00,$6B,$5F,
                    $67,$75,$69,$5F,$67
       00:06F9: 3A 78 3A 00 
       00:06FD: 6B 5F 67 75 
       00:0701: 69 5F 67 
  3421 00:0704: 65 74 5F 69  	db	$65,$74,$5F,$69,$6D,$61,$67,$65,$5F,$63,
                    $61,$63,$68,$65,$3A
       00:0708: 6D 61 67 65 
       00:070C: 5F 63 61 63 
       00:0710: 68 65 3A 
  3422 00:0713: 3A 78 2D 6F  	db	$3A,$78,$2D,$6F,$76,$65,$72,$3A,$77,$69,
                    $64,$74,$68,$3A,$00
       00:0717: 76 65 72 3A 
       00:071B: 77 69 64 74 
       00:071F: 68 3A 00 
  3423 00:0722: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0726: 69 5F 67 65 
       00:072A: 74 5F 69 6D 
       00:072E: 61 67 65 
  3424 00:0731: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$3A,$78,$2D,
                    $6F,$76,$65,$72,$3A
       00:0735: 68 65 3A 3A 
       00:0739: 78 2D 6F 76 
       00:073D: 65 72 3A 
  3425 00:0740: 77 69 64 74  	db	$77,$69,$64,$74,$68,$3A,$61,$64,$6A,$75,
                    $73,$74,$65,$64,$3A
       00:0744: 68 3A 61 64 
       00:0748: 6A 75 73 74 
       00:074C: 65 64 3A 
  3426 00:074F: 00 6B 5F 67  	db	$00,$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,
                    $5F,$69,$6D,$61,$67
  Mon Aug  9 2021 16:52                                                Page 71


       00:0753: 75 69 5F 67 
       00:0757: 65 74 5F 69 
       00:075B: 6D 61 67 
  3427 00:075E: 65 5F 63 61  	db	$65,$5F,$63,$61,$63,$68,$65,$3A,$3A,$79,
                    $2D,$6F,$76,$65,$72
       00:0762: 63 68 65 3A 
       00:0766: 3A 79 2D 6F 
       00:076A: 76 65 72 
  3428 00:076D: 3A 79 3A 00  	db	$3A,$79,$3A,$00,$6B,$5F,$67,$75,$69,$5F,
                    $67,$65,$74,$5F,$69
       00:0771: 6B 5F 67 75 
       00:0775: 69 5F 67 65 
       00:0779: 74 5F 69 
  3429 00:077C: 6D 61 67 65  	db	$6D,$61,$67,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$3A,$79,$2D,$6F
       00:0780: 5F 63 61 63 
       00:0784: 68 65 3A 3A 
       00:0788: 79 2D 6F 
  3430 00:078B: 76 65 72 3A  	db	$76,$65,$72,$3A,$68,$65,$69,$67,$68,$74,
                    $3A,$00,$6B,$5F,$67
       00:078F: 68 65 69 67 
       00:0793: 68 74 3A 00 
       00:0797: 6B 5F 67 
  3431 00:079A: 75 69 5F 67  	db	$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,$61,
                    $67,$65,$5F,$63,$61
       00:079E: 65 74 5F 69 
       00:07A2: 6D 61 67 65 
       00:07A6: 5F 63 61 
  3432 00:07A9: 63 68 65 3A  	db	$63,$68,$65,$3A,$3A,$79,$2D,$6F,$76,$65,
                    $72,$3A,$68,$65,$69
       00:07AD: 3A 79 2D 6F 
       00:07B1: 76 65 72 3A 
       00:07B5: 68 65 69 
  3433 00:07B8: 67 68 74 3A  	db	$67,$68,$74,$3A,$61,$64,$6A,$75,$73,$74,
                    $65,$64,$3A,$00
       00:07BC: 61 64 6A 75 
       00:07C0: 73 74 65 64 
       00:07C4: 3A 00 
  3434 00:07C6:              	ends
  3435                        ;
  3436                        ;void k_copy_rect(PRECT psrc,PRECT pdst)
  3437                        ;{
  3438                        	.line	467
  3439                        	.line	468
  3440                        	GFX
  3441                        	xdef	~~k_copy_rect
  3442                        	func
  3443                        	.function	468
  3444                        ~~k_copy_rect:
  3445                        	longa	on
  3446                        	longi	on
  3447 06:05BA: 3B           	tsc
  3448 06:05BB: 38           	sec
  3449 06:05BC: E9 00 00     	sbc	#L84
  3450 06:05BF: 1B           	tcs
  3451 06:05C0: 0B           	phd
  3452 06:05C1: 5B           	tcd
  3453             00000004   psrc_0	set	4
  Mon Aug  9 2021 16:52                                                Page 72


  3454             00000008   pdst_0	set	8
  3455                        	.block	468
  3456                        ;	if(psrc && pdst)
  3457                        	.sym	psrc,4,138,6,32,26
  3458                        	.sym	pdst,8,138,6,32,26
  3459                        	.line	469
  3460                        ;	{
  3461 06:05C2: A5 04        	lda	<L84+psrc_0
  3462 06:05C4: 05 06        	ora	<L84+psrc_0+2
  3463 06:05C6: D0 03        	bne	L87
  3464 06:05C8: 82 2B 00     	brl	L10023
  3465                        L87:
  3466 06:05CB: A5 08        	lda	<L84+pdst_0
  3467 06:05CD: 05 0A        	ora	<L84+pdst_0+2
  3468 06:05CF: D0 03        	bne	L88
  3469 06:05D1: 82 22 00     	brl	L10023
  3470                        L88:
  3471                        	.line	470
  3472                        ;		pdst->x  	  = psrc->x;
  3473                        	.line	471
  3474 06:05D4: A7 04        	lda	[<L84+psrc_0]
  3475 06:05D6: 87 08        	sta	[<L84+pdst_0]
  3476                        ;		pdst->y 	  = psrc->y;
  3477                        	.line	472
  3478 06:05D8: A0 02 00     	ldy	#$2
  3479 06:05DB: B7 04        	lda	[<L84+psrc_0],Y
  3480 06:05DD: A0 02 00     	ldy	#$2
  3481 06:05E0: 97 08        	sta	[<L84+pdst_0],Y
  3482                        ;		pdst->width  =	psrc->width;
  3483                        	.line	473
  3484 06:05E2: A0 08 00     	ldy	#$8
  3485 06:05E5: B7 04        	lda	[<L84+psrc_0],Y
  3486 06:05E7: A0 08 00     	ldy	#$8
  3487 06:05EA: 97 08        	sta	[<L84+pdst_0],Y
  3488                        ;		pdst->height =	psrc->height;
  3489                        	.line	474
  3490 06:05EC: A0 0A 00     	ldy	#$a
  3491 06:05EF: B7 04        	lda	[<L84+psrc_0],Y
  3492 06:05F1: A0 0A 00     	ldy	#$a
  3493 06:05F4: 97 08        	sta	[<L84+pdst_0],Y
  3494                        ;	}
  3495                        	.line	475
  3496                        ;}
  3497                        L10023:
  3498                        	.line	476
  3499                        L89:
  3500 06:05F6: A5 02        	lda	<L84+2
  3501 06:05F8: 85 0A        	sta	<L84+2+8
  3502 06:05FA: A5 01        	lda	<L84+1
  3503 06:05FC: 85 09        	sta	<L84+1+8
  3504 06:05FE: 2B           	pld
  3505 06:05FF: 3B           	tsc
  3506 06:0600: 18           	clc
  3507 06:0601: 69 08 00     	adc	#L84+8
  3508 06:0604: 1B           	tcs
  3509 06:0605: 6B           	rtl
  3510                        	.endblock	476
  3511             00000000   L84	equ	0
  Mon Aug  9 2021 16:52                                                Page 73


  3512             00000001   L85	equ	1
  3513 06:0606:              	ends
  3514                        	efunc
  3515                        	.endfunc	476,1,0
  3516                        	.line	476
  3517                        ;
  3518                        ;void k_set_rect(PRECT prect,int x,int y, int widt
                    h,int height)
  3519                        ;{
  3520                        	.line	478
  3521                        	.line	479
  3522                        	GFX
  3523                        	xdef	~~k_set_rect
  3524                        	func
  3525                        	.function	479
  3526                        ~~k_set_rect:
  3527                        	longa	on
  3528                        	longi	on
  3529 06:0606: 3B           	tsc
  3530 06:0607: 38           	sec
  3531 06:0608: E9 00 00     	sbc	#L90
  3532 06:060B: 1B           	tcs
  3533 06:060C: 0B           	phd
  3534 06:060D: 5B           	tcd
  3535             00000004   prect_0	set	4
  3536             00000008   x_0	set	8
  3537             0000000A   y_0	set	10
  3538             0000000C   width_0	set	12
  3539             0000000E   height_0	set	14
  3540                        	.block	479
  3541                        ;	if(prect)
  3542                        	.sym	prect,4,138,6,32,26
  3543                        	.sym	x,8,5,6,16
  3544                        	.sym	y,10,5,6,16
  3545                        	.sym	width,12,5,6,16
  3546                        	.sym	height,14,5,6,16
  3547                        	.line	480
  3548                        ;	{
  3549 06:060E: A5 04        	lda	<L90+prect_0
  3550 06:0610: 05 06        	ora	<L90+prect_0+2
  3551 06:0612: D0 03        	bne	L93
  3552 06:0614: 82 19 00     	brl	L10024
  3553                        L93:
  3554                        	.line	481
  3555                        ;		prect->x = x;
  3556                        	.line	482
  3557 06:0617: A5 08        	lda	<L90+x_0
  3558 06:0619: 87 04        	sta	[<L90+prect_0]
  3559                        ;		prect->y = y;
  3560                        	.line	483
  3561 06:061B: A5 0A        	lda	<L90+y_0
  3562 06:061D: A0 02 00     	ldy	#$2
  3563 06:0620: 97 04        	sta	[<L90+prect_0],Y
  3564                        ;		prect->width = width;
  3565                        	.line	484
  3566 06:0622: A5 0C        	lda	<L90+width_0
  3567 06:0624: A0 08 00     	ldy	#$8
  3568 06:0627: 97 04        	sta	[<L90+prect_0],Y
  Mon Aug  9 2021 16:52                                                Page 74


  3569                        ;		prect->height = height;
  3570                        	.line	485
  3571 06:0629: A5 0E        	lda	<L90+height_0
  3572 06:062B: A0 0A 00     	ldy	#$a
  3573 06:062E: 97 04        	sta	[<L90+prect_0],Y
  3574                        ;	}
  3575                        	.line	486
  3576                        ;}
  3577                        L10024:
  3578                        	.line	487
  3579                        L94:
  3580 06:0630: A5 02        	lda	<L90+2
  3581 06:0632: 85 0E        	sta	<L90+2+12
  3582 06:0634: A5 01        	lda	<L90+1
  3583 06:0636: 85 0D        	sta	<L90+1+12
  3584 06:0638: 2B           	pld
  3585 06:0639: 3B           	tsc
  3586 06:063A: 18           	clc
  3587 06:063B: 69 0C 00     	adc	#L90+12
  3588 06:063E: 1B           	tcs
  3589 06:063F: 6B           	rtl
  3590                        	.endblock	487
  3591             00000000   L90	equ	0
  3592             00000001   L91	equ	1
  3593 06:0640:              	ends
  3594                        	efunc
  3595                        	.endfunc	487,1,0
  3596                        	.line	487
  3597                        ;
  3598                        ;
  3599                        ;INT k_is_overlapped_rect(PRECT r1,PRECT r2)
  3600                        ;{
  3601                        	.line	490
  3602                        	.line	491
  3603                        	GFX
  3604                        	xdef	~~k_is_overlapped_rect
  3605                        	func
  3606                        	.function	491
  3607                        ~~k_is_overlapped_rect:
  3608                        	longa	on
  3609                        	longi	on
  3610 06:0640: 3B           	tsc
  3611 06:0641: 38           	sec
  3612 06:0642: E9 10 00     	sbc	#L95
  3613 06:0645: 1B           	tcs
  3614 06:0646: 0B           	phd
  3615 06:0647: 5B           	tcd
  3616             00000004   r1_0	set	4
  3617             00000008   r2_0	set	8
  3618                        	.block	491
  3619                        ;	POINT rLeft1;
  3620                        ;	POINT rRight1;
  3621                        ;	POINT rLeft2;
  3622                        ;	POINT rRight2;
  3623                        ;
  3624                        ;	rLeft1.x = r1->x;
  3625             00000000   rLeft1_1	set	0
  3626             00000004   rRight1_1	set	4
  Mon Aug  9 2021 16:52                                                Page 75


  3627             00000008   rLeft2_1	set	8
  3628             0000000C   rRight2_1	set	12
  3629                        	.sym	rLeft1,0,10,1,32,25
  3630                        	.sym	rRight1,4,10,1,32,25
  3631                        	.sym	rLeft2,8,10,1,32,25
  3632                        	.sym	rRight2,12,10,1,32,25
  3633                        	.sym	r1,4,138,6,32,26
  3634                        	.sym	r2,8,138,6,32,26
  3635                        	.line	497
  3636 06:0648: A7 14        	lda	[<L95+r1_0]
  3637 06:064A: 85 01        	sta	<L96+rLeft1_1
  3638                        ;	rLeft1.y = r1->y;
  3639                        	.line	498
  3640 06:064C: A0 02 00     	ldy	#$2
  3641 06:064F: B7 14        	lda	[<L95+r1_0],Y
  3642 06:0651: 85 03        	sta	<L96+rLeft1_1+2
  3643                        ;	rRight1.x = r1->x + r1->width;
  3644                        	.line	499
  3645 06:0653: 18           	clc
  3646 06:0654: A7 14        	lda	[<L95+r1_0]
  3647 06:0656: A0 08 00     	ldy	#$8
  3648 06:0659: 77 14        	adc	[<L95+r1_0],Y
  3649 06:065B: 85 05        	sta	<L96+rRight1_1
  3650                        ;	rRight1.y = r1->y + r1->height;
  3651                        	.line	500
  3652 06:065D: 18           	clc
  3653 06:065E: A0 02 00     	ldy	#$2
  3654 06:0661: B7 14        	lda	[<L95+r1_0],Y
  3655 06:0663: A0 0A 00     	ldy	#$a
  3656 06:0666: 77 14        	adc	[<L95+r1_0],Y
  3657 06:0668: 85 07        	sta	<L96+rRight1_1+2
  3658                        ;
  3659                        ;	rLeft2.x = r2->x;
  3660                        	.line	502
  3661 06:066A: A7 18        	lda	[<L95+r2_0]
  3662 06:066C: 85 09        	sta	<L96+rLeft2_1
  3663                        ;	rLeft2.y = r2->y;
  3664                        	.line	503
  3665 06:066E: A0 02 00     	ldy	#$2
  3666 06:0671: B7 18        	lda	[<L95+r2_0],Y
  3667 06:0673: 85 0B        	sta	<L96+rLeft2_1+2
  3668                        ;	rRight2.x = r2->x + r2->width;
  3669                        	.line	504
  3670 06:0675: 18           	clc
  3671 06:0676: A7 18        	lda	[<L95+r2_0]
  3672 06:0678: A0 08 00     	ldy	#$8
  3673 06:067B: 77 18        	adc	[<L95+r2_0],Y
  3674 06:067D: 85 0D        	sta	<L96+rRight2_1
  3675                        ;	rRight2.y = r2->y + r2->height;
  3676                        	.line	505
  3677 06:067F: 18           	clc
  3678 06:0680: A0 02 00     	ldy	#$2
  3679 06:0683: B7 18        	lda	[<L95+r2_0],Y
  3680 06:0685: A0 0A 00     	ldy	#$a
  3681 06:0688: 77 18        	adc	[<L95+r2_0],Y
  3682 06:068A: 85 0F        	sta	<L96+rRight2_1+2
  3683                        ;
  3684                        ;	//k_debug_rect("k_is_overlapped_rect::r1:",r1);
  Mon Aug  9 2021 16:52                                                Page 76


  3685                        ;//	k_debug_rect("k_is_overlapped_rect::r2:"
                    ,r2);
  3686                        ;
  3687                        ;	//k_debug_integer("A:",k_is_overlapped_rect_poin
                    ts(&rLeft1,&rRight1,&rLeft2,&rRight2));
  3688                        ;	//k_debug_integer("B:",k_is_overlapped_rect_poin
                    ts(&rLeft2,&rRight2,&rLeft1,&rRight1));
  3689                        ;
  3690                        ;	return k_is_overlapped_rect_points(&rLeft1,&rRig
                    ht1,&rLeft2,&rRight2);
  3691                        	.line	513
  3692 06:068C: F4 00 00     	pea	#0
  3693 06:068F: 18           	clc
  3694 06:0690: 7B           	tdc
  3695 06:0691: 69 0D 00     	adc	#<L96+rRight2_1
  3696 06:0694: 48           	pha
  3697 06:0695: F4 00 00     	pea	#0
  3698 06:0698: 18           	clc
  3699 06:0699: 7B           	tdc
  3700 06:069A: 69 09 00     	adc	#<L96+rLeft2_1
  3701 06:069D: 48           	pha
  3702 06:069E: F4 00 00     	pea	#0
  3703 06:06A1: 18           	clc
  3704 06:06A2: 7B           	tdc
  3705 06:06A3: 69 05 00     	adc	#<L96+rRight1_1
  3706 06:06A6: 48           	pha
  3707 06:06A7: F4 00 00     	pea	#0
  3708 06:06AA: 18           	clc
  3709 06:06AB: 7B           	tdc
  3710 06:06AC: 69 01 00     	adc	#<L96+rLeft1_1
  3711 06:06AF: 48           	pha
  3712 06:06B0: 22 C6 06 06  	jsl	~~k_is_overlapped_rect_points
  3713                        L98:
  3714 06:06B4: A8           	tay
  3715 06:06B5: A5 12        	lda	<L95+2
  3716 06:06B7: 85 1A        	sta	<L95+2+8
  3717 06:06B9: A5 11        	lda	<L95+1
  3718 06:06BB: 85 19        	sta	<L95+1+8
  3719 06:06BD: 2B           	pld
  3720 06:06BE: 3B           	tsc
  3721 06:06BF: 18           	clc
  3722 06:06C0: 69 18 00     	adc	#L95+8
  3723 06:06C3: 1B           	tcs
  3724 06:06C4: 98           	tya
  3725 06:06C5: 6B           	rtl
  3726                        ;}
  3727                        	.line	514
  3728                        	.endblock	514
  3729             00000010   L95	equ	16
  3730             00000001   L96	equ	1
  3731 06:06C6:              	ends
  3732                        	efunc
  3733                        	.endfunc	514,1,16
  3734                        	.line	514
  3735                        ;
  3736                        ;// Returns true if two rectangles (l1, r1) and (l
                    2, r2) overlap
  3737                        ;INT k_is_overlapped_rect_points(PPOINT left1, PPO
  Mon Aug  9 2021 16:52                                                Page 77


                    INT right1, PPOINT left2, PPOINT right2)
  3738                        ;{
  3739                        	.line	517
  3740                        	.line	518
  3741                        	GFX
  3742                        	xdef	~~k_is_overlapped_rect_points
  3743                        	func
  3744                        	.function	518
  3745                        ~~k_is_overlapped_rect_points:
  3746                        	longa	on
  3747                        	longi	on
  3748 06:06C6: 3B           	tsc
  3749 06:06C7: 38           	sec
  3750 06:06C8: E9 00 00     	sbc	#L99
  3751 06:06CB: 1B           	tcs
  3752 06:06CC: 0B           	phd
  3753 06:06CD: 5B           	tcd
  3754             00000004   left1_0	set	4
  3755             00000008   right1_0	set	8
  3756             0000000C   left2_0	set	12
  3757             00000010   right2_0	set	16
  3758                        	.block	518
  3759                        ;	// If one rectangle is on left side of other
  3760                        ;	// (l1.x > r2.x) this happens when the first rec
                    tangle(l1,r1) is totally on the right of the second rectangl
                    e(l2,r2).
  3761                        ;	// (l2.x > r1.x) this happens when the second re
                    ctangle(l2,r2) is totally on the right of the first rectangl
                    e(l1,r1).
  3762                        ;	//k_debug_integer("k_is_overlapped_rect_points::
                    condition1:left1->x >= right2->x:",left1->x >= right2->x);
  3763                        ;	//k_debug_integer("k_is_overlapped_rect_points::
                    condition1:left2->x >= right1->x:",left2->x >= right1->x);
  3764                        ;
  3765                        ;
  3766                        ;	if (left1->x >= right2->x || left2->x >= right1-
                    >x) //if (l1.x >= r2.x || l2.x >= r1.x)
  3767                        	.sym	left1,4,138,6,32,25
  3768                        	.sym	right1,8,138,6,32,25
  3769                        	.sym	left2,12,138,6,32,25
  3770                        	.sym	right2,16,138,6,32,25
  3771                        	.line	526
  3772                        ;	{
  3773 06:06CE: 38           	sec
  3774 06:06CF: A7 04        	lda	[<L99+left1_0]
  3775 06:06D1: E7 10        	sbc	[<L99+right2_0]
  3776 06:06D3: 70 03        	bvs	L103
  3777 06:06D5: 49 00 80     	eor	#$8000
  3778                        L103:
  3779 06:06D8: 10 03        	bpl	L104
  3780 06:06DA: 82 0F 00     	brl	L102
  3781                        L104:
  3782 06:06DD: 38           	sec
  3783 06:06DE: A7 0C        	lda	[<L99+left2_0]
  3784 06:06E0: E7 08        	sbc	[<L99+right1_0]
  3785 06:06E2: 70 03        	bvs	L105
  3786 06:06E4: 49 00 80     	eor	#$8000
  3787                        L105:
  Mon Aug  9 2021 16:52                                                Page 78


  3788 06:06E7: 30 03        	bmi	L106
  3789 06:06E9: 82 15 00     	brl	L10025
  3790                        L106:
  3791                        L102:
  3792                        	.line	527
  3793                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition1:",1);
  3794                        ;		return FALSE;
  3795                        	.line	529
  3796 06:06EC: A9 00 00     	lda	#$0
  3797                        L107:
  3798 06:06EF: A8           	tay
  3799 06:06F0: A5 02        	lda	<L99+2
  3800 06:06F2: 85 12        	sta	<L99+2+16
  3801 06:06F4: A5 01        	lda	<L99+1
  3802 06:06F6: 85 11        	sta	<L99+1+16
  3803 06:06F8: 2B           	pld
  3804 06:06F9: 3B           	tsc
  3805 06:06FA: 18           	clc
  3806 06:06FB: 69 10 00     	adc	#L99+16
  3807 06:06FE: 1B           	tcs
  3808 06:06FF: 98           	tya
  3809 06:0700: 6B           	rtl
  3810                        ;	}
  3811                        	.line	530
  3812                        ;	// If one rectangle is above other
  3813                        ;	// (l1.y < r2.y) happens when the first rectangl
                    e(l1,r1) is totally below the second rectangle(l2,r2).
  3814                        ;	// (l2.y < r1.y) happens when the second rectang
                    le(l2,r2) is totally below the first rectangle(l1,r1).
  3815                        ;	if (left1->y > right2->y || left2->y > right1->y
                    )
  3816                        L10025:
  3817                        	.line	534
  3818                        ;	{
  3819 06:0701: 38           	sec
  3820 06:0702: A0 02 00     	ldy	#$2
  3821 06:0705: B7 10        	lda	[<L99+right2_0],Y
  3822 06:0707: A0 02 00     	ldy	#$2
  3823 06:070A: F7 04        	sbc	[<L99+left1_0],Y
  3824 06:070C: 70 03        	bvs	L109
  3825 06:070E: 49 00 80     	eor	#$8000
  3826                        L109:
  3827 06:0711: 30 03        	bmi	L110
  3828 06:0713: 82 15 00     	brl	L108
  3829                        L110:
  3830 06:0716: 38           	sec
  3831 06:0717: A0 02 00     	ldy	#$2
  3832 06:071A: B7 08        	lda	[<L99+right1_0],Y
  3833 06:071C: A0 02 00     	ldy	#$2
  3834 06:071F: F7 0C        	sbc	[<L99+left2_0],Y
  3835 06:0721: 70 03        	bvs	L111
  3836 06:0723: 49 00 80     	eor	#$8000
  3837                        L111:
  3838 06:0726: 10 03        	bpl	L112
  3839 06:0728: 82 06 00     	brl	L10026
  3840                        L112:
  3841                        L108:
  Mon Aug  9 2021 16:52                                                Page 79


  3842                        	.line	535
  3843                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:L1Y:",left1->y);
  3844                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:R2Y:",right2->y);
  3845                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:l1->y <= r2->y:",left1->y <= right2->y);
  3846                        ;
  3847                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:L2Y:",left2->y);
  3848                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:R1Y:",right1->y);
  3849                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:l2->y <= r1->y:",left2->y <= right1->y);
  3850                        ;		return FALSE;
  3851                        	.line	543
  3852 06:072B: A9 00 00     	lda	#$0
  3853 06:072E: 82 BE FF     	brl	L107
  3854                        ;	}
  3855                        	.line	544
  3856                        ;	return TRUE;
  3857                        L10026:
  3858                        	.line	545
  3859 06:0731: A9 01 00     	lda	#$1
  3860 06:0734: 82 B8 FF     	brl	L107
  3861                        ;}
  3862                        	.line	546
  3863                        	.endblock	546
  3864             00000000   L99	equ	0
  3865             00000001   L100	equ	1
  3866 06:0737:              	ends
  3867                        	efunc
  3868                        	.endfunc	546,1,0
  3869                        	.line	546
  3870                        ;
  3871                        ;BOOL k_is_inside_rect(PRECT prect, int dx, int dy
                    )
  3872                        ;{
  3873                        	.line	548
  3874                        	.line	549
  3875                        	GFX
  3876                        	xdef	~~k_is_inside_rect
  3877                        	func
  3878                        	.function	549
  3879                        ~~k_is_inside_rect:
  3880                        	longa	on
  3881                        	longi	on
  3882 06:0737: 3B           	tsc
  3883 06:0738: 38           	sec
  3884 06:0739: E9 05 00     	sbc	#L113
  3885 06:073C: 1B           	tcs
  3886 06:073D: 0B           	phd
  3887 06:073E: 5B           	tcd
  3888             00000004   prect_0	set	4
  3889             00000008   dx_0	set	8
  3890             0000000A   dy_0	set	10
  3891                        	.block	549
  3892                        ;	BOOL bRet = FALSE;
  Mon Aug  9 2021 16:52                                                Page 80


  3893                        ;
  3894                        ;	if ((dx > prect->x) && (dx < (prect->x + prect->
                    width)))
  3895             00000000   bRet_1	set	0
  3896                        	.sym	bRet,0,14,1,8
  3897                        	.sym	prect,4,138,6,32,26
  3898                        	.sym	dx,8,5,6,16
  3899                        	.sym	dy,10,5,6,16
  3900 06:073F: E2 20        	sep	#$20
  3901                        	longa	off
  3902 06:0741: 64 05        	stz	<L114+bRet_1
  3903 06:0743: C2 20        	rep	#$20
  3904                        	longa	on
  3905                        	.line	552
  3906                        ;	{
  3907 06:0745: 38           	sec
  3908 06:0746: A7 09        	lda	[<L113+prect_0]
  3909 06:0748: E5 0D        	sbc	<L113+dx_0
  3910 06:074A: 70 03        	bvs	L116
  3911 06:074C: 49 00 80     	eor	#$8000
  3912                        L116:
  3913 06:074F: 10 03        	bpl	L117
  3914 06:0751: 82 4F 00     	brl	L10027
  3915                        L117:
  3916 06:0754: 18           	clc
  3917 06:0755: A7 09        	lda	[<L113+prect_0]
  3918 06:0757: A0 08 00     	ldy	#$8
  3919 06:075A: 77 09        	adc	[<L113+prect_0],Y
  3920 06:075C: 85 01        	sta	<R0
  3921 06:075E: 38           	sec
  3922 06:075F: A5 0D        	lda	<L113+dx_0
  3923 06:0761: E5 01        	sbc	<R0
  3924 06:0763: 70 03        	bvs	L118
  3925 06:0765: 49 00 80     	eor	#$8000
  3926                        L118:
  3927 06:0768: 10 03        	bpl	L119
  3928 06:076A: 82 36 00     	brl	L10027
  3929                        L119:
  3930                        	.line	553
  3931                        ;		if ((dy > prect->y) && (dy < (prect->y +
                     prect->height)))
  3932                        	.line	554
  3933                        ;		{
  3934 06:076D: 38           	sec
  3935 06:076E: A0 02 00     	ldy	#$2
  3936 06:0771: B7 09        	lda	[<L113+prect_0],Y
  3937 06:0773: E5 0F        	sbc	<L113+dy_0
  3938 06:0775: 70 03        	bvs	L120
  3939 06:0777: 49 00 80     	eor	#$8000
  3940                        L120:
  3941 06:077A: 10 03        	bpl	L121
  3942 06:077C: 82 24 00     	brl	L10028
  3943                        L121:
  3944 06:077F: 18           	clc
  3945 06:0780: A0 02 00     	ldy	#$2
  3946 06:0783: B7 09        	lda	[<L113+prect_0],Y
  3947 06:0785: A0 0A 00     	ldy	#$a
  3948 06:0788: 77 09        	adc	[<L113+prect_0],Y
  Mon Aug  9 2021 16:52                                                Page 81


  3949 06:078A: 85 01        	sta	<R0
  3950 06:078C: 38           	sec
  3951 06:078D: A5 0F        	lda	<L113+dy_0
  3952 06:078F: E5 01        	sbc	<R0
  3953 06:0791: 70 03        	bvs	L122
  3954 06:0793: 49 00 80     	eor	#$8000
  3955                        L122:
  3956 06:0796: 10 03        	bpl	L123
  3957 06:0798: 82 08 00     	brl	L10028
  3958                        L123:
  3959                        	.line	555
  3960                        ;			bRet = TRUE;
  3961                        	.line	556
  3962 06:079B: E2 20        	sep	#$20
  3963                        	longa	off
  3964 06:079D: A9 01        	lda	#$1
  3965 06:079F: 85 05        	sta	<L114+bRet_1
  3966 06:07A1: C2 20        	rep	#$20
  3967                        	longa	on
  3968                        ;		}
  3969                        	.line	557
  3970                        ;	}
  3971                        L10028:
  3972                        	.line	558
  3973                        ;
  3974                        ;	return bRet;
  3975                        L10027:
  3976                        	.line	560
  3977 06:07A3: A5 05        	lda	<L114+bRet_1
  3978 06:07A5: 29 FF 00     	and	#$ff
  3979                        L124:
  3980 06:07A8: A8           	tay
  3981 06:07A9: A5 07        	lda	<L113+2
  3982 06:07AB: 85 0F        	sta	<L113+2+8
  3983 06:07AD: A5 06        	lda	<L113+1
  3984 06:07AF: 85 0E        	sta	<L113+1+8
  3985 06:07B1: 2B           	pld
  3986 06:07B2: 3B           	tsc
  3987 06:07B3: 18           	clc
  3988 06:07B4: 69 0D 00     	adc	#L113+8
  3989 06:07B7: 1B           	tcs
  3990 06:07B8: 98           	tya
  3991 06:07B9: 6B           	rtl
  3992                        ;}
  3993                        	.line	561
  3994                        	.endblock	561
  3995             00000005   L113	equ	5
  3996             00000005   L114	equ	5
  3997 06:07BA:              	ends
  3998                        	efunc
  3999                        	.endfunc	561,5,5
  4000                        	.line	561
  4001                        ;
  4002                        ;LONG k_gui_get_pixel_offset(int x,int y)
  4003                        ;{
  4004                        	.line	563
  4005                        	.line	564
  4006                        	GFX
  Mon Aug  9 2021 16:52                                                Page 82


  4007                        	xdef	~~k_gui_get_pixel_offset
  4008                        	func
  4009                        	.function	564
  4010                        ~~k_gui_get_pixel_offset:
  4011                        	longa	on
  4012                        	longi	on
  4013 06:07BA: 3B           	tsc
  4014 06:07BB: 38           	sec
  4015 06:07BC: E9 04 00     	sbc	#L125
  4016 06:07BF: 1B           	tcs
  4017 06:07C0: 0B           	phd
  4018 06:07C1: 5B           	tcd
  4019             00000004   x_0	set	4
  4020             00000006   y_0	set	6
  4021                        	.block	564
  4022                        ;	//return (LPVOID)(( ((long)y) * (640L)) + ((long
                    )x) );
  4023                        ;	return k_gui_get_pixel_offset_width(x,y,640);
  4024                        	.sym	x,4,5,6,16
  4025                        	.sym	y,6,5,6,16
  4026                        	.line	566
  4027 06:07C2: F4 80 02     	pea	#<$280
  4028 06:07C5: D4 0A        	pei	<L125+y_0
  4029 06:07C7: D4 08        	pei	<L125+x_0
  4030 06:07C9: 22 E7 07 06  	jsl	~~k_gui_get_pixel_offset_width
  4031 06:07CD: 85 01        	sta	<R0
  4032 06:07CF: 86 03        	stx	<R0+2
  4033 06:07D1: A6 03        	ldx	<R0+2
  4034 06:07D3: A5 01        	lda	<R0
  4035                        L128:
  4036 06:07D5: A8           	tay
  4037 06:07D6: A5 06        	lda	<L125+2
  4038 06:07D8: 85 0A        	sta	<L125+2+4
  4039 06:07DA: A5 05        	lda	<L125+1
  4040 06:07DC: 85 09        	sta	<L125+1+4
  4041 06:07DE: 2B           	pld
  4042 06:07DF: 3B           	tsc
  4043 06:07E0: 18           	clc
  4044 06:07E1: 69 08 00     	adc	#L125+4
  4045 06:07E4: 1B           	tcs
  4046 06:07E5: 98           	tya
  4047 06:07E6: 6B           	rtl
  4048                        ;}
  4049                        	.line	567
  4050                        	.endblock	567
  4051             00000004   L125	equ	4
  4052             00000005   L126	equ	5
  4053 06:07E7:              	ends
  4054                        	efunc
  4055                        	.endfunc	567,5,4
  4056                        	.line	567
  4057                        ;
  4058                        ;LONG k_gui_get_pixel_offset_width(int x,int y,int
                     width)
  4059                        ;{
  4060                        	.line	569
  4061                        	.line	570
  4062                        	GFX
  Mon Aug  9 2021 16:52                                                Page 83


  4063                        	xdef	~~k_gui_get_pixel_offset_width
  4064                        	func
  4065                        	.function	570
  4066                        ~~k_gui_get_pixel_offset_width:
  4067                        	longa	on
  4068                        	longi	on
  4069 06:07E7: 3B           	tsc
  4070 06:07E8: 38           	sec
  4071 06:07E9: E9 0C 00     	sbc	#L129
  4072 06:07EC: 1B           	tcs
  4073 06:07ED: 0B           	phd
  4074 06:07EE: 5B           	tcd
  4075             00000004   x_0	set	4
  4076             00000006   y_0	set	6
  4077             00000008   width_0	set	8
  4078                        	.block	570
  4079                        ;	return (LONG)(( ((long)y) * ((long)width)) + ((l
                    ong)x) );
  4080                        	.sym	x,4,5,6,16
  4081                        	.sym	y,6,5,6,16
  4082                        	.sym	width,8,5,6,16
  4083                        	.line	571
  4084 06:07EF: A0 00 00     	ldy	#$0
  4085 06:07F2: A5 10        	lda	<L129+x_0
  4086 06:07F4: 10 01        	bpl	L132
  4087 06:07F6: 88           	dey
  4088                        L132:
  4089 06:07F7: 85 01        	sta	<R0
  4090 06:07F9: 84 03        	sty	<R0+2
  4091 06:07FB: A0 00 00     	ldy	#$0
  4092 06:07FE: A5 14        	lda	<L129+width_0
  4093 06:0800: 10 01        	bpl	L133
  4094 06:0802: 88           	dey
  4095                        L133:
  4096 06:0803: 85 05        	sta	<R1
  4097 06:0805: 84 07        	sty	<R1+2
  4098 06:0807: A0 00 00     	ldy	#$0
  4099 06:080A: A5 12        	lda	<L129+y_0
  4100 06:080C: 10 01        	bpl	L134
  4101 06:080E: 88           	dey
  4102                        L134:
  4103 06:080F: 85 09        	sta	<R2
  4104 06:0811: 84 0B        	sty	<R2+2
  4105 06:0813: D4 07        	pei	<R1+2
  4106 06:0815: D4 05        	pei	<R1
  4107 06:0817: D4 0B        	pei	<R2+2
  4108 06:0819: D4 09        	pei	<R2
  4109                        	xref	~~~lmul
  4110 06:081B: 22 xx xx xx  	jsl	~~~lmul
  4111 06:081F: 85 05        	sta	<R1
  4112 06:0821: 86 07        	stx	<R1+2
  4113 06:0823: 18           	clc
  4114 06:0824: A5 05        	lda	<R1
  4115 06:0826: 65 01        	adc	<R0
  4116 06:0828: 85 09        	sta	<R2
  4117 06:082A: A5 07        	lda	<R1+2
  4118 06:082C: 65 03        	adc	<R0+2
  4119 06:082E: 85 0B        	sta	<R2+2
  Mon Aug  9 2021 16:52                                                Page 84


  4120 06:0830: A6 0B        	ldx	<R2+2
  4121 06:0832: A5 09        	lda	<R2
  4122                        L135:
  4123 06:0834: A8           	tay
  4124 06:0835: A5 0E        	lda	<L129+2
  4125 06:0837: 85 14        	sta	<L129+2+6
  4126 06:0839: A5 0D        	lda	<L129+1
  4127 06:083B: 85 13        	sta	<L129+1+6
  4128 06:083D: 2B           	pld
  4129 06:083E: 3B           	tsc
  4130 06:083F: 18           	clc
  4131 06:0840: 69 12 00     	adc	#L129+6
  4132 06:0843: 1B           	tcs
  4133 06:0844: 98           	tya
  4134 06:0845: 6B           	rtl
  4135                        ;}
  4136                        	.line	572
  4137                        	.endblock	572
  4138             0000000C   L129	equ	12
  4139             0000000D   L130	equ	13
  4140 06:0846:              	ends
  4141                        	efunc
  4142                        	.endfunc	572,13,12
  4143                        	.line	572
  4144                        ;
  4145                        ;void k_set_foreground_palette(char paletteId)
  4146                        ;{
  4147                        	.line	574
  4148                        	.line	575
  4149                        	GFX
  4150                        	xdef	~~k_set_foreground_palette
  4151                        	func
  4152                        	.function	575
  4153                        ~~k_set_foreground_palette:
  4154                        	longa	on
  4155                        	longi	on
  4156 06:0846: 3B           	tsc
  4157 06:0847: 38           	sec
  4158 06:0848: E9 00 00     	sbc	#L136
  4159 06:084B: 1B           	tcs
  4160 06:084C: 0B           	phd
  4161 06:084D: 5B           	tcd
  4162             00000004   paletteId_0	set	4
  4163                        	.block	575
  4164                        ;	FG_CHAR_LUT_PTR[0] = paletteId;
  4165                        	.sym	paletteId,4,14,6,8
  4166                        	.line	576
  4167 06:084E: E2 20        	sep	#$20
  4168                        	longa	off
  4169 06:0850: A5 04        	lda	<L136+paletteId_0
  4170 06:0852: 8F 40 1F AF  	sta	>11476800
  4171 06:0856: C2 20        	rep	#$20
  4172                        	longa	on
  4173                        ;}
  4174                        	.line	577
  4175                        L139:
  4176 06:0858: A5 02        	lda	<L136+2
  4177 06:085A: 85 04        	sta	<L136+2+2
  Mon Aug  9 2021 16:52                                                Page 85


  4178 06:085C: A5 01        	lda	<L136+1
  4179 06:085E: 85 03        	sta	<L136+1+2
  4180 06:0860: 2B           	pld
  4181 06:0861: 3B           	tsc
  4182 06:0862: 18           	clc
  4183 06:0863: 69 02 00     	adc	#L136+2
  4184 06:0866: 1B           	tcs
  4185 06:0867: 6B           	rtl
  4186                        	.endblock	577
  4187             00000000   L136	equ	0
  4188             00000001   L137	equ	1
  4189 06:0868:              	ends
  4190                        	efunc
  4191                        	.endfunc	577,1,0
  4192                        	.line	577
  4193                        ;
  4194                        ;void k_set_text_gamma(char c)
  4195                        ;{
  4196                        	.line	579
  4197                        	.line	580
  4198                        	GFX
  4199                        	xdef	~~k_set_text_gamma
  4200                        	func
  4201                        	.function	580
  4202                        ~~k_set_text_gamma:
  4203                        	longa	on
  4204                        	longi	on
  4205 06:0868: 3B           	tsc
  4206 06:0869: 38           	sec
  4207 06:086A: E9 00 00     	sbc	#L140
  4208 06:086D: 1B           	tcs
  4209 06:086E: 0B           	phd
  4210 06:086F: 5B           	tcd
  4211             00000004   c_0	set	4
  4212                        	.block	580
  4213                        ;	GAMMA_B_LUT_PTR[0] = c;
  4214                        	.sym	c,4,14,6,8
  4215                        	.line	581
  4216 06:0870: E2 20        	sep	#$20
  4217                        	longa	off
  4218 06:0872: A5 04        	lda	<L140+c_0
  4219 06:0874: 8F 00 40 AF  	sta	>11485184
  4220 06:0878: C2 20        	rep	#$20
  4221                        	longa	on
  4222                        ;	GAMMA_G_LUT_PTR[0] = c;
  4223                        	.line	582
  4224 06:087A: E2 20        	sep	#$20
  4225                        	longa	off
  4226 06:087C: A5 04        	lda	<L140+c_0
  4227 06:087E: 8F 00 41 AF  	sta	>11485440
  4228 06:0882: C2 20        	rep	#$20
  4229                        	longa	on
  4230                        ;	GAMMA_R_LUT_PTR[0] = c;
  4231                        	.line	583
  4232 06:0884: E2 20        	sep	#$20
  4233                        	longa	off
  4234 06:0886: A5 04        	lda	<L140+c_0
  4235 06:0888: 8F 00 42 AF  	sta	>11485696
  Mon Aug  9 2021 16:52                                                Page 86


  4236 06:088C: C2 20        	rep	#$20
  4237                        	longa	on
  4238                        ;}
  4239                        	.line	584
  4240                        L143:
  4241 06:088E: A5 02        	lda	<L140+2
  4242 06:0890: 85 04        	sta	<L140+2+2
  4243 06:0892: A5 01        	lda	<L140+1
  4244 06:0894: 85 03        	sta	<L140+1+2
  4245 06:0896: 2B           	pld
  4246 06:0897: 3B           	tsc
  4247 06:0898: 18           	clc
  4248 06:0899: 69 02 00     	adc	#L140+2
  4249 06:089C: 1B           	tcs
  4250 06:089D: 6B           	rtl
  4251                        	.endblock	584
  4252             00000000   L140	equ	0
  4253             00000001   L141	equ	1
  4254 06:089E:              	ends
  4255                        	efunc
  4256                        	.endfunc	584,1,0
  4257                        	.line	584
  4258                        ;
  4259                        ;void k_set_text_color(char c)
  4260                        ;{
  4261                        	.line	586
  4262                        	.line	587
  4263                        	GFX
  4264                        	xdef	~~k_set_text_color
  4265                        	func
  4266                        	.function	587
  4267                        ~~k_set_text_color:
  4268                        	longa	on
  4269                        	longi	on
  4270 06:089E: 3B           	tsc
  4271 06:089F: 38           	sec
  4272 06:08A0: E9 00 00     	sbc	#L144
  4273 06:08A3: 1B           	tcs
  4274 06:08A4: 0B           	phd
  4275 06:08A5: 5B           	tcd
  4276             00000004   c_0	set	4
  4277                        	.block	587
  4278                        ;	CURCOLOR_L[0] = c;
  4279                        	.sym	c,4,14,6,8
  4280                        	.line	588
  4281 06:08A6: E2 20        	sep	#$20
  4282                        	longa	off
  4283 06:08A8: A5 04        	lda	<L144+c_0
  4284 06:08AA: 8F 1E 00 00  	sta	>30
  4285 06:08AE: C2 20        	rep	#$20
  4286                        	longa	on
  4287                        ;	CURCOLOR_H[0] = c;
  4288                        	.line	589
  4289 06:08B0: E2 20        	sep	#$20
  4290                        	longa	off
  4291 06:08B2: A5 04        	lda	<L144+c_0
  4292 06:08B4: 8F 1F 00 00  	sta	>31
  4293 06:08B8: C2 20        	rep	#$20
  Mon Aug  9 2021 16:52                                                Page 87


  4294                        	longa	on
  4295                        ;}
  4296                        	.line	590
  4297                        L147:
  4298 06:08BA: A5 02        	lda	<L144+2
  4299 06:08BC: 85 04        	sta	<L144+2+2
  4300 06:08BE: A5 01        	lda	<L144+1
  4301 06:08C0: 85 03        	sta	<L144+1+2
  4302 06:08C2: 2B           	pld
  4303 06:08C3: 3B           	tsc
  4304 06:08C4: 18           	clc
  4305 06:08C5: 69 02 00     	adc	#L144+2
  4306 06:08C8: 1B           	tcs
  4307 06:08C9: 6B           	rtl
  4308                        	.endblock	590
  4309             00000000   L144	equ	0
  4310             00000001   L145	equ	1
  4311 06:08CA:              	ends
  4312                        	efunc
  4313                        	.endfunc	590,1,0
  4314                        	.line	590
  4315                        ;
  4316                        ;VOID k_set_text_colors(VOID)
  4317                        ;{
  4318                        	.line	592
  4319                        	.line	593
  4320                        	GFX
  4321                        	xdef	~~k_set_text_colors
  4322                        	func
  4323                        	.function	593
  4324                        ~~k_set_text_colors:
  4325                        	longa	on
  4326                        	longi	on
  4327 06:08CA: 3B           	tsc
  4328 06:08CB: 38           	sec
  4329 06:08CC: E9 00 00     	sbc	#L148
  4330 06:08CF: 1B           	tcs
  4331 06:08D0: 0B           	phd
  4332 06:08D1: 5B           	tcd
  4333                        	.block	593
  4334                        ;	//k_debug_integer("k_set_text_colors::TEXT_FG_CO
                    LORS:",sizeof(TEXT_FG_COLORS));
  4335                        ;	//k_debug_integer("k_set_text_colors::TEXT_BG_CO
                    LORS:",sizeof(TEXT_BG_COLORS));
  4336                        ;
  4337                        ;	memcpy(FG_CHAR_LUT_PTR,TEXT_FG_COLORS,sizeof(TEX
                    T_FG_COLORS));
  4338                        	.line	597
  4339 06:08D2: F4 40 00     	pea	#<$40
  4340 06:08D5: F4 xx xx     	pea	#^~~TEXT_FG_COLORS
  4341 06:08D8: F4 xx xx     	pea	#<~~TEXT_FG_COLORS
  4342 06:08DB: F4 AF 00     	pea	#^$af1f40
  4343 06:08DE: F4 40 1F     	pea	#<$af1f40
  4344 06:08E1: 22 xx xx xx  	jsl	~~memcpy
  4345                        ;	memcpy(BG_CHAR_LUT_PTR,TEXT_BG_COLORS,sizeof(TEX
                    T_BG_COLORS));
  4346                        	.line	598
  4347 06:08E5: F4 40 00     	pea	#<$40
  Mon Aug  9 2021 16:52                                                Page 88


  4348 06:08E8: F4 xx xx     	pea	#^~~TEXT_BG_COLORS
  4349 06:08EB: F4 xx xx     	pea	#<~~TEXT_BG_COLORS
  4350 06:08EE: F4 AF 00     	pea	#^$af1f80
  4351 06:08F1: F4 80 1F     	pea	#<$af1f80
  4352 06:08F4: 22 xx xx xx  	jsl	~~memcpy
  4353                        ;}
  4354                        	.line	599
  4355                        L151:
  4356 06:08F8: 2B           	pld
  4357 06:08F9: 3B           	tsc
  4358 06:08FA: 18           	clc
  4359 06:08FB: 69 00 00     	adc	#L148
  4360 06:08FE: 1B           	tcs
  4361 06:08FF: 6B           	rtl
  4362                        	.endblock	599
  4363             00000000   L148	equ	0
  4364             00000001   L149	equ	1
  4365 06:0900:              	ends
  4366                        	efunc
  4367                        	.endfunc	599,1,0
  4368                        	.line	599
  4369                        ;
  4370                        ;
  4371                        ;void setColors(void)
  4372                        ;{
  4373                        	.line	602
  4374                        	.line	603
  4375                        	GFX
  4376                        	xdef	~~setColors
  4377                        	func
  4378                        	.function	603
  4379                        ~~setColors:
  4380                        	longa	on
  4381                        	longi	on
  4382 06:0900: 3B           	tsc
  4383 06:0901: 38           	sec
  4384 06:0902: E9 08 00     	sbc	#L152
  4385 06:0905: 1B           	tcs
  4386 06:0906: 0B           	phd
  4387 06:0907: 5B           	tcd
  4388                        	.block	603
  4389                        ;	unsigned long colorIndex = 0;
  4390                        ;
  4391                        ;	//colorIndex = 0;
  4392                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4393             00000000   colorIndex_1	set	0
  4394                        	.sym	colorIndex,0,18,1,32
  4395 06:0908: 64 05        	stz	<L153+colorIndex_1
  4396 06:090A: 64 07        	stz	<L153+colorIndex_1+2
  4397                        	.line	607
  4398 06:090C: 18           	clc
  4399 06:090D: A9 00 20     	lda	#$2000
  4400 06:0910: 65 05        	adc	<L153+colorIndex_1
  4401 06:0912: 85 01        	sta	<R0
  4402 06:0914: A9 AF 00     	lda	#$af
  4403 06:0917: 65 07        	adc	<L153+colorIndex_1+2
  4404 06:0919: 85 03        	sta	<R0+2
  4405 06:091B: E2 20        	sep	#$20
  Mon Aug  9 2021 16:52                                                Page 89


  4406                        	longa	off
  4407 06:091D: A9 00        	lda	#$0
  4408 06:091F: 87 01        	sta	[<R0]
  4409 06:0921: C2 20        	rep	#$20
  4410                        	longa	on
  4411 06:0923: E6 05        	inc	<L153+colorIndex_1
  4412 06:0925: D0 02        	bne	L155
  4413 06:0927: E6 07        	inc	<L153+colorIndex_1+2
  4414                        L155:
  4415                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4416                        	.line	608
  4417 06:0929: 18           	clc
  4418 06:092A: A9 00 20     	lda	#$2000
  4419 06:092D: 65 05        	adc	<L153+colorIndex_1
  4420 06:092F: 85 01        	sta	<R0
  4421 06:0931: A9 AF 00     	lda	#$af
  4422 06:0934: 65 07        	adc	<L153+colorIndex_1+2
  4423 06:0936: 85 03        	sta	<R0+2
  4424 06:0938: E2 20        	sep	#$20
  4425                        	longa	off
  4426 06:093A: A9 00        	lda	#$0
  4427 06:093C: 87 01        	sta	[<R0]
  4428 06:093E: C2 20        	rep	#$20
  4429                        	longa	on
  4430 06:0940: E6 05        	inc	<L153+colorIndex_1
  4431 06:0942: D0 02        	bne	L156
  4432 06:0944: E6 07        	inc	<L153+colorIndex_1+2
  4433                        L156:
  4434                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4435                        	.line	609
  4436 06:0946: 18           	clc
  4437 06:0947: A9 00 20     	lda	#$2000
  4438 06:094A: 65 05        	adc	<L153+colorIndex_1
  4439 06:094C: 85 01        	sta	<R0
  4440 06:094E: A9 AF 00     	lda	#$af
  4441 06:0951: 65 07        	adc	<L153+colorIndex_1+2
  4442 06:0953: 85 03        	sta	<R0+2
  4443 06:0955: E2 20        	sep	#$20
  4444                        	longa	off
  4445 06:0957: A9 00        	lda	#$0
  4446 06:0959: 87 01        	sta	[<R0]
  4447 06:095B: C2 20        	rep	#$20
  4448                        	longa	on
  4449 06:095D: E6 05        	inc	<L153+colorIndex_1
  4450 06:095F: D0 02        	bne	L157
  4451 06:0961: E6 07        	inc	<L153+colorIndex_1+2
  4452                        L157:
  4453                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4454                        	.line	610
  4455 06:0963: 18           	clc
  4456 06:0964: A9 00 20     	lda	#$2000
  4457 06:0967: 65 05        	adc	<L153+colorIndex_1
  4458 06:0969: 85 01        	sta	<R0
  4459 06:096B: A9 AF 00     	lda	#$af
  4460 06:096E: 65 07        	adc	<L153+colorIndex_1+2
  4461 06:0970: 85 03        	sta	<R0+2
  4462 06:0972: E2 20        	sep	#$20
  4463                        	longa	off
  Mon Aug  9 2021 16:52                                                Page 90


  4464 06:0974: A9 FF        	lda	#$ff
  4465 06:0976: 87 01        	sta	[<R0]
  4466 06:0978: C2 20        	rep	#$20
  4467                        	longa	on
  4468 06:097A: E6 05        	inc	<L153+colorIndex_1
  4469 06:097C: D0 02        	bne	L158
  4470 06:097E: E6 07        	inc	<L153+colorIndex_1+2
  4471                        L158:
  4472                        ;
  4473                        ;	//colorIndex = 1 * 4;
  4474                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4475                        	.line	613
  4476 06:0980: 18           	clc
  4477 06:0981: A9 00 20     	lda	#$2000
  4478 06:0984: 65 05        	adc	<L153+colorIndex_1
  4479 06:0986: 85 01        	sta	<R0
  4480 06:0988: A9 AF 00     	lda	#$af
  4481 06:098B: 65 07        	adc	<L153+colorIndex_1+2
  4482 06:098D: 85 03        	sta	<R0+2
  4483 06:098F: E2 20        	sep	#$20
  4484                        	longa	off
  4485 06:0991: A9 00        	lda	#$0
  4486 06:0993: 87 01        	sta	[<R0]
  4487 06:0995: C2 20        	rep	#$20
  4488                        	longa	on
  4489 06:0997: E6 05        	inc	<L153+colorIndex_1
  4490 06:0999: D0 02        	bne	L159
  4491 06:099B: E6 07        	inc	<L153+colorIndex_1+2
  4492                        L159:
  4493                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4494                        	.line	614
  4495 06:099D: 18           	clc
  4496 06:099E: A9 00 20     	lda	#$2000
  4497 06:09A1: 65 05        	adc	<L153+colorIndex_1
  4498 06:09A3: 85 01        	sta	<R0
  4499 06:09A5: A9 AF 00     	lda	#$af
  4500 06:09A8: 65 07        	adc	<L153+colorIndex_1+2
  4501 06:09AA: 85 03        	sta	<R0+2
  4502 06:09AC: E2 20        	sep	#$20
  4503                        	longa	off
  4504 06:09AE: A9 00        	lda	#$0
  4505 06:09B0: 87 01        	sta	[<R0]
  4506 06:09B2: C2 20        	rep	#$20
  4507                        	longa	on
  4508 06:09B4: E6 05        	inc	<L153+colorIndex_1
  4509 06:09B6: D0 02        	bne	L160
  4510 06:09B8: E6 07        	inc	<L153+colorIndex_1+2
  4511                        L160:
  4512                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4513                        	.line	615
  4514 06:09BA: 18           	clc
  4515 06:09BB: A9 00 20     	lda	#$2000
  4516 06:09BE: 65 05        	adc	<L153+colorIndex_1
  4517 06:09C0: 85 01        	sta	<R0
  4518 06:09C2: A9 AF 00     	lda	#$af
  4519 06:09C5: 65 07        	adc	<L153+colorIndex_1+2
  4520 06:09C7: 85 03        	sta	<R0+2
  4521 06:09C9: E2 20        	sep	#$20
  Mon Aug  9 2021 16:52                                                Page 91


  4522                        	longa	off
  4523 06:09CB: A9 80        	lda	#$80
  4524 06:09CD: 87 01        	sta	[<R0]
  4525 06:09CF: C2 20        	rep	#$20
  4526                        	longa	on
  4527 06:09D1: E6 05        	inc	<L153+colorIndex_1
  4528 06:09D3: D0 02        	bne	L161
  4529 06:09D5: E6 07        	inc	<L153+colorIndex_1+2
  4530                        L161:
  4531                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4532                        	.line	616
  4533 06:09D7: 18           	clc
  4534 06:09D8: A9 00 20     	lda	#$2000
  4535 06:09DB: 65 05        	adc	<L153+colorIndex_1
  4536 06:09DD: 85 01        	sta	<R0
  4537 06:09DF: A9 AF 00     	lda	#$af
  4538 06:09E2: 65 07        	adc	<L153+colorIndex_1+2
  4539 06:09E4: 85 03        	sta	<R0+2
  4540 06:09E6: E2 20        	sep	#$20
  4541                        	longa	off
  4542 06:09E8: A9 FF        	lda	#$ff
  4543 06:09EA: 87 01        	sta	[<R0]
  4544 06:09EC: C2 20        	rep	#$20
  4545                        	longa	on
  4546 06:09EE: E6 05        	inc	<L153+colorIndex_1
  4547 06:09F0: D0 02        	bne	L162
  4548 06:09F2: E6 07        	inc	<L153+colorIndex_1+2
  4549                        L162:
  4550                        ;
  4551                        ;	//colorIndex = 2 * 4;
  4552                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4553                        	.line	619
  4554 06:09F4: 18           	clc
  4555 06:09F5: A9 00 20     	lda	#$2000
  4556 06:09F8: 65 05        	adc	<L153+colorIndex_1
  4557 06:09FA: 85 01        	sta	<R0
  4558 06:09FC: A9 AF 00     	lda	#$af
  4559 06:09FF: 65 07        	adc	<L153+colorIndex_1+2
  4560 06:0A01: 85 03        	sta	<R0+2
  4561 06:0A03: E2 20        	sep	#$20
  4562                        	longa	off
  4563 06:0A05: A9 00        	lda	#$0
  4564 06:0A07: 87 01        	sta	[<R0]
  4565 06:0A09: C2 20        	rep	#$20
  4566                        	longa	on
  4567 06:0A0B: E6 05        	inc	<L153+colorIndex_1
  4568 06:0A0D: D0 02        	bne	L163
  4569 06:0A0F: E6 07        	inc	<L153+colorIndex_1+2
  4570                        L163:
  4571                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4572                        	.line	620
  4573 06:0A11: 18           	clc
  4574 06:0A12: A9 00 20     	lda	#$2000
  4575 06:0A15: 65 05        	adc	<L153+colorIndex_1
  4576 06:0A17: 85 01        	sta	<R0
  4577 06:0A19: A9 AF 00     	lda	#$af
  4578 06:0A1C: 65 07        	adc	<L153+colorIndex_1+2
  4579 06:0A1E: 85 03        	sta	<R0+2
  Mon Aug  9 2021 16:52                                                Page 92


  4580 06:0A20: E2 20        	sep	#$20
  4581                        	longa	off
  4582 06:0A22: A9 80        	lda	#$80
  4583 06:0A24: 87 01        	sta	[<R0]
  4584 06:0A26: C2 20        	rep	#$20
  4585                        	longa	on
  4586 06:0A28: E6 05        	inc	<L153+colorIndex_1
  4587 06:0A2A: D0 02        	bne	L164
  4588 06:0A2C: E6 07        	inc	<L153+colorIndex_1+2
  4589                        L164:
  4590                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4591                        	.line	621
  4592 06:0A2E: 18           	clc
  4593 06:0A2F: A9 00 20     	lda	#$2000
  4594 06:0A32: 65 05        	adc	<L153+colorIndex_1
  4595 06:0A34: 85 01        	sta	<R0
  4596 06:0A36: A9 AF 00     	lda	#$af
  4597 06:0A39: 65 07        	adc	<L153+colorIndex_1+2
  4598 06:0A3B: 85 03        	sta	<R0+2
  4599 06:0A3D: E2 20        	sep	#$20
  4600                        	longa	off
  4601 06:0A3F: A9 00        	lda	#$0
  4602 06:0A41: 87 01        	sta	[<R0]
  4603 06:0A43: C2 20        	rep	#$20
  4604                        	longa	on
  4605 06:0A45: E6 05        	inc	<L153+colorIndex_1
  4606 06:0A47: D0 02        	bne	L165
  4607 06:0A49: E6 07        	inc	<L153+colorIndex_1+2
  4608                        L165:
  4609                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4610                        	.line	622
  4611 06:0A4B: 18           	clc
  4612 06:0A4C: A9 00 20     	lda	#$2000
  4613 06:0A4F: 65 05        	adc	<L153+colorIndex_1
  4614 06:0A51: 85 01        	sta	<R0
  4615 06:0A53: A9 AF 00     	lda	#$af
  4616 06:0A56: 65 07        	adc	<L153+colorIndex_1+2
  4617 06:0A58: 85 03        	sta	<R0+2
  4618 06:0A5A: E2 20        	sep	#$20
  4619                        	longa	off
  4620 06:0A5C: A9 FF        	lda	#$ff
  4621 06:0A5E: 87 01        	sta	[<R0]
  4622 06:0A60: C2 20        	rep	#$20
  4623                        	longa	on
  4624 06:0A62: E6 05        	inc	<L153+colorIndex_1
  4625 06:0A64: D0 02        	bne	L166
  4626 06:0A66: E6 07        	inc	<L153+colorIndex_1+2
  4627                        L166:
  4628                        ;
  4629                        ;
  4630                        ;	//colorIndex = 3 * 4;
  4631                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4632                        	.line	626
  4633 06:0A68: 18           	clc
  4634 06:0A69: A9 00 20     	lda	#$2000
  4635 06:0A6C: 65 05        	adc	<L153+colorIndex_1
  4636 06:0A6E: 85 01        	sta	<R0
  4637 06:0A70: A9 AF 00     	lda	#$af
  Mon Aug  9 2021 16:52                                                Page 93


  4638 06:0A73: 65 07        	adc	<L153+colorIndex_1+2
  4639 06:0A75: 85 03        	sta	<R0+2
  4640 06:0A77: E2 20        	sep	#$20
  4641                        	longa	off
  4642 06:0A79: A9 80        	lda	#$80
  4643 06:0A7B: 87 01        	sta	[<R0]
  4644 06:0A7D: C2 20        	rep	#$20
  4645                        	longa	on
  4646 06:0A7F: E6 05        	inc	<L153+colorIndex_1
  4647 06:0A81: D0 02        	bne	L167
  4648 06:0A83: E6 07        	inc	<L153+colorIndex_1+2
  4649                        L167:
  4650                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4651                        	.line	627
  4652 06:0A85: 18           	clc
  4653 06:0A86: A9 00 20     	lda	#$2000
  4654 06:0A89: 65 05        	adc	<L153+colorIndex_1
  4655 06:0A8B: 85 01        	sta	<R0
  4656 06:0A8D: A9 AF 00     	lda	#$af
  4657 06:0A90: 65 07        	adc	<L153+colorIndex_1+2
  4658 06:0A92: 85 03        	sta	<R0+2
  4659 06:0A94: E2 20        	sep	#$20
  4660                        	longa	off
  4661 06:0A96: A9 00        	lda	#$0
  4662 06:0A98: 87 01        	sta	[<R0]
  4663 06:0A9A: C2 20        	rep	#$20
  4664                        	longa	on
  4665 06:0A9C: E6 05        	inc	<L153+colorIndex_1
  4666 06:0A9E: D0 02        	bne	L168
  4667 06:0AA0: E6 07        	inc	<L153+colorIndex_1+2
  4668                        L168:
  4669                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4670                        	.line	628
  4671 06:0AA2: 18           	clc
  4672 06:0AA3: A9 00 20     	lda	#$2000
  4673 06:0AA6: 65 05        	adc	<L153+colorIndex_1
  4674 06:0AA8: 85 01        	sta	<R0
  4675 06:0AAA: A9 AF 00     	lda	#$af
  4676 06:0AAD: 65 07        	adc	<L153+colorIndex_1+2
  4677 06:0AAF: 85 03        	sta	<R0+2
  4678 06:0AB1: E2 20        	sep	#$20
  4679                        	longa	off
  4680 06:0AB3: A9 00        	lda	#$0
  4681 06:0AB5: 87 01        	sta	[<R0]
  4682 06:0AB7: C2 20        	rep	#$20
  4683                        	longa	on
  4684 06:0AB9: E6 05        	inc	<L153+colorIndex_1
  4685 06:0ABB: D0 02        	bne	L169
  4686 06:0ABD: E6 07        	inc	<L153+colorIndex_1+2
  4687                        L169:
  4688                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4689                        	.line	629
  4690 06:0ABF: 18           	clc
  4691 06:0AC0: A9 00 20     	lda	#$2000
  4692 06:0AC3: 65 05        	adc	<L153+colorIndex_1
  4693 06:0AC5: 85 01        	sta	<R0
  4694 06:0AC7: A9 AF 00     	lda	#$af
  4695 06:0ACA: 65 07        	adc	<L153+colorIndex_1+2
  Mon Aug  9 2021 16:52                                                Page 94


  4696 06:0ACC: 85 03        	sta	<R0+2
  4697 06:0ACE: E2 20        	sep	#$20
  4698                        	longa	off
  4699 06:0AD0: A9 FF        	lda	#$ff
  4700 06:0AD2: 87 01        	sta	[<R0]
  4701 06:0AD4: C2 20        	rep	#$20
  4702                        	longa	on
  4703 06:0AD6: E6 05        	inc	<L153+colorIndex_1
  4704 06:0AD8: D0 02        	bne	L170
  4705 06:0ADA: E6 07        	inc	<L153+colorIndex_1+2
  4706                        L170:
  4707                        ;
  4708                        ;	//colorIndex = 4 * 4;
  4709                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4710                        	.line	632
  4711 06:0ADC: 18           	clc
  4712 06:0ADD: A9 00 20     	lda	#$2000
  4713 06:0AE0: 65 05        	adc	<L153+colorIndex_1
  4714 06:0AE2: 85 01        	sta	<R0
  4715 06:0AE4: A9 AF 00     	lda	#$af
  4716 06:0AE7: 65 07        	adc	<L153+colorIndex_1+2
  4717 06:0AE9: 85 03        	sta	<R0+2
  4718 06:0AEB: E2 20        	sep	#$20
  4719                        	longa	off
  4720 06:0AED: A9 00        	lda	#$0
  4721 06:0AEF: 87 01        	sta	[<R0]
  4722 06:0AF1: C2 20        	rep	#$20
  4723                        	longa	on
  4724 06:0AF3: E6 05        	inc	<L153+colorIndex_1
  4725 06:0AF5: D0 02        	bne	L171
  4726 06:0AF7: E6 07        	inc	<L153+colorIndex_1+2
  4727                        L171:
  4728                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4729                        	.line	633
  4730 06:0AF9: 18           	clc
  4731 06:0AFA: A9 00 20     	lda	#$2000
  4732 06:0AFD: 65 05        	adc	<L153+colorIndex_1
  4733 06:0AFF: 85 01        	sta	<R0
  4734 06:0B01: A9 AF 00     	lda	#$af
  4735 06:0B04: 65 07        	adc	<L153+colorIndex_1+2
  4736 06:0B06: 85 03        	sta	<R0+2
  4737 06:0B08: E2 20        	sep	#$20
  4738                        	longa	off
  4739 06:0B0A: A9 80        	lda	#$80
  4740 06:0B0C: 87 01        	sta	[<R0]
  4741 06:0B0E: C2 20        	rep	#$20
  4742                        	longa	on
  4743 06:0B10: E6 05        	inc	<L153+colorIndex_1
  4744 06:0B12: D0 02        	bne	L172
  4745 06:0B14: E6 07        	inc	<L153+colorIndex_1+2
  4746                        L172:
  4747                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4748                        	.line	634
  4749 06:0B16: 18           	clc
  4750 06:0B17: A9 00 20     	lda	#$2000
  4751 06:0B1A: 65 05        	adc	<L153+colorIndex_1
  4752 06:0B1C: 85 01        	sta	<R0
  4753 06:0B1E: A9 AF 00     	lda	#$af
  Mon Aug  9 2021 16:52                                                Page 95


  4754 06:0B21: 65 07        	adc	<L153+colorIndex_1+2
  4755 06:0B23: 85 03        	sta	<R0+2
  4756 06:0B25: E2 20        	sep	#$20
  4757                        	longa	off
  4758 06:0B27: A9 80        	lda	#$80
  4759 06:0B29: 87 01        	sta	[<R0]
  4760 06:0B2B: C2 20        	rep	#$20
  4761                        	longa	on
  4762 06:0B2D: E6 05        	inc	<L153+colorIndex_1
  4763 06:0B2F: D0 02        	bne	L173
  4764 06:0B31: E6 07        	inc	<L153+colorIndex_1+2
  4765                        L173:
  4766                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4767                        	.line	635
  4768 06:0B33: 18           	clc
  4769 06:0B34: A9 00 20     	lda	#$2000
  4770 06:0B37: 65 05        	adc	<L153+colorIndex_1
  4771 06:0B39: 85 01        	sta	<R0
  4772 06:0B3B: A9 AF 00     	lda	#$af
  4773 06:0B3E: 65 07        	adc	<L153+colorIndex_1+2
  4774 06:0B40: 85 03        	sta	<R0+2
  4775 06:0B42: E2 20        	sep	#$20
  4776                        	longa	off
  4777 06:0B44: A9 FF        	lda	#$ff
  4778 06:0B46: 87 01        	sta	[<R0]
  4779 06:0B48: C2 20        	rep	#$20
  4780                        	longa	on
  4781 06:0B4A: E6 05        	inc	<L153+colorIndex_1
  4782 06:0B4C: D0 02        	bne	L174
  4783 06:0B4E: E6 07        	inc	<L153+colorIndex_1+2
  4784                        L174:
  4785                        ;
  4786                        ;	//colorIndex = 5 * 4;
  4787                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4788                        	.line	638
  4789 06:0B50: 18           	clc
  4790 06:0B51: A9 00 20     	lda	#$2000
  4791 06:0B54: 65 05        	adc	<L153+colorIndex_1
  4792 06:0B56: 85 01        	sta	<R0
  4793 06:0B58: A9 AF 00     	lda	#$af
  4794 06:0B5B: 65 07        	adc	<L153+colorIndex_1+2
  4795 06:0B5D: 85 03        	sta	<R0+2
  4796 06:0B5F: E2 20        	sep	#$20
  4797                        	longa	off
  4798 06:0B61: A9 80        	lda	#$80
  4799 06:0B63: 87 01        	sta	[<R0]
  4800 06:0B65: C2 20        	rep	#$20
  4801                        	longa	on
  4802 06:0B67: E6 05        	inc	<L153+colorIndex_1
  4803 06:0B69: D0 02        	bne	L175
  4804 06:0B6B: E6 07        	inc	<L153+colorIndex_1+2
  4805                        L175:
  4806                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4807                        	.line	639
  4808 06:0B6D: 18           	clc
  4809 06:0B6E: A9 00 20     	lda	#$2000
  4810 06:0B71: 65 05        	adc	<L153+colorIndex_1
  4811 06:0B73: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 96


  4812 06:0B75: A9 AF 00     	lda	#$af
  4813 06:0B78: 65 07        	adc	<L153+colorIndex_1+2
  4814 06:0B7A: 85 03        	sta	<R0+2
  4815 06:0B7C: E2 20        	sep	#$20
  4816                        	longa	off
  4817 06:0B7E: A9 80        	lda	#$80
  4818 06:0B80: 87 01        	sta	[<R0]
  4819 06:0B82: C2 20        	rep	#$20
  4820                        	longa	on
  4821 06:0B84: E6 05        	inc	<L153+colorIndex_1
  4822 06:0B86: D0 02        	bne	L176
  4823 06:0B88: E6 07        	inc	<L153+colorIndex_1+2
  4824                        L176:
  4825                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4826                        	.line	640
  4827 06:0B8A: 18           	clc
  4828 06:0B8B: A9 00 20     	lda	#$2000
  4829 06:0B8E: 65 05        	adc	<L153+colorIndex_1
  4830 06:0B90: 85 01        	sta	<R0
  4831 06:0B92: A9 AF 00     	lda	#$af
  4832 06:0B95: 65 07        	adc	<L153+colorIndex_1+2
  4833 06:0B97: 85 03        	sta	<R0+2
  4834 06:0B99: E2 20        	sep	#$20
  4835                        	longa	off
  4836 06:0B9B: A9 00        	lda	#$0
  4837 06:0B9D: 87 01        	sta	[<R0]
  4838 06:0B9F: C2 20        	rep	#$20
  4839                        	longa	on
  4840 06:0BA1: E6 05        	inc	<L153+colorIndex_1
  4841 06:0BA3: D0 02        	bne	L177
  4842 06:0BA5: E6 07        	inc	<L153+colorIndex_1+2
  4843                        L177:
  4844                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4845                        	.line	641
  4846 06:0BA7: 18           	clc
  4847 06:0BA8: A9 00 20     	lda	#$2000
  4848 06:0BAB: 65 05        	adc	<L153+colorIndex_1
  4849 06:0BAD: 85 01        	sta	<R0
  4850 06:0BAF: A9 AF 00     	lda	#$af
  4851 06:0BB2: 65 07        	adc	<L153+colorIndex_1+2
  4852 06:0BB4: 85 03        	sta	<R0+2
  4853 06:0BB6: E2 20        	sep	#$20
  4854                        	longa	off
  4855 06:0BB8: A9 FF        	lda	#$ff
  4856 06:0BBA: 87 01        	sta	[<R0]
  4857 06:0BBC: C2 20        	rep	#$20
  4858                        	longa	on
  4859 06:0BBE: E6 05        	inc	<L153+colorIndex_1
  4860 06:0BC0: D0 02        	bne	L178
  4861 06:0BC2: E6 07        	inc	<L153+colorIndex_1+2
  4862                        L178:
  4863                        ;
  4864                        ;	//colorIndex = 6 * 4;
  4865                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4866                        	.line	644
  4867 06:0BC4: 18           	clc
  4868 06:0BC5: A9 00 20     	lda	#$2000
  4869 06:0BC8: 65 05        	adc	<L153+colorIndex_1
  Mon Aug  9 2021 16:52                                                Page 97


  4870 06:0BCA: 85 01        	sta	<R0
  4871 06:0BCC: A9 AF 00     	lda	#$af
  4872 06:0BCF: 65 07        	adc	<L153+colorIndex_1+2
  4873 06:0BD1: 85 03        	sta	<R0+2
  4874 06:0BD3: E2 20        	sep	#$20
  4875                        	longa	off
  4876 06:0BD5: A9 80        	lda	#$80
  4877 06:0BD7: 87 01        	sta	[<R0]
  4878 06:0BD9: C2 20        	rep	#$20
  4879                        	longa	on
  4880 06:0BDB: E6 05        	inc	<L153+colorIndex_1
  4881 06:0BDD: D0 02        	bne	L179
  4882 06:0BDF: E6 07        	inc	<L153+colorIndex_1+2
  4883                        L179:
  4884                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4885                        	.line	645
  4886 06:0BE1: 18           	clc
  4887 06:0BE2: A9 00 20     	lda	#$2000
  4888 06:0BE5: 65 05        	adc	<L153+colorIndex_1
  4889 06:0BE7: 85 01        	sta	<R0
  4890 06:0BE9: A9 AF 00     	lda	#$af
  4891 06:0BEC: 65 07        	adc	<L153+colorIndex_1+2
  4892 06:0BEE: 85 03        	sta	<R0+2
  4893 06:0BF0: E2 20        	sep	#$20
  4894                        	longa	off
  4895 06:0BF2: A9 00        	lda	#$0
  4896 06:0BF4: 87 01        	sta	[<R0]
  4897 06:0BF6: C2 20        	rep	#$20
  4898                        	longa	on
  4899 06:0BF8: E6 05        	inc	<L153+colorIndex_1
  4900 06:0BFA: D0 02        	bne	L180
  4901 06:0BFC: E6 07        	inc	<L153+colorIndex_1+2
  4902                        L180:
  4903                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4904                        	.line	646
  4905 06:0BFE: 18           	clc
  4906 06:0BFF: A9 00 20     	lda	#$2000
  4907 06:0C02: 65 05        	adc	<L153+colorIndex_1
  4908 06:0C04: 85 01        	sta	<R0
  4909 06:0C06: A9 AF 00     	lda	#$af
  4910 06:0C09: 65 07        	adc	<L153+colorIndex_1+2
  4911 06:0C0B: 85 03        	sta	<R0+2
  4912 06:0C0D: E2 20        	sep	#$20
  4913                        	longa	off
  4914 06:0C0F: A9 80        	lda	#$80
  4915 06:0C11: 87 01        	sta	[<R0]
  4916 06:0C13: C2 20        	rep	#$20
  4917                        	longa	on
  4918 06:0C15: E6 05        	inc	<L153+colorIndex_1
  4919 06:0C17: D0 02        	bne	L181
  4920 06:0C19: E6 07        	inc	<L153+colorIndex_1+2
  4921                        L181:
  4922                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4923                        	.line	647
  4924 06:0C1B: 18           	clc
  4925 06:0C1C: A9 00 20     	lda	#$2000
  4926 06:0C1F: 65 05        	adc	<L153+colorIndex_1
  4927 06:0C21: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 98


  4928 06:0C23: A9 AF 00     	lda	#$af
  4929 06:0C26: 65 07        	adc	<L153+colorIndex_1+2
  4930 06:0C28: 85 03        	sta	<R0+2
  4931 06:0C2A: E2 20        	sep	#$20
  4932                        	longa	off
  4933 06:0C2C: A9 FF        	lda	#$ff
  4934 06:0C2E: 87 01        	sta	[<R0]
  4935 06:0C30: C2 20        	rep	#$20
  4936                        	longa	on
  4937 06:0C32: E6 05        	inc	<L153+colorIndex_1
  4938 06:0C34: D0 02        	bne	L182
  4939 06:0C36: E6 07        	inc	<L153+colorIndex_1+2
  4940                        L182:
  4941                        ;
  4942                        ;	//colorIndex = 7 * 4;
  4943                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4944                        	.line	650
  4945 06:0C38: 18           	clc
  4946 06:0C39: A9 00 20     	lda	#$2000
  4947 06:0C3C: 65 05        	adc	<L153+colorIndex_1
  4948 06:0C3E: 85 01        	sta	<R0
  4949 06:0C40: A9 AF 00     	lda	#$af
  4950 06:0C43: 65 07        	adc	<L153+colorIndex_1+2
  4951 06:0C45: 85 03        	sta	<R0+2
  4952 06:0C47: E2 20        	sep	#$20
  4953                        	longa	off
  4954 06:0C49: A9 00        	lda	#$0
  4955 06:0C4B: 87 01        	sta	[<R0]
  4956 06:0C4D: C2 20        	rep	#$20
  4957                        	longa	on
  4958 06:0C4F: E6 05        	inc	<L153+colorIndex_1
  4959 06:0C51: D0 02        	bne	L183
  4960 06:0C53: E6 07        	inc	<L153+colorIndex_1+2
  4961                        L183:
  4962                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  4963                        	.line	651
  4964 06:0C55: 18           	clc
  4965 06:0C56: A9 00 20     	lda	#$2000
  4966 06:0C59: 65 05        	adc	<L153+colorIndex_1
  4967 06:0C5B: 85 01        	sta	<R0
  4968 06:0C5D: A9 AF 00     	lda	#$af
  4969 06:0C60: 65 07        	adc	<L153+colorIndex_1+2
  4970 06:0C62: 85 03        	sta	<R0+2
  4971 06:0C64: E2 20        	sep	#$20
  4972                        	longa	off
  4973 06:0C66: A9 45        	lda	#$45
  4974 06:0C68: 87 01        	sta	[<R0]
  4975 06:0C6A: C2 20        	rep	#$20
  4976                        	longa	on
  4977 06:0C6C: E6 05        	inc	<L153+colorIndex_1
  4978 06:0C6E: D0 02        	bne	L184
  4979 06:0C70: E6 07        	inc	<L153+colorIndex_1+2
  4980                        L184:
  4981                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4982                        	.line	652
  4983 06:0C72: 18           	clc
  4984 06:0C73: A9 00 20     	lda	#$2000
  4985 06:0C76: 65 05        	adc	<L153+colorIndex_1
  Mon Aug  9 2021 16:52                                                Page 99


  4986 06:0C78: 85 01        	sta	<R0
  4987 06:0C7A: A9 AF 00     	lda	#$af
  4988 06:0C7D: 65 07        	adc	<L153+colorIndex_1+2
  4989 06:0C7F: 85 03        	sta	<R0+2
  4990 06:0C81: E2 20        	sep	#$20
  4991                        	longa	off
  4992 06:0C83: A9 FF        	lda	#$ff
  4993 06:0C85: 87 01        	sta	[<R0]
  4994 06:0C87: C2 20        	rep	#$20
  4995                        	longa	on
  4996 06:0C89: E6 05        	inc	<L153+colorIndex_1
  4997 06:0C8B: D0 02        	bne	L185
  4998 06:0C8D: E6 07        	inc	<L153+colorIndex_1+2
  4999                        L185:
  5000                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5001                        	.line	653
  5002 06:0C8F: 18           	clc
  5003 06:0C90: A9 00 20     	lda	#$2000
  5004 06:0C93: 65 05        	adc	<L153+colorIndex_1
  5005 06:0C95: 85 01        	sta	<R0
  5006 06:0C97: A9 AF 00     	lda	#$af
  5007 06:0C9A: 65 07        	adc	<L153+colorIndex_1+2
  5008 06:0C9C: 85 03        	sta	<R0+2
  5009 06:0C9E: E2 20        	sep	#$20
  5010                        	longa	off
  5011 06:0CA0: A9 FF        	lda	#$ff
  5012 06:0CA2: 87 01        	sta	[<R0]
  5013 06:0CA4: C2 20        	rep	#$20
  5014                        	longa	on
  5015 06:0CA6: E6 05        	inc	<L153+colorIndex_1
  5016 06:0CA8: D0 02        	bne	L186
  5017 06:0CAA: E6 07        	inc	<L153+colorIndex_1+2
  5018                        L186:
  5019                        ;
  5020                        ;	//colorIndex = 8 * 4;
  5021                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x13;
  5022                        	.line	656
  5023 06:0CAC: 18           	clc
  5024 06:0CAD: A9 00 20     	lda	#$2000
  5025 06:0CB0: 65 05        	adc	<L153+colorIndex_1
  5026 06:0CB2: 85 01        	sta	<R0
  5027 06:0CB4: A9 AF 00     	lda	#$af
  5028 06:0CB7: 65 07        	adc	<L153+colorIndex_1+2
  5029 06:0CB9: 85 03        	sta	<R0+2
  5030 06:0CBB: E2 20        	sep	#$20
  5031                        	longa	off
  5032 06:0CBD: A9 13        	lda	#$13
  5033 06:0CBF: 87 01        	sta	[<R0]
  5034 06:0CC1: C2 20        	rep	#$20
  5035                        	longa	on
  5036 06:0CC3: E6 05        	inc	<L153+colorIndex_1
  5037 06:0CC5: D0 02        	bne	L187
  5038 06:0CC7: E6 07        	inc	<L153+colorIndex_1+2
  5039                        L187:
  5040                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  5041                        	.line	657
  5042 06:0CC9: 18           	clc
  5043 06:0CCA: A9 00 20     	lda	#$2000
  Mon Aug  9 2021 16:52                                                Page 100


  5044 06:0CCD: 65 05        	adc	<L153+colorIndex_1
  5045 06:0CCF: 85 01        	sta	<R0
  5046 06:0CD1: A9 AF 00     	lda	#$af
  5047 06:0CD4: 65 07        	adc	<L153+colorIndex_1+2
  5048 06:0CD6: 85 03        	sta	<R0+2
  5049 06:0CD8: E2 20        	sep	#$20
  5050                        	longa	off
  5051 06:0CDA: A9 45        	lda	#$45
  5052 06:0CDC: 87 01        	sta	[<R0]
  5053 06:0CDE: C2 20        	rep	#$20
  5054                        	longa	on
  5055 06:0CE0: E6 05        	inc	<L153+colorIndex_1
  5056 06:0CE2: D0 02        	bne	L188
  5057 06:0CE4: E6 07        	inc	<L153+colorIndex_1+2
  5058                        L188:
  5059                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x8B;
  5060                        	.line	658
  5061 06:0CE6: 18           	clc
  5062 06:0CE7: A9 00 20     	lda	#$2000
  5063 06:0CEA: 65 05        	adc	<L153+colorIndex_1
  5064 06:0CEC: 85 01        	sta	<R0
  5065 06:0CEE: A9 AF 00     	lda	#$af
  5066 06:0CF1: 65 07        	adc	<L153+colorIndex_1+2
  5067 06:0CF3: 85 03        	sta	<R0+2
  5068 06:0CF5: E2 20        	sep	#$20
  5069                        	longa	off
  5070 06:0CF7: A9 8B        	lda	#$8b
  5071 06:0CF9: 87 01        	sta	[<R0]
  5072 06:0CFB: C2 20        	rep	#$20
  5073                        	longa	on
  5074 06:0CFD: E6 05        	inc	<L153+colorIndex_1
  5075 06:0CFF: D0 02        	bne	L189
  5076 06:0D01: E6 07        	inc	<L153+colorIndex_1+2
  5077                        L189:
  5078                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5079                        	.line	659
  5080 06:0D03: 18           	clc
  5081 06:0D04: A9 00 20     	lda	#$2000
  5082 06:0D07: 65 05        	adc	<L153+colorIndex_1
  5083 06:0D09: 85 01        	sta	<R0
  5084 06:0D0B: A9 AF 00     	lda	#$af
  5085 06:0D0E: 65 07        	adc	<L153+colorIndex_1+2
  5086 06:0D10: 85 03        	sta	<R0+2
  5087 06:0D12: E2 20        	sep	#$20
  5088                        	longa	off
  5089 06:0D14: A9 FF        	lda	#$ff
  5090 06:0D16: 87 01        	sta	[<R0]
  5091 06:0D18: C2 20        	rep	#$20
  5092                        	longa	on
  5093 06:0D1A: E6 05        	inc	<L153+colorIndex_1
  5094 06:0D1C: D0 02        	bne	L190
  5095 06:0D1E: E6 07        	inc	<L153+colorIndex_1+2
  5096                        L190:
  5097                        ;
  5098                        ;	//colorIndex = 9 * 4;
  5099                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5100                        	.line	662
  5101 06:0D20: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 101


  5102 06:0D21: A9 00 20     	lda	#$2000
  5103 06:0D24: 65 05        	adc	<L153+colorIndex_1
  5104 06:0D26: 85 01        	sta	<R0
  5105 06:0D28: A9 AF 00     	lda	#$af
  5106 06:0D2B: 65 07        	adc	<L153+colorIndex_1+2
  5107 06:0D2D: 85 03        	sta	<R0+2
  5108 06:0D2F: E2 20        	sep	#$20
  5109                        	longa	off
  5110 06:0D31: A9 00        	lda	#$0
  5111 06:0D33: 87 01        	sta	[<R0]
  5112 06:0D35: C2 20        	rep	#$20
  5113                        	longa	on
  5114 06:0D37: E6 05        	inc	<L153+colorIndex_1
  5115 06:0D39: D0 02        	bne	L191
  5116 06:0D3B: E6 07        	inc	<L153+colorIndex_1+2
  5117                        L191:
  5118                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5119                        	.line	663
  5120 06:0D3D: 18           	clc
  5121 06:0D3E: A9 00 20     	lda	#$2000
  5122 06:0D41: 65 05        	adc	<L153+colorIndex_1
  5123 06:0D43: 85 01        	sta	<R0
  5124 06:0D45: A9 AF 00     	lda	#$af
  5125 06:0D48: 65 07        	adc	<L153+colorIndex_1+2
  5126 06:0D4A: 85 03        	sta	<R0+2
  5127 06:0D4C: E2 20        	sep	#$20
  5128                        	longa	off
  5129 06:0D4E: A9 00        	lda	#$0
  5130 06:0D50: 87 01        	sta	[<R0]
  5131 06:0D52: C2 20        	rep	#$20
  5132                        	longa	on
  5133 06:0D54: E6 05        	inc	<L153+colorIndex_1
  5134 06:0D56: D0 02        	bne	L192
  5135 06:0D58: E6 07        	inc	<L153+colorIndex_1+2
  5136                        L192:
  5137                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  5138                        	.line	664
  5139 06:0D5A: 18           	clc
  5140 06:0D5B: A9 00 20     	lda	#$2000
  5141 06:0D5E: 65 05        	adc	<L153+colorIndex_1
  5142 06:0D60: 85 01        	sta	<R0
  5143 06:0D62: A9 AF 00     	lda	#$af
  5144 06:0D65: 65 07        	adc	<L153+colorIndex_1+2
  5145 06:0D67: 85 03        	sta	<R0+2
  5146 06:0D69: E2 20        	sep	#$20
  5147                        	longa	off
  5148 06:0D6B: A9 20        	lda	#$20
  5149 06:0D6D: 87 01        	sta	[<R0]
  5150 06:0D6F: C2 20        	rep	#$20
  5151                        	longa	on
  5152 06:0D71: E6 05        	inc	<L153+colorIndex_1
  5153 06:0D73: D0 02        	bne	L193
  5154 06:0D75: E6 07        	inc	<L153+colorIndex_1+2
  5155                        L193:
  5156                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5157                        	.line	665
  5158 06:0D77: 18           	clc
  5159 06:0D78: A9 00 20     	lda	#$2000
  Mon Aug  9 2021 16:52                                                Page 102


  5160 06:0D7B: 65 05        	adc	<L153+colorIndex_1
  5161 06:0D7D: 85 01        	sta	<R0
  5162 06:0D7F: A9 AF 00     	lda	#$af
  5163 06:0D82: 65 07        	adc	<L153+colorIndex_1+2
  5164 06:0D84: 85 03        	sta	<R0+2
  5165 06:0D86: E2 20        	sep	#$20
  5166                        	longa	off
  5167 06:0D88: A9 FF        	lda	#$ff
  5168 06:0D8A: 87 01        	sta	[<R0]
  5169 06:0D8C: C2 20        	rep	#$20
  5170                        	longa	on
  5171 06:0D8E: E6 05        	inc	<L153+colorIndex_1
  5172 06:0D90: D0 02        	bne	L194
  5173 06:0D92: E6 07        	inc	<L153+colorIndex_1+2
  5174                        L194:
  5175                        ;
  5176                        ;	//colorIndex = 10 * 4;
  5177                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5178                        	.line	668
  5179 06:0D94: 18           	clc
  5180 06:0D95: A9 00 20     	lda	#$2000
  5181 06:0D98: 65 05        	adc	<L153+colorIndex_1
  5182 06:0D9A: 85 01        	sta	<R0
  5183 06:0D9C: A9 AF 00     	lda	#$af
  5184 06:0D9F: 65 07        	adc	<L153+colorIndex_1+2
  5185 06:0DA1: 85 03        	sta	<R0+2
  5186 06:0DA3: E2 20        	sep	#$20
  5187                        	longa	off
  5188 06:0DA5: A9 00        	lda	#$0
  5189 06:0DA7: 87 01        	sta	[<R0]
  5190 06:0DA9: C2 20        	rep	#$20
  5191                        	longa	on
  5192 06:0DAB: E6 05        	inc	<L153+colorIndex_1
  5193 06:0DAD: D0 02        	bne	L195
  5194 06:0DAF: E6 07        	inc	<L153+colorIndex_1+2
  5195                        L195:
  5196                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  5197                        	.line	669
  5198 06:0DB1: 18           	clc
  5199 06:0DB2: A9 00 20     	lda	#$2000
  5200 06:0DB5: 65 05        	adc	<L153+colorIndex_1
  5201 06:0DB7: 85 01        	sta	<R0
  5202 06:0DB9: A9 AF 00     	lda	#$af
  5203 06:0DBC: 65 07        	adc	<L153+colorIndex_1+2
  5204 06:0DBE: 85 03        	sta	<R0+2
  5205 06:0DC0: E2 20        	sep	#$20
  5206                        	longa	off
  5207 06:0DC2: A9 20        	lda	#$20
  5208 06:0DC4: 87 01        	sta	[<R0]
  5209 06:0DC6: C2 20        	rep	#$20
  5210                        	longa	on
  5211 06:0DC8: E6 05        	inc	<L153+colorIndex_1
  5212 06:0DCA: D0 02        	bne	L196
  5213 06:0DCC: E6 07        	inc	<L153+colorIndex_1+2
  5214                        L196:
  5215                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5216                        	.line	670
  5217 06:0DCE: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 103


  5218 06:0DCF: A9 00 20     	lda	#$2000
  5219 06:0DD2: 65 05        	adc	<L153+colorIndex_1
  5220 06:0DD4: 85 01        	sta	<R0
  5221 06:0DD6: A9 AF 00     	lda	#$af
  5222 06:0DD9: 65 07        	adc	<L153+colorIndex_1+2
  5223 06:0DDB: 85 03        	sta	<R0+2
  5224 06:0DDD: E2 20        	sep	#$20
  5225                        	longa	off
  5226 06:0DDF: A9 00        	lda	#$0
  5227 06:0DE1: 87 01        	sta	[<R0]
  5228 06:0DE3: C2 20        	rep	#$20
  5229                        	longa	on
  5230 06:0DE5: E6 05        	inc	<L153+colorIndex_1
  5231 06:0DE7: D0 02        	bne	L197
  5232 06:0DE9: E6 07        	inc	<L153+colorIndex_1+2
  5233                        L197:
  5234                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5235                        	.line	671
  5236 06:0DEB: 18           	clc
  5237 06:0DEC: A9 00 20     	lda	#$2000
  5238 06:0DEF: 65 05        	adc	<L153+colorIndex_1
  5239 06:0DF1: 85 01        	sta	<R0
  5240 06:0DF3: A9 AF 00     	lda	#$af
  5241 06:0DF6: 65 07        	adc	<L153+colorIndex_1+2
  5242 06:0DF8: 85 03        	sta	<R0+2
  5243 06:0DFA: E2 20        	sep	#$20
  5244                        	longa	off
  5245 06:0DFC: A9 FF        	lda	#$ff
  5246 06:0DFE: 87 01        	sta	[<R0]
  5247 06:0E00: C2 20        	rep	#$20
  5248                        	longa	on
  5249 06:0E02: E6 05        	inc	<L153+colorIndex_1
  5250 06:0E04: D0 02        	bne	L198
  5251 06:0E06: E6 07        	inc	<L153+colorIndex_1+2
  5252                        L198:
  5253                        ;
  5254                        ;	//colorIndex = 11 * 4;
  5255                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  5256                        	.line	674
  5257 06:0E08: 18           	clc
  5258 06:0E09: A9 00 20     	lda	#$2000
  5259 06:0E0C: 65 05        	adc	<L153+colorIndex_1
  5260 06:0E0E: 85 01        	sta	<R0
  5261 06:0E10: A9 AF 00     	lda	#$af
  5262 06:0E13: 65 07        	adc	<L153+colorIndex_1+2
  5263 06:0E15: 85 03        	sta	<R0+2
  5264 06:0E17: E2 20        	sep	#$20
  5265                        	longa	off
  5266 06:0E19: A9 20        	lda	#$20
  5267 06:0E1B: 87 01        	sta	[<R0]
  5268 06:0E1D: C2 20        	rep	#$20
  5269                        	longa	on
  5270 06:0E1F: E6 05        	inc	<L153+colorIndex_1
  5271 06:0E21: D0 02        	bne	L199
  5272 06:0E23: E6 07        	inc	<L153+colorIndex_1+2
  5273                        L199:
  5274                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5275                        	.line	675
  Mon Aug  9 2021 16:52                                                Page 104


  5276 06:0E25: 18           	clc
  5277 06:0E26: A9 00 20     	lda	#$2000
  5278 06:0E29: 65 05        	adc	<L153+colorIndex_1
  5279 06:0E2B: 85 01        	sta	<R0
  5280 06:0E2D: A9 AF 00     	lda	#$af
  5281 06:0E30: 65 07        	adc	<L153+colorIndex_1+2
  5282 06:0E32: 85 03        	sta	<R0+2
  5283 06:0E34: E2 20        	sep	#$20
  5284                        	longa	off
  5285 06:0E36: A9 00        	lda	#$0
  5286 06:0E38: 87 01        	sta	[<R0]
  5287 06:0E3A: C2 20        	rep	#$20
  5288                        	longa	on
  5289 06:0E3C: E6 05        	inc	<L153+colorIndex_1
  5290 06:0E3E: D0 02        	bne	L200
  5291 06:0E40: E6 07        	inc	<L153+colorIndex_1+2
  5292                        L200:
  5293                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5294                        	.line	676
  5295 06:0E42: 18           	clc
  5296 06:0E43: A9 00 20     	lda	#$2000
  5297 06:0E46: 65 05        	adc	<L153+colorIndex_1
  5298 06:0E48: 85 01        	sta	<R0
  5299 06:0E4A: A9 AF 00     	lda	#$af
  5300 06:0E4D: 65 07        	adc	<L153+colorIndex_1+2
  5301 06:0E4F: 85 03        	sta	<R0+2
  5302 06:0E51: E2 20        	sep	#$20
  5303                        	longa	off
  5304 06:0E53: A9 00        	lda	#$0
  5305 06:0E55: 87 01        	sta	[<R0]
  5306 06:0E57: C2 20        	rep	#$20
  5307                        	longa	on
  5308 06:0E59: E6 05        	inc	<L153+colorIndex_1
  5309 06:0E5B: D0 02        	bne	L201
  5310 06:0E5D: E6 07        	inc	<L153+colorIndex_1+2
  5311                        L201:
  5312                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5313                        	.line	677
  5314 06:0E5F: 18           	clc
  5315 06:0E60: A9 00 20     	lda	#$2000
  5316 06:0E63: 65 05        	adc	<L153+colorIndex_1
  5317 06:0E65: 85 01        	sta	<R0
  5318 06:0E67: A9 AF 00     	lda	#$af
  5319 06:0E6A: 65 07        	adc	<L153+colorIndex_1+2
  5320 06:0E6C: 85 03        	sta	<R0+2
  5321 06:0E6E: E2 20        	sep	#$20
  5322                        	longa	off
  5323 06:0E70: A9 FF        	lda	#$ff
  5324 06:0E72: 87 01        	sta	[<R0]
  5325 06:0E74: C2 20        	rep	#$20
  5326                        	longa	on
  5327 06:0E76: E6 05        	inc	<L153+colorIndex_1
  5328 06:0E78: D0 02        	bne	L202
  5329 06:0E7A: E6 07        	inc	<L153+colorIndex_1+2
  5330                        L202:
  5331                        ;
  5332                        ;	//colorIndex = 12 * 4;
  5333                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  Mon Aug  9 2021 16:52                                                Page 105


  5334                        	.line	680
  5335 06:0E7C: 18           	clc
  5336 06:0E7D: A9 00 20     	lda	#$2000
  5337 06:0E80: 65 05        	adc	<L153+colorIndex_1
  5338 06:0E82: 85 01        	sta	<R0
  5339 06:0E84: A9 AF 00     	lda	#$af
  5340 06:0E87: 65 07        	adc	<L153+colorIndex_1+2
  5341 06:0E89: 85 03        	sta	<R0+2
  5342 06:0E8B: E2 20        	sep	#$20
  5343                        	longa	off
  5344 06:0E8D: A9 00        	lda	#$0
  5345 06:0E8F: 87 01        	sta	[<R0]
  5346 06:0E91: C2 20        	rep	#$20
  5347                        	longa	on
  5348 06:0E93: E6 05        	inc	<L153+colorIndex_1
  5349 06:0E95: D0 02        	bne	L203
  5350 06:0E97: E6 07        	inc	<L153+colorIndex_1+2
  5351                        L203:
  5352                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5353                        	.line	681
  5354 06:0E99: 18           	clc
  5355 06:0E9A: A9 00 20     	lda	#$2000
  5356 06:0E9D: 65 05        	adc	<L153+colorIndex_1
  5357 06:0E9F: 85 01        	sta	<R0
  5358 06:0EA1: A9 AF 00     	lda	#$af
  5359 06:0EA4: 65 07        	adc	<L153+colorIndex_1+2
  5360 06:0EA6: 85 03        	sta	<R0+2
  5361 06:0EA8: E2 20        	sep	#$20
  5362                        	longa	off
  5363 06:0EAA: A9 00        	lda	#$0
  5364 06:0EAC: 87 01        	sta	[<R0]
  5365 06:0EAE: C2 20        	rep	#$20
  5366                        	longa	on
  5367 06:0EB0: E6 05        	inc	<L153+colorIndex_1
  5368 06:0EB2: D0 02        	bne	L204
  5369 06:0EB4: E6 07        	inc	<L153+colorIndex_1+2
  5370                        L204:
  5371                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5372                        	.line	682
  5373 06:0EB6: 18           	clc
  5374 06:0EB7: A9 00 20     	lda	#$2000
  5375 06:0EBA: 65 05        	adc	<L153+colorIndex_1
  5376 06:0EBC: 85 01        	sta	<R0
  5377 06:0EBE: A9 AF 00     	lda	#$af
  5378 06:0EC1: 65 07        	adc	<L153+colorIndex_1+2
  5379 06:0EC3: 85 03        	sta	<R0+2
  5380 06:0EC5: E2 20        	sep	#$20
  5381                        	longa	off
  5382 06:0EC7: A9 00        	lda	#$0
  5383 06:0EC9: 87 01        	sta	[<R0]
  5384 06:0ECB: C2 20        	rep	#$20
  5385                        	longa	on
  5386 06:0ECD: E6 05        	inc	<L153+colorIndex_1
  5387 06:0ECF: D0 02        	bne	L205
  5388 06:0ED1: E6 07        	inc	<L153+colorIndex_1+2
  5389                        L205:
  5390                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5391                        	.line	683
  Mon Aug  9 2021 16:52                                                Page 106


  5392 06:0ED3: 18           	clc
  5393 06:0ED4: A9 00 20     	lda	#$2000
  5394 06:0ED7: 65 05        	adc	<L153+colorIndex_1
  5395 06:0ED9: 85 01        	sta	<R0
  5396 06:0EDB: A9 AF 00     	lda	#$af
  5397 06:0EDE: 65 07        	adc	<L153+colorIndex_1+2
  5398 06:0EE0: 85 03        	sta	<R0+2
  5399 06:0EE2: E2 20        	sep	#$20
  5400                        	longa	off
  5401 06:0EE4: A9 FF        	lda	#$ff
  5402 06:0EE6: 87 01        	sta	[<R0]
  5403 06:0EE8: C2 20        	rep	#$20
  5404                        	longa	on
  5405 06:0EEA: E6 05        	inc	<L153+colorIndex_1
  5406 06:0EEC: D0 02        	bne	L206
  5407 06:0EEE: E6 07        	inc	<L153+colorIndex_1+2
  5408                        L206:
  5409                        ;
  5410                        ;	//colorIndex = 13 * 4;
  5411                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  5412                        	.line	686
  5413 06:0EF0: 18           	clc
  5414 06:0EF1: A9 00 20     	lda	#$2000
  5415 06:0EF4: 65 05        	adc	<L153+colorIndex_1
  5416 06:0EF6: 85 01        	sta	<R0
  5417 06:0EF8: A9 AF 00     	lda	#$af
  5418 06:0EFB: 65 07        	adc	<L153+colorIndex_1+2
  5419 06:0EFD: 85 03        	sta	<R0+2
  5420 06:0EFF: E2 20        	sep	#$20
  5421                        	longa	off
  5422 06:0F01: A9 50        	lda	#$50
  5423 06:0F03: 87 01        	sta	[<R0]
  5424 06:0F05: C2 20        	rep	#$20
  5425                        	longa	on
  5426 06:0F07: E6 05        	inc	<L153+colorIndex_1
  5427 06:0F09: D0 02        	bne	L207
  5428 06:0F0B: E6 07        	inc	<L153+colorIndex_1+2
  5429                        L207:
  5430                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  5431                        	.line	687
  5432 06:0F0D: 18           	clc
  5433 06:0F0E: A9 00 20     	lda	#$2000
  5434 06:0F11: 65 05        	adc	<L153+colorIndex_1
  5435 06:0F13: 85 01        	sta	<R0
  5436 06:0F15: A9 AF 00     	lda	#$af
  5437 06:0F18: 65 07        	adc	<L153+colorIndex_1+2
  5438 06:0F1A: 85 03        	sta	<R0+2
  5439 06:0F1C: E2 20        	sep	#$20
  5440                        	longa	off
  5441 06:0F1E: A9 50        	lda	#$50
  5442 06:0F20: 87 01        	sta	[<R0]
  5443 06:0F22: C2 20        	rep	#$20
  5444                        	longa	on
  5445 06:0F24: E6 05        	inc	<L153+colorIndex_1
  5446 06:0F26: D0 02        	bne	L208
  5447 06:0F28: E6 07        	inc	<L153+colorIndex_1+2
  5448                        L208:
  5449                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  Mon Aug  9 2021 16:52                                                Page 107


  5450                        	.line	688
  5451 06:0F2A: 18           	clc
  5452 06:0F2B: A9 00 20     	lda	#$2000
  5453 06:0F2E: 65 05        	adc	<L153+colorIndex_1
  5454 06:0F30: 85 01        	sta	<R0
  5455 06:0F32: A9 AF 00     	lda	#$af
  5456 06:0F35: 65 07        	adc	<L153+colorIndex_1+2
  5457 06:0F37: 85 03        	sta	<R0+2
  5458 06:0F39: E2 20        	sep	#$20
  5459                        	longa	off
  5460 06:0F3B: A9 50        	lda	#$50
  5461 06:0F3D: 87 01        	sta	[<R0]
  5462 06:0F3F: C2 20        	rep	#$20
  5463                        	longa	on
  5464 06:0F41: E6 05        	inc	<L153+colorIndex_1
  5465 06:0F43: D0 02        	bne	L209
  5466 06:0F45: E6 07        	inc	<L153+colorIndex_1+2
  5467                        L209:
  5468                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5469                        	.line	689
  5470 06:0F47: 18           	clc
  5471 06:0F48: A9 00 20     	lda	#$2000
  5472 06:0F4B: 65 05        	adc	<L153+colorIndex_1
  5473 06:0F4D: 85 01        	sta	<R0
  5474 06:0F4F: A9 AF 00     	lda	#$af
  5475 06:0F52: 65 07        	adc	<L153+colorIndex_1+2
  5476 06:0F54: 85 03        	sta	<R0+2
  5477 06:0F56: E2 20        	sep	#$20
  5478                        	longa	off
  5479 06:0F58: A9 FF        	lda	#$ff
  5480 06:0F5A: 87 01        	sta	[<R0]
  5481 06:0F5C: C2 20        	rep	#$20
  5482                        	longa	on
  5483 06:0F5E: E6 05        	inc	<L153+colorIndex_1
  5484 06:0F60: D0 02        	bne	L210
  5485 06:0F62: E6 07        	inc	<L153+colorIndex_1+2
  5486                        L210:
  5487                        ;
  5488                        ;	//colorIndex = 14 * 4;
  5489                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  5490                        	.line	692
  5491 06:0F64: 18           	clc
  5492 06:0F65: A9 00 20     	lda	#$2000
  5493 06:0F68: 65 05        	adc	<L153+colorIndex_1
  5494 06:0F6A: 85 01        	sta	<R0
  5495 06:0F6C: A9 AF 00     	lda	#$af
  5496 06:0F6F: 65 07        	adc	<L153+colorIndex_1+2
  5497 06:0F71: 85 03        	sta	<R0+2
  5498 06:0F73: E2 20        	sep	#$20
  5499                        	longa	off
  5500 06:0F75: A9 40        	lda	#$40
  5501 06:0F77: 87 01        	sta	[<R0]
  5502 06:0F79: C2 20        	rep	#$20
  5503                        	longa	on
  5504 06:0F7B: E6 05        	inc	<L153+colorIndex_1
  5505 06:0F7D: D0 02        	bne	L211
  5506 06:0F7F: E6 07        	inc	<L153+colorIndex_1+2
  5507                        L211:
  Mon Aug  9 2021 16:52                                                Page 108


  5508                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  5509                        	.line	693
  5510 06:0F81: 18           	clc
  5511 06:0F82: A9 00 20     	lda	#$2000
  5512 06:0F85: 65 05        	adc	<L153+colorIndex_1
  5513 06:0F87: 85 01        	sta	<R0
  5514 06:0F89: A9 AF 00     	lda	#$af
  5515 06:0F8C: 65 07        	adc	<L153+colorIndex_1+2
  5516 06:0F8E: 85 03        	sta	<R0+2
  5517 06:0F90: E2 20        	sep	#$20
  5518                        	longa	off
  5519 06:0F92: A9 40        	lda	#$40
  5520 06:0F94: 87 01        	sta	[<R0]
  5521 06:0F96: C2 20        	rep	#$20
  5522                        	longa	on
  5523 06:0F98: E6 05        	inc	<L153+colorIndex_1
  5524 06:0F9A: D0 02        	bne	L212
  5525 06:0F9C: E6 07        	inc	<L153+colorIndex_1+2
  5526                        L212:
  5527                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  5528                        	.line	694
  5529 06:0F9E: 18           	clc
  5530 06:0F9F: A9 00 20     	lda	#$2000
  5531 06:0FA2: 65 05        	adc	<L153+colorIndex_1
  5532 06:0FA4: 85 01        	sta	<R0
  5533 06:0FA6: A9 AF 00     	lda	#$af
  5534 06:0FA9: 65 07        	adc	<L153+colorIndex_1+2
  5535 06:0FAB: 85 03        	sta	<R0+2
  5536 06:0FAD: E2 20        	sep	#$20
  5537                        	longa	off
  5538 06:0FAF: A9 40        	lda	#$40
  5539 06:0FB1: 87 01        	sta	[<R0]
  5540 06:0FB3: C2 20        	rep	#$20
  5541                        	longa	on
  5542 06:0FB5: E6 05        	inc	<L153+colorIndex_1
  5543 06:0FB7: D0 02        	bne	L213
  5544 06:0FB9: E6 07        	inc	<L153+colorIndex_1+2
  5545                        L213:
  5546                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5547                        	.line	695
  5548 06:0FBB: 18           	clc
  5549 06:0FBC: A9 00 20     	lda	#$2000
  5550 06:0FBF: 65 05        	adc	<L153+colorIndex_1
  5551 06:0FC1: 85 01        	sta	<R0
  5552 06:0FC3: A9 AF 00     	lda	#$af
  5553 06:0FC6: 65 07        	adc	<L153+colorIndex_1+2
  5554 06:0FC8: 85 03        	sta	<R0+2
  5555 06:0FCA: E2 20        	sep	#$20
  5556                        	longa	off
  5557 06:0FCC: A9 FF        	lda	#$ff
  5558 06:0FCE: 87 01        	sta	[<R0]
  5559 06:0FD0: C2 20        	rep	#$20
  5560                        	longa	on
  5561 06:0FD2: E6 05        	inc	<L153+colorIndex_1
  5562 06:0FD4: D0 02        	bne	L214
  5563 06:0FD6: E6 07        	inc	<L153+colorIndex_1+2
  5564                        L214:
  5565                        ;
  Mon Aug  9 2021 16:52                                                Page 109


  5566                        ;	//colorIndex = 15 * 4;
  5567                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5568                        	.line	698
  5569 06:0FD8: 18           	clc
  5570 06:0FD9: A9 00 20     	lda	#$2000
  5571 06:0FDC: 65 05        	adc	<L153+colorIndex_1
  5572 06:0FDE: 85 01        	sta	<R0
  5573 06:0FE0: A9 AF 00     	lda	#$af
  5574 06:0FE3: 65 07        	adc	<L153+colorIndex_1+2
  5575 06:0FE5: 85 03        	sta	<R0+2
  5576 06:0FE7: E2 20        	sep	#$20
  5577                        	longa	off
  5578 06:0FE9: A9 FF        	lda	#$ff
  5579 06:0FEB: 87 01        	sta	[<R0]
  5580 06:0FED: C2 20        	rep	#$20
  5581                        	longa	on
  5582 06:0FEF: E6 05        	inc	<L153+colorIndex_1
  5583 06:0FF1: D0 02        	bne	L215
  5584 06:0FF3: E6 07        	inc	<L153+colorIndex_1+2
  5585                        L215:
  5586                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5587                        	.line	699
  5588 06:0FF5: 18           	clc
  5589 06:0FF6: A9 00 20     	lda	#$2000
  5590 06:0FF9: 65 05        	adc	<L153+colorIndex_1
  5591 06:0FFB: 85 01        	sta	<R0
  5592 06:0FFD: A9 AF 00     	lda	#$af
  5593 06:1000: 65 07        	adc	<L153+colorIndex_1+2
  5594 06:1002: 85 03        	sta	<R0+2
  5595 06:1004: E2 20        	sep	#$20
  5596                        	longa	off
  5597 06:1006: A9 FF        	lda	#$ff
  5598 06:1008: 87 01        	sta	[<R0]
  5599 06:100A: C2 20        	rep	#$20
  5600                        	longa	on
  5601 06:100C: E6 05        	inc	<L153+colorIndex_1
  5602 06:100E: D0 02        	bne	L216
  5603 06:1010: E6 07        	inc	<L153+colorIndex_1+2
  5604                        L216:
  5605                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5606                        	.line	700
  5607 06:1012: 18           	clc
  5608 06:1013: A9 00 20     	lda	#$2000
  5609 06:1016: 65 05        	adc	<L153+colorIndex_1
  5610 06:1018: 85 01        	sta	<R0
  5611 06:101A: A9 AF 00     	lda	#$af
  5612 06:101D: 65 07        	adc	<L153+colorIndex_1+2
  5613 06:101F: 85 03        	sta	<R0+2
  5614 06:1021: E2 20        	sep	#$20
  5615                        	longa	off
  5616 06:1023: A9 FF        	lda	#$ff
  5617 06:1025: 87 01        	sta	[<R0]
  5618 06:1027: C2 20        	rep	#$20
  5619                        	longa	on
  5620 06:1029: E6 05        	inc	<L153+colorIndex_1
  5621 06:102B: D0 02        	bne	L217
  5622 06:102D: E6 07        	inc	<L153+colorIndex_1+2
  5623                        L217:
  Mon Aug  9 2021 16:52                                                Page 110


  5624                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5625                        	.line	701
  5626 06:102F: 18           	clc
  5627 06:1030: A9 00 20     	lda	#$2000
  5628 06:1033: 65 05        	adc	<L153+colorIndex_1
  5629 06:1035: 85 01        	sta	<R0
  5630 06:1037: A9 AF 00     	lda	#$af
  5631 06:103A: 65 07        	adc	<L153+colorIndex_1+2
  5632 06:103C: 85 03        	sta	<R0+2
  5633 06:103E: E2 20        	sep	#$20
  5634                        	longa	off
  5635 06:1040: A9 FF        	lda	#$ff
  5636 06:1042: 87 01        	sta	[<R0]
  5637 06:1044: C2 20        	rep	#$20
  5638                        	longa	on
  5639 06:1046: E6 05        	inc	<L153+colorIndex_1
  5640 06:1048: D0 02        	bne	L218
  5641 06:104A: E6 07        	inc	<L153+colorIndex_1+2
  5642                        L218:
  5643                        ;
  5644                        ;
  5645                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  5646                        	.line	704
  5647 06:104C: F4 32 00     	pea	#<$32
  5648 06:104F: F4 00 00     	pea	#<$0
  5649 06:1052: A9 xx xx     	lda	#<~~_k_currentPalatte
  5650 06:1055: 85 01        	sta	<R0
  5651                        	xref	_BEG_DATA
  5652 06:1057: A9 xx xx     	lda	#_BEG_DATA>>16
  5653 06:105A: 85 03        	sta	<R0+2
  5654 06:105C: D4 03        	pei	<R0+2
  5655 06:105E: D4 01        	pei	<R0
  5656 06:1060: 22 xx xx xx  	jsl	~~memset
  5657                        ;
  5658                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 0;
  5659                        	.line	706
  5660 06:1064: 9C xx xx     	stz	|~~_k_currentPalatte+10
  5661                        ;	_k_currentPalatte.CUR_DESKTOP = 14;
  5662                        	.line	707
  5663 06:1067: A9 0E 00     	lda	#$e
  5664 06:106A: 8D xx xx     	sta	|~~_k_currentPalatte
  5665                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  5666                        	.line	708
  5667 06:106D: A9 08 00     	lda	#$8
  5668 06:1070: 8D xx xx     	sta	|~~_k_currentPalatte+8
  5669                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  5670                        	.line	709
  5671 06:1073: A9 0B 00     	lda	#$b
  5672 06:1076: 8D xx xx     	sta	|~~_k_currentPalatte+6
  5673                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 12;
  5674                        	.line	710
  5675 06:1079: A9 0C 00     	lda	#$c
  5676 06:107C: 8D xx xx     	sta	|~~_k_currentPalatte+14
  5677 06:107F: A9 0C 00     	lda	#$c
  5678 06:1082: 8D xx xx     	sta	|~~_k_currentPalatte+18
  5679                        ;	_k_currentPalatte.CUR_BACKGROUND = 13;
  Mon Aug  9 2021 16:52                                                Page 111


  5680                        	.line	711
  5681 06:1085: A9 0D 00     	lda	#$d
  5682 06:1088: 8D xx xx     	sta	|~~_k_currentPalatte+2
  5683                        ;	_k_currentPalatte.CUR_FONT = 14;
  5684                        	.line	712
  5685 06:108B: A9 0E 00     	lda	#$e
  5686 06:108E: 8D xx xx     	sta	|~~_k_currentPalatte+4
  5687                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  5688                        	.line	713
  5689 06:1091: A9 0F 00     	lda	#$f
  5690 06:1094: 8D xx xx     	sta	|~~_k_currentPalatte+16
  5691 06:1097: A9 0F 00     	lda	#$f
  5692 06:109A: 8D xx xx     	sta	|~~_k_currentPalatte+12
  5693                        ;
  5694                        ;	for(colorIndex=0;colorIndex<15;colorIndex++)
  5695                        	.line	715
  5696 06:109D: 64 05        	stz	<L153+colorIndex_1
  5697 06:109F: 64 07        	stz	<L153+colorIndex_1+2
  5698                        L10031:
  5699                        ;	{
  5700                        	.line	716
  5701                        ;		_k_currentPalatte.CUR_COLOR[colorIndex] 
                    = colorIndex;
  5702                        	.line	717
  5703 06:10A1: A5 05        	lda	<L153+colorIndex_1
  5704 06:10A3: 0A           	asl	A
  5705 06:10A4: 85 01        	sta	<R0
  5706 06:10A6: A5 05        	lda	<L153+colorIndex_1
  5707 06:10A8: A6 01        	ldx	<R0
  5708 06:10AA: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  5709                        ;	}
  5710                        	.line	718
  5711                        L10029:
  5712 06:10AD: E6 05        	inc	<L153+colorIndex_1
  5713 06:10AF: D0 02        	bne	L219
  5714 06:10B1: E6 07        	inc	<L153+colorIndex_1+2
  5715                        L219:
  5716 06:10B3: A5 05        	lda	<L153+colorIndex_1
  5717 06:10B5: C9 0F 00     	cmp	#<$f
  5718 06:10B8: A5 07        	lda	<L153+colorIndex_1+2
  5719 06:10BA: E9 00 00     	sbc	#^$f
  5720 06:10BD: B0 03        	bcs	L220
  5721 06:10BF: 82 DF FF     	brl	L10031
  5722                        L220:
  5723                        L10030:
  5724                        ;
  5725                        ;
  5726                        ;}
  5727                        	.line	721
  5728                        L221:
  5729 06:10C2: 2B           	pld
  5730 06:10C3: 3B           	tsc
  5731 06:10C4: 18           	clc
  5732 06:10C5: 69 08 00     	adc	#L152
  5733 06:10C8: 1B           	tcs
  5734 06:10C9: 6B           	rtl
  5735                        	.endblock	721
  Mon Aug  9 2021 16:52                                                Page 112


  5736             00000008   L152	equ	8
  5737             00000005   L153	equ	5
  5738 06:10CA:              	ends
  5739                        	efunc
  5740                        	.endfunc	721,5,8
  5741                        	.line	721
  5742                        ;
  5743                        ;void defineGrayPalette(void)
  5744                        ;{
  5745                        	.line	723
  5746                        	.line	724
  5747                        	GFX
  5748                        	xdef	~~defineGrayPalette
  5749                        	func
  5750                        	.function	724
  5751                        ~~defineGrayPalette:
  5752                        	longa	on
  5753                        	longi	on
  5754 06:10CA: 3B           	tsc
  5755 06:10CB: 38           	sec
  5756 06:10CC: E9 1E 00     	sbc	#L222
  5757 06:10CF: 1B           	tcs
  5758 06:10D0: 0B           	phd
  5759 06:10D1: 5B           	tcd
  5760                        	.block	724
  5761                        ;	unsigned long colorIndex = 0;
  5762                        ;	int colorShade = 0;
  5763                        ;	char color[] = {0x00,0x00,0x22,0x33,0x44,0x55,0x
                    66,0x77,0x88,0x99,0xAA,0xBB,0xCC,0xDD,0xFF,0xFF};
  5764                        	data
  5765                        L225:
  5766 00:07C6: 00 00 22 33  	db	$0,$0,$22,$33,$44,$55,$66,$77,$88,$99
       00:07CA: 44 55 66 77 
       00:07CE: 88 99 
  5767 00:07D0: AA BB CC DD  	db	$AA,$BB,$CC,$DD,$FF,$FF
       00:07D4: FF FF 
  5768 00:07D6:              	ends
  5769                        ;	
  5770                        ;	for(colorIndex = 0;colorIndex<60;colorIndex+=4)
  5771             00000000   colorIndex_1	set	0
  5772             00000004   colorShade_1	set	4
  5773             00000006   color_1	set	6
  5774                        	.sym	colorIndex,0,18,1,32
  5775                        	.sym	colorShade,4,5,1,16
  5776                        	.sym	color,6,110,1,0,16
  5777 06:10D2: 64 09        	stz	<L223+colorIndex_1
  5778 06:10D4: 64 0B        	stz	<L223+colorIndex_1+2
  5779 06:10D6: 64 0D        	stz	<L223+colorShade_1
  5780 06:10D8: F4 xx xx     	pea	#^L225
  5781 06:10DB: F4 xx xx     	pea	#<L225
  5782 06:10DE: 18           	clc
  5783 06:10DF: 7B           	tdc
  5784 06:10E0: 69 0F 00     	adc	#<L223+color_1
  5785 06:10E3: 85 01        	sta	<R0
  5786 06:10E5: A9 00 00     	lda	#$0
  5787 06:10E8: 85 03        	sta	<R0+2
  5788 06:10EA: D4 03        	pei	<R0+2
  5789 06:10EC: D4 01        	pei	<R0
  Mon Aug  9 2021 16:52                                                Page 113


  5790 06:10EE: A9 10 00     	lda	#$10
  5791                        	xref	~~~fmov
  5792 06:10F1: 22 xx xx xx  	jsl	~~~fmov
  5793                        	.line	729
  5794 06:10F5: 64 09        	stz	<L223+colorIndex_1
  5795 06:10F7: 64 0B        	stz	<L223+colorIndex_1+2
  5796                        L10034:
  5797                        ;	{
  5798                        	.line	730
  5799                        ;		GRP_LUT_BASE_ADDR[colorIndex+0] = color[
                    colorShade];
  5800                        	.line	731
  5801 06:10F9: 18           	clc
  5802 06:10FA: A9 00 20     	lda	#$2000
  5803 06:10FD: 65 09        	adc	<L223+colorIndex_1
  5804 06:10FF: 85 01        	sta	<R0
  5805 06:1101: A9 AF 00     	lda	#$af
  5806 06:1104: 65 0B        	adc	<L223+colorIndex_1+2
  5807 06:1106: 85 03        	sta	<R0+2
  5808 06:1108: E2 20        	sep	#$20
  5809                        	longa	off
  5810 06:110A: A6 0D        	ldx	<L223+colorShade_1
  5811 06:110C: B5 0F        	lda	<L223+color_1,X
  5812 06:110E: 87 01        	sta	[<R0]
  5813 06:1110: C2 20        	rep	#$20
  5814                        	longa	on
  5815                        ;		GRP_LUT_BASE_ADDR[colorIndex+1] = color[
                    colorShade];
  5816                        	.line	732
  5817 06:1112: 18           	clc
  5818 06:1113: A9 01 00     	lda	#$1
  5819 06:1116: 69 00 20     	adc	#<$af2000
  5820 06:1119: 85 01        	sta	<R0
  5821 06:111B: A9 00 00     	lda	#$0
  5822 06:111E: 69 AF 00     	adc	#^$af2000
  5823 06:1121: 85 03        	sta	<R0+2
  5824 06:1123: 18           	clc
  5825 06:1124: A5 01        	lda	<R0
  5826 06:1126: 65 09        	adc	<L223+colorIndex_1
  5827 06:1128: 85 05        	sta	<R1
  5828 06:112A: A5 03        	lda	<R0+2
  5829 06:112C: 65 0B        	adc	<L223+colorIndex_1+2
  5830 06:112E: 85 07        	sta	<R1+2
  5831 06:1130: E2 20        	sep	#$20
  5832                        	longa	off
  5833 06:1132: A6 0D        	ldx	<L223+colorShade_1
  5834 06:1134: B5 0F        	lda	<L223+color_1,X
  5835 06:1136: 87 05        	sta	[<R1]
  5836 06:1138: C2 20        	rep	#$20
  5837                        	longa	on
  5838                        ;		GRP_LUT_BASE_ADDR[colorIndex+2] = color[
                    colorShade];
  5839                        	.line	733
  5840 06:113A: 18           	clc
  5841 06:113B: A9 02 00     	lda	#$2
  5842 06:113E: 69 00 20     	adc	#<$af2000
  5843 06:1141: 85 01        	sta	<R0
  5844 06:1143: A9 00 00     	lda	#$0
  Mon Aug  9 2021 16:52                                                Page 114


  5845 06:1146: 69 AF 00     	adc	#^$af2000
  5846 06:1149: 85 03        	sta	<R0+2
  5847 06:114B: 18           	clc
  5848 06:114C: A5 01        	lda	<R0
  5849 06:114E: 65 09        	adc	<L223+colorIndex_1
  5850 06:1150: 85 05        	sta	<R1
  5851 06:1152: A5 03        	lda	<R0+2
  5852 06:1154: 65 0B        	adc	<L223+colorIndex_1+2
  5853 06:1156: 85 07        	sta	<R1+2
  5854 06:1158: E2 20        	sep	#$20
  5855                        	longa	off
  5856 06:115A: A6 0D        	ldx	<L223+colorShade_1
  5857 06:115C: B5 0F        	lda	<L223+color_1,X
  5858 06:115E: 87 05        	sta	[<R1]
  5859 06:1160: C2 20        	rep	#$20
  5860                        	longa	on
  5861                        ;		GRP_LUT_BASE_ADDR[colorIndex+3] = 0xFF;
  5862                        	.line	734
  5863 06:1162: 18           	clc
  5864 06:1163: A9 03 00     	lda	#$3
  5865 06:1166: 69 00 20     	adc	#<$af2000
  5866 06:1169: 85 01        	sta	<R0
  5867 06:116B: A9 00 00     	lda	#$0
  5868 06:116E: 69 AF 00     	adc	#^$af2000
  5869 06:1171: 85 03        	sta	<R0+2
  5870 06:1173: 18           	clc
  5871 06:1174: A5 01        	lda	<R0
  5872 06:1176: 65 09        	adc	<L223+colorIndex_1
  5873 06:1178: 85 05        	sta	<R1
  5874 06:117A: A5 03        	lda	<R0+2
  5875 06:117C: 65 0B        	adc	<L223+colorIndex_1+2
  5876 06:117E: 85 07        	sta	<R1+2
  5877 06:1180: E2 20        	sep	#$20
  5878                        	longa	off
  5879 06:1182: A9 FF        	lda	#$ff
  5880 06:1184: 87 05        	sta	[<R1]
  5881 06:1186: C2 20        	rep	#$20
  5882                        	longa	on
  5883                        ;
  5884                        ;		colorShade++;
  5885                        	.line	736
  5886 06:1188: E6 0D        	inc	<L223+colorShade_1
  5887                        ;	}
  5888                        	.line	737
  5889                        L10032:
  5890 06:118A: 18           	clc
  5891 06:118B: A9 04 00     	lda	#$4
  5892 06:118E: 65 09        	adc	<L223+colorIndex_1
  5893 06:1190: 85 09        	sta	<L223+colorIndex_1
  5894 06:1192: 90 02        	bcc	L226
  5895 06:1194: E6 0B        	inc	<L223+colorIndex_1+2
  5896                        L226:
  5897 06:1196: A5 09        	lda	<L223+colorIndex_1
  5898 06:1198: C9 3C 00     	cmp	#<$3c
  5899 06:119B: A5 0B        	lda	<L223+colorIndex_1+2
  5900 06:119D: E9 00 00     	sbc	#^$3c
  5901 06:11A0: B0 03        	bcs	L227
  5902 06:11A2: 82 54 FF     	brl	L10034
  Mon Aug  9 2021 16:52                                                Page 115


  5903                        L227:
  5904                        L10033:
  5905                        ;
  5906                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  5907                        	.line	739
  5908 06:11A5: F4 32 00     	pea	#<$32
  5909 06:11A8: F4 00 00     	pea	#<$0
  5910 06:11AB: A9 xx xx     	lda	#<~~_k_currentPalatte
  5911 06:11AE: 85 01        	sta	<R0
  5912                        	xref	_BEG_DATA
  5913 06:11B0: A9 xx xx     	lda	#_BEG_DATA>>16
  5914 06:11B3: 85 03        	sta	<R0+2
  5915 06:11B5: D4 03        	pei	<R0+2
  5916 06:11B7: D4 01        	pei	<R0
  5917 06:11B9: 22 xx xx xx  	jsl	~~memset
  5918                        ;
  5919                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 15;
  5920                        	.line	741
  5921 06:11BD: A9 0F 00     	lda	#$f
  5922 06:11C0: 8D xx xx     	sta	|~~_k_currentPalatte+10
  5923                        ;	_k_currentPalatte.CUR_DESKTOP = 3;
  5924                        	.line	742
  5925 06:11C3: A9 03 00     	lda	#$3
  5926 06:11C6: 8D xx xx     	sta	|~~_k_currentPalatte
  5927                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  5928                        	.line	743
  5929 06:11C9: A9 08 00     	lda	#$8
  5930 06:11CC: 8D xx xx     	sta	|~~_k_currentPalatte+8
  5931                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  5932                        	.line	744
  5933 06:11CF: A9 0B 00     	lda	#$b
  5934 06:11D2: 8D xx xx     	sta	|~~_k_currentPalatte+6
  5935                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 1;
  5936                        	.line	745
  5937 06:11D5: A9 01 00     	lda	#$1
  5938 06:11D8: 8D xx xx     	sta	|~~_k_currentPalatte+14
  5939 06:11DB: A9 01 00     	lda	#$1
  5940 06:11DE: 8D xx xx     	sta	|~~_k_currentPalatte+18
  5941                        ;	_k_currentPalatte.CUR_BACKGROUND = 4;
  5942                        	.line	746
  5943 06:11E1: A9 04 00     	lda	#$4
  5944 06:11E4: 8D xx xx     	sta	|~~_k_currentPalatte+2
  5945                        ;	_k_currentPalatte.CUR_FONT = 1;
  5946                        	.line	747
  5947 06:11E7: A9 01 00     	lda	#$1
  5948 06:11EA: 8D xx xx     	sta	|~~_k_currentPalatte+4
  5949                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  5950                        	.line	748
  5951 06:11ED: A9 0F 00     	lda	#$f
  5952 06:11F0: 8D xx xx     	sta	|~~_k_currentPalatte+16
  5953 06:11F3: A9 0F 00     	lda	#$f
  5954 06:11F6: 8D xx xx     	sta	|~~_k_currentPalatte+12
  5955                        ;
  5956                        ;	for(colorShade=0;colorShade<16;colorShade++)
  5957                        	.line	750
  Mon Aug  9 2021 16:52                                                Page 116


  5958 06:11F9: 64 0D        	stz	<L223+colorShade_1
  5959                        L10037:
  5960                        ;	{
  5961                        	.line	751
  5962                        ;		_k_currentPalatte.CUR_COLOR[colorShade] 
                    = colorShade;
  5963                        	.line	752
  5964 06:11FB: A5 0D        	lda	<L223+colorShade_1
  5965 06:11FD: 0A           	asl	A
  5966 06:11FE: 85 01        	sta	<R0
  5967 06:1200: A5 0D        	lda	<L223+colorShade_1
  5968 06:1202: A6 01        	ldx	<R0
  5969 06:1204: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  5970                        ;	}
  5971                        	.line	753
  5972                        L10035:
  5973 06:1207: E6 0D        	inc	<L223+colorShade_1
  5974 06:1209: 38           	sec
  5975 06:120A: A5 0D        	lda	<L223+colorShade_1
  5976 06:120C: E9 10 00     	sbc	#<$10
  5977 06:120F: 70 03        	bvs	L228
  5978 06:1211: 49 00 80     	eor	#$8000
  5979                        L228:
  5980 06:1214: 30 03        	bmi	L229
  5981 06:1216: 82 E2 FF     	brl	L10037
  5982                        L229:
  5983                        L10036:
  5984                        ;}
  5985                        	.line	754
  5986                        L230:
  5987 06:1219: 2B           	pld
  5988 06:121A: 3B           	tsc
  5989 06:121B: 18           	clc
  5990 06:121C: 69 1E 00     	adc	#L222
  5991 06:121F: 1B           	tcs
  5992 06:1220: 6B           	rtl
  5993                        	.endblock	754
  5994             0000001E   L222	equ	30
  5995             00000009   L223	equ	9
  5996 06:1221:              	ends
  5997                        	efunc
  5998                        	.endfunc	754,9,30
  5999                        	.line	754
  6000                        ;
  6001                        ;int k_getUIBackgroundColor()
  6002                        ;{
  6003                        	.line	756
  6004                        	.line	757
  6005                        	GFX
  6006                        	xdef	~~k_getUIBackgroundColor
  6007                        	func
  6008                        	.function	757
  6009                        ~~k_getUIBackgroundColor:
  6010                        	longa	on
  6011                        	longi	on
  6012 06:1221: 3B           	tsc
  6013 06:1222: 38           	sec
  6014 06:1223: E9 00 00     	sbc	#L231
  Mon Aug  9 2021 16:52                                                Page 117


  6015 06:1226: 1B           	tcs
  6016 06:1227: 0B           	phd
  6017 06:1228: 5B           	tcd
  6018                        	.block	757
  6019                        ;	return 	_k_currentPalatte.CUR_BACKGROUND;
  6020                        	.line	758
  6021 06:1229: AD xx xx     	lda	|~~_k_currentPalatte+2
  6022                        L234:
  6023 06:122C: A8           	tay
  6024 06:122D: 2B           	pld
  6025 06:122E: 3B           	tsc
  6026 06:122F: 18           	clc
  6027 06:1230: 69 00 00     	adc	#L231
  6028 06:1233: 1B           	tcs
  6029 06:1234: 98           	tya
  6030 06:1235: 6B           	rtl
  6031                        ;}
  6032                        	.line	759
  6033                        	.endblock	759
  6034             00000000   L231	equ	0
  6035             00000001   L232	equ	1
  6036 06:1236:              	ends
  6037                        	efunc
  6038                        	.endfunc	759,1,0
  6039                        	.line	759
  6040                        ;
  6041                        ;int k_getUIDesktopColor()
  6042                        ;{
  6043                        	.line	761
  6044                        	.line	762
  6045                        	GFX
  6046                        	xdef	~~k_getUIDesktopColor
  6047                        	func
  6048                        	.function	762
  6049                        ~~k_getUIDesktopColor:
  6050                        	longa	on
  6051                        	longi	on
  6052 06:1236: 3B           	tsc
  6053 06:1237: 38           	sec
  6054 06:1238: E9 00 00     	sbc	#L235
  6055 06:123B: 1B           	tcs
  6056 06:123C: 0B           	phd
  6057 06:123D: 5B           	tcd
  6058                        	.block	762
  6059                        ;	return 	_k_currentPalatte.CUR_DESKTOP;
  6060                        	.line	763
  6061 06:123E: AD xx xx     	lda	|~~_k_currentPalatte
  6062                        L238:
  6063 06:1241: A8           	tay
  6064 06:1242: 2B           	pld
  6065 06:1243: 3B           	tsc
  6066 06:1244: 18           	clc
  6067 06:1245: 69 00 00     	adc	#L235
  6068 06:1248: 1B           	tcs
  6069 06:1249: 98           	tya
  6070 06:124A: 6B           	rtl
  6071                        ;}
  6072                        	.line	764
  Mon Aug  9 2021 16:52                                                Page 118


  6073                        	.endblock	764
  6074             00000000   L235	equ	0
  6075             00000001   L236	equ	1
  6076 06:124B:              	ends
  6077                        	efunc
  6078                        	.endfunc	764,1,0
  6079                        	.line	764
  6080                        ;
  6081                        ;
  6082                        ;int k_getUIFontColor()
  6083                        ;{
  6084                        	.line	767
  6085                        	.line	768
  6086                        	GFX
  6087                        	xdef	~~k_getUIFontColor
  6088                        	func
  6089                        	.function	768
  6090                        ~~k_getUIFontColor:
  6091                        	longa	on
  6092                        	longi	on
  6093 06:124B: 3B           	tsc
  6094 06:124C: 38           	sec
  6095 06:124D: E9 00 00     	sbc	#L239
  6096 06:1250: 1B           	tcs
  6097 06:1251: 0B           	phd
  6098 06:1252: 5B           	tcd
  6099                        	.block	768
  6100                        ;	return 	_k_currentPalatte.CUR_FONT;
  6101                        	.line	769
  6102 06:1253: AD xx xx     	lda	|~~_k_currentPalatte+4
  6103                        L242:
  6104 06:1256: A8           	tay
  6105 06:1257: 2B           	pld
  6106 06:1258: 3B           	tsc
  6107 06:1259: 18           	clc
  6108 06:125A: 69 00 00     	adc	#L239
  6109 06:125D: 1B           	tcs
  6110 06:125E: 98           	tya
  6111 06:125F: 6B           	rtl
  6112                        ;}
  6113                        	.line	770
  6114                        	.endblock	770
  6115             00000000   L239	equ	0
  6116             00000001   L240	equ	1
  6117 06:1260:              	ends
  6118                        	efunc
  6119                        	.endfunc	770,1,0
  6120                        	.line	770
  6121                        ;
  6122                        ;
  6123                        ;int k_getUIFontSelectedColor()
  6124                        ;{
  6125                        	.line	773
  6126                        	.line	774
  6127                        	GFX
  6128                        	xdef	~~k_getUIFontSelectedColor
  6129                        	func
  6130                        	.function	774
  Mon Aug  9 2021 16:52                                                Page 119


  6131                        ~~k_getUIFontSelectedColor:
  6132                        	longa	on
  6133                        	longi	on
  6134 06:1260: 3B           	tsc
  6135 06:1261: 38           	sec
  6136 06:1262: E9 00 00     	sbc	#L243
  6137 06:1265: 1B           	tcs
  6138 06:1266: 0B           	phd
  6139 06:1267: 5B           	tcd
  6140                        	.block	774
  6141                        ;	return 	_k_currentPalatte.CUR_SELECTED_FONT;
  6142                        	.line	775
  6143 06:1268: AD xx xx     	lda	|~~_k_currentPalatte+6
  6144                        L246:
  6145 06:126B: A8           	tay
  6146 06:126C: 2B           	pld
  6147 06:126D: 3B           	tsc
  6148 06:126E: 18           	clc
  6149 06:126F: 69 00 00     	adc	#L243
  6150 06:1272: 1B           	tcs
  6151 06:1273: 98           	tya
  6152 06:1274: 6B           	rtl
  6153                        ;}
  6154                        	.line	776
  6155                        	.endblock	776
  6156             00000000   L243	equ	0
  6157             00000001   L244	equ	1
  6158 06:1275:              	ends
  6159                        	efunc
  6160                        	.endfunc	776,1,0
  6161                        	.line	776
  6162                        ;
  6163                        ;
  6164                        ;int k_getUIHighlightColor()
  6165                        ;{
  6166                        	.line	779
  6167                        	.line	780
  6168                        	GFX
  6169                        	xdef	~~k_getUIHighlightColor
  6170                        	func
  6171                        	.function	780
  6172                        ~~k_getUIHighlightColor:
  6173                        	longa	on
  6174                        	longi	on
  6175 06:1275: 3B           	tsc
  6176 06:1276: 38           	sec
  6177 06:1277: E9 00 00     	sbc	#L247
  6178 06:127A: 1B           	tcs
  6179 06:127B: 0B           	phd
  6180 06:127C: 5B           	tcd
  6181                        	.block	780
  6182                        ;	return 	_k_currentPalatte.CUR_HIGHLIGHT_COLOR;
  6183                        	.line	781
  6184 06:127D: AD xx xx     	lda	|~~_k_currentPalatte+8
  6185                        L250:
  6186 06:1280: A8           	tay
  6187 06:1281: 2B           	pld
  6188 06:1282: 3B           	tsc
  Mon Aug  9 2021 16:52                                                Page 120


  6189 06:1283: 18           	clc
  6190 06:1284: 69 00 00     	adc	#L247
  6191 06:1287: 1B           	tcs
  6192 06:1288: 98           	tya
  6193 06:1289: 6B           	rtl
  6194                        ;}
  6195                        	.line	782
  6196                        	.endblock	782
  6197             00000000   L247	equ	0
  6198             00000001   L248	equ	1
  6199 06:128A:              	ends
  6200                        	efunc
  6201                        	.endfunc	782,1,0
  6202                        	.line	782
  6203                        ;
  6204                        ;
  6205                        ;int k_getUIWindowFrameColor()
  6206                        ;{
  6207                        	.line	785
  6208                        	.line	786
  6209                        	GFX
  6210                        	xdef	~~k_getUIWindowFrameColor
  6211                        	func
  6212                        	.function	786
  6213                        ~~k_getUIWindowFrameColor:
  6214                        	longa	on
  6215                        	longi	on
  6216 06:128A: 3B           	tsc
  6217 06:128B: 38           	sec
  6218 06:128C: E9 00 00     	sbc	#L251
  6219 06:128F: 1B           	tcs
  6220 06:1290: 0B           	phd
  6221 06:1291: 5B           	tcd
  6222                        	.block	786
  6223                        ;	return 	_k_currentPalatte.CUR_WINDOWFRAME;
  6224                        	.line	787
  6225 06:1292: AD xx xx     	lda	|~~_k_currentPalatte+10
  6226                        L254:
  6227 06:1295: A8           	tay
  6228 06:1296: 2B           	pld
  6229 06:1297: 3B           	tsc
  6230 06:1298: 18           	clc
  6231 06:1299: 69 00 00     	adc	#L251
  6232 06:129C: 1B           	tcs
  6233 06:129D: 98           	tya
  6234 06:129E: 6B           	rtl
  6235                        ;}
  6236                        	.line	788
  6237                        	.endblock	788
  6238             00000000   L251	equ	0
  6239             00000001   L252	equ	1
  6240 06:129F:              	ends
  6241                        	efunc
  6242                        	.endfunc	788,1,0
  6243                        	.line	788
  6244                        ;
  6245                        ;
  6246                        ;int k_getUIWindowBorderColor()
  Mon Aug  9 2021 16:52                                                Page 121


  6247                        ;{
  6248                        	.line	791
  6249                        	.line	792
  6250                        	GFX
  6251                        	xdef	~~k_getUIWindowBorderColor
  6252                        	func
  6253                        	.function	792
  6254                        ~~k_getUIWindowBorderColor:
  6255                        	longa	on
  6256                        	longi	on
  6257 06:129F: 3B           	tsc
  6258 06:12A0: 38           	sec
  6259 06:12A1: E9 00 00     	sbc	#L255
  6260 06:12A4: 1B           	tcs
  6261 06:12A5: 0B           	phd
  6262 06:12A6: 5B           	tcd
  6263                        	.block	792
  6264                        ;	return 	_k_currentPalatte.CUR_WINDOWBORDER;
  6265                        	.line	793
  6266 06:12A7: AD xx xx     	lda	|~~_k_currentPalatte+12
  6267                        L258:
  6268 06:12AA: A8           	tay
  6269 06:12AB: 2B           	pld
  6270 06:12AC: 3B           	tsc
  6271 06:12AD: 18           	clc
  6272 06:12AE: 69 00 00     	adc	#L255
  6273 06:12B1: 1B           	tcs
  6274 06:12B2: 98           	tya
  6275 06:12B3: 6B           	rtl
  6276                        ;}
  6277                        	.line	794
  6278                        	.endblock	794
  6279             00000000   L255	equ	0
  6280             00000001   L256	equ	1
  6281 06:12B4:              	ends
  6282                        	efunc
  6283                        	.endfunc	794,1,0
  6284                        	.line	794
  6285                        ;
  6286                        ;
  6287                        ;int k_getUIWindowShadowColor()
  6288                        ;{
  6289                        	.line	797
  6290                        	.line	798
  6291                        	GFX
  6292                        	xdef	~~k_getUIWindowShadowColor
  6293                        	func
  6294                        	.function	798
  6295                        ~~k_getUIWindowShadowColor:
  6296                        	longa	on
  6297                        	longi	on
  6298 06:12B4: 3B           	tsc
  6299 06:12B5: 38           	sec
  6300 06:12B6: E9 00 00     	sbc	#L259
  6301 06:12B9: 1B           	tcs
  6302 06:12BA: 0B           	phd
  6303 06:12BB: 5B           	tcd
  6304                        	.block	798
  Mon Aug  9 2021 16:52                                                Page 122


  6305                        ;	return 	_k_currentPalatte.CUR_WINDOWSHADOW;
  6306                        	.line	799
  6307 06:12BC: AD xx xx     	lda	|~~_k_currentPalatte+14
  6308                        L262:
  6309 06:12BF: A8           	tay
  6310 06:12C0: 2B           	pld
  6311 06:12C1: 3B           	tsc
  6312 06:12C2: 18           	clc
  6313 06:12C3: 69 00 00     	adc	#L259
  6314 06:12C6: 1B           	tcs
  6315 06:12C7: 98           	tya
  6316 06:12C8: 6B           	rtl
  6317                        ;}
  6318                        	.line	800
  6319                        	.endblock	800
  6320             00000000   L259	equ	0
  6321             00000001   L260	equ	1
  6322 06:12C9:              	ends
  6323                        	efunc
  6324                        	.endfunc	800,1,0
  6325                        	.line	800
  6326                        ;
  6327                        ;
  6328                        ;int k_getUIMenuColor()
  6329                        ;{
  6330                        	.line	803
  6331                        	.line	804
  6332                        	GFX
  6333                        	xdef	~~k_getUIMenuColor
  6334                        	func
  6335                        	.function	804
  6336                        ~~k_getUIMenuColor:
  6337                        	longa	on
  6338                        	longi	on
  6339 06:12C9: 3B           	tsc
  6340 06:12CA: 38           	sec
  6341 06:12CB: E9 00 00     	sbc	#L263
  6342 06:12CE: 1B           	tcs
  6343 06:12CF: 0B           	phd
  6344 06:12D0: 5B           	tcd
  6345                        	.block	804
  6346                        ;	return 	_k_currentPalatte.CUR_MENU;
  6347                        	.line	805
  6348 06:12D1: AD xx xx     	lda	|~~_k_currentPalatte+16
  6349                        L266:
  6350 06:12D4: A8           	tay
  6351 06:12D5: 2B           	pld
  6352 06:12D6: 3B           	tsc
  6353 06:12D7: 18           	clc
  6354 06:12D8: 69 00 00     	adc	#L263
  6355 06:12DB: 1B           	tcs
  6356 06:12DC: 98           	tya
  6357 06:12DD: 6B           	rtl
  6358                        ;}
  6359                        	.line	806
  6360                        	.endblock	806
  6361             00000000   L263	equ	0
  6362             00000001   L264	equ	1
  Mon Aug  9 2021 16:52                                                Page 123


  6363 06:12DE:              	ends
  6364                        	efunc
  6365                        	.endfunc	806,1,0
  6366                        	.line	806
  6367                        ;
  6368                        ;
  6369                        ;int k_getUIGadgetColor()
  6370                        ;{
  6371                        	.line	809
  6372                        	.line	810
  6373                        	GFX
  6374                        	xdef	~~k_getUIGadgetColor
  6375                        	func
  6376                        	.function	810
  6377                        ~~k_getUIGadgetColor:
  6378                        	longa	on
  6379                        	longi	on
  6380 06:12DE: 3B           	tsc
  6381 06:12DF: 38           	sec
  6382 06:12E0: E9 00 00     	sbc	#L267
  6383 06:12E3: 1B           	tcs
  6384 06:12E4: 0B           	phd
  6385 06:12E5: 5B           	tcd
  6386                        	.block	810
  6387                        ;	return 	_k_currentPalatte.CUR_GADGET;
  6388                        	.line	811
  6389 06:12E6: AD xx xx     	lda	|~~_k_currentPalatte+18
  6390                        L270:
  6391 06:12E9: A8           	tay
  6392 06:12EA: 2B           	pld
  6393 06:12EB: 3B           	tsc
  6394 06:12EC: 18           	clc
  6395 06:12ED: 69 00 00     	adc	#L267
  6396 06:12F0: 1B           	tcs
  6397 06:12F1: 98           	tya
  6398 06:12F2: 6B           	rtl
  6399                        ;}
  6400                        	.line	812
  6401                        	.endblock	812
  6402             00000000   L267	equ	0
  6403             00000001   L268	equ	1
  6404 06:12F3:              	ends
  6405                        	efunc
  6406                        	.endfunc	812,1,0
  6407                        	.line	812
  6408                        ;
  6409                        ;
  6410                        ;int k_getUIColor(int index)
  6411                        ;{
  6412                        	.line	815
  6413                        	.line	816
  6414                        	GFX
  6415                        	xdef	~~k_getUIColor
  6416                        	func
  6417                        	.function	816
  6418                        ~~k_getUIColor:
  6419                        	longa	on
  6420                        	longi	on
  Mon Aug  9 2021 16:52                                                Page 124


  6421 06:12F3: 3B           	tsc
  6422 06:12F4: 38           	sec
  6423 06:12F5: E9 04 00     	sbc	#L271
  6424 06:12F8: 1B           	tcs
  6425 06:12F9: 0B           	phd
  6426 06:12FA: 5B           	tcd
  6427             00000004   index_0	set	4
  6428                        	.block	816
  6429                        ;	if(index < 1)
  6430                        	.sym	index,4,5,6,16
  6431                        	.line	817
  6432                        ;		index = 1;
  6433 06:12FB: A5 08        	lda	<L271+index_0
  6434 06:12FD: 30 06        	bmi	L274
  6435 06:12FF: 3A           	dea
  6436 06:1300: 30 03        	bmi	L274
  6437 06:1302: 82 05 00     	brl	L10038
  6438                        L274:
  6439                        	.line	818
  6440 06:1305: A9 01 00     	lda	#$1
  6441 06:1308: 85 08        	sta	<L271+index_0
  6442                        ;	if(index > 15)
  6443                        L10038:
  6444                        	.line	819
  6445                        ;		index = 15;
  6446 06:130A: 38           	sec
  6447 06:130B: A9 0F 00     	lda	#$f
  6448 06:130E: E5 08        	sbc	<L271+index_0
  6449 06:1310: 70 03        	bvs	L275
  6450 06:1312: 49 00 80     	eor	#$8000
  6451                        L275:
  6452 06:1315: 10 03        	bpl	L276
  6453 06:1317: 82 05 00     	brl	L10039
  6454                        L276:
  6455                        	.line	820
  6456 06:131A: A9 0F 00     	lda	#$f
  6457 06:131D: 85 08        	sta	<L271+index_0
  6458                        ;
  6459                        ;	return 	_k_currentPalatte.CUR_COLOR[index - 1];
  6460                        L10039:
  6461                        	.line	822
  6462 06:131F: A5 08        	lda	<L271+index_0
  6463 06:1321: 0A           	asl	A
  6464 06:1322: 85 01        	sta	<R0
  6465 06:1324: A6 01        	ldx	<R0
  6466 06:1326: BD xx xx     	lda	|~~_k_currentPalatte+20-2,X
  6467                        L277:
  6468 06:1329: A8           	tay
  6469 06:132A: A5 06        	lda	<L271+2
  6470 06:132C: 85 08        	sta	<L271+2+2
  6471 06:132E: A5 05        	lda	<L271+1
  6472 06:1330: 85 07        	sta	<L271+1+2
  6473 06:1332: 2B           	pld
  6474 06:1333: 3B           	tsc
  6475 06:1334: 18           	clc
  6476 06:1335: 69 06 00     	adc	#L271+2
  6477 06:1338: 1B           	tcs
  6478 06:1339: 98           	tya
  Mon Aug  9 2021 16:52                                                Page 125


  6479 06:133A: 6B           	rtl
  6480                        ;}
  6481                        	.line	823
  6482                        	.endblock	823
  6483             00000004   L271	equ	4
  6484             00000005   L272	equ	5
  6485 06:133B:              	ends
  6486                        	efunc
  6487                        	.endfunc	823,5,4
  6488                        	.line	823
  6489                        ;
  6490                        ;
  6491                        ;
  6492                        ;void k_draw_pixel(long x,long y,char pcolor)
  6493                        ;{
  6494                        	.line	827
  6495                        	.line	828
  6496                        	GFX
  6497                        	xdef	~~k_draw_pixel
  6498                        	func
  6499                        	.function	828
  6500                        ~~k_draw_pixel:
  6501                        	longa	on
  6502                        	longi	on
  6503 06:133B: 3B           	tsc
  6504 06:133C: 38           	sec
  6505 06:133D: E9 08 00     	sbc	#L278
  6506 06:1340: 1B           	tcs
  6507 06:1341: 0B           	phd
  6508 06:1342: 5B           	tcd
  6509             00000004   x_0	set	4
  6510             00000008   y_0	set	8
  6511             0000000C   pcolor_0	set	12
  6512                        	.block	828
  6513                        ;	long pixelLocation = (long)(((long)y * 640L) + (
                    long)x);
  6514                        ;
  6515                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  6516             00000000   pixelLocation_1	set	0
  6517                        	.sym	pixelLocation,0,7,1,32
  6518                        	.sym	x,4,7,6,32
  6519                        	.sym	y,8,7,6,32
  6520                        	.sym	pcolor,12,14,6,8
  6521 06:1343: F4 00 00     	pea	#^$280
  6522 06:1346: F4 80 02     	pea	#<$280
  6523 06:1349: D4 12        	pei	<L278+y_0+2
  6524 06:134B: D4 10        	pei	<L278+y_0
  6525                        	xref	~~~lmul
  6526 06:134D: 22 xx xx xx  	jsl	~~~lmul
  6527 06:1351: 85 01        	sta	<R0
  6528 06:1353: 86 03        	stx	<R0+2
  6529 06:1355: 18           	clc
  6530 06:1356: A5 01        	lda	<R0
  6531 06:1358: 65 0C        	adc	<L278+x_0
  6532 06:135A: 85 05        	sta	<L279+pixelLocation_1
  6533 06:135C: A5 03        	lda	<R0+2
  Mon Aug  9 2021 16:52                                                Page 126


  6534 06:135E: 65 0E        	adc	<L278+x_0+2
  6535 06:1360: 85 07        	sta	<L279+pixelLocation_1+2
  6536                        	.line	831
  6537                        ;		((unsigned char FAR *)BITMAP_BANK_0)[pix
                    elLocation] = (char)pcolor;
  6538 06:1362: A5 0E        	lda	<L278+x_0+2
  6539 06:1364: 10 03        	bpl	L281
  6540 06:1366: 82 48 00     	brl	L10040
  6541                        L281:
  6542 06:1369: 38           	sec
  6543 06:136A: A9 80 02     	lda	#$280
  6544 06:136D: E5 0C        	sbc	<L278+x_0
  6545 06:136F: A9 00 00     	lda	#$0
  6546 06:1372: E5 0E        	sbc	<L278+x_0+2
  6547 06:1374: 70 03        	bvs	L282
  6548 06:1376: 49 00 80     	eor	#$8000
  6549                        L282:
  6550 06:1379: 30 03        	bmi	L283
  6551 06:137B: 82 33 00     	brl	L10040
  6552                        L283:
  6553 06:137E: A5 12        	lda	<L278+y_0+2
  6554 06:1380: 10 03        	bpl	L284
  6555 06:1382: 82 2C 00     	brl	L10040
  6556                        L284:
  6557 06:1385: 38           	sec
  6558 06:1386: A9 E0 01     	lda	#$1e0
  6559 06:1389: E5 10        	sbc	<L278+y_0
  6560 06:138B: A9 00 00     	lda	#$0
  6561 06:138E: E5 12        	sbc	<L278+y_0+2
  6562 06:1390: 70 03        	bvs	L285
  6563 06:1392: 49 00 80     	eor	#$8000
  6564                        L285:
  6565 06:1395: 30 03        	bmi	L286
  6566 06:1397: 82 17 00     	brl	L10040
  6567                        L286:
  6568                        	.line	832
  6569 06:139A: 18           	clc
  6570 06:139B: A9 00 00     	lda	#$0
  6571 06:139E: 65 05        	adc	<L279+pixelLocation_1
  6572 06:13A0: 85 01        	sta	<R0
  6573 06:13A2: A9 B0 00     	lda	#$b0
  6574 06:13A5: 65 07        	adc	<L279+pixelLocation_1+2
  6575 06:13A7: 85 03        	sta	<R0+2
  6576 06:13A9: E2 20        	sep	#$20
  6577                        	longa	off
  6578 06:13AB: A5 14        	lda	<L278+pcolor_0
  6579 06:13AD: 87 01        	sta	[<R0]
  6580 06:13AF: C2 20        	rep	#$20
  6581                        	longa	on
  6582                        ;	//((unsigned char FAR *)SHADOW_BANK_0)[pixelLoca
                    tion] = (char)pcolor;
  6583                        ;
  6584                        ;
  6585                        ;	//((unsigned char FAR *)BITMAP_BANK_0)[(long)(( 
                    ((long)y) * 640L) + ((long)x) )] = (char)pcolor;
  6586                        ;}
  6587                        L10040:
  6588                        	.line	837
  Mon Aug  9 2021 16:52                                                Page 127


  6589                        L287:
  6590 06:13B1: A5 0A        	lda	<L278+2
  6591 06:13B3: 85 14        	sta	<L278+2+10
  6592 06:13B5: A5 09        	lda	<L278+1
  6593 06:13B7: 85 13        	sta	<L278+1+10
  6594 06:13B9: 2B           	pld
  6595 06:13BA: 3B           	tsc
  6596 06:13BB: 18           	clc
  6597 06:13BC: 69 12 00     	adc	#L278+10
  6598 06:13BF: 1B           	tcs
  6599 06:13C0: 6B           	rtl
  6600                        	.endblock	837
  6601             00000008   L278	equ	8
  6602             00000005   L279	equ	5
  6603 06:13C1:              	ends
  6604                        	efunc
  6605                        	.endfunc	837,5,8
  6606                        	.line	837
  6607                        ;
  6608                        ;void k_draw_pixel_front(long x,long y,char pcolor
                    )
  6609                        ;{
  6610                        	.line	839
  6611                        	.line	840
  6612                        	GFX
  6613                        	xdef	~~k_draw_pixel_front
  6614                        	func
  6615                        	.function	840
  6616                        ~~k_draw_pixel_front:
  6617                        	longa	on
  6618                        	longi	on
  6619 06:13C1: 3B           	tsc
  6620 06:13C2: 38           	sec
  6621 06:13C3: E9 08 00     	sbc	#L288
  6622 06:13C6: 1B           	tcs
  6623 06:13C7: 0B           	phd
  6624 06:13C8: 5B           	tcd
  6625             00000004   x_0	set	4
  6626             00000008   y_0	set	8
  6627             0000000C   pcolor_0	set	12
  6628                        	.block	840
  6629                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  6630                        	.sym	x,4,7,6,32
  6631                        	.sym	y,8,7,6,32
  6632                        	.sym	pcolor,12,14,6,8
  6633                        	.line	841
  6634                        ;		BITMAP_BANK_0[(long)(((long)y * 640L) + 
                    (long)x)] = (char)pcolor;
  6635 06:13C9: A5 0E        	lda	<L288+x_0+2
  6636 06:13CB: 10 03        	bpl	L291
  6637 06:13CD: 82 67 00     	brl	L10041
  6638                        L291:
  6639 06:13D0: 38           	sec
  6640 06:13D1: A9 80 02     	lda	#$280
  6641 06:13D4: E5 0C        	sbc	<L288+x_0
  6642 06:13D6: A9 00 00     	lda	#$0
  Mon Aug  9 2021 16:52                                                Page 128


  6643 06:13D9: E5 0E        	sbc	<L288+x_0+2
  6644 06:13DB: 70 03        	bvs	L292
  6645 06:13DD: 49 00 80     	eor	#$8000
  6646                        L292:
  6647 06:13E0: 30 03        	bmi	L293
  6648 06:13E2: 82 52 00     	brl	L10041
  6649                        L293:
  6650 06:13E5: A5 12        	lda	<L288+y_0+2
  6651 06:13E7: 10 03        	bpl	L294
  6652 06:13E9: 82 4B 00     	brl	L10041
  6653                        L294:
  6654 06:13EC: 38           	sec
  6655 06:13ED: A9 E0 01     	lda	#$1e0
  6656 06:13F0: E5 10        	sbc	<L288+y_0
  6657 06:13F2: A9 00 00     	lda	#$0
  6658 06:13F5: E5 12        	sbc	<L288+y_0+2
  6659 06:13F7: 70 03        	bvs	L295
  6660 06:13F9: 49 00 80     	eor	#$8000
  6661                        L295:
  6662 06:13FC: 30 03        	bmi	L296
  6663 06:13FE: 82 36 00     	brl	L10041
  6664                        L296:
  6665                        	.line	842
  6666 06:1401: F4 00 00     	pea	#^$280
  6667 06:1404: F4 80 02     	pea	#<$280
  6668 06:1407: D4 12        	pei	<L288+y_0+2
  6669 06:1409: D4 10        	pei	<L288+y_0
  6670                        	xref	~~~lmul
  6671 06:140B: 22 xx xx xx  	jsl	~~~lmul
  6672 06:140F: 85 01        	sta	<R0
  6673 06:1411: 86 03        	stx	<R0+2
  6674 06:1413: 18           	clc
  6675 06:1414: A5 01        	lda	<R0
  6676 06:1416: 65 0C        	adc	<L288+x_0
  6677 06:1418: 85 05        	sta	<R1
  6678 06:141A: A5 03        	lda	<R0+2
  6679 06:141C: 65 0E        	adc	<L288+x_0+2
  6680 06:141E: 85 07        	sta	<R1+2
  6681 06:1420: 18           	clc
  6682 06:1421: A9 00 00     	lda	#$0
  6683 06:1424: 65 05        	adc	<R1
  6684 06:1426: 85 01        	sta	<R0
  6685 06:1428: A9 B0 00     	lda	#$b0
  6686 06:142B: 65 07        	adc	<R1+2
  6687 06:142D: 85 03        	sta	<R0+2
  6688 06:142F: E2 20        	sep	#$20
  6689                        	longa	off
  6690 06:1431: A5 14        	lda	<L288+pcolor_0
  6691 06:1433: 87 01        	sta	[<R0]
  6692 06:1435: C2 20        	rep	#$20
  6693                        	longa	on
  6694                        ;}
  6695                        L10041:
  6696                        	.line	843
  6697                        L297:
  6698 06:1437: A5 0A        	lda	<L288+2
  6699 06:1439: 85 14        	sta	<L288+2+10
  6700 06:143B: A5 09        	lda	<L288+1
  Mon Aug  9 2021 16:52                                                Page 129


  6701 06:143D: 85 13        	sta	<L288+1+10
  6702 06:143F: 2B           	pld
  6703 06:1440: 3B           	tsc
  6704 06:1441: 18           	clc
  6705 06:1442: 69 12 00     	adc	#L288+10
  6706 06:1445: 1B           	tcs
  6707 06:1446: 6B           	rtl
  6708                        	.endblock	843
  6709             00000008   L288	equ	8
  6710             00000009   L289	equ	9
  6711 06:1447:              	ends
  6712                        	efunc
  6713                        	.endfunc	843,9,8
  6714                        	.line	843
  6715                        ;
  6716                        ;void k_draw_pixel_back(long x,long y,char pcolor)
  6717                        ;{
  6718                        	.line	845
  6719                        	.line	846
  6720                        	GFX
  6721                        	xdef	~~k_draw_pixel_back
  6722                        	func
  6723                        	.function	846
  6724                        ~~k_draw_pixel_back:
  6725                        	longa	on
  6726                        	longi	on
  6727 06:1447: 3B           	tsc
  6728 06:1448: 38           	sec
  6729 06:1449: E9 08 00     	sbc	#L298
  6730 06:144C: 1B           	tcs
  6731 06:144D: 0B           	phd
  6732 06:144E: 5B           	tcd
  6733             00000004   x_0	set	4
  6734             00000008   y_0	set	8
  6735             0000000C   pcolor_0	set	12
  6736                        	.block	846
  6737                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  6738                        	.sym	x,4,7,6,32
  6739                        	.sym	y,8,7,6,32
  6740                        	.sym	pcolor,12,14,6,8
  6741                        	.line	847
  6742                        ;		BITMAP_BANK_0_PAGE0[(long)(((long)y * 64
                    0L) + (long)x)] = (char)pcolor;
  6743 06:144F: A5 0E        	lda	<L298+x_0+2
  6744 06:1451: 10 03        	bpl	L301
  6745 06:1453: 82 67 00     	brl	L10042
  6746                        L301:
  6747 06:1456: 38           	sec
  6748 06:1457: A9 80 02     	lda	#$280
  6749 06:145A: E5 0C        	sbc	<L298+x_0
  6750 06:145C: A9 00 00     	lda	#$0
  6751 06:145F: E5 0E        	sbc	<L298+x_0+2
  6752 06:1461: 70 03        	bvs	L302
  6753 06:1463: 49 00 80     	eor	#$8000
  6754                        L302:
  6755 06:1466: 30 03        	bmi	L303
  Mon Aug  9 2021 16:52                                                Page 130


  6756 06:1468: 82 52 00     	brl	L10042
  6757                        L303:
  6758 06:146B: A5 12        	lda	<L298+y_0+2
  6759 06:146D: 10 03        	bpl	L304
  6760 06:146F: 82 4B 00     	brl	L10042
  6761                        L304:
  6762 06:1472: 38           	sec
  6763 06:1473: A9 E0 01     	lda	#$1e0
  6764 06:1476: E5 10        	sbc	<L298+y_0
  6765 06:1478: A9 00 00     	lda	#$0
  6766 06:147B: E5 12        	sbc	<L298+y_0+2
  6767 06:147D: 70 03        	bvs	L305
  6768 06:147F: 49 00 80     	eor	#$8000
  6769                        L305:
  6770 06:1482: 30 03        	bmi	L306
  6771 06:1484: 82 36 00     	brl	L10042
  6772                        L306:
  6773                        	.line	848
  6774 06:1487: F4 00 00     	pea	#^$280
  6775 06:148A: F4 80 02     	pea	#<$280
  6776 06:148D: D4 12        	pei	<L298+y_0+2
  6777 06:148F: D4 10        	pei	<L298+y_0
  6778                        	xref	~~~lmul
  6779 06:1491: 22 xx xx xx  	jsl	~~~lmul
  6780 06:1495: 85 01        	sta	<R0
  6781 06:1497: 86 03        	stx	<R0+2
  6782 06:1499: 18           	clc
  6783 06:149A: A5 01        	lda	<R0
  6784 06:149C: 65 0C        	adc	<L298+x_0
  6785 06:149E: 85 05        	sta	<R1
  6786 06:14A0: A5 03        	lda	<R0+2
  6787 06:14A2: 65 0E        	adc	<L298+x_0+2
  6788 06:14A4: 85 07        	sta	<R1+2
  6789 06:14A6: 18           	clc
  6790 06:14A7: A9 00 00     	lda	#$0
  6791 06:14AA: 65 05        	adc	<R1
  6792 06:14AC: 85 01        	sta	<R0
  6793 06:14AE: A9 B8 00     	lda	#$b8
  6794 06:14B1: 65 07        	adc	<R1+2
  6795 06:14B3: 85 03        	sta	<R0+2
  6796 06:14B5: E2 20        	sep	#$20
  6797                        	longa	off
  6798 06:14B7: A5 14        	lda	<L298+pcolor_0
  6799 06:14B9: 87 01        	sta	[<R0]
  6800 06:14BB: C2 20        	rep	#$20
  6801                        	longa	on
  6802                        ;}
  6803                        L10042:
  6804                        	.line	849
  6805                        L307:
  6806 06:14BD: A5 0A        	lda	<L298+2
  6807 06:14BF: 85 14        	sta	<L298+2+10
  6808 06:14C1: A5 09        	lda	<L298+1
  6809 06:14C3: 85 13        	sta	<L298+1+10
  6810 06:14C5: 2B           	pld
  6811 06:14C6: 3B           	tsc
  6812 06:14C7: 18           	clc
  6813 06:14C8: 69 12 00     	adc	#L298+10
  Mon Aug  9 2021 16:52                                                Page 131


  6814 06:14CB: 1B           	tcs
  6815 06:14CC: 6B           	rtl
  6816                        	.endblock	849
  6817             00000008   L298	equ	8
  6818             00000009   L299	equ	9
  6819 06:14CD:              	ends
  6820                        	efunc
  6821                        	.endfunc	849,9,8
  6822                        	.line	849
  6823                        ;
  6824                        ;
  6825                        ;void k_draw_pixel_D0(long x,long y,char pcolor)
  6826                        ;{
  6827                        	.line	852
  6828                        	.line	853
  6829                        	GFX
  6830                        	xdef	~~k_draw_pixel_D0
  6831                        	func
  6832                        	.function	853
  6833                        ~~k_draw_pixel_D0:
  6834                        	longa	on
  6835                        	longi	on
  6836 06:14CD: 3B           	tsc
  6837 06:14CE: 38           	sec
  6838 06:14CF: E9 08 00     	sbc	#L308
  6839 06:14D2: 1B           	tcs
  6840 06:14D3: 0B           	phd
  6841 06:14D4: 5B           	tcd
  6842             00000004   x_0	set	4
  6843             00000008   y_0	set	8
  6844             0000000C   pcolor_0	set	12
  6845                        	.block	853
  6846                        ;	BITMAP_BANK_0_PAGE2[(long)(((long)y * 640L) + (l
                    ong)x)] = (char)pcolor;
  6847                        	.sym	x,4,7,6,32
  6848                        	.sym	y,8,7,6,32
  6849                        	.sym	pcolor,12,14,6,8
  6850                        	.line	854
  6851 06:14D5: F4 00 00     	pea	#^$280
  6852 06:14D8: F4 80 02     	pea	#<$280
  6853 06:14DB: D4 12        	pei	<L308+y_0+2
  6854 06:14DD: D4 10        	pei	<L308+y_0
  6855                        	xref	~~~lmul
  6856 06:14DF: 22 xx xx xx  	jsl	~~~lmul
  6857 06:14E3: 85 01        	sta	<R0
  6858 06:14E5: 86 03        	stx	<R0+2
  6859 06:14E7: 18           	clc
  6860 06:14E8: A5 01        	lda	<R0
  6861 06:14EA: 65 0C        	adc	<L308+x_0
  6862 06:14EC: 85 05        	sta	<R1
  6863 06:14EE: A5 03        	lda	<R0+2
  6864 06:14F0: 65 0E        	adc	<L308+x_0+2
  6865 06:14F2: 85 07        	sta	<R1+2
  6866 06:14F4: 18           	clc
  6867 06:14F5: A9 00 00     	lda	#$0
  6868 06:14F8: 65 05        	adc	<R1
  6869 06:14FA: 85 01        	sta	<R0
  6870 06:14FC: A9 D0 00     	lda	#$d0
  Mon Aug  9 2021 16:52                                                Page 132


  6871 06:14FF: 65 07        	adc	<R1+2
  6872 06:1501: 85 03        	sta	<R0+2
  6873 06:1503: E2 20        	sep	#$20
  6874                        	longa	off
  6875 06:1505: A5 14        	lda	<L308+pcolor_0
  6876 06:1507: 87 01        	sta	[<R0]
  6877 06:1509: C2 20        	rep	#$20
  6878                        	longa	on
  6879                        ;}
  6880                        	.line	855
  6881                        L311:
  6882 06:150B: A5 0A        	lda	<L308+2
  6883 06:150D: 85 14        	sta	<L308+2+10
  6884 06:150F: A5 09        	lda	<L308+1
  6885 06:1511: 85 13        	sta	<L308+1+10
  6886 06:1513: 2B           	pld
  6887 06:1514: 3B           	tsc
  6888 06:1515: 18           	clc
  6889 06:1516: 69 12 00     	adc	#L308+10
  6890 06:1519: 1B           	tcs
  6891 06:151A: 6B           	rtl
  6892                        	.endblock	855
  6893             00000008   L308	equ	8
  6894             00000009   L309	equ	9
  6895 06:151B:              	ends
  6896                        	efunc
  6897                        	.endfunc	855,9,8
  6898                        	.line	855
  6899                        ;
  6900                        ;
  6901                        ;void k_draw_pixel_ex(long x,long y,char pcolor,UI
                    NT toPage)
  6902                        ;{
  6903                        	.line	858
  6904                        	.line	859
  6905                        	GFX
  6906                        	xdef	~~k_draw_pixel_ex
  6907                        	func
  6908                        	.function	859
  6909                        ~~k_draw_pixel_ex:
  6910                        	longa	on
  6911                        	longi	on
  6912 06:151B: 3B           	tsc
  6913 06:151C: 38           	sec
  6914 06:151D: E9 08 00     	sbc	#L312
  6915 06:1520: 1B           	tcs
  6916 06:1521: 0B           	phd
  6917 06:1522: 5B           	tcd
  6918             00000004   x_0	set	4
  6919             00000008   y_0	set	8
  6920             0000000C   pcolor_0	set	12
  6921             0000000E   toPage_0	set	14
  6922                        	.block	859
  6923                        ;	//LPSTR pDest = NULL;
  6924                        ;	//ULONG addr;
  6925                        ;	//long pixelLocation = (long)(((long)y * 640L) +
                     (long)x);
  6926                        ;
  Mon Aug  9 2021 16:52                                                Page 133


  6927                        ;	//((LPSTR)((LONG)BITMAP_BANK_0 &((LONG)toPage <<
                     16) & 0xFF0000))[pixelLocation] = (char)pcolor;
  6928                        ;	//((unsigned char FAR *)((LONG)BITMAP_BANK_0) & 
                    ((LONG)toPage << 16) & 0xFF0000)))[pixelLocation] = (char)pc
                    olor;
  6929                        ;	/*
  6930                        ;	addr = ((ULONG)BITMAP_BANK_0);
  6931                        ;	addr = addr & (((ULONG)toPage << 16) & 0xFF0000)
                    ;
  6932                        ;
  6933                        ;	pDest = (LPSTR)addr;
  6934                        ;
  6935                        ;	pDest[pixelLocation] = (char)pcolor;
  6936                        ;
  6937                        ;	*/
  6938                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  6939                        	.sym	x,4,7,6,32
  6940                        	.sym	y,8,7,6,32
  6941                        	.sym	pcolor,12,14,6,8
  6942                        	.sym	toPage,14,16,6,16
  6943                        	.line	875
  6944                        ;		((unsigned char FAR *)BITMAP_BANK_0)[(lo
                    ng)(((long)y * 640L) + (long)x)] = (char)pcolor;
  6945 06:1523: A5 0E        	lda	<L312+x_0+2
  6946 06:1525: 10 03        	bpl	L315
  6947 06:1527: 82 67 00     	brl	L10043
  6948                        L315:
  6949 06:152A: 38           	sec
  6950 06:152B: A9 80 02     	lda	#$280
  6951 06:152E: E5 0C        	sbc	<L312+x_0
  6952 06:1530: A9 00 00     	lda	#$0
  6953 06:1533: E5 0E        	sbc	<L312+x_0+2
  6954 06:1535: 70 03        	bvs	L316
  6955 06:1537: 49 00 80     	eor	#$8000
  6956                        L316:
  6957 06:153A: 30 03        	bmi	L317
  6958 06:153C: 82 52 00     	brl	L10043
  6959                        L317:
  6960 06:153F: A5 12        	lda	<L312+y_0+2
  6961 06:1541: 10 03        	bpl	L318
  6962 06:1543: 82 4B 00     	brl	L10043
  6963                        L318:
  6964 06:1546: 38           	sec
  6965 06:1547: A9 E0 01     	lda	#$1e0
  6966 06:154A: E5 10        	sbc	<L312+y_0
  6967 06:154C: A9 00 00     	lda	#$0
  6968 06:154F: E5 12        	sbc	<L312+y_0+2
  6969 06:1551: 70 03        	bvs	L319
  6970 06:1553: 49 00 80     	eor	#$8000
  6971                        L319:
  6972 06:1556: 30 03        	bmi	L320
  6973 06:1558: 82 36 00     	brl	L10043
  6974                        L320:
  6975                        	.line	876
  6976 06:155B: F4 00 00     	pea	#^$280
  6977 06:155E: F4 80 02     	pea	#<$280
  Mon Aug  9 2021 16:52                                                Page 134


  6978 06:1561: D4 12        	pei	<L312+y_0+2
  6979 06:1563: D4 10        	pei	<L312+y_0
  6980                        	xref	~~~lmul
  6981 06:1565: 22 xx xx xx  	jsl	~~~lmul
  6982 06:1569: 85 01        	sta	<R0
  6983 06:156B: 86 03        	stx	<R0+2
  6984 06:156D: 18           	clc
  6985 06:156E: A5 01        	lda	<R0
  6986 06:1570: 65 0C        	adc	<L312+x_0
  6987 06:1572: 85 05        	sta	<R1
  6988 06:1574: A5 03        	lda	<R0+2
  6989 06:1576: 65 0E        	adc	<L312+x_0+2
  6990 06:1578: 85 07        	sta	<R1+2
  6991 06:157A: 18           	clc
  6992 06:157B: A9 00 00     	lda	#$0
  6993 06:157E: 65 05        	adc	<R1
  6994 06:1580: 85 01        	sta	<R0
  6995 06:1582: A9 B0 00     	lda	#$b0
  6996 06:1585: 65 07        	adc	<R1+2
  6997 06:1587: 85 03        	sta	<R0+2
  6998 06:1589: E2 20        	sep	#$20
  6999                        	longa	off
  7000 06:158B: A5 14        	lda	<L312+pcolor_0
  7001 06:158D: 87 01        	sta	[<R0]
  7002 06:158F: C2 20        	rep	#$20
  7003                        	longa	on
  7004                        ;}
  7005                        L10043:
  7006                        	.line	877
  7007                        L321:
  7008 06:1591: A5 0A        	lda	<L312+2
  7009 06:1593: 85 16        	sta	<L312+2+12
  7010 06:1595: A5 09        	lda	<L312+1
  7011 06:1597: 85 15        	sta	<L312+1+12
  7012 06:1599: 2B           	pld
  7013 06:159A: 3B           	tsc
  7014 06:159B: 18           	clc
  7015 06:159C: 69 14 00     	adc	#L312+12
  7016 06:159F: 1B           	tcs
  7017 06:15A0: 6B           	rtl
  7018                        	.endblock	877
  7019             00000008   L312	equ	8
  7020             00000009   L313	equ	9
  7021 06:15A1:              	ends
  7022                        	efunc
  7023                        	.endfunc	877,9,8
  7024                        	.line	877
  7025                        ;
  7026                        ;
  7027                        ;void k_draw_segments(int xc, int yc, int x, int y
                    ,int color) 
  7028                        ;{ 
  7029                        	.line	880
  7030                        	.line	881
  7031                        	GFX
  7032                        	xdef	~~k_draw_segments
  7033                        	func
  7034                        	.function	881
  Mon Aug  9 2021 16:52                                                Page 135


  7035                        ~~k_draw_segments:
  7036                        	longa	on
  7037                        	longi	on
  7038 06:15A1: 3B           	tsc
  7039 06:15A2: 38           	sec
  7040 06:15A3: E9 08 00     	sbc	#L322
  7041 06:15A6: 1B           	tcs
  7042 06:15A7: 0B           	phd
  7043 06:15A8: 5B           	tcd
  7044             00000004   xc_0	set	4
  7045             00000006   yc_0	set	6
  7046             00000008   x_0	set	8
  7047             0000000A   y_0	set	10
  7048             0000000C   color_0	set	12
  7049                        	.block	881
  7050                        ;    k_draw_pixel(xc+x, yc+y, color); 
  7051                        	.sym	xc,4,5,6,16
  7052                        	.sym	yc,6,5,6,16
  7053                        	.sym	x,8,5,6,16
  7054                        	.sym	y,10,5,6,16
  7055                        	.sym	color,12,5,6,16
  7056                        	.line	882
  7057 06:15A9: D4 14        	pei	<L322+color_0
  7058 06:15AB: 18           	clc
  7059 06:15AC: A5 0E        	lda	<L322+yc_0
  7060 06:15AE: 65 12        	adc	<L322+y_0
  7061 06:15B0: 85 01        	sta	<R0
  7062 06:15B2: A0 00 00     	ldy	#$0
  7063 06:15B5: A5 01        	lda	<R0
  7064 06:15B7: 10 01        	bpl	L325
  7065 06:15B9: 88           	dey
  7066                        L325:
  7067 06:15BA: 85 01        	sta	<R0
  7068 06:15BC: 84 03        	sty	<R0+2
  7069 06:15BE: D4 03        	pei	<R0+2
  7070 06:15C0: D4 01        	pei	<R0
  7071 06:15C2: 18           	clc
  7072 06:15C3: A5 0C        	lda	<L322+xc_0
  7073 06:15C5: 65 10        	adc	<L322+x_0
  7074 06:15C7: 85 05        	sta	<R1
  7075 06:15C9: A0 00 00     	ldy	#$0
  7076 06:15CC: A5 05        	lda	<R1
  7077 06:15CE: 10 01        	bpl	L326
  7078 06:15D0: 88           	dey
  7079                        L326:
  7080 06:15D1: 85 05        	sta	<R1
  7081 06:15D3: 84 07        	sty	<R1+2
  7082 06:15D5: D4 07        	pei	<R1+2
  7083 06:15D7: D4 05        	pei	<R1
  7084 06:15D9: 22 3B 13 06  	jsl	~~k_draw_pixel
  7085                        ;    k_draw_pixel(xc-x, yc+y, color); 
  7086                        	.line	883
  7087 06:15DD: D4 14        	pei	<L322+color_0
  7088 06:15DF: 18           	clc
  7089 06:15E0: A5 0E        	lda	<L322+yc_0
  7090 06:15E2: 65 12        	adc	<L322+y_0
  7091 06:15E4: 85 01        	sta	<R0
  7092 06:15E6: A0 00 00     	ldy	#$0
  Mon Aug  9 2021 16:52                                                Page 136


  7093 06:15E9: A5 01        	lda	<R0
  7094 06:15EB: 10 01        	bpl	L327
  7095 06:15ED: 88           	dey
  7096                        L327:
  7097 06:15EE: 85 01        	sta	<R0
  7098 06:15F0: 84 03        	sty	<R0+2
  7099 06:15F2: D4 03        	pei	<R0+2
  7100 06:15F4: D4 01        	pei	<R0
  7101 06:15F6: 38           	sec
  7102 06:15F7: A5 0C        	lda	<L322+xc_0
  7103 06:15F9: E5 10        	sbc	<L322+x_0
  7104 06:15FB: 85 05        	sta	<R1
  7105 06:15FD: A0 00 00     	ldy	#$0
  7106 06:1600: A5 05        	lda	<R1
  7107 06:1602: 10 01        	bpl	L328
  7108 06:1604: 88           	dey
  7109                        L328:
  7110 06:1605: 85 05        	sta	<R1
  7111 06:1607: 84 07        	sty	<R1+2
  7112 06:1609: D4 07        	pei	<R1+2
  7113 06:160B: D4 05        	pei	<R1
  7114 06:160D: 22 3B 13 06  	jsl	~~k_draw_pixel
  7115                        ;    k_draw_pixel(xc+x, yc-y, color); 
  7116                        	.line	884
  7117 06:1611: D4 14        	pei	<L322+color_0
  7118 06:1613: 38           	sec
  7119 06:1614: A5 0E        	lda	<L322+yc_0
  7120 06:1616: E5 12        	sbc	<L322+y_0
  7121 06:1618: 85 01        	sta	<R0
  7122 06:161A: A0 00 00     	ldy	#$0
  7123 06:161D: A5 01        	lda	<R0
  7124 06:161F: 10 01        	bpl	L329
  7125 06:1621: 88           	dey
  7126                        L329:
  7127 06:1622: 85 01        	sta	<R0
  7128 06:1624: 84 03        	sty	<R0+2
  7129 06:1626: D4 03        	pei	<R0+2
  7130 06:1628: D4 01        	pei	<R0
  7131 06:162A: 18           	clc
  7132 06:162B: A5 0C        	lda	<L322+xc_0
  7133 06:162D: 65 10        	adc	<L322+x_0
  7134 06:162F: 85 05        	sta	<R1
  7135 06:1631: A0 00 00     	ldy	#$0
  7136 06:1634: A5 05        	lda	<R1
  7137 06:1636: 10 01        	bpl	L330
  7138 06:1638: 88           	dey
  7139                        L330:
  7140 06:1639: 85 05        	sta	<R1
  7141 06:163B: 84 07        	sty	<R1+2
  7142 06:163D: D4 07        	pei	<R1+2
  7143 06:163F: D4 05        	pei	<R1
  7144 06:1641: 22 3B 13 06  	jsl	~~k_draw_pixel
  7145                        ;    k_draw_pixel(xc-x, yc-y, color); 
  7146                        	.line	885
  7147 06:1645: D4 14        	pei	<L322+color_0
  7148 06:1647: 38           	sec
  7149 06:1648: A5 0E        	lda	<L322+yc_0
  7150 06:164A: E5 12        	sbc	<L322+y_0
  Mon Aug  9 2021 16:52                                                Page 137


  7151 06:164C: 85 01        	sta	<R0
  7152 06:164E: A0 00 00     	ldy	#$0
  7153 06:1651: A5 01        	lda	<R0
  7154 06:1653: 10 01        	bpl	L331
  7155 06:1655: 88           	dey
  7156                        L331:
  7157 06:1656: 85 01        	sta	<R0
  7158 06:1658: 84 03        	sty	<R0+2
  7159 06:165A: D4 03        	pei	<R0+2
  7160 06:165C: D4 01        	pei	<R0
  7161 06:165E: 38           	sec
  7162 06:165F: A5 0C        	lda	<L322+xc_0
  7163 06:1661: E5 10        	sbc	<L322+x_0
  7164 06:1663: 85 05        	sta	<R1
  7165 06:1665: A0 00 00     	ldy	#$0
  7166 06:1668: A5 05        	lda	<R1
  7167 06:166A: 10 01        	bpl	L332
  7168 06:166C: 88           	dey
  7169                        L332:
  7170 06:166D: 85 05        	sta	<R1
  7171 06:166F: 84 07        	sty	<R1+2
  7172 06:1671: D4 07        	pei	<R1+2
  7173 06:1673: D4 05        	pei	<R1
  7174 06:1675: 22 3B 13 06  	jsl	~~k_draw_pixel
  7175                        ;    k_draw_pixel(xc+y, yc+x, color); 
  7176                        	.line	886
  7177 06:1679: D4 14        	pei	<L322+color_0
  7178 06:167B: 18           	clc
  7179 06:167C: A5 0E        	lda	<L322+yc_0
  7180 06:167E: 65 10        	adc	<L322+x_0
  7181 06:1680: 85 01        	sta	<R0
  7182 06:1682: A0 00 00     	ldy	#$0
  7183 06:1685: A5 01        	lda	<R0
  7184 06:1687: 10 01        	bpl	L333
  7185 06:1689: 88           	dey
  7186                        L333:
  7187 06:168A: 85 01        	sta	<R0
  7188 06:168C: 84 03        	sty	<R0+2
  7189 06:168E: D4 03        	pei	<R0+2
  7190 06:1690: D4 01        	pei	<R0
  7191 06:1692: 18           	clc
  7192 06:1693: A5 0C        	lda	<L322+xc_0
  7193 06:1695: 65 12        	adc	<L322+y_0
  7194 06:1697: 85 05        	sta	<R1
  7195 06:1699: A0 00 00     	ldy	#$0
  7196 06:169C: A5 05        	lda	<R1
  7197 06:169E: 10 01        	bpl	L334
  7198 06:16A0: 88           	dey
  7199                        L334:
  7200 06:16A1: 85 05        	sta	<R1
  7201 06:16A3: 84 07        	sty	<R1+2
  7202 06:16A5: D4 07        	pei	<R1+2
  7203 06:16A7: D4 05        	pei	<R1
  7204 06:16A9: 22 3B 13 06  	jsl	~~k_draw_pixel
  7205                        ;    k_draw_pixel(xc-y, yc+x, color); 
  7206                        	.line	887
  7207 06:16AD: D4 14        	pei	<L322+color_0
  7208 06:16AF: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 138


  7209 06:16B0: A5 0E        	lda	<L322+yc_0
  7210 06:16B2: 65 10        	adc	<L322+x_0
  7211 06:16B4: 85 01        	sta	<R0
  7212 06:16B6: A0 00 00     	ldy	#$0
  7213 06:16B9: A5 01        	lda	<R0
  7214 06:16BB: 10 01        	bpl	L335
  7215 06:16BD: 88           	dey
  7216                        L335:
  7217 06:16BE: 85 01        	sta	<R0
  7218 06:16C0: 84 03        	sty	<R0+2
  7219 06:16C2: D4 03        	pei	<R0+2
  7220 06:16C4: D4 01        	pei	<R0
  7221 06:16C6: 38           	sec
  7222 06:16C7: A5 0C        	lda	<L322+xc_0
  7223 06:16C9: E5 12        	sbc	<L322+y_0
  7224 06:16CB: 85 05        	sta	<R1
  7225 06:16CD: A0 00 00     	ldy	#$0
  7226 06:16D0: A5 05        	lda	<R1
  7227 06:16D2: 10 01        	bpl	L336
  7228 06:16D4: 88           	dey
  7229                        L336:
  7230 06:16D5: 85 05        	sta	<R1
  7231 06:16D7: 84 07        	sty	<R1+2
  7232 06:16D9: D4 07        	pei	<R1+2
  7233 06:16DB: D4 05        	pei	<R1
  7234 06:16DD: 22 3B 13 06  	jsl	~~k_draw_pixel
  7235                        ;    k_draw_pixel(xc+y, yc-x, color); 
  7236                        	.line	888
  7237 06:16E1: D4 14        	pei	<L322+color_0
  7238 06:16E3: 38           	sec
  7239 06:16E4: A5 0E        	lda	<L322+yc_0
  7240 06:16E6: E5 10        	sbc	<L322+x_0
  7241 06:16E8: 85 01        	sta	<R0
  7242 06:16EA: A0 00 00     	ldy	#$0
  7243 06:16ED: A5 01        	lda	<R0
  7244 06:16EF: 10 01        	bpl	L337
  7245 06:16F1: 88           	dey
  7246                        L337:
  7247 06:16F2: 85 01        	sta	<R0
  7248 06:16F4: 84 03        	sty	<R0+2
  7249 06:16F6: D4 03        	pei	<R0+2
  7250 06:16F8: D4 01        	pei	<R0
  7251 06:16FA: 18           	clc
  7252 06:16FB: A5 0C        	lda	<L322+xc_0
  7253 06:16FD: 65 12        	adc	<L322+y_0
  7254 06:16FF: 85 05        	sta	<R1
  7255 06:1701: A0 00 00     	ldy	#$0
  7256 06:1704: A5 05        	lda	<R1
  7257 06:1706: 10 01        	bpl	L338
  7258 06:1708: 88           	dey
  7259                        L338:
  7260 06:1709: 85 05        	sta	<R1
  7261 06:170B: 84 07        	sty	<R1+2
  7262 06:170D: D4 07        	pei	<R1+2
  7263 06:170F: D4 05        	pei	<R1
  7264 06:1711: 22 3B 13 06  	jsl	~~k_draw_pixel
  7265                        ;    k_draw_pixel(xc-y, yc-x, color); 
  7266                        	.line	889
  Mon Aug  9 2021 16:52                                                Page 139


  7267 06:1715: D4 14        	pei	<L322+color_0
  7268 06:1717: 38           	sec
  7269 06:1718: A5 0E        	lda	<L322+yc_0
  7270 06:171A: E5 10        	sbc	<L322+x_0
  7271 06:171C: 85 01        	sta	<R0
  7272 06:171E: A0 00 00     	ldy	#$0
  7273 06:1721: A5 01        	lda	<R0
  7274 06:1723: 10 01        	bpl	L339
  7275 06:1725: 88           	dey
  7276                        L339:
  7277 06:1726: 85 01        	sta	<R0
  7278 06:1728: 84 03        	sty	<R0+2
  7279 06:172A: D4 03        	pei	<R0+2
  7280 06:172C: D4 01        	pei	<R0
  7281 06:172E: 38           	sec
  7282 06:172F: A5 0C        	lda	<L322+xc_0
  7283 06:1731: E5 12        	sbc	<L322+y_0
  7284 06:1733: 85 05        	sta	<R1
  7285 06:1735: A0 00 00     	ldy	#$0
  7286 06:1738: A5 05        	lda	<R1
  7287 06:173A: 10 01        	bpl	L340
  7288 06:173C: 88           	dey
  7289                        L340:
  7290 06:173D: 85 05        	sta	<R1
  7291 06:173F: 84 07        	sty	<R1+2
  7292 06:1741: D4 07        	pei	<R1+2
  7293 06:1743: D4 05        	pei	<R1
  7294 06:1745: 22 3B 13 06  	jsl	~~k_draw_pixel
  7295                        ;} 
  7296                        	.line	890
  7297                        L341:
  7298 06:1749: A5 0A        	lda	<L322+2
  7299 06:174B: 85 14        	sta	<L322+2+10
  7300 06:174D: A5 09        	lda	<L322+1
  7301 06:174F: 85 13        	sta	<L322+1+10
  7302 06:1751: 2B           	pld
  7303 06:1752: 3B           	tsc
  7304 06:1753: 18           	clc
  7305 06:1754: 69 12 00     	adc	#L322+10
  7306 06:1757: 1B           	tcs
  7307 06:1758: 6B           	rtl
  7308                        	.endblock	890
  7309             00000008   L322	equ	8
  7310             00000009   L323	equ	9
  7311 06:1759:              	ends
  7312                        	efunc
  7313                        	.endfunc	890,9,8
  7314                        	.line	890
  7315                        ;
  7316                        ;void k_draw_filled_segments(int xc, int yc, int x
                    , int y,int color) 
  7317                        ;{ 
  7318                        	.line	892
  7319                        	.line	893
  7320                        	GFX
  7321                        	xdef	~~k_draw_filled_segments
  7322                        	func
  7323                        	.function	893
  Mon Aug  9 2021 16:52                                                Page 140


  7324                        ~~k_draw_filled_segments:
  7325                        	longa	on
  7326                        	longi	on
  7327 06:1759: 3B           	tsc
  7328 06:175A: 38           	sec
  7329 06:175B: E9 08 00     	sbc	#L342
  7330 06:175E: 1B           	tcs
  7331 06:175F: 0B           	phd
  7332 06:1760: 5B           	tcd
  7333             00000004   xc_0	set	4
  7334             00000006   yc_0	set	6
  7335             00000008   x_0	set	8
  7336             0000000A   y_0	set	10
  7337             0000000C   color_0	set	12
  7338                        	.block	893
  7339                        ;    k_draw_pixel(xc+x, yc+y, color); 	    
  7340                        	.sym	xc,4,5,6,16
  7341                        	.sym	yc,6,5,6,16
  7342                        	.sym	x,8,5,6,16
  7343                        	.sym	y,10,5,6,16
  7344                        	.sym	color,12,5,6,16
  7345                        	.line	894
  7346 06:1761: D4 14        	pei	<L342+color_0
  7347 06:1763: 18           	clc
  7348 06:1764: A5 0E        	lda	<L342+yc_0
  7349 06:1766: 65 12        	adc	<L342+y_0
  7350 06:1768: 85 01        	sta	<R0
  7351 06:176A: A0 00 00     	ldy	#$0
  7352 06:176D: A5 01        	lda	<R0
  7353 06:176F: 10 01        	bpl	L345
  7354 06:1771: 88           	dey
  7355                        L345:
  7356 06:1772: 85 01        	sta	<R0
  7357 06:1774: 84 03        	sty	<R0+2
  7358 06:1776: D4 03        	pei	<R0+2
  7359 06:1778: D4 01        	pei	<R0
  7360 06:177A: 18           	clc
  7361 06:177B: A5 0C        	lda	<L342+xc_0
  7362 06:177D: 65 10        	adc	<L342+x_0
  7363 06:177F: 85 05        	sta	<R1
  7364 06:1781: A0 00 00     	ldy	#$0
  7365 06:1784: A5 05        	lda	<R1
  7366 06:1786: 10 01        	bpl	L346
  7367 06:1788: 88           	dey
  7368                        L346:
  7369 06:1789: 85 05        	sta	<R1
  7370 06:178B: 84 07        	sty	<R1+2
  7371 06:178D: D4 07        	pei	<R1+2
  7372 06:178F: D4 05        	pei	<R1
  7373 06:1791: 22 3B 13 06  	jsl	~~k_draw_pixel
  7374                        ;	k_draw_pixel(xc-x, yc+y, color); 
  7375                        	.line	895
  7376 06:1795: D4 14        	pei	<L342+color_0
  7377 06:1797: 18           	clc
  7378 06:1798: A5 0E        	lda	<L342+yc_0
  7379 06:179A: 65 12        	adc	<L342+y_0
  7380 06:179C: 85 01        	sta	<R0
  7381 06:179E: A0 00 00     	ldy	#$0
  Mon Aug  9 2021 16:52                                                Page 141


  7382 06:17A1: A5 01        	lda	<R0
  7383 06:17A3: 10 01        	bpl	L347
  7384 06:17A5: 88           	dey
  7385                        L347:
  7386 06:17A6: 85 01        	sta	<R0
  7387 06:17A8: 84 03        	sty	<R0+2
  7388 06:17AA: D4 03        	pei	<R0+2
  7389 06:17AC: D4 01        	pei	<R0
  7390 06:17AE: 38           	sec
  7391 06:17AF: A5 0C        	lda	<L342+xc_0
  7392 06:17B1: E5 10        	sbc	<L342+x_0
  7393 06:17B3: 85 05        	sta	<R1
  7394 06:17B5: A0 00 00     	ldy	#$0
  7395 06:17B8: A5 05        	lda	<R1
  7396 06:17BA: 10 01        	bpl	L348
  7397 06:17BC: 88           	dey
  7398                        L348:
  7399 06:17BD: 85 05        	sta	<R1
  7400 06:17BF: 84 07        	sty	<R1+2
  7401 06:17C1: D4 07        	pei	<R1+2
  7402 06:17C3: D4 05        	pei	<R1
  7403 06:17C5: 22 3B 13 06  	jsl	~~k_draw_pixel
  7404                        ;    k_draw_line(xc+x, yc+y, xc-x, yc+y,color);
  7405                        	.line	896
  7406 06:17C9: D4 14        	pei	<L342+color_0
  7407 06:17CB: 18           	clc
  7408 06:17CC: A5 0E        	lda	<L342+yc_0
  7409 06:17CE: 65 12        	adc	<L342+y_0
  7410 06:17D0: 48           	pha
  7411 06:17D1: 38           	sec
  7412 06:17D2: A5 0C        	lda	<L342+xc_0
  7413 06:17D4: E5 10        	sbc	<L342+x_0
  7414 06:17D6: 48           	pha
  7415 06:17D7: 18           	clc
  7416 06:17D8: A5 0E        	lda	<L342+yc_0
  7417 06:17DA: 65 12        	adc	<L342+y_0
  7418 06:17DC: 48           	pha
  7419 06:17DD: 18           	clc
  7420 06:17DE: A5 0C        	lda	<L342+xc_0
  7421 06:17E0: 65 10        	adc	<L342+x_0
  7422 06:17E2: 48           	pha
  7423 06:17E3: 22 CB 1A 06  	jsl	~~k_draw_line
  7424                        ;	
  7425                        ;	
  7426                        ;	k_draw_pixel(xc+x, yc-y, color);     	
  7427                        	.line	899
  7428 06:17E7: D4 14        	pei	<L342+color_0
  7429 06:17E9: 38           	sec
  7430 06:17EA: A5 0E        	lda	<L342+yc_0
  7431 06:17EC: E5 12        	sbc	<L342+y_0
  7432 06:17EE: 85 01        	sta	<R0
  7433 06:17F0: A0 00 00     	ldy	#$0
  7434 06:17F3: A5 01        	lda	<R0
  7435 06:17F5: 10 01        	bpl	L349
  7436 06:17F7: 88           	dey
  7437                        L349:
  7438 06:17F8: 85 01        	sta	<R0
  7439 06:17FA: 84 03        	sty	<R0+2
  Mon Aug  9 2021 16:52                                                Page 142


  7440 06:17FC: D4 03        	pei	<R0+2
  7441 06:17FE: D4 01        	pei	<R0
  7442 06:1800: 18           	clc
  7443 06:1801: A5 0C        	lda	<L342+xc_0
  7444 06:1803: 65 10        	adc	<L342+x_0
  7445 06:1805: 85 05        	sta	<R1
  7446 06:1807: A0 00 00     	ldy	#$0
  7447 06:180A: A5 05        	lda	<R1
  7448 06:180C: 10 01        	bpl	L350
  7449 06:180E: 88           	dey
  7450                        L350:
  7451 06:180F: 85 05        	sta	<R1
  7452 06:1811: 84 07        	sty	<R1+2
  7453 06:1813: D4 07        	pei	<R1+2
  7454 06:1815: D4 05        	pei	<R1
  7455 06:1817: 22 3B 13 06  	jsl	~~k_draw_pixel
  7456                        ;	k_draw_pixel(xc-x, yc-y, color); 
  7457                        	.line	900
  7458 06:181B: D4 14        	pei	<L342+color_0
  7459 06:181D: 38           	sec
  7460 06:181E: A5 0E        	lda	<L342+yc_0
  7461 06:1820: E5 12        	sbc	<L342+y_0
  7462 06:1822: 85 01        	sta	<R0
  7463 06:1824: A0 00 00     	ldy	#$0
  7464 06:1827: A5 01        	lda	<R0
  7465 06:1829: 10 01        	bpl	L351
  7466 06:182B: 88           	dey
  7467                        L351:
  7468 06:182C: 85 01        	sta	<R0
  7469 06:182E: 84 03        	sty	<R0+2
  7470 06:1830: D4 03        	pei	<R0+2
  7471 06:1832: D4 01        	pei	<R0
  7472 06:1834: 38           	sec
  7473 06:1835: A5 0C        	lda	<L342+xc_0
  7474 06:1837: E5 10        	sbc	<L342+x_0
  7475 06:1839: 85 05        	sta	<R1
  7476 06:183B: A0 00 00     	ldy	#$0
  7477 06:183E: A5 05        	lda	<R1
  7478 06:1840: 10 01        	bpl	L352
  7479 06:1842: 88           	dey
  7480                        L352:
  7481 06:1843: 85 05        	sta	<R1
  7482 06:1845: 84 07        	sty	<R1+2
  7483 06:1847: D4 07        	pei	<R1+2
  7484 06:1849: D4 05        	pei	<R1
  7485 06:184B: 22 3B 13 06  	jsl	~~k_draw_pixel
  7486                        ;	k_draw_line(xc+x, yc-y, xc-x, yc-y,color);
  7487                        	.line	901
  7488 06:184F: D4 14        	pei	<L342+color_0
  7489 06:1851: 38           	sec
  7490 06:1852: A5 0E        	lda	<L342+yc_0
  7491 06:1854: E5 12        	sbc	<L342+y_0
  7492 06:1856: 48           	pha
  7493 06:1857: 38           	sec
  7494 06:1858: A5 0C        	lda	<L342+xc_0
  7495 06:185A: E5 10        	sbc	<L342+x_0
  7496 06:185C: 48           	pha
  7497 06:185D: 38           	sec
  Mon Aug  9 2021 16:52                                                Page 143


  7498 06:185E: A5 0E        	lda	<L342+yc_0
  7499 06:1860: E5 12        	sbc	<L342+y_0
  7500 06:1862: 48           	pha
  7501 06:1863: 18           	clc
  7502 06:1864: A5 0C        	lda	<L342+xc_0
  7503 06:1866: 65 10        	adc	<L342+x_0
  7504 06:1868: 48           	pha
  7505 06:1869: 22 CB 1A 06  	jsl	~~k_draw_line
  7506                        ;	
  7507                        ;    
  7508                        ;	k_draw_pixel(xc+y, yc+x, color);     
  7509                        	.line	904
  7510 06:186D: D4 14        	pei	<L342+color_0
  7511 06:186F: 18           	clc
  7512 06:1870: A5 0E        	lda	<L342+yc_0
  7513 06:1872: 65 10        	adc	<L342+x_0
  7514 06:1874: 85 01        	sta	<R0
  7515 06:1876: A0 00 00     	ldy	#$0
  7516 06:1879: A5 01        	lda	<R0
  7517 06:187B: 10 01        	bpl	L353
  7518 06:187D: 88           	dey
  7519                        L353:
  7520 06:187E: 85 01        	sta	<R0
  7521 06:1880: 84 03        	sty	<R0+2
  7522 06:1882: D4 03        	pei	<R0+2
  7523 06:1884: D4 01        	pei	<R0
  7524 06:1886: 18           	clc
  7525 06:1887: A5 0C        	lda	<L342+xc_0
  7526 06:1889: 65 12        	adc	<L342+y_0
  7527 06:188B: 85 05        	sta	<R1
  7528 06:188D: A0 00 00     	ldy	#$0
  7529 06:1890: A5 05        	lda	<R1
  7530 06:1892: 10 01        	bpl	L354
  7531 06:1894: 88           	dey
  7532                        L354:
  7533 06:1895: 85 05        	sta	<R1
  7534 06:1897: 84 07        	sty	<R1+2
  7535 06:1899: D4 07        	pei	<R1+2
  7536 06:189B: D4 05        	pei	<R1
  7537 06:189D: 22 3B 13 06  	jsl	~~k_draw_pixel
  7538                        ;	k_draw_pixel(xc-y, yc+x, color); 
  7539                        	.line	905
  7540 06:18A1: D4 14        	pei	<L342+color_0
  7541 06:18A3: 18           	clc
  7542 06:18A4: A5 0E        	lda	<L342+yc_0
  7543 06:18A6: 65 10        	adc	<L342+x_0
  7544 06:18A8: 85 01        	sta	<R0
  7545 06:18AA: A0 00 00     	ldy	#$0
  7546 06:18AD: A5 01        	lda	<R0
  7547 06:18AF: 10 01        	bpl	L355
  7548 06:18B1: 88           	dey
  7549                        L355:
  7550 06:18B2: 85 01        	sta	<R0
  7551 06:18B4: 84 03        	sty	<R0+2
  7552 06:18B6: D4 03        	pei	<R0+2
  7553 06:18B8: D4 01        	pei	<R0
  7554 06:18BA: 38           	sec
  7555 06:18BB: A5 0C        	lda	<L342+xc_0
  Mon Aug  9 2021 16:52                                                Page 144


  7556 06:18BD: E5 12        	sbc	<L342+y_0
  7557 06:18BF: 85 05        	sta	<R1
  7558 06:18C1: A0 00 00     	ldy	#$0
  7559 06:18C4: A5 05        	lda	<R1
  7560 06:18C6: 10 01        	bpl	L356
  7561 06:18C8: 88           	dey
  7562                        L356:
  7563 06:18C9: 85 05        	sta	<R1
  7564 06:18CB: 84 07        	sty	<R1+2
  7565 06:18CD: D4 07        	pei	<R1+2
  7566 06:18CF: D4 05        	pei	<R1
  7567 06:18D1: 22 3B 13 06  	jsl	~~k_draw_pixel
  7568                        ;	k_draw_line(xc+y, yc+x, xc-y, yc+x,color);	
  7569                        	.line	906
  7570 06:18D5: D4 14        	pei	<L342+color_0
  7571 06:18D7: 18           	clc
  7572 06:18D8: A5 0E        	lda	<L342+yc_0
  7573 06:18DA: 65 10        	adc	<L342+x_0
  7574 06:18DC: 48           	pha
  7575 06:18DD: 38           	sec
  7576 06:18DE: A5 0C        	lda	<L342+xc_0
  7577 06:18E0: E5 12        	sbc	<L342+y_0
  7578 06:18E2: 48           	pha
  7579 06:18E3: 18           	clc
  7580 06:18E4: A5 0E        	lda	<L342+yc_0
  7581 06:18E6: 65 10        	adc	<L342+x_0
  7582 06:18E8: 48           	pha
  7583 06:18E9: 18           	clc
  7584 06:18EA: A5 0C        	lda	<L342+xc_0
  7585 06:18EC: 65 12        	adc	<L342+y_0
  7586 06:18EE: 48           	pha
  7587 06:18EF: 22 CB 1A 06  	jsl	~~k_draw_line
  7588                        ;	
  7589                        ;	k_draw_pixel(xc+y, yc-x, color);  
  7590                        	.line	908
  7591 06:18F3: D4 14        	pei	<L342+color_0
  7592 06:18F5: 38           	sec
  7593 06:18F6: A5 0E        	lda	<L342+yc_0
  7594 06:18F8: E5 10        	sbc	<L342+x_0
  7595 06:18FA: 85 01        	sta	<R0
  7596 06:18FC: A0 00 00     	ldy	#$0
  7597 06:18FF: A5 01        	lda	<R0
  7598 06:1901: 10 01        	bpl	L357
  7599 06:1903: 88           	dey
  7600                        L357:
  7601 06:1904: 85 01        	sta	<R0
  7602 06:1906: 84 03        	sty	<R0+2
  7603 06:1908: D4 03        	pei	<R0+2
  7604 06:190A: D4 01        	pei	<R0
  7605 06:190C: 18           	clc
  7606 06:190D: A5 0C        	lda	<L342+xc_0
  7607 06:190F: 65 12        	adc	<L342+y_0
  7608 06:1911: 85 05        	sta	<R1
  7609 06:1913: A0 00 00     	ldy	#$0
  7610 06:1916: A5 05        	lda	<R1
  7611 06:1918: 10 01        	bpl	L358
  7612 06:191A: 88           	dey
  7613                        L358:
  Mon Aug  9 2021 16:52                                                Page 145


  7614 06:191B: 85 05        	sta	<R1
  7615 06:191D: 84 07        	sty	<R1+2
  7616 06:191F: D4 07        	pei	<R1+2
  7617 06:1921: D4 05        	pei	<R1
  7618 06:1923: 22 3B 13 06  	jsl	~~k_draw_pixel
  7619                        ;	k_draw_pixel(xc-y, yc-x, color); 
  7620                        	.line	909
  7621 06:1927: D4 14        	pei	<L342+color_0
  7622 06:1929: 38           	sec
  7623 06:192A: A5 0E        	lda	<L342+yc_0
  7624 06:192C: E5 10        	sbc	<L342+x_0
  7625 06:192E: 85 01        	sta	<R0
  7626 06:1930: A0 00 00     	ldy	#$0
  7627 06:1933: A5 01        	lda	<R0
  7628 06:1935: 10 01        	bpl	L359
  7629 06:1937: 88           	dey
  7630                        L359:
  7631 06:1938: 85 01        	sta	<R0
  7632 06:193A: 84 03        	sty	<R0+2
  7633 06:193C: D4 03        	pei	<R0+2
  7634 06:193E: D4 01        	pei	<R0
  7635 06:1940: 38           	sec
  7636 06:1941: A5 0C        	lda	<L342+xc_0
  7637 06:1943: E5 12        	sbc	<L342+y_0
  7638 06:1945: 85 05        	sta	<R1
  7639 06:1947: A0 00 00     	ldy	#$0
  7640 06:194A: A5 05        	lda	<R1
  7641 06:194C: 10 01        	bpl	L360
  7642 06:194E: 88           	dey
  7643                        L360:
  7644 06:194F: 85 05        	sta	<R1
  7645 06:1951: 84 07        	sty	<R1+2
  7646 06:1953: D4 07        	pei	<R1+2
  7647 06:1955: D4 05        	pei	<R1
  7648 06:1957: 22 3B 13 06  	jsl	~~k_draw_pixel
  7649                        ;	k_draw_line(xc+y, yc-x, xc-y, yc-x,color);
  7650                        	.line	910
  7651 06:195B: D4 14        	pei	<L342+color_0
  7652 06:195D: 38           	sec
  7653 06:195E: A5 0E        	lda	<L342+yc_0
  7654 06:1960: E5 10        	sbc	<L342+x_0
  7655 06:1962: 48           	pha
  7656 06:1963: 38           	sec
  7657 06:1964: A5 0C        	lda	<L342+xc_0
  7658 06:1966: E5 12        	sbc	<L342+y_0
  7659 06:1968: 48           	pha
  7660 06:1969: 38           	sec
  7661 06:196A: A5 0E        	lda	<L342+yc_0
  7662 06:196C: E5 10        	sbc	<L342+x_0
  7663 06:196E: 48           	pha
  7664 06:196F: 18           	clc
  7665 06:1970: A5 0C        	lda	<L342+xc_0
  7666 06:1972: 65 12        	adc	<L342+y_0
  7667 06:1974: 48           	pha
  7668 06:1975: 22 CB 1A 06  	jsl	~~k_draw_line
  7669                        ;}
  7670                        	.line	911
  7671                        L361:
  Mon Aug  9 2021 16:52                                                Page 146


  7672 06:1979: A5 0A        	lda	<L342+2
  7673 06:197B: 85 14        	sta	<L342+2+10
  7674 06:197D: A5 09        	lda	<L342+1
  7675 06:197F: 85 13        	sta	<L342+1+10
  7676 06:1981: 2B           	pld
  7677 06:1982: 3B           	tsc
  7678 06:1983: 18           	clc
  7679 06:1984: 69 12 00     	adc	#L342+10
  7680 06:1987: 1B           	tcs
  7681 06:1988: 6B           	rtl
  7682                        	.endblock	911
  7683             00000008   L342	equ	8
  7684             00000009   L343	equ	9
  7685 06:1989:              	ends
  7686                        	efunc
  7687                        	.endfunc	911,9,8
  7688                        	.line	911
  7689                        ;  
  7690                        ;// Function for circle-generation 
  7691                        ;// using Bresenham's algorithm 
  7692                        ;void k_draw_circle(int xc, int yc, int r, int col
                    or) 
  7693                        ;{ 
  7694                        	.line	915
  7695                        	.line	916
  7696                        	GFX
  7697                        	xdef	~~k_draw_circle
  7698                        	func
  7699                        	.function	916
  7700                        ~~k_draw_circle:
  7701                        	longa	on
  7702                        	longi	on
  7703 06:1989: 3B           	tsc
  7704 06:198A: 38           	sec
  7705 06:198B: E9 0E 00     	sbc	#L362
  7706 06:198E: 1B           	tcs
  7707 06:198F: 0B           	phd
  7708 06:1990: 5B           	tcd
  7709             00000004   xc_0	set	4
  7710             00000006   yc_0	set	6
  7711             00000008   r_0	set	8
  7712             0000000A   color_0	set	10
  7713                        	.block	916
  7714                        ;    int x = 0;
  7715                        ;	int y = r; 
  7716                        ;	
  7717                        ;    int d = 3 - 2 * r; 
  7718                        ;	
  7719                        ;    k_draw_segments(xc, yc, x, y, color); 
  7720             00000000   x_1	set	0
  7721             00000002   y_1	set	2
  7722             00000004   d_1	set	4
  7723                        	.sym	x,0,5,1,16
  7724                        	.sym	y,2,5,1,16
  7725                        	.sym	d,4,5,1,16
  7726                        	.sym	xc,4,5,6,16
  7727                        	.sym	yc,6,5,6,16
  7728                        	.sym	r,8,5,6,16
  Mon Aug  9 2021 16:52                                                Page 147


  7729                        	.sym	color,10,5,6,16
  7730 06:1991: 64 09        	stz	<L363+x_1
  7731 06:1993: A5 16        	lda	<L362+r_0
  7732 06:1995: 85 0B        	sta	<L363+y_1
  7733 06:1997: A5 16        	lda	<L362+r_0
  7734 06:1999: 0A           	asl	A
  7735 06:199A: 85 01        	sta	<R0
  7736 06:199C: 38           	sec
  7737 06:199D: A9 03 00     	lda	#$3
  7738 06:19A0: E5 01        	sbc	<R0
  7739 06:19A2: 85 0D        	sta	<L363+d_1
  7740                        	.line	922
  7741 06:19A4: D4 18        	pei	<L362+color_0
  7742 06:19A6: D4 0B        	pei	<L363+y_1
  7743 06:19A8: D4 09        	pei	<L363+x_1
  7744 06:19AA: D4 14        	pei	<L362+yc_0
  7745 06:19AC: D4 12        	pei	<L362+xc_0
  7746 06:19AE: 22 A1 15 06  	jsl	~~k_draw_segments
  7747                        ;	
  7748                        ;    while (y >= x) 
  7749                        	.line	924
  7750                        L10044:
  7751 06:19B2: 38           	sec
  7752 06:19B3: A5 0B        	lda	<L363+y_1
  7753 06:19B5: E5 09        	sbc	<L363+x_1
  7754 06:19B7: 70 03        	bvs	L365
  7755 06:19B9: 49 00 80     	eor	#$8000
  7756                        L365:
  7757 06:19BC: 30 03        	bmi	L366
  7758 06:19BE: 82 59 00     	brl	L10045
  7759                        L366:
  7760                        ;    { 
  7761                        	.line	925
  7762                        ;        // for each pixel we will 
  7763                        ;        // draw all eight pixels 
  7764                        ;          
  7765                        ;        x++; 
  7766                        	.line	929
  7767 06:19C1: E6 09        	inc	<L363+x_1
  7768                        ;  
  7769                        ;        // check for decision parameter 
  7770                        ;        // and correspondingly  
  7771                        ;        // update d, x, y 
  7772                        ;        if (d > 0) 
  7773                        	.line	934
  7774                        ;        { 
  7775 06:19C3: 38           	sec
  7776 06:19C4: A9 00 00     	lda	#$0
  7777 06:19C7: E5 0D        	sbc	<L363+d_1
  7778 06:19C9: 70 03        	bvs	L367
  7779 06:19CB: 49 00 80     	eor	#$8000
  7780                        L367:
  7781 06:19CE: 10 03        	bpl	L368
  7782 06:19D0: 82 21 00     	brl	L10046
  7783                        L368:
  7784                        	.line	935
  7785                        ;            y--;  
  7786                        	.line	936
  Mon Aug  9 2021 16:52                                                Page 148


  7787 06:19D3: C6 0B        	dec	<L363+y_1
  7788                        ;            d = d + 4 * (x - y) + 10; 
  7789                        	.line	937
  7790 06:19D5: 38           	sec
  7791 06:19D6: A5 09        	lda	<L363+x_1
  7792 06:19D8: E5 0B        	sbc	<L363+y_1
  7793 06:19DA: 85 05        	sta	<R1
  7794 06:19DC: A5 05        	lda	<R1
  7795 06:19DE: 0A           	asl	A
  7796 06:19DF: 0A           	asl	A
  7797 06:19E0: 85 01        	sta	<R0
  7798 06:19E2: 18           	clc
  7799 06:19E3: A5 01        	lda	<R0
  7800 06:19E5: 65 0D        	adc	<L363+d_1
  7801 06:19E7: 85 05        	sta	<R1
  7802 06:19E9: 18           	clc
  7803 06:19EA: A9 0A 00     	lda	#$a
  7804 06:19ED: 65 05        	adc	<R1
  7805 06:19EF: 85 0D        	sta	<L363+d_1
  7806                        ;        } 
  7807                        	.line	938
  7808                        ;        else
  7809 06:19F1: 82 15 00     	brl	L10047
  7810                        L10046:
  7811                        ;            d = d + 4 * x + 6; 
  7812                        	.line	940
  7813 06:19F4: A5 09        	lda	<L363+x_1
  7814 06:19F6: 0A           	asl	A
  7815 06:19F7: 0A           	asl	A
  7816 06:19F8: 85 01        	sta	<R0
  7817 06:19FA: 18           	clc
  7818 06:19FB: A5 01        	lda	<R0
  7819 06:19FD: 65 0D        	adc	<L363+d_1
  7820 06:19FF: 85 05        	sta	<R1
  7821 06:1A01: 18           	clc
  7822 06:1A02: A9 06 00     	lda	#$6
  7823 06:1A05: 65 05        	adc	<R1
  7824 06:1A07: 85 0D        	sta	<L363+d_1
  7825                        L10047:
  7826                        ;        k_draw_segments(xc, yc, x, y, color); 
  7827                        	.line	941
  7828 06:1A09: D4 18        	pei	<L362+color_0
  7829 06:1A0B: D4 0B        	pei	<L363+y_1
  7830 06:1A0D: D4 09        	pei	<L363+x_1
  7831 06:1A0F: D4 14        	pei	<L362+yc_0
  7832 06:1A11: D4 12        	pei	<L362+xc_0
  7833 06:1A13: 22 A1 15 06  	jsl	~~k_draw_segments
  7834                        ;       
  7835                        ;    } 
  7836                        	.line	943
  7837 06:1A17: 82 98 FF     	brl	L10044
  7838                        L10045:
  7839                        ;} 
  7840                        	.line	944
  7841                        L369:
  7842 06:1A1A: A5 10        	lda	<L362+2
  7843 06:1A1C: 85 18        	sta	<L362+2+8
  7844 06:1A1E: A5 0F        	lda	<L362+1
  Mon Aug  9 2021 16:52                                                Page 149


  7845 06:1A20: 85 17        	sta	<L362+1+8
  7846 06:1A22: 2B           	pld
  7847 06:1A23: 3B           	tsc
  7848 06:1A24: 18           	clc
  7849 06:1A25: 69 16 00     	adc	#L362+8
  7850 06:1A28: 1B           	tcs
  7851 06:1A29: 6B           	rtl
  7852                        	.endblock	944
  7853             0000000E   L362	equ	14
  7854             00000009   L363	equ	9
  7855 06:1A2A:              	ends
  7856                        	efunc
  7857                        	.endfunc	944,9,14
  7858                        	.line	944
  7859                        ;
  7860                        ;void k_draw_filled_circle(int xc, int yc, int r, 
                    int color) 
  7861                        ;{ 
  7862                        	.line	946
  7863                        	.line	947
  7864                        	GFX
  7865                        	xdef	~~k_draw_filled_circle
  7866                        	func
  7867                        	.function	947
  7868                        ~~k_draw_filled_circle:
  7869                        	longa	on
  7870                        	longi	on
  7871 06:1A2A: 3B           	tsc
  7872 06:1A2B: 38           	sec
  7873 06:1A2C: E9 0E 00     	sbc	#L370
  7874 06:1A2F: 1B           	tcs
  7875 06:1A30: 0B           	phd
  7876 06:1A31: 5B           	tcd
  7877             00000004   xc_0	set	4
  7878             00000006   yc_0	set	6
  7879             00000008   r_0	set	8
  7880             0000000A   color_0	set	10
  7881                        	.block	947
  7882                        ;    int x = 0;
  7883                        ;	int y = r; 
  7884                        ;	
  7885                        ;    int d = 3 - 2 * r; 
  7886                        ;	
  7887                        ;    k_draw_filled_segments(xc, yc, x, y, color); 
  7888             00000000   x_1	set	0
  7889             00000002   y_1	set	2
  7890             00000004   d_1	set	4
  7891                        	.sym	x,0,5,1,16
  7892                        	.sym	y,2,5,1,16
  7893                        	.sym	d,4,5,1,16
  7894                        	.sym	xc,4,5,6,16
  7895                        	.sym	yc,6,5,6,16
  7896                        	.sym	r,8,5,6,16
  7897                        	.sym	color,10,5,6,16
  7898 06:1A32: 64 09        	stz	<L371+x_1
  7899 06:1A34: A5 16        	lda	<L370+r_0
  7900 06:1A36: 85 0B        	sta	<L371+y_1
  7901 06:1A38: A5 16        	lda	<L370+r_0
  Mon Aug  9 2021 16:52                                                Page 150


  7902 06:1A3A: 0A           	asl	A
  7903 06:1A3B: 85 01        	sta	<R0
  7904 06:1A3D: 38           	sec
  7905 06:1A3E: A9 03 00     	lda	#$3
  7906 06:1A41: E5 01        	sbc	<R0
  7907 06:1A43: 85 0D        	sta	<L371+d_1
  7908                        	.line	953
  7909 06:1A45: D4 18        	pei	<L370+color_0
  7910 06:1A47: D4 0B        	pei	<L371+y_1
  7911 06:1A49: D4 09        	pei	<L371+x_1
  7912 06:1A4B: D4 14        	pei	<L370+yc_0
  7913 06:1A4D: D4 12        	pei	<L370+xc_0
  7914 06:1A4F: 22 59 17 06  	jsl	~~k_draw_filled_segments
  7915                        ;	
  7916                        ;    while (y >= x) 
  7917                        	.line	955
  7918                        L10048:
  7919 06:1A53: 38           	sec
  7920 06:1A54: A5 0B        	lda	<L371+y_1
  7921 06:1A56: E5 09        	sbc	<L371+x_1
  7922 06:1A58: 70 03        	bvs	L373
  7923 06:1A5A: 49 00 80     	eor	#$8000
  7924                        L373:
  7925 06:1A5D: 30 03        	bmi	L374
  7926 06:1A5F: 82 59 00     	brl	L10049
  7927                        L374:
  7928                        ;    { 
  7929                        	.line	956
  7930                        ;        // for each pixel we will 
  7931                        ;        // draw all eight pixels 
  7932                        ;          
  7933                        ;        x++; 
  7934                        	.line	960
  7935 06:1A62: E6 09        	inc	<L371+x_1
  7936                        ;  
  7937                        ;        // check for decision parameter 
  7938                        ;        // and correspondingly  
  7939                        ;        // update d, x, y 
  7940                        ;        if (d > 0) 
  7941                        	.line	965
  7942                        ;        { 
  7943 06:1A64: 38           	sec
  7944 06:1A65: A9 00 00     	lda	#$0
  7945 06:1A68: E5 0D        	sbc	<L371+d_1
  7946 06:1A6A: 70 03        	bvs	L375
  7947 06:1A6C: 49 00 80     	eor	#$8000
  7948                        L375:
  7949 06:1A6F: 10 03        	bpl	L376
  7950 06:1A71: 82 21 00     	brl	L10050
  7951                        L376:
  7952                        	.line	966
  7953                        ;            y--;  
  7954                        	.line	967
  7955 06:1A74: C6 0B        	dec	<L371+y_1
  7956                        ;            d = d + 4 * (x - y) + 10; 
  7957                        	.line	968
  7958 06:1A76: 38           	sec
  7959 06:1A77: A5 09        	lda	<L371+x_1
  Mon Aug  9 2021 16:52                                                Page 151


  7960 06:1A79: E5 0B        	sbc	<L371+y_1
  7961 06:1A7B: 85 05        	sta	<R1
  7962 06:1A7D: A5 05        	lda	<R1
  7963 06:1A7F: 0A           	asl	A
  7964 06:1A80: 0A           	asl	A
  7965 06:1A81: 85 01        	sta	<R0
  7966 06:1A83: 18           	clc
  7967 06:1A84: A5 01        	lda	<R0
  7968 06:1A86: 65 0D        	adc	<L371+d_1
  7969 06:1A88: 85 05        	sta	<R1
  7970 06:1A8A: 18           	clc
  7971 06:1A8B: A9 0A 00     	lda	#$a
  7972 06:1A8E: 65 05        	adc	<R1
  7973 06:1A90: 85 0D        	sta	<L371+d_1
  7974                        ;        } 
  7975                        	.line	969
  7976                        ;        else
  7977 06:1A92: 82 15 00     	brl	L10051
  7978                        L10050:
  7979                        ;            d = d + 4 * x + 6; 
  7980                        	.line	971
  7981 06:1A95: A5 09        	lda	<L371+x_1
  7982 06:1A97: 0A           	asl	A
  7983 06:1A98: 0A           	asl	A
  7984 06:1A99: 85 01        	sta	<R0
  7985 06:1A9B: 18           	clc
  7986 06:1A9C: A5 01        	lda	<R0
  7987 06:1A9E: 65 0D        	adc	<L371+d_1
  7988 06:1AA0: 85 05        	sta	<R1
  7989 06:1AA2: 18           	clc
  7990 06:1AA3: A9 06 00     	lda	#$6
  7991 06:1AA6: 65 05        	adc	<R1
  7992 06:1AA8: 85 0D        	sta	<L371+d_1
  7993                        L10051:
  7994                        ;        k_draw_filled_segments(xc, yc, x, y, colo
                    r); 
  7995                        	.line	972
  7996 06:1AAA: D4 18        	pei	<L370+color_0
  7997 06:1AAC: D4 0B        	pei	<L371+y_1
  7998 06:1AAE: D4 09        	pei	<L371+x_1
  7999 06:1AB0: D4 14        	pei	<L370+yc_0
  8000 06:1AB2: D4 12        	pei	<L370+xc_0
  8001 06:1AB4: 22 59 17 06  	jsl	~~k_draw_filled_segments
  8002                        ;       
  8003                        ;    } 
  8004                        	.line	974
  8005 06:1AB8: 82 98 FF     	brl	L10048
  8006                        L10049:
  8007                        ;} 
  8008                        	.line	975
  8009                        L377:
  8010 06:1ABB: A5 10        	lda	<L370+2
  8011 06:1ABD: 85 18        	sta	<L370+2+8
  8012 06:1ABF: A5 0F        	lda	<L370+1
  8013 06:1AC1: 85 17        	sta	<L370+1+8
  8014 06:1AC3: 2B           	pld
  8015 06:1AC4: 3B           	tsc
  8016 06:1AC5: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 152


  8017 06:1AC6: 69 16 00     	adc	#L370+8
  8018 06:1AC9: 1B           	tcs
  8019 06:1ACA: 6B           	rtl
  8020                        	.endblock	975
  8021             0000000E   L370	equ	14
  8022             00000009   L371	equ	9
  8023 06:1ACB:              	ends
  8024                        	efunc
  8025                        	.endfunc	975,9,14
  8026                        	.line	975
  8027                        ;void k_draw_line(int x0, int y0, int x1, int y1,i
                    nt color)
  8028                        ;{
  8029                        	.line	976
  8030                        	.line	977
  8031                        	GFX
  8032                        	xdef	~~k_draw_line
  8033                        	func
  8034                        	.function	977
  8035                        ~~k_draw_line:
  8036                        	longa	on
  8037                        	longi	on
  8038 06:1ACB: 3B           	tsc
  8039 06:1ACC: 38           	sec
  8040 06:1ACD: E9 00 00     	sbc	#L378
  8041 06:1AD0: 1B           	tcs
  8042 06:1AD1: 0B           	phd
  8043 06:1AD2: 5B           	tcd
  8044             00000004   x0_0	set	4
  8045             00000006   y0_0	set	6
  8046             00000008   x1_0	set	8
  8047             0000000A   y1_0	set	10
  8048             0000000C   color_0	set	12
  8049                        	.block	977
  8050                        ;	k_draw_line_ex(x0, y0, x1, y1,color,BITMAP_FRONT
                    );
  8051                        	.sym	x0,4,5,6,16
  8052                        	.sym	y0,6,5,6,16
  8053                        	.sym	x1,8,5,6,16
  8054                        	.sym	y1,10,5,6,16
  8055                        	.sym	color,12,5,6,16
  8056                        	.line	978
  8057 06:1AD3: F4 00 00     	pea	#<$0
  8058 06:1AD6: D4 0C        	pei	<L378+color_0
  8059 06:1AD8: D4 0A        	pei	<L378+y1_0
  8060 06:1ADA: D4 08        	pei	<L378+x1_0
  8061 06:1ADC: D4 06        	pei	<L378+y0_0
  8062 06:1ADE: D4 04        	pei	<L378+x0_0
  8063 06:1AE0: 22 F4 1A 06  	jsl	~~k_draw_line_ex
  8064                        ;}
  8065                        	.line	979
  8066                        L381:
  8067 06:1AE4: A5 02        	lda	<L378+2
  8068 06:1AE6: 85 0C        	sta	<L378+2+10
  8069 06:1AE8: A5 01        	lda	<L378+1
  8070 06:1AEA: 85 0B        	sta	<L378+1+10
  8071 06:1AEC: 2B           	pld
  8072 06:1AED: 3B           	tsc
  Mon Aug  9 2021 16:52                                                Page 153


  8073 06:1AEE: 18           	clc
  8074 06:1AEF: 69 0A 00     	adc	#L378+10
  8075 06:1AF2: 1B           	tcs
  8076 06:1AF3: 6B           	rtl
  8077                        	.endblock	979
  8078             00000000   L378	equ	0
  8079             00000001   L379	equ	1
  8080 06:1AF4:              	ends
  8081                        	efunc
  8082                        	.endfunc	979,1,0
  8083                        	.line	979
  8084                        ;
  8085                        ;void k_draw_line_ex(int x0, int y0, int x1, int y
                    1,int color,UINT page)
  8086                        ;{
  8087                        	.line	981
  8088                        	.line	982
  8089                        	GFX
  8090                        	xdef	~~k_draw_line_ex
  8091                        	func
  8092                        	.function	982
  8093                        ~~k_draw_line_ex:
  8094                        	longa	on
  8095                        	longi	on
  8096 06:1AF4: 3B           	tsc
  8097 06:1AF5: 38           	sec
  8098 06:1AF6: E9 14 00     	sbc	#L382
  8099 06:1AF9: 1B           	tcs
  8100 06:1AFA: 0B           	phd
  8101 06:1AFB: 5B           	tcd
  8102             00000004   x0_0	set	4
  8103             00000006   y0_0	set	6
  8104             00000008   x1_0	set	8
  8105             0000000A   y1_0	set	10
  8106             0000000C   color_0	set	12
  8107             0000000E   page_0	set	14
  8108                        	.block	982
  8109                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  8110                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1; 
  8111                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  8112                        ;
  8113                        ;	for(;;)
  8114             00000000   dx_1	set	0
  8115             00000002   sx_1	set	2
  8116             00000004   dy_1	set	4
  8117             00000006   sy_1	set	6
  8118             00000008   err_1	set	8
  8119             0000000A   e2_1	set	10
  8120                        	.sym	dx,0,5,1,16
  8121                        	.sym	sx,2,5,1,16
  8122                        	.sym	dy,4,5,1,16
  8123                        	.sym	sy,6,5,1,16
  8124                        	.sym	err,8,5,1,16
  8125                        	.sym	e2,10,5,1,16
  8126                        	.sym	x0,4,5,6,16
  8127                        	.sym	y0,6,5,6,16
  8128                        	.sym	x1,8,5,6,16
  Mon Aug  9 2021 16:52                                                Page 154


  8129                        	.sym	y1,10,5,6,16
  8130                        	.sym	color,12,5,6,16
  8131                        	.sym	page,14,16,6,16
  8132 06:1AFC: 38           	sec
  8133 06:1AFD: A5 1C        	lda	<L382+x1_0
  8134 06:1AFF: E5 18        	sbc	<L382+x0_0
  8135 06:1B01: 48           	pha
  8136 06:1B02: 22 xx xx xx  	jsl	~~abs
  8137 06:1B06: 85 09        	sta	<L383+dx_1
  8138 06:1B08: 38           	sec
  8139 06:1B09: A5 18        	lda	<L382+x0_0
  8140 06:1B0B: E5 1C        	sbc	<L382+x1_0
  8141 06:1B0D: 70 03        	bvs	L386
  8142 06:1B0F: 49 00 80     	eor	#$8000
  8143                        L386:
  8144 06:1B12: 10 03        	bpl	L387
  8145 06:1B14: 82 05 00     	brl	L385
  8146                        L387:
  8147 06:1B17: A9 01 00     	lda	#$1
  8148 06:1B1A: 80 03        	bra	L388
  8149                        L385:
  8150 06:1B1C: A9 FF FF     	lda	#$ffff
  8151                        L388:
  8152 06:1B1F: 85 0B        	sta	<L383+sx_1
  8153 06:1B21: 38           	sec
  8154 06:1B22: A5 1E        	lda	<L382+y1_0
  8155 06:1B24: E5 1A        	sbc	<L382+y0_0
  8156 06:1B26: 48           	pha
  8157 06:1B27: 22 xx xx xx  	jsl	~~abs
  8158 06:1B2B: 85 0D        	sta	<L383+dy_1
  8159 06:1B2D: 38           	sec
  8160 06:1B2E: A5 1A        	lda	<L382+y0_0
  8161 06:1B30: E5 1E        	sbc	<L382+y1_0
  8162 06:1B32: 70 03        	bvs	L390
  8163 06:1B34: 49 00 80     	eor	#$8000
  8164                        L390:
  8165 06:1B37: 10 03        	bpl	L391
  8166 06:1B39: 82 05 00     	brl	L389
  8167                        L391:
  8168 06:1B3C: A9 01 00     	lda	#$1
  8169 06:1B3F: 80 03        	bra	L392
  8170                        L389:
  8171 06:1B41: A9 FF FF     	lda	#$ffff
  8172                        L392:
  8173 06:1B44: 85 0F        	sta	<L383+sy_1
  8174 06:1B46: 38           	sec
  8175 06:1B47: A5 0D        	lda	<L383+dy_1
  8176 06:1B49: E5 09        	sbc	<L383+dx_1
  8177 06:1B4B: 70 03        	bvs	L394
  8178 06:1B4D: 49 00 80     	eor	#$8000
  8179                        L394:
  8180 06:1B50: 10 03        	bpl	L395
  8181 06:1B52: 82 04 00     	brl	L393
  8182                        L395:
  8183 06:1B55: A5 09        	lda	<L383+dx_1
  8184 06:1B57: 80 0A        	bra	L396
  8185                        L393:
  8186 06:1B59: 38           	sec
  Mon Aug  9 2021 16:52                                                Page 155


  8187 06:1B5A: A9 00 00     	lda	#$0
  8188 06:1B5D: E5 0D        	sbc	<L383+dy_1
  8189 06:1B5F: 85 01        	sta	<R0
  8190 06:1B61: A5 01        	lda	<R0
  8191                        L396:
  8192 06:1B63: 85 01        	sta	<R0
  8193 06:1B65: A5 01        	lda	<R0
  8194 06:1B67: A2 02 00     	ldx	#<$2
  8195                        	xref	~~~div
  8196 06:1B6A: 22 xx xx xx  	jsl	~~~div
  8197 06:1B6E: 85 11        	sta	<L383+err_1
  8198                        	.line	987
  8199                        L10054:
  8200                        ;	{
  8201                        	.line	988
  8202                        ;		switch(page)
  8203                        	.line	989
  8204 06:1B70: A5 22        	lda	<L382+page_0
  8205 06:1B72: 82 7B 00     	brl	L10055
  8206                        ;		{
  8207                        	.line	990
  8208                        ;		case BITMAP_BACK:
  8209                        	.line	991
  8210                        L10057:
  8211                        ;			k_draw_pixel_back(x0,y0,color);
  8212                        	.line	992
  8213 06:1B75: D4 20        	pei	<L382+color_0
  8214 06:1B77: A0 00 00     	ldy	#$0
  8215 06:1B7A: A5 1A        	lda	<L382+y0_0
  8216 06:1B7C: 10 01        	bpl	L397
  8217 06:1B7E: 88           	dey
  8218                        L397:
  8219 06:1B7F: 85 01        	sta	<R0
  8220 06:1B81: 84 03        	sty	<R0+2
  8221 06:1B83: D4 03        	pei	<R0+2
  8222 06:1B85: D4 01        	pei	<R0
  8223 06:1B87: A0 00 00     	ldy	#$0
  8224 06:1B8A: A5 18        	lda	<L382+x0_0
  8225 06:1B8C: 10 01        	bpl	L398
  8226 06:1B8E: 88           	dey
  8227                        L398:
  8228 06:1B8F: 85 05        	sta	<R1
  8229 06:1B91: 84 07        	sty	<R1+2
  8230 06:1B93: D4 07        	pei	<R1+2
  8231 06:1B95: D4 05        	pei	<R1
  8232 06:1B97: 22 47 14 06  	jsl	~~k_draw_pixel_back
  8233                        ;			break;
  8234                        	.line	993
  8235 06:1B9B: 82 62 00     	brl	L10056
  8236                        ;		case 0x20:
  8237                        	.line	994
  8238                        L10058:
  8239                        ;			k_draw_pixel_D0(x0,y0,color);
  8240                        	.line	995
  8241 06:1B9E: D4 20        	pei	<L382+color_0
  8242 06:1BA0: A0 00 00     	ldy	#$0
  8243 06:1BA3: A5 1A        	lda	<L382+y0_0
  8244 06:1BA5: 10 01        	bpl	L399
  Mon Aug  9 2021 16:52                                                Page 156


  8245 06:1BA7: 88           	dey
  8246                        L399:
  8247 06:1BA8: 85 01        	sta	<R0
  8248 06:1BAA: 84 03        	sty	<R0+2
  8249 06:1BAC: D4 03        	pei	<R0+2
  8250 06:1BAE: D4 01        	pei	<R0
  8251 06:1BB0: A0 00 00     	ldy	#$0
  8252 06:1BB3: A5 18        	lda	<L382+x0_0
  8253 06:1BB5: 10 01        	bpl	L400
  8254 06:1BB7: 88           	dey
  8255                        L400:
  8256 06:1BB8: 85 05        	sta	<R1
  8257 06:1BBA: 84 07        	sty	<R1+2
  8258 06:1BBC: D4 07        	pei	<R1+2
  8259 06:1BBE: D4 05        	pei	<R1
  8260 06:1BC0: 22 CD 14 06  	jsl	~~k_draw_pixel_D0
  8261                        ;			break;
  8262                        	.line	996
  8263 06:1BC4: 82 39 00     	brl	L10056
  8264                        ;		default:
  8265                        	.line	997
  8266                        L10059:
  8267                        ;			k_draw_pixel_front(x0,y0,color);
  8268                        	.line	998
  8269 06:1BC7: D4 20        	pei	<L382+color_0
  8270 06:1BC9: A0 00 00     	ldy	#$0
  8271 06:1BCC: A5 1A        	lda	<L382+y0_0
  8272 06:1BCE: 10 01        	bpl	L401
  8273 06:1BD0: 88           	dey
  8274                        L401:
  8275 06:1BD1: 85 01        	sta	<R0
  8276 06:1BD3: 84 03        	sty	<R0+2
  8277 06:1BD5: D4 03        	pei	<R0+2
  8278 06:1BD7: D4 01        	pei	<R0
  8279 06:1BD9: A0 00 00     	ldy	#$0
  8280 06:1BDC: A5 18        	lda	<L382+x0_0
  8281 06:1BDE: 10 01        	bpl	L402
  8282 06:1BE0: 88           	dey
  8283                        L402:
  8284 06:1BE1: 85 05        	sta	<R1
  8285 06:1BE3: 84 07        	sty	<R1+2
  8286 06:1BE5: D4 07        	pei	<R1+2
  8287 06:1BE7: D4 05        	pei	<R1
  8288 06:1BE9: 22 C1 13 06  	jsl	~~k_draw_pixel_front
  8289                        ;		}
  8290                        	.line	999
  8291 06:1BED: 82 10 00     	brl	L10056
  8292                        L10055:
  8293                        	xref	~~~swt
  8294 06:1BF0: 22 xx xx xx  	jsl	~~~swt
  8295 06:1BF4: 02 00        	dw	2
  8296 06:1BF6: 08 00        	dw	8
  8297 06:1BF8: 74 1B        	dw	L10057-1
  8298 06:1BFA: 20 00        	dw	32
  8299 06:1BFC: 9D 1B        	dw	L10058-1
  8300 06:1BFE: C6 1B        	dw	L10059-1
  8301                        L10056:
  8302                        ;
  Mon Aug  9 2021 16:52                                                Page 157


  8303                        ;		//k_draw_pixel_ex(x0,y0,color,page);
  8304                        ;
  8305                        ;		if (x0==x1 && y0==y1) break;
  8306                        	.line	1003
  8307 06:1C00: A5 18        	lda	<L382+x0_0
  8308 06:1C02: C5 1C        	cmp	<L382+x1_0
  8309 06:1C04: F0 03        	beq	L404
  8310 06:1C06: 82 09 00     	brl	L403
  8311                        L404:
  8312 06:1C09: A5 1A        	lda	<L382+y0_0
  8313 06:1C0B: C5 1E        	cmp	<L382+y1_0
  8314 06:1C0D: D0 03        	bne	L405
  8315 06:1C0F: 82 49 00     	brl	L10053
  8316                        L405:
  8317                        L403:
  8318                        ;		e2 = err;
  8319                        	.line	1004
  8320 06:1C12: A5 11        	lda	<L383+err_1
  8321 06:1C14: 85 13        	sta	<L383+e2_1
  8322                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  8323                        	.line	1005
  8324 06:1C16: 38           	sec
  8325 06:1C17: A9 00 00     	lda	#$0
  8326 06:1C1A: E5 09        	sbc	<L383+dx_1
  8327 06:1C1C: 85 01        	sta	<R0
  8328 06:1C1E: 38           	sec
  8329 06:1C1F: A5 01        	lda	<R0
  8330 06:1C21: E5 13        	sbc	<L383+e2_1
  8331 06:1C23: 70 03        	bvs	L406
  8332 06:1C25: 49 00 80     	eor	#$8000
  8333                        L406:
  8334 06:1C28: 10 03        	bpl	L407
  8335 06:1C2A: 82 0E 00     	brl	L10060
  8336                        L407:
  8337                        	.line	1005
  8338                        	.line	1005
  8339 06:1C2D: 38           	sec
  8340 06:1C2E: A5 11        	lda	<L383+err_1
  8341 06:1C30: E5 0D        	sbc	<L383+dy_1
  8342 06:1C32: 85 11        	sta	<L383+err_1
  8343                        	.line	1005
  8344 06:1C34: 18           	clc
  8345 06:1C35: A5 18        	lda	<L382+x0_0
  8346 06:1C37: 65 0B        	adc	<L383+sx_1
  8347 06:1C39: 85 18        	sta	<L382+x0_0
  8348                        	.line	1005
  8349                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  8350                        L10060:
  8351                        	.line	1006
  8352 06:1C3B: 38           	sec
  8353 06:1C3C: A5 13        	lda	<L383+e2_1
  8354 06:1C3E: E5 0D        	sbc	<L383+dy_1
  8355 06:1C40: 70 03        	bvs	L408
  8356 06:1C42: 49 00 80     	eor	#$8000
  8357                        L408:
  8358 06:1C45: 10 03        	bpl	L409
  8359 06:1C47: 82 0E 00     	brl	L10061
  8360                        L409:
  Mon Aug  9 2021 16:52                                                Page 158


  8361                        	.line	1006
  8362                        	.line	1006
  8363 06:1C4A: 18           	clc
  8364 06:1C4B: A5 11        	lda	<L383+err_1
  8365 06:1C4D: 65 09        	adc	<L383+dx_1
  8366 06:1C4F: 85 11        	sta	<L383+err_1
  8367                        	.line	1006
  8368 06:1C51: 18           	clc
  8369 06:1C52: A5 1A        	lda	<L382+y0_0
  8370 06:1C54: 65 0F        	adc	<L383+sy_1
  8371 06:1C56: 85 1A        	sta	<L382+y0_0
  8372                        	.line	1006
  8373                        ;	}
  8374                        L10061:
  8375                        	.line	1007
  8376                        L10052:
  8377 06:1C58: 82 15 FF     	brl	L10054
  8378                        L10053:
  8379                        ;}
  8380                        	.line	1008
  8381                        L410:
  8382 06:1C5B: A5 16        	lda	<L382+2
  8383 06:1C5D: 85 22        	sta	<L382+2+12
  8384 06:1C5F: A5 15        	lda	<L382+1
  8385 06:1C61: 85 21        	sta	<L382+1+12
  8386 06:1C63: 2B           	pld
  8387 06:1C64: 3B           	tsc
  8388 06:1C65: 18           	clc
  8389 06:1C66: 69 20 00     	adc	#L382+12
  8390 06:1C69: 1B           	tcs
  8391 06:1C6A: 6B           	rtl
  8392                        	.endblock	1008
  8393             00000014   L382	equ	20
  8394             00000009   L383	equ	9
  8395 06:1C6B:              	ends
  8396                        	efunc
  8397                        	.endfunc	1008,9,20
  8398                        	.line	1008
  8399                        ;
  8400                        ;void k_draw_line_with_pattern(int x0, int y0, int
                     x1, int y1,int color, UINT brush)
  8401                        ;{
  8402                        	.line	1010
  8403                        	.line	1011
  8404                        	GFX
  8405                        	xdef	~~k_draw_line_with_pattern
  8406                        	func
  8407                        	.function	1011
  8408                        ~~k_draw_line_with_pattern:
  8409                        	longa	on
  8410                        	longi	on
  8411 06:1C6B: 3B           	tsc
  8412 06:1C6C: 38           	sec
  8413 06:1C6D: E9 14 00     	sbc	#L411
  8414 06:1C70: 1B           	tcs
  8415 06:1C71: 0B           	phd
  8416 06:1C72: 5B           	tcd
  8417             00000004   x0_0	set	4
  Mon Aug  9 2021 16:52                                                Page 159


  8418             00000006   y0_0	set	6
  8419             00000008   x1_0	set	8
  8420             0000000A   y1_0	set	10
  8421             0000000C   color_0	set	12
  8422             0000000E   brush_0	set	14
  8423                        	.block	1011
  8424                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  8425                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1;
  8426                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  8427                        ;
  8428                        ;	for(;;)
  8429             00000000   dx_1	set	0
  8430             00000002   sx_1	set	2
  8431             00000004   dy_1	set	4
  8432             00000006   sy_1	set	6
  8433             00000008   err_1	set	8
  8434             0000000A   e2_1	set	10
  8435                        	.sym	dx,0,5,1,16
  8436                        	.sym	sx,2,5,1,16
  8437                        	.sym	dy,4,5,1,16
  8438                        	.sym	sy,6,5,1,16
  8439                        	.sym	err,8,5,1,16
  8440                        	.sym	e2,10,5,1,16
  8441                        	.sym	x0,4,5,6,16
  8442                        	.sym	y0,6,5,6,16
  8443                        	.sym	x1,8,5,6,16
  8444                        	.sym	y1,10,5,6,16
  8445                        	.sym	color,12,5,6,16
  8446                        	.sym	brush,14,16,6,16
  8447 06:1C73: 38           	sec
  8448 06:1C74: A5 1C        	lda	<L411+x1_0
  8449 06:1C76: E5 18        	sbc	<L411+x0_0
  8450 06:1C78: 48           	pha
  8451 06:1C79: 22 xx xx xx  	jsl	~~abs
  8452 06:1C7D: 85 09        	sta	<L412+dx_1
  8453 06:1C7F: 38           	sec
  8454 06:1C80: A5 18        	lda	<L411+x0_0
  8455 06:1C82: E5 1C        	sbc	<L411+x1_0
  8456 06:1C84: 70 03        	bvs	L415
  8457 06:1C86: 49 00 80     	eor	#$8000
  8458                        L415:
  8459 06:1C89: 10 03        	bpl	L416
  8460 06:1C8B: 82 05 00     	brl	L414
  8461                        L416:
  8462 06:1C8E: A9 01 00     	lda	#$1
  8463 06:1C91: 80 03        	bra	L417
  8464                        L414:
  8465 06:1C93: A9 FF FF     	lda	#$ffff
  8466                        L417:
  8467 06:1C96: 85 0B        	sta	<L412+sx_1
  8468 06:1C98: 38           	sec
  8469 06:1C99: A5 1E        	lda	<L411+y1_0
  8470 06:1C9B: E5 1A        	sbc	<L411+y0_0
  8471 06:1C9D: 48           	pha
  8472 06:1C9E: 22 xx xx xx  	jsl	~~abs
  8473 06:1CA2: 85 0D        	sta	<L412+dy_1
  8474 06:1CA4: 38           	sec
  Mon Aug  9 2021 16:52                                                Page 160


  8475 06:1CA5: A5 1A        	lda	<L411+y0_0
  8476 06:1CA7: E5 1E        	sbc	<L411+y1_0
  8477 06:1CA9: 70 03        	bvs	L419
  8478 06:1CAB: 49 00 80     	eor	#$8000
  8479                        L419:
  8480 06:1CAE: 10 03        	bpl	L420
  8481 06:1CB0: 82 05 00     	brl	L418
  8482                        L420:
  8483 06:1CB3: A9 01 00     	lda	#$1
  8484 06:1CB6: 80 03        	bra	L421
  8485                        L418:
  8486 06:1CB8: A9 FF FF     	lda	#$ffff
  8487                        L421:
  8488 06:1CBB: 85 0F        	sta	<L412+sy_1
  8489 06:1CBD: 38           	sec
  8490 06:1CBE: A5 0D        	lda	<L412+dy_1
  8491 06:1CC0: E5 09        	sbc	<L412+dx_1
  8492 06:1CC2: 70 03        	bvs	L423
  8493 06:1CC4: 49 00 80     	eor	#$8000
  8494                        L423:
  8495 06:1CC7: 10 03        	bpl	L424
  8496 06:1CC9: 82 04 00     	brl	L422
  8497                        L424:
  8498 06:1CCC: A5 09        	lda	<L412+dx_1
  8499 06:1CCE: 80 0A        	bra	L425
  8500                        L422:
  8501 06:1CD0: 38           	sec
  8502 06:1CD1: A9 00 00     	lda	#$0
  8503 06:1CD4: E5 0D        	sbc	<L412+dy_1
  8504 06:1CD6: 85 01        	sta	<R0
  8505 06:1CD8: A5 01        	lda	<R0
  8506                        L425:
  8507 06:1CDA: 85 01        	sta	<R0
  8508 06:1CDC: A5 01        	lda	<R0
  8509 06:1CDE: A2 02 00     	ldx	#<$2
  8510                        	xref	~~~div
  8511 06:1CE1: 22 xx xx xx  	jsl	~~~div
  8512 06:1CE5: 85 11        	sta	<L412+err_1
  8513                        	.line	1016
  8514                        L10064:
  8515                        ;	{
  8516                        	.line	1017
  8517                        ;		//if()
  8518                        ;		k_draw_pixel(x0,y0,color);
  8519                        	.line	1019
  8520 06:1CE7: D4 20        	pei	<L411+color_0
  8521 06:1CE9: A0 00 00     	ldy	#$0
  8522 06:1CEC: A5 1A        	lda	<L411+y0_0
  8523 06:1CEE: 10 01        	bpl	L426
  8524 06:1CF0: 88           	dey
  8525                        L426:
  8526 06:1CF1: 85 01        	sta	<R0
  8527 06:1CF3: 84 03        	sty	<R0+2
  8528 06:1CF5: D4 03        	pei	<R0+2
  8529 06:1CF7: D4 01        	pei	<R0
  8530 06:1CF9: A0 00 00     	ldy	#$0
  8531 06:1CFC: A5 18        	lda	<L411+x0_0
  8532 06:1CFE: 10 01        	bpl	L427
  Mon Aug  9 2021 16:52                                                Page 161


  8533 06:1D00: 88           	dey
  8534                        L427:
  8535 06:1D01: 85 05        	sta	<R1
  8536 06:1D03: 84 07        	sty	<R1+2
  8537 06:1D05: D4 07        	pei	<R1+2
  8538 06:1D07: D4 05        	pei	<R1
  8539 06:1D09: 22 3B 13 06  	jsl	~~k_draw_pixel
  8540                        ;		if (x0==x1 && y0==y1) break;
  8541                        	.line	1020
  8542 06:1D0D: A5 18        	lda	<L411+x0_0
  8543 06:1D0F: C5 1C        	cmp	<L411+x1_0
  8544 06:1D11: F0 03        	beq	L429
  8545 06:1D13: 82 09 00     	brl	L428
  8546                        L429:
  8547 06:1D16: A5 1A        	lda	<L411+y0_0
  8548 06:1D18: C5 1E        	cmp	<L411+y1_0
  8549 06:1D1A: D0 03        	bne	L430
  8550 06:1D1C: 82 49 00     	brl	L10063
  8551                        L430:
  8552                        L428:
  8553                        ;		e2 = err;
  8554                        	.line	1021
  8555 06:1D1F: A5 11        	lda	<L412+err_1
  8556 06:1D21: 85 13        	sta	<L412+e2_1
  8557                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  8558                        	.line	1022
  8559 06:1D23: 38           	sec
  8560 06:1D24: A9 00 00     	lda	#$0
  8561 06:1D27: E5 09        	sbc	<L412+dx_1
  8562 06:1D29: 85 01        	sta	<R0
  8563 06:1D2B: 38           	sec
  8564 06:1D2C: A5 01        	lda	<R0
  8565 06:1D2E: E5 13        	sbc	<L412+e2_1
  8566 06:1D30: 70 03        	bvs	L431
  8567 06:1D32: 49 00 80     	eor	#$8000
  8568                        L431:
  8569 06:1D35: 10 03        	bpl	L432
  8570 06:1D37: 82 0E 00     	brl	L10065
  8571                        L432:
  8572                        	.line	1022
  8573                        	.line	1022
  8574 06:1D3A: 38           	sec
  8575 06:1D3B: A5 11        	lda	<L412+err_1
  8576 06:1D3D: E5 0D        	sbc	<L412+dy_1
  8577 06:1D3F: 85 11        	sta	<L412+err_1
  8578                        	.line	1022
  8579 06:1D41: 18           	clc
  8580 06:1D42: A5 18        	lda	<L411+x0_0
  8581 06:1D44: 65 0B        	adc	<L412+sx_1
  8582 06:1D46: 85 18        	sta	<L411+x0_0
  8583                        	.line	1022
  8584                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  8585                        L10065:
  8586                        	.line	1023
  8587 06:1D48: 38           	sec
  8588 06:1D49: A5 13        	lda	<L412+e2_1
  8589 06:1D4B: E5 0D        	sbc	<L412+dy_1
  8590 06:1D4D: 70 03        	bvs	L433
  Mon Aug  9 2021 16:52                                                Page 162


  8591 06:1D4F: 49 00 80     	eor	#$8000
  8592                        L433:
  8593 06:1D52: 10 03        	bpl	L434
  8594 06:1D54: 82 0E 00     	brl	L10066
  8595                        L434:
  8596                        	.line	1023
  8597                        	.line	1023
  8598 06:1D57: 18           	clc
  8599 06:1D58: A5 11        	lda	<L412+err_1
  8600 06:1D5A: 65 09        	adc	<L412+dx_1
  8601 06:1D5C: 85 11        	sta	<L412+err_1
  8602                        	.line	1023
  8603 06:1D5E: 18           	clc
  8604 06:1D5F: A5 1A        	lda	<L411+y0_0
  8605 06:1D61: 65 0F        	adc	<L412+sy_1
  8606 06:1D63: 85 1A        	sta	<L411+y0_0
  8607                        	.line	1023
  8608                        ;	}
  8609                        L10066:
  8610                        	.line	1024
  8611                        L10062:
  8612 06:1D65: 82 7F FF     	brl	L10064
  8613                        L10063:
  8614                        ;}
  8615                        	.line	1025
  8616                        L435:
  8617 06:1D68: A5 16        	lda	<L411+2
  8618 06:1D6A: 85 22        	sta	<L411+2+12
  8619 06:1D6C: A5 15        	lda	<L411+1
  8620 06:1D6E: 85 21        	sta	<L411+1+12
  8621 06:1D70: 2B           	pld
  8622 06:1D71: 3B           	tsc
  8623 06:1D72: 18           	clc
  8624 06:1D73: 69 20 00     	adc	#L411+12
  8625 06:1D76: 1B           	tcs
  8626 06:1D77: 6B           	rtl
  8627                        	.endblock	1025
  8628             00000014   L411	equ	20
  8629             00000009   L412	equ	9
  8630 06:1D78:              	ends
  8631                        	efunc
  8632                        	.endfunc	1025,9,20
  8633                        	.line	1025
  8634                        ;
  8635                        ;void k_draw_rect_slow(int left,int top, int right
                    , int bottom, char color)
  8636                        ;{
  8637                        	.line	1027
  8638                        	.line	1028
  8639                        	GFX
  8640                        	xdef	~~k_draw_rect_slow
  8641                        	func
  8642                        	.function	1028
  8643                        ~~k_draw_rect_slow:
  8644                        	longa	on
  8645                        	longi	on
  8646 06:1D78: 3B           	tsc
  8647 06:1D79: 38           	sec
  Mon Aug  9 2021 16:52                                                Page 163


  8648 06:1D7A: E9 00 00     	sbc	#L436
  8649 06:1D7D: 1B           	tcs
  8650 06:1D7E: 0B           	phd
  8651 06:1D7F: 5B           	tcd
  8652             00000004   left_0	set	4
  8653             00000006   top_0	set	6
  8654             00000008   right_0	set	8
  8655             0000000A   bottom_0	set	10
  8656             0000000C   color_0	set	12
  8657                        	.block	1028
  8658                        ;	k_draw_line(left,top,right,top,color);
  8659                        	.sym	left,4,5,6,16
  8660                        	.sym	top,6,5,6,16
  8661                        	.sym	right,8,5,6,16
  8662                        	.sym	bottom,10,5,6,16
  8663                        	.sym	color,12,14,6,8
  8664                        	.line	1029
  8665 06:1D80: A5 0C        	lda	<L436+color_0
  8666 06:1D82: 29 FF 00     	and	#$ff
  8667 06:1D85: 48           	pha
  8668 06:1D86: D4 06        	pei	<L436+top_0
  8669 06:1D88: D4 08        	pei	<L436+right_0
  8670 06:1D8A: D4 06        	pei	<L436+top_0
  8671 06:1D8C: D4 04        	pei	<L436+left_0
  8672 06:1D8E: 22 CB 1A 06  	jsl	~~k_draw_line
  8673                        ;	k_draw_line(left,top,left,bottom,color);
  8674                        	.line	1030
  8675 06:1D92: A5 0C        	lda	<L436+color_0
  8676 06:1D94: 29 FF 00     	and	#$ff
  8677 06:1D97: 48           	pha
  8678 06:1D98: D4 0A        	pei	<L436+bottom_0
  8679 06:1D9A: D4 04        	pei	<L436+left_0
  8680 06:1D9C: D4 06        	pei	<L436+top_0
  8681 06:1D9E: D4 04        	pei	<L436+left_0
  8682 06:1DA0: 22 CB 1A 06  	jsl	~~k_draw_line
  8683                        ;	k_draw_line(right,top,right,bottom,color);
  8684                        	.line	1031
  8685 06:1DA4: A5 0C        	lda	<L436+color_0
  8686 06:1DA6: 29 FF 00     	and	#$ff
  8687 06:1DA9: 48           	pha
  8688 06:1DAA: D4 0A        	pei	<L436+bottom_0
  8689 06:1DAC: D4 08        	pei	<L436+right_0
  8690 06:1DAE: D4 06        	pei	<L436+top_0
  8691 06:1DB0: D4 08        	pei	<L436+right_0
  8692 06:1DB2: 22 CB 1A 06  	jsl	~~k_draw_line
  8693                        ;	k_draw_line(left,bottom,right,bottom,color);
  8694                        	.line	1032
  8695 06:1DB6: A5 0C        	lda	<L436+color_0
  8696 06:1DB8: 29 FF 00     	and	#$ff
  8697 06:1DBB: 48           	pha
  8698 06:1DBC: D4 0A        	pei	<L436+bottom_0
  8699 06:1DBE: D4 08        	pei	<L436+right_0
  8700 06:1DC0: D4 0A        	pei	<L436+bottom_0
  8701 06:1DC2: D4 04        	pei	<L436+left_0
  8702 06:1DC4: 22 CB 1A 06  	jsl	~~k_draw_line
  8703                        ;}
  8704                        	.line	1033
  8705                        L439:
  Mon Aug  9 2021 16:52                                                Page 164


  8706 06:1DC8: A5 02        	lda	<L436+2
  8707 06:1DCA: 85 0C        	sta	<L436+2+10
  8708 06:1DCC: A5 01        	lda	<L436+1
  8709 06:1DCE: 85 0B        	sta	<L436+1+10
  8710 06:1DD0: 2B           	pld
  8711 06:1DD1: 3B           	tsc
  8712 06:1DD2: 18           	clc
  8713 06:1DD3: 69 0A 00     	adc	#L436+10
  8714 06:1DD6: 1B           	tcs
  8715 06:1DD7: 6B           	rtl
  8716                        	.endblock	1033
  8717             00000000   L436	equ	0
  8718             00000001   L437	equ	1
  8719 06:1DD8:              	ends
  8720                        	efunc
  8721                        	.endfunc	1033,1,0
  8722                        	.line	1033
  8723                        ;
  8724                        ;void k_draw_rect(int left,int top, int right, int
                     bottom, char color,UINT brush,UINT page)
  8725                        ;{
  8726                        	.line	1035
  8727                        	.line	1036
  8728                        	GFX
  8729                        	xdef	~~k_draw_rect
  8730                        	func
  8731                        	.function	1036
  8732                        ~~k_draw_rect:
  8733                        	longa	on
  8734                        	longi	on
  8735 06:1DD8: 3B           	tsc
  8736 06:1DD9: 38           	sec
  8737 06:1DDA: E9 00 00     	sbc	#L440
  8738 06:1DDD: 1B           	tcs
  8739 06:1DDE: 0B           	phd
  8740 06:1DDF: 5B           	tcd
  8741             00000004   left_0	set	4
  8742             00000006   top_0	set	6
  8743             00000008   right_0	set	8
  8744             0000000A   bottom_0	set	10
  8745             0000000C   color_0	set	12
  8746             0000000E   brush_0	set	14
  8747             00000010   page_0	set	16
  8748                        	.block	1036
  8749                        ;	k_draw_line_ex(left,top,right,top,color,page);
  8750                        	.sym	left,4,5,6,16
  8751                        	.sym	top,6,5,6,16
  8752                        	.sym	right,8,5,6,16
  8753                        	.sym	bottom,10,5,6,16
  8754                        	.sym	color,12,14,6,8
  8755                        	.sym	brush,14,16,6,16
  8756                        	.sym	page,16,16,6,16
  8757                        	.line	1037
  8758 06:1DE0: D4 10        	pei	<L440+page_0
  8759 06:1DE2: A5 0C        	lda	<L440+color_0
  8760 06:1DE4: 29 FF 00     	and	#$ff
  8761 06:1DE7: 48           	pha
  8762 06:1DE8: D4 06        	pei	<L440+top_0
  Mon Aug  9 2021 16:52                                                Page 165


  8763 06:1DEA: D4 08        	pei	<L440+right_0
  8764 06:1DEC: D4 06        	pei	<L440+top_0
  8765 06:1DEE: D4 04        	pei	<L440+left_0
  8766 06:1DF0: 22 F4 1A 06  	jsl	~~k_draw_line_ex
  8767                        ;	k_draw_line_ex(left,top,left,bottom,color,page);
  8768                        	.line	1038
  8769 06:1DF4: D4 10        	pei	<L440+page_0
  8770 06:1DF6: A5 0C        	lda	<L440+color_0
  8771 06:1DF8: 29 FF 00     	and	#$ff
  8772 06:1DFB: 48           	pha
  8773 06:1DFC: D4 0A        	pei	<L440+bottom_0
  8774 06:1DFE: D4 04        	pei	<L440+left_0
  8775 06:1E00: D4 06        	pei	<L440+top_0
  8776 06:1E02: D4 04        	pei	<L440+left_0
  8777 06:1E04: 22 F4 1A 06  	jsl	~~k_draw_line_ex
  8778                        ;	k_draw_line_ex(right,top,right,bottom,color,page
                    );
  8779                        	.line	1039
  8780 06:1E08: D4 10        	pei	<L440+page_0
  8781 06:1E0A: A5 0C        	lda	<L440+color_0
  8782 06:1E0C: 29 FF 00     	and	#$ff
  8783 06:1E0F: 48           	pha
  8784 06:1E10: D4 0A        	pei	<L440+bottom_0
  8785 06:1E12: D4 08        	pei	<L440+right_0
  8786 06:1E14: D4 06        	pei	<L440+top_0
  8787 06:1E16: D4 08        	pei	<L440+right_0
  8788 06:1E18: 22 F4 1A 06  	jsl	~~k_draw_line_ex
  8789                        ;	k_draw_line_ex(left,bottom,right,bottom,color,pa
                    ge);
  8790                        	.line	1040
  8791 06:1E1C: D4 10        	pei	<L440+page_0
  8792 06:1E1E: A5 0C        	lda	<L440+color_0
  8793 06:1E20: 29 FF 00     	and	#$ff
  8794 06:1E23: 48           	pha
  8795 06:1E24: D4 0A        	pei	<L440+bottom_0
  8796 06:1E26: D4 08        	pei	<L440+right_0
  8797 06:1E28: D4 0A        	pei	<L440+bottom_0
  8798 06:1E2A: D4 04        	pei	<L440+left_0
  8799 06:1E2C: 22 F4 1A 06  	jsl	~~k_draw_line_ex
  8800                        ;}
  8801                        	.line	1041
  8802                        L443:
  8803 06:1E30: A5 02        	lda	<L440+2
  8804 06:1E32: 85 10        	sta	<L440+2+14
  8805 06:1E34: A5 01        	lda	<L440+1
  8806 06:1E36: 85 0F        	sta	<L440+1+14
  8807 06:1E38: 2B           	pld
  8808 06:1E39: 3B           	tsc
  8809 06:1E3A: 18           	clc
  8810 06:1E3B: 69 0E 00     	adc	#L440+14
  8811 06:1E3E: 1B           	tcs
  8812 06:1E3F: 6B           	rtl
  8813                        	.endblock	1041
  8814             00000000   L440	equ	0
  8815             00000001   L441	equ	1
  8816 06:1E40:              	ends
  8817                        	efunc
  8818                        	.endfunc	1041,1,0
  Mon Aug  9 2021 16:52                                                Page 166


  8819                        	.line	1041
  8820                        ;
  8821                        ;void k_draw_rect_ex(PRECT prect, char color,UINT 
                    brush,UINT page)
  8822                        ;{
  8823                        	.line	1043
  8824                        	.line	1044
  8825                        	GFX
  8826                        	xdef	~~k_draw_rect_ex
  8827                        	func
  8828                        	.function	1044
  8829                        ~~k_draw_rect_ex:
  8830                        	longa	on
  8831                        	longi	on
  8832 06:1E40: 3B           	tsc
  8833 06:1E41: 38           	sec
  8834 06:1E42: E9 0C 00     	sbc	#L444
  8835 06:1E45: 1B           	tcs
  8836 06:1E46: 0B           	phd
  8837 06:1E47: 5B           	tcd
  8838             00000004   prect_0	set	4
  8839             00000008   color_0	set	8
  8840             0000000A   brush_0	set	10
  8841             0000000C   page_0	set	12
  8842                        	.block	1044
  8843                        ;
  8844                        ;	int left   = prect->x ;
  8845                        ;	int top    = prect->y;
  8846                        ;	int right  = prect->x + prect->width  - 1;
  8847                        ;	int bottom = prect->y + prect->height - 1;
  8848                        ;
  8849                        ;	k_draw_rect(left,top, right, bottom, color,brush
                    ,page);
  8850             00000000   left_1	set	0
  8851             00000002   top_1	set	2
  8852             00000004   right_1	set	4
  8853             00000006   bottom_1	set	6
  8854                        	.sym	left,0,5,1,16
  8855                        	.sym	top,2,5,1,16
  8856                        	.sym	right,4,5,1,16
  8857                        	.sym	bottom,6,5,1,16
  8858                        	.sym	prect,4,138,6,32,26
  8859                        	.sym	color,8,14,6,8
  8860                        	.sym	brush,10,16,6,16
  8861                        	.sym	page,12,16,6,16
  8862 06:1E48: A7 10        	lda	[<L444+prect_0]
  8863 06:1E4A: 85 05        	sta	<L445+left_1
  8864 06:1E4C: A0 02 00     	ldy	#$2
  8865 06:1E4F: B7 10        	lda	[<L444+prect_0],Y
  8866 06:1E51: 85 07        	sta	<L445+top_1
  8867 06:1E53: 18           	clc
  8868 06:1E54: A7 10        	lda	[<L444+prect_0]
  8869 06:1E56: A0 08 00     	ldy	#$8
  8870 06:1E59: 77 10        	adc	[<L444+prect_0],Y
  8871 06:1E5B: 85 01        	sta	<R0
  8872 06:1E5D: 18           	clc
  8873 06:1E5E: A9 FF FF     	lda	#$ffff
  8874 06:1E61: 65 01        	adc	<R0
  Mon Aug  9 2021 16:52                                                Page 167


  8875 06:1E63: 85 09        	sta	<L445+right_1
  8876 06:1E65: 18           	clc
  8877 06:1E66: A0 02 00     	ldy	#$2
  8878 06:1E69: B7 10        	lda	[<L444+prect_0],Y
  8879 06:1E6B: A0 0A 00     	ldy	#$a
  8880 06:1E6E: 77 10        	adc	[<L444+prect_0],Y
  8881 06:1E70: 85 01        	sta	<R0
  8882 06:1E72: 18           	clc
  8883 06:1E73: A9 FF FF     	lda	#$ffff
  8884 06:1E76: 65 01        	adc	<R0
  8885 06:1E78: 85 0B        	sta	<L445+bottom_1
  8886                        	.line	1051
  8887 06:1E7A: D4 18        	pei	<L444+page_0
  8888 06:1E7C: D4 16        	pei	<L444+brush_0
  8889 06:1E7E: D4 14        	pei	<L444+color_0
  8890 06:1E80: D4 0B        	pei	<L445+bottom_1
  8891 06:1E82: D4 09        	pei	<L445+right_1
  8892 06:1E84: D4 07        	pei	<L445+top_1
  8893 06:1E86: D4 05        	pei	<L445+left_1
  8894 06:1E88: 22 D8 1D 06  	jsl	~~k_draw_rect
  8895                        ;}
  8896                        	.line	1052
  8897                        L447:
  8898 06:1E8C: A5 0E        	lda	<L444+2
  8899 06:1E8E: 85 18        	sta	<L444+2+10
  8900 06:1E90: A5 0D        	lda	<L444+1
  8901 06:1E92: 85 17        	sta	<L444+1+10
  8902 06:1E94: 2B           	pld
  8903 06:1E95: 3B           	tsc
  8904 06:1E96: 18           	clc
  8905 06:1E97: 69 16 00     	adc	#L444+10
  8906 06:1E9A: 1B           	tcs
  8907 06:1E9B: 6B           	rtl
  8908                        	.endblock	1052
  8909             0000000C   L444	equ	12
  8910             00000005   L445	equ	5
  8911 06:1E9C:              	ends
  8912                        	efunc
  8913                        	.endfunc	1052,5,12
  8914                        	.line	1052
  8915                        ;
  8916                        ;
  8917                        ;void k_draw_filled_rect_slow(int left,int top, in
                    t right, int bottom, char color)
  8918                        ;{
  8919                        	.line	1055
  8920                        	.line	1056
  8921                        	GFX
  8922                        	xdef	~~k_draw_filled_rect_slow
  8923                        	func
  8924                        	.function	1056
  8925                        ~~k_draw_filled_rect_slow:
  8926                        	longa	on
  8927                        	longi	on
  8928 06:1E9C: 3B           	tsc
  8929 06:1E9D: 38           	sec
  8930 06:1E9E: E9 00 00     	sbc	#L448
  8931 06:1EA1: 1B           	tcs
  Mon Aug  9 2021 16:52                                                Page 168


  8932 06:1EA2: 0B           	phd
  8933 06:1EA3: 5B           	tcd
  8934             00000004   left_0	set	4
  8935             00000006   top_0	set	6
  8936             00000008   right_0	set	8
  8937             0000000A   bottom_0	set	10
  8938             0000000C   color_0	set	12
  8939                        	.block	1056
  8940                        ;	
  8941                        ;}
  8942                        	.sym	left,4,5,6,16
  8943                        	.sym	top,6,5,6,16
  8944                        	.sym	right,8,5,6,16
  8945                        	.sym	bottom,10,5,6,16
  8946                        	.sym	color,12,14,6,8
  8947                        	.line	1058
  8948                        L451:
  8949 06:1EA4: A5 02        	lda	<L448+2
  8950 06:1EA6: 85 0C        	sta	<L448+2+10
  8951 06:1EA8: A5 01        	lda	<L448+1
  8952 06:1EAA: 85 0B        	sta	<L448+1+10
  8953 06:1EAC: 2B           	pld
  8954 06:1EAD: 3B           	tsc
  8955 06:1EAE: 18           	clc
  8956 06:1EAF: 69 0A 00     	adc	#L448+10
  8957 06:1EB2: 1B           	tcs
  8958 06:1EB3: 6B           	rtl
  8959                        	.endblock	1058
  8960             00000000   L448	equ	0
  8961             00000001   L449	equ	1
  8962 06:1EB4:              	ends
  8963                        	efunc
  8964                        	.endfunc	1058,1,0
  8965                        	.line	1058
  8966                        ;
  8967                        ;
  8968                        ;int k_put_draw_text(int col,int row,char FAR *tex
                    t,char color,char bcolor)
  8969                        ;{
  8970                        	.line	1061
  8971                        	.line	1062
  8972                        	GFX
  8973                        	xdef	~~k_put_draw_text
  8974                        	func
  8975                        	.function	1062
  8976                        ~~k_put_draw_text:
  8977                        	longa	on
  8978                        	longi	on
  8979 06:1EB4: 3B           	tsc
  8980 06:1EB5: 38           	sec
  8981 06:1EB6: E9 00 00     	sbc	#L452
  8982 06:1EB9: 1B           	tcs
  8983 06:1EBA: 0B           	phd
  8984 06:1EBB: 5B           	tcd
  8985             00000004   col_0	set	4
  8986             00000006   row_0	set	6
  8987             00000008   text_0	set	8
  8988             0000000C   color_0	set	12
  Mon Aug  9 2021 16:52                                                Page 169


  8989             0000000E   bcolor_0	set	14
  8990                        	.block	1062
  8991                        ;	return k_draw_text(text, row, col, color);
  8992                        	.sym	col,4,5,6,16
  8993                        	.sym	row,6,5,6,16
  8994                        	.sym	text,8,142,6,32
  8995                        	.sym	color,12,14,6,8
  8996                        	.sym	bcolor,14,14,6,8
  8997                        	.line	1063
  8998 06:1EBC: D4 0C        	pei	<L452+color_0
  8999 06:1EBE: D4 04        	pei	<L452+col_0
  9000 06:1EC0: D4 06        	pei	<L452+row_0
  9001 06:1EC2: D4 0A        	pei	<L452+text_0+2
  9002 06:1EC4: D4 08        	pei	<L452+text_0
  9003 06:1EC6: 22 DC 1E 06  	jsl	~~k_draw_text
  9004                        L455:
  9005 06:1ECA: A8           	tay
  9006 06:1ECB: A5 02        	lda	<L452+2
  9007 06:1ECD: 85 0E        	sta	<L452+2+12
  9008 06:1ECF: A5 01        	lda	<L452+1
  9009 06:1ED1: 85 0D        	sta	<L452+1+12
  9010 06:1ED3: 2B           	pld
  9011 06:1ED4: 3B           	tsc
  9012 06:1ED5: 18           	clc
  9013 06:1ED6: 69 0C 00     	adc	#L452+12
  9014 06:1ED9: 1B           	tcs
  9015 06:1EDA: 98           	tya
  9016 06:1EDB: 6B           	rtl
  9017                        ;}
  9018                        	.line	1064
  9019                        	.endblock	1064
  9020             00000000   L452	equ	0
  9021             00000001   L453	equ	1
  9022 06:1EDC:              	ends
  9023                        	efunc
  9024                        	.endfunc	1064,1,0
  9025                        	.line	1064
  9026                        ;
  9027                        ;int k_draw_text(char FAR *text,int row,int col,ch
                    ar color)
  9028                        ;{
  9029                        	.line	1066
  9030                        	.line	1067
  9031                        	GFX
  9032                        	xdef	~~k_draw_text
  9033                        	func
  9034                        	.function	1067
  9035                        ~~k_draw_text:
  9036                        	longa	on
  9037                        	longi	on
  9038 06:1EDC: 3B           	tsc
  9039 06:1EDD: 38           	sec
  9040 06:1EDE: E9 04 00     	sbc	#L456
  9041 06:1EE1: 1B           	tcs
  9042 06:1EE2: 0B           	phd
  9043 06:1EE3: 5B           	tcd
  9044             00000004   text_0	set	4
  9045             00000008   row_0	set	8
  Mon Aug  9 2021 16:52                                                Page 170


  9046             0000000A   col_0	set	10
  9047             0000000C   color_0	set	12
  9048                        	.block	1067
  9049                        ;	char FAR * ptr = (text);
  9050                        ;	while(*ptr)
  9051             00000000   ptr_1	set	0
  9052                        	.sym	ptr,0,142,1,32
  9053                        	.sym	text,4,142,6,32
  9054                        	.sym	row,8,5,6,16
  9055                        	.sym	col,10,5,6,16
  9056                        	.sym	color,12,14,6,8
  9057 06:1EE4: A5 08        	lda	<L456+text_0
  9058 06:1EE6: 85 01        	sta	<L457+ptr_1
  9059 06:1EE8: A5 0A        	lda	<L456+text_0+2
  9060 06:1EEA: 85 03        	sta	<L457+ptr_1+2
  9061                        	.line	1069
  9062                        L10067:
  9063 06:1EEC: A7 01        	lda	[<L457+ptr_1]
  9064 06:1EEE: 29 FF 00     	and	#$ff
  9065 06:1EF1: D0 03        	bne	L459
  9066 06:1EF3: 82 18 00     	brl	L10068
  9067                        L459:
  9068                        ;	{
  9069                        	.line	1070
  9070                        ;		k_put_font(*ptr,col,row,color);
  9071                        	.line	1071
  9072 06:1EF6: D4 10        	pei	<L456+color_0
  9073 06:1EF8: D4 0C        	pei	<L456+row_0
  9074 06:1EFA: D4 0E        	pei	<L456+col_0
  9075 06:1EFC: A7 01        	lda	[<L457+ptr_1]
  9076 06:1EFE: 48           	pha
  9077 06:1EFF: 22 4E 31 06  	jsl	~~k_put_font
  9078                        ;		col++;
  9079                        	.line	1072
  9080 06:1F03: E6 0E        	inc	<L456+col_0
  9081                        ;		ptr++;
  9082                        	.line	1073
  9083 06:1F05: E6 01        	inc	<L457+ptr_1
  9084 06:1F07: D0 02        	bne	L460
  9085 06:1F09: E6 03        	inc	<L457+ptr_1+2
  9086                        L460:
  9087                        ;	}
  9088                        	.line	1074
  9089 06:1F0B: 82 DE FF     	brl	L10067
  9090                        L10068:
  9091                        ;	
  9092                        ;	return col;
  9093                        	.line	1076
  9094 06:1F0E: A5 0E        	lda	<L456+col_0
  9095                        L461:
  9096 06:1F10: A8           	tay
  9097 06:1F11: A5 06        	lda	<L456+2
  9098 06:1F13: 85 10        	sta	<L456+2+10
  9099 06:1F15: A5 05        	lda	<L456+1
  9100 06:1F17: 85 0F        	sta	<L456+1+10
  9101 06:1F19: 2B           	pld
  9102 06:1F1A: 3B           	tsc
  9103 06:1F1B: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 171


  9104 06:1F1C: 69 0E 00     	adc	#L456+10
  9105 06:1F1F: 1B           	tcs
  9106 06:1F20: 98           	tya
  9107 06:1F21: 6B           	rtl
  9108                        ;}
  9109                        	.line	1077
  9110                        	.endblock	1077
  9111             00000004   L456	equ	4
  9112             00000001   L457	equ	1
  9113 06:1F22:              	ends
  9114                        	efunc
  9115                        	.endfunc	1077,1,4
  9116                        	.line	1077
  9117                        ;
  9118                        ;int k_draw_text_point_ex(LPCSTR text,int x,int y,
                    char color,UINT page)
  9119                        ;{
  9120                        	.line	1079
  9121                        	.line	1080
  9122                        	GFX
  9123                        	xdef	~~k_draw_text_point_ex
  9124                        	func
  9125                        	.function	1080
  9126                        ~~k_draw_text_point_ex:
  9127                        	longa	on
  9128                        	longi	on
  9129 06:1F22: 3B           	tsc
  9130 06:1F23: 38           	sec
  9131 06:1F24: E9 12 00     	sbc	#L462
  9132 06:1F27: 1B           	tcs
  9133 06:1F28: 0B           	phd
  9134 06:1F29: 5B           	tcd
  9135             00000004   text_0	set	4
  9136             00000008   x_0	set	8
  9137             0000000A   y_0	set	10
  9138             0000000C   color_0	set	12
  9139             0000000E   page_0	set	14
  9140                        	.block	1080
  9141                        ;	int col = 0;
  9142                        ;	int width = 0;
  9143                        ;	int height = 0;
  9144                        ;	int dx = x;
  9145                        ;	int dy = y;
  9146                        ;
  9147                        ;	LPCSTR ptr = (text);
  9148                        ;
  9149                        ;	width  = Bm437ToshibaLCD8x8[0];
  9150             00000000   col_1	set	0
  9151             00000002   width_1	set	2
  9152             00000004   height_1	set	4
  9153             00000006   dx_1	set	6
  9154             00000008   dy_1	set	8
  9155             0000000A   ptr_1	set	10
  9156                        	.sym	col,0,5,1,16
  9157                        	.sym	width,2,5,1,16
  9158                        	.sym	height,4,5,1,16
  9159                        	.sym	dx,6,5,1,16
  9160                        	.sym	dy,8,5,1,16
  Mon Aug  9 2021 16:52                                                Page 172


  9161                        	.sym	ptr,10,142,1,32
  9162                        	.sym	text,4,142,6,32
  9163                        	.sym	x,8,5,6,16
  9164                        	.sym	y,10,5,6,16
  9165                        	.sym	color,12,14,6,8
  9166                        	.sym	page,14,16,6,16
  9167 06:1F2A: 64 05        	stz	<L463+col_1
  9168 06:1F2C: 64 07        	stz	<L463+width_1
  9169 06:1F2E: 64 09        	stz	<L463+height_1
  9170 06:1F30: A5 1A        	lda	<L462+x_0
  9171 06:1F32: 85 0B        	sta	<L463+dx_1
  9172 06:1F34: A5 1C        	lda	<L462+y_0
  9173 06:1F36: 85 0D        	sta	<L463+dy_1
  9174 06:1F38: A5 16        	lda	<L462+text_0
  9175 06:1F3A: 85 0F        	sta	<L463+ptr_1
  9176 06:1F3C: A5 18        	lda	<L462+text_0+2
  9177 06:1F3E: 85 11        	sta	<L463+ptr_1+2
  9178                        	.line	1089
  9179 06:1F40: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  9180 06:1F44: 29 FF 00     	and	#$ff
  9181 06:1F47: 85 07        	sta	<L463+width_1
  9182                        ;	height = Bm437ToshibaLCD8x8[1];
  9183                        	.line	1090
  9184 06:1F49: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  9185 06:1F4D: 29 FF 00     	and	#$ff
  9186 06:1F50: 85 09        	sta	<L463+height_1
  9187                        ;
  9188                        ;
  9189                        ;	ptr = (text);
  9190                        	.line	1093
  9191 06:1F52: A5 16        	lda	<L462+text_0
  9192 06:1F54: 85 0F        	sta	<L463+ptr_1
  9193 06:1F56: A5 18        	lda	<L462+text_0+2
  9194 06:1F58: 85 11        	sta	<L463+ptr_1+2
  9195                        ;	while(*ptr)
  9196                        	.line	1094
  9197                        L10069:
  9198 06:1F5A: A7 0F        	lda	[<L463+ptr_1]
  9199 06:1F5C: 29 FF 00     	and	#$ff
  9200 06:1F5F: D0 03        	bne	L465
  9201 06:1F61: 82 69 00     	brl	L10070
  9202                        L465:
  9203                        ;	{
  9204                        	.line	1095
  9205                        ;		if(*ptr == 0x0D)
  9206                        	.line	1096
  9207                        ;		{
  9208 06:1F64: E2 20        	sep	#$20
  9209                        	longa	off
  9210 06:1F66: A7 0F        	lda	[<L463+ptr_1]
  9211 06:1F68: C9 0D        	cmp	#<$d
  9212 06:1F6A: C2 20        	rep	#$20
  9213                        	longa	on
  9214 06:1F6C: F0 03        	beq	L466
  9215 06:1F6E: 82 07 00     	brl	L10071
  9216                        L466:
  9217                        	.line	1097
  9218                        ;			dx = x;
  Mon Aug  9 2021 16:52                                                Page 173


  9219                        	.line	1098
  9220 06:1F71: A5 1A        	lda	<L462+x_0
  9221 06:1F73: 85 0B        	sta	<L463+dx_1
  9222                        ;		}
  9223                        	.line	1099
  9224                        ;		else if(*ptr == 0x0A)
  9225 06:1F75: 82 3F 00     	brl	L10072
  9226                        L10071:
  9227                        	.line	1100
  9228                        ;		{
  9229 06:1F78: E2 20        	sep	#$20
  9230                        	longa	off
  9231 06:1F7A: A7 0F        	lda	[<L463+ptr_1]
  9232 06:1F7C: C9 0A        	cmp	#<$a
  9233 06:1F7E: C2 20        	rep	#$20
  9234                        	longa	on
  9235 06:1F80: F0 03        	beq	L467
  9236 06:1F82: 82 10 00     	brl	L10073
  9237                        L467:
  9238                        	.line	1101
  9239                        ;			dy+=FONTH;
  9240                        	.line	1102
  9241 06:1F85: 22 E3 83 06  	jsl	~~k_font_getFontHeight
  9242 06:1F89: 85 01        	sta	<R0
  9243 06:1F8B: 18           	clc
  9244 06:1F8C: A5 01        	lda	<R0
  9245 06:1F8E: 65 0D        	adc	<L463+dy_1
  9246 06:1F90: 85 0D        	sta	<L463+dy_1
  9247                        ;		}
  9248                        	.line	1103
  9249                        ;		else
  9250 06:1F92: 82 22 00     	brl	L10074
  9251                        L10073:
  9252                        ;		{
  9253                        	.line	1105
  9254                        ;			dx+=k_put_binary_variablefont_po
                    int_ex( (LPCHAR)&Bm437ToshibaLCD8x8[2] , *ptr,dx,dy,width,he
                    ight,color,page);
  9255                        	.line	1106
  9256 06:1F95: D4 20        	pei	<L462+page_0
  9257 06:1F97: D4 1E        	pei	<L462+color_0
  9258 06:1F99: D4 09        	pei	<L463+height_1
  9259 06:1F9B: D4 07        	pei	<L463+width_1
  9260 06:1F9D: D4 0D        	pei	<L463+dy_1
  9261 06:1F9F: D4 0B        	pei	<L463+dx_1
  9262 06:1FA1: A7 0F        	lda	[<L463+ptr_1]
  9263 06:1FA3: 48           	pha
  9264 06:1FA4: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  9265 06:1FA7: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  9266 06:1FAA: 22 AD 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  9267 06:1FAE: 85 01        	sta	<R0
  9268 06:1FB0: 18           	clc
  9269 06:1FB1: A5 01        	lda	<R0
  9270 06:1FB3: 65 0B        	adc	<L463+dx_1
  9271 06:1FB5: 85 0B        	sta	<L463+dx_1
  9272                        ;		}
  9273                        	.line	1107
  9274                        L10074:
  Mon Aug  9 2021 16:52                                                Page 174


  9275                        L10072:
  9276                        ;		ptr++;
  9277                        	.line	1108
  9278 06:1FB7: E6 0F        	inc	<L463+ptr_1
  9279 06:1FB9: D0 02        	bne	L468
  9280 06:1FBB: E6 11        	inc	<L463+ptr_1+2
  9281                        L468:
  9282                        ;		col+=FONTW;
  9283                        	.line	1109
  9284 06:1FBD: 22 F8 83 06  	jsl	~~k_font_getFontWidth
  9285 06:1FC1: 85 01        	sta	<R0
  9286 06:1FC3: 18           	clc
  9287 06:1FC4: A5 01        	lda	<R0
  9288 06:1FC6: 65 05        	adc	<L463+col_1
  9289 06:1FC8: 85 05        	sta	<L463+col_1
  9290                        ;	}
  9291                        	.line	1110
  9292 06:1FCA: 82 8D FF     	brl	L10069
  9293                        L10070:
  9294                        ;
  9295                        ;	return col;
  9296                        	.line	1112
  9297 06:1FCD: A5 05        	lda	<L463+col_1
  9298                        L469:
  9299 06:1FCF: A8           	tay
  9300 06:1FD0: A5 14        	lda	<L462+2
  9301 06:1FD2: 85 20        	sta	<L462+2+12
  9302 06:1FD4: A5 13        	lda	<L462+1
  9303 06:1FD6: 85 1F        	sta	<L462+1+12
  9304 06:1FD8: 2B           	pld
  9305 06:1FD9: 3B           	tsc
  9306 06:1FDA: 18           	clc
  9307 06:1FDB: 69 1E 00     	adc	#L462+12
  9308 06:1FDE: 1B           	tcs
  9309 06:1FDF: 98           	tya
  9310 06:1FE0: 6B           	rtl
  9311                        ;}
  9312                        	.line	1113
  9313                        	.endblock	1113
  9314             00000012   L462	equ	18
  9315             00000005   L463	equ	5
  9316 06:1FE1:              	ends
  9317                        	efunc
  9318                        	.endfunc	1113,5,18
  9319                        	.line	1113
  9320                        ;
  9321                        ;
  9322                        ;
  9323                        ;int k_draw_text_point(LPCSTR text,int x,int y,cha
                    r color)
  9324                        ;{
  9325                        	.line	1117
  9326                        	.line	1118
  9327                        	GFX
  9328                        	xdef	~~k_draw_text_point
  9329                        	func
  9330                        	.function	1118
  9331                        ~~k_draw_text_point:
  Mon Aug  9 2021 16:52                                                Page 175


  9332                        	longa	on
  9333                        	longi	on
  9334 06:1FE1: 3B           	tsc
  9335 06:1FE2: 38           	sec
  9336 06:1FE3: E9 0E 00     	sbc	#L470
  9337 06:1FE6: 1B           	tcs
  9338 06:1FE7: 0B           	phd
  9339 06:1FE8: 5B           	tcd
  9340             00000004   text_0	set	4
  9341             00000008   x_0	set	8
  9342             0000000A   y_0	set	10
  9343             0000000C   color_0	set	12
  9344                        	.block	1118
  9345                        ;	int col = 0;
  9346                        ;	int width = 0;
  9347                        ;	int height = 0;
  9348                        ;
  9349                        ;	LPCSTR ptr = (text);
  9350                        ;	
  9351                        ;	width  = Bm437ToshibaLCD8x8[0];
  9352             00000000   col_1	set	0
  9353             00000002   width_1	set	2
  9354             00000004   height_1	set	4
  9355             00000006   ptr_1	set	6
  9356                        	.sym	col,0,5,1,16
  9357                        	.sym	width,2,5,1,16
  9358                        	.sym	height,4,5,1,16
  9359                        	.sym	ptr,6,142,1,32
  9360                        	.sym	text,4,142,6,32
  9361                        	.sym	x,8,5,6,16
  9362                        	.sym	y,10,5,6,16
  9363                        	.sym	color,12,14,6,8
  9364 06:1FE9: 64 05        	stz	<L471+col_1
  9365 06:1FEB: 64 07        	stz	<L471+width_1
  9366 06:1FED: 64 09        	stz	<L471+height_1
  9367 06:1FEF: A5 12        	lda	<L470+text_0
  9368 06:1FF1: 85 0B        	sta	<L471+ptr_1
  9369 06:1FF3: A5 14        	lda	<L470+text_0+2
  9370 06:1FF5: 85 0D        	sta	<L471+ptr_1+2
  9371                        	.line	1125
  9372 06:1FF7: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  9373 06:1FFB: 29 FF 00     	and	#$ff
  9374 06:1FFE: 85 07        	sta	<L471+width_1
  9375                        ;	height = Bm437ToshibaLCD8x8[1];
  9376                        	.line	1126
  9377 06:2000: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  9378 06:2004: 29 FF 00     	and	#$ff
  9379 06:2007: 85 09        	sta	<L471+height_1
  9380                        ;
  9381                        ;
  9382                        ;	ptr = (text);
  9383                        	.line	1129
  9384 06:2009: A5 12        	lda	<L470+text_0
  9385 06:200B: 85 0B        	sta	<L471+ptr_1
  9386 06:200D: A5 14        	lda	<L470+text_0+2
  9387 06:200F: 85 0D        	sta	<L471+ptr_1+2
  9388                        ;	while(*ptr)
  9389                        	.line	1130
  Mon Aug  9 2021 16:52                                                Page 176


  9390                        L10075:
  9391 06:2011: A7 0B        	lda	[<L471+ptr_1]
  9392 06:2013: 29 FF 00     	and	#$ff
  9393 06:2016: D0 03        	bne	L473
  9394 06:2018: 82 36 00     	brl	L10076
  9395                        L473:
  9396                        ;	{
  9397                        	.line	1131
  9398                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  9399                        ;
  9400                        ;		//x+=k_put_binary_font_point( Bm437Toshi
                    baLCD8x8 , *ptr,x,y,color);
  9401                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  9402                        ;
  9403                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&Bm437ToshibaLCD8x8[2] , *ptr,x,y,width,height,color);
  9404                        	.line	1137
  9405 06:201B: D4 1A        	pei	<L470+color_0
  9406 06:201D: D4 09        	pei	<L471+height_1
  9407 06:201F: D4 07        	pei	<L471+width_1
  9408 06:2021: D4 18        	pei	<L470+y_0
  9409 06:2023: D4 16        	pei	<L470+x_0
  9410 06:2025: A7 0B        	lda	[<L471+ptr_1]
  9411 06:2027: 48           	pha
  9412 06:2028: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  9413 06:202B: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  9414 06:202E: 22 B3 28 06  	jsl	~~k_put_binary_variablefont_point
  9415 06:2032: 85 01        	sta	<R0
  9416 06:2034: 18           	clc
  9417 06:2035: A5 01        	lda	<R0
  9418 06:2037: 65 16        	adc	<L470+x_0
  9419 06:2039: 85 16        	sta	<L470+x_0
  9420                        ;
  9421                        ;		ptr++;
  9422                        	.line	1139
  9423 06:203B: E6 0B        	inc	<L471+ptr_1
  9424 06:203D: D0 02        	bne	L474
  9425 06:203F: E6 0D        	inc	<L471+ptr_1+2
  9426                        L474:
  9427                        ;		col+=FONTW;
  9428                        	.line	1140
  9429 06:2041: 22 F8 83 06  	jsl	~~k_font_getFontWidth
  9430 06:2045: 85 01        	sta	<R0
  9431 06:2047: 18           	clc
  9432 06:2048: A5 01        	lda	<R0
  9433 06:204A: 65 05        	adc	<L471+col_1
  9434 06:204C: 85 05        	sta	<L471+col_1
  9435                        ;	}
  9436                        	.line	1141
  9437 06:204E: 82 C0 FF     	brl	L10075
  9438                        L10076:
  9439                        ;	
  9440                        ;	return col;
  9441                        	.line	1143
  9442 06:2051: A5 05        	lda	<L471+col_1
  9443                        L475:
  9444 06:2053: A8           	tay
  Mon Aug  9 2021 16:52                                                Page 177


  9445 06:2054: A5 10        	lda	<L470+2
  9446 06:2056: 85 1A        	sta	<L470+2+10
  9447 06:2058: A5 0F        	lda	<L470+1
  9448 06:205A: 85 19        	sta	<L470+1+10
  9449 06:205C: 2B           	pld
  9450 06:205D: 3B           	tsc
  9451 06:205E: 18           	clc
  9452 06:205F: 69 18 00     	adc	#L470+10
  9453 06:2062: 1B           	tcs
  9454 06:2063: 98           	tya
  9455 06:2064: 6B           	rtl
  9456                        ;}
  9457                        	.line	1144
  9458                        	.endblock	1144
  9459             0000000E   L470	equ	14
  9460             00000005   L471	equ	5
  9461 06:2065:              	ends
  9462                        	efunc
  9463                        	.endfunc	1144,5,14
  9464                        	.line	1144
  9465                        ;
  9466                        ;int k_gui_DrawText(HWND hWnd,LPCSTR text,HFONT ch
                    arSet,UINT style,PRECT prect,char color,UINT page)
  9467                        ;{
  9468                        	.line	1146
  9469                        	.line	1147
  9470                        	GFX
  9471                        	xdef	~~k_gui_DrawText
  9472                        	func
  9473                        	.function	1147
  9474                        ~~k_gui_DrawText:
  9475                        	longa	on
  9476                        	longi	on
  9477 06:2065: 3B           	tsc
  9478 06:2066: 38           	sec
  9479 06:2067: E9 26 00     	sbc	#L476
  9480 06:206A: 1B           	tcs
  9481 06:206B: 0B           	phd
  9482 06:206C: 5B           	tcd
  9483             00000004   hWnd_0	set	4
  9484             00000008   text_0	set	8
  9485             0000000C   charSet_0	set	12
  9486             00000010   style_0	set	16
  9487             00000012   prect_0	set	18
  9488             00000016   color_0	set	22
  9489             00000018   page_0	set	24
  9490                        	.block	1147
  9491                        ;	int col 	= 0;
  9492                        ;	int fwidth 	= 0;
  9493                        ;	int fheight = 0;
  9494                        ;	int xmax 	= 0;
  9495                        ;	int ymax 	= 0;
  9496                        ;
  9497                        ;	int dx = 0;
  9498                        ;	int dy = 0;
  9499                        ;	int e;
  9500                        ;	int emax;
  9501                        ;	LPCHAR ptr = NULL;
  Mon Aug  9 2021 16:52                                                Page 178


  9502                        ;	LPCHAR fptr = (LPCHAR)(&((LPSTR)charSet)[2]);
  9503                        ;	PWINDOW pWin = (PWINDOW)hWnd;
  9504                        ;	//k_debug_pointer("k_draw_text_rect charSet:",(L
                    PVOID)charSet);
  9505                        ;
  9506                        ;	fwidth  = (INT)(((INT)((LPSTR)charSet)[0]) & 0x0
                    0FF);
  9507             00000000   col_1	set	0
  9508             00000002   fwidth_1	set	2
  9509             00000004   fheight_1	set	4
  9510             00000006   xmax_1	set	6
  9511             00000008   ymax_1	set	8
  9512             0000000A   dx_1	set	10
  9513             0000000C   dy_1	set	12
  9514             0000000E   e_1	set	14
  9515             00000010   emax_1	set	16
  9516             00000012   ptr_1	set	18
  9517             00000016   fptr_1	set	22
  9518             0000001A   pWin_1	set	26
  9519                        	.sym	col,0,5,1,16
  9520                        	.sym	fwidth,2,5,1,16
  9521                        	.sym	fheight,4,5,1,16
  9522                        	.sym	xmax,6,5,1,16
  9523                        	.sym	ymax,8,5,1,16
  9524                        	.sym	dx,10,5,1,16
  9525                        	.sym	dy,12,5,1,16
  9526                        	.sym	e,14,5,1,16
  9527                        	.sym	emax,16,5,1,16
  9528                        	.sym	ptr,18,142,1,32
  9529                        	.sym	fptr,22,142,1,32
  9530                        	.sym	pWin,26,138,1,32,33
  9531                        	.sym	hWnd,4,129,6,32
  9532                        	.sym	text,8,142,6,32
  9533                        	.sym	charSet,12,129,6,32
  9534                        	.sym	style,16,16,6,16
  9535                        	.sym	prect,18,138,6,32,26
  9536                        	.sym	color,22,14,6,8
  9537                        	.sym	page,24,16,6,16
  9538 06:206D: 64 09        	stz	<L477+col_1
  9539 06:206F: 64 0B        	stz	<L477+fwidth_1
  9540 06:2071: 64 0D        	stz	<L477+fheight_1
  9541 06:2073: 64 0F        	stz	<L477+xmax_1
  9542 06:2075: 64 11        	stz	<L477+ymax_1
  9543 06:2077: 64 13        	stz	<L477+dx_1
  9544 06:2079: 64 15        	stz	<L477+dy_1
  9545 06:207B: 64 1B        	stz	<L477+ptr_1
  9546 06:207D: 64 1D        	stz	<L477+ptr_1+2
  9547 06:207F: 18           	clc
  9548 06:2080: A9 02 00     	lda	#$2
  9549 06:2083: 65 32        	adc	<L476+charSet_0
  9550 06:2085: 85 1F        	sta	<L477+fptr_1
  9551 06:2087: A9 00 00     	lda	#$0
  9552 06:208A: 65 34        	adc	<L476+charSet_0+2
  9553 06:208C: 85 21        	sta	<L477+fptr_1+2
  9554 06:208E: A5 2A        	lda	<L476+hWnd_0
  9555 06:2090: 85 23        	sta	<L477+pWin_1
  9556 06:2092: A5 2C        	lda	<L476+hWnd_0+2
  9557 06:2094: 85 25        	sta	<L477+pWin_1+2
  Mon Aug  9 2021 16:52                                                Page 179


  9558                        	.line	1163
  9559 06:2096: A7 32        	lda	[<L476+charSet_0]
  9560 06:2098: 29 FF 00     	and	#<$ff
  9561 06:209B: 85 0B        	sta	<L477+fwidth_1
  9562                        ;	fheight = (INT)(((INT)((LPSTR)charSet)[1]) & 0x0
                    0FF);
  9563                        	.line	1164
  9564 06:209D: A0 01 00     	ldy	#$1
  9565 06:20A0: B7 32        	lda	[<L476+charSet_0],Y
  9566 06:20A2: 29 FF 00     	and	#<$ff
  9567 06:20A5: 85 0D        	sta	<L477+fheight_1
  9568                        ;
  9569                        ;	e    = (style & DTS_ELLIPSES);
  9570                        	.line	1166
  9571 06:20A7: A5 36        	lda	<L476+style_0
  9572 06:20A9: 29 01 00     	and	#<$1
  9573 06:20AC: 85 17        	sta	<L477+e_1
  9574                        ;	dx    = prect->x;
  9575                        	.line	1167
  9576 06:20AE: A7 38        	lda	[<L476+prect_0]
  9577 06:20B0: 85 13        	sta	<L477+dx_1
  9578                        ;	dy    = prect->y;
  9579                        	.line	1168
  9580 06:20B2: A0 02 00     	ldy	#$2
  9581 06:20B5: B7 38        	lda	[<L476+prect_0],Y
  9582 06:20B7: 85 15        	sta	<L477+dy_1
  9583                        ;	emax = 2 * fwidth;
  9584                        	.line	1169
  9585 06:20B9: A5 0B        	lda	<L477+fwidth_1
  9586 06:20BB: 0A           	asl	A
  9587 06:20BC: 85 19        	sta	<L477+emax_1
  9588                        ;	xmax = prect->x + prect->width - 1;
  9589                        	.line	1170
  9590 06:20BE: 18           	clc
  9591 06:20BF: A7 38        	lda	[<L476+prect_0]
  9592 06:20C1: A0 08 00     	ldy	#$8
  9593 06:20C4: 77 38        	adc	[<L476+prect_0],Y
  9594 06:20C6: 85 01        	sta	<R0
  9595 06:20C8: 18           	clc
  9596 06:20C9: A9 FF FF     	lda	#$ffff
  9597 06:20CC: 65 01        	adc	<R0
  9598 06:20CE: 85 0F        	sta	<L477+xmax_1
  9599                        ;	ymax = (pWin->clientRect.y + pWin->clientRect.he
                    ight) - 1;
  9600                        	.line	1171
  9601 06:20D0: 18           	clc
  9602 06:20D1: A0 2C 00     	ldy	#$2c
  9603 06:20D4: B7 23        	lda	[<L477+pWin_1],Y
  9604 06:20D6: A0 34 00     	ldy	#$34
  9605 06:20D9: 77 23        	adc	[<L477+pWin_1],Y
  9606 06:20DB: 85 01        	sta	<R0
  9607 06:20DD: 18           	clc
  9608 06:20DE: A9 FF FF     	lda	#$ffff
  9609 06:20E1: 65 01        	adc	<R0
  9610 06:20E3: 85 11        	sta	<L477+ymax_1
  9611                        ;
  9612                        ;	//k_debug_strings("k_draw_text_point_with_font:f
                    ont text:",(LPSTR)text);
  Mon Aug  9 2021 16:52                                                Page 180


  9613                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont x:",dx);
  9614                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont y:",dy);
  9615                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont xmax:",xmax);
  9616                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont ymax:",ymax);
  9617                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont fwidth:",fwidth);
  9618                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont fheight:",fheight);
  9619                        ;
  9620                        ;
  9621                        ;	if(((prect->y + FONTH) >= ymax) && !(style & DTS
                    _NOCLIP))
  9622                        	.line	1182
  9623                        ;		return -1;
  9624 06:20E5: 22 E3 83 06  	jsl	~~k_font_getFontHeight
  9625 06:20E9: 85 01        	sta	<R0
  9626 06:20EB: 18           	clc
  9627 06:20EC: A5 01        	lda	<R0
  9628 06:20EE: A0 02 00     	ldy	#$2
  9629 06:20F1: 77 38        	adc	[<L476+prect_0],Y
  9630 06:20F3: 85 05        	sta	<R1
  9631 06:20F5: A5 05        	lda	<R1
  9632 06:20F7: C5 11        	cmp	<L477+ymax_1
  9633 06:20F9: B0 03        	bcs	L479
  9634 06:20FB: 82 1F 00     	brl	L10077
  9635                        L479:
  9636 06:20FE: A5 36        	lda	<L476+style_0
  9637 06:2100: 29 08 00     	and	#<$8
  9638 06:2103: F0 03        	beq	L480
  9639 06:2105: 82 15 00     	brl	L10077
  9640                        L480:
  9641                        	.line	1183
  9642 06:2108: A9 FF FF     	lda	#$ffff
  9643                        L481:
  9644 06:210B: A8           	tay
  9645 06:210C: A5 28        	lda	<L476+2
  9646 06:210E: 85 3E        	sta	<L476+2+22
  9647 06:2110: A5 27        	lda	<L476+1
  9648 06:2112: 85 3D        	sta	<L476+1+22
  9649 06:2114: 2B           	pld
  9650 06:2115: 3B           	tsc
  9651 06:2116: 18           	clc
  9652 06:2117: 69 3C 00     	adc	#L476+22
  9653 06:211A: 1B           	tcs
  9654 06:211B: 98           	tya
  9655 06:211C: 6B           	rtl
  9656                        ;
  9657                        ;
  9658                        ;	if(style & DTS_RIGHTJUSTIFY)
  9659                        L10077:
  9660                        	.line	1186
  9661                        ;	{
  9662 06:211D: A5 36        	lda	<L476+style_0
  9663 06:211F: 29 02 00     	and	#<$2
  Mon Aug  9 2021 16:52                                                Page 181


  9664 06:2122: D0 03        	bne	L482
  9665 06:2124: 82 7A 00     	brl	L10078
  9666                        L482:
  9667                        	.line	1187
  9668                        ;		dx = xmax - fwidth;
  9669                        	.line	1188
  9670 06:2127: 38           	sec
  9671 06:2128: A5 0F        	lda	<L477+xmax_1
  9672 06:212A: E5 0B        	sbc	<L477+fwidth_1
  9673 06:212C: 85 13        	sta	<L477+dx_1
  9674                        ;
  9675                        ;		ptr = (LPSTR)&text[strlen(text)];
  9676                        	.line	1190
  9677 06:212E: D4 30        	pei	<L476+text_0+2
  9678 06:2130: D4 2E        	pei	<L476+text_0
  9679 06:2132: 22 xx xx xx  	jsl	~~strlen
  9680 06:2136: 85 01        	sta	<R0
  9681 06:2138: A5 01        	lda	<R0
  9682 06:213A: 85 01        	sta	<R0
  9683 06:213C: 64 03        	stz	<R0+2
  9684 06:213E: 18           	clc
  9685 06:213F: A5 2E        	lda	<L476+text_0
  9686 06:2141: 65 01        	adc	<R0
  9687 06:2143: 85 1B        	sta	<L477+ptr_1
  9688 06:2145: A5 30        	lda	<L476+text_0+2
  9689 06:2147: 65 03        	adc	<R0+2
  9690 06:2149: 85 1D        	sta	<L477+ptr_1+2
  9691                        ;		while(ptr >= text)
  9692                        	.line	1191
  9693                        L10079:
  9694 06:214B: A5 1B        	lda	<L477+ptr_1
  9695 06:214D: C5 2E        	cmp	<L476+text_0
  9696 06:214F: A5 1D        	lda	<L477+ptr_1+2
  9697 06:2151: E5 30        	sbc	<L476+text_0+2
  9698 06:2153: B0 03        	bcs	L483
  9699 06:2155: 82 46 00     	brl	L10080
  9700                        L483:
  9701                        ;		{
  9702                        	.line	1192
  9703                        ;			dx-=k_put_binary_variablefont_po
                    int_ex( fptr,*ptr,dx,prect->y,fwidth,fheight,color,page);
  9704                        	.line	1193
  9705 06:2158: D4 3E        	pei	<L476+page_0
  9706 06:215A: D4 3C        	pei	<L476+color_0
  9707 06:215C: D4 0D        	pei	<L477+fheight_1
  9708 06:215E: D4 0B        	pei	<L477+fwidth_1
  9709 06:2160: A0 02 00     	ldy	#$2
  9710 06:2163: B7 38        	lda	[<L476+prect_0],Y
  9711 06:2165: 48           	pha
  9712 06:2166: D4 13        	pei	<L477+dx_1
  9713 06:2168: A7 1B        	lda	[<L477+ptr_1]
  9714 06:216A: 48           	pha
  9715 06:216B: D4 21        	pei	<L477+fptr_1+2
  9716 06:216D: D4 1F        	pei	<L477+fptr_1
  9717 06:216F: 22 AD 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  9718 06:2173: 85 01        	sta	<R0
  9719 06:2175: 38           	sec
  9720 06:2176: A5 13        	lda	<L477+dx_1
  Mon Aug  9 2021 16:52                                                Page 182


  9721 06:2178: E5 01        	sbc	<R0
  9722 06:217A: 85 13        	sta	<L477+dx_1
  9723                        ;			if(dx < prect->x)
  9724                        	.line	1194
  9725                        ;				break;
  9726 06:217C: 38           	sec
  9727 06:217D: A5 13        	lda	<L477+dx_1
  9728 06:217F: E7 38        	sbc	[<L476+prect_0]
  9729 06:2181: 70 03        	bvs	L484
  9730 06:2183: 49 00 80     	eor	#$8000
  9731                        L484:
  9732 06:2186: 30 03        	bmi	L485
  9733 06:2188: 82 13 00     	brl	L10080
  9734                        L485:
  9735                        ;
  9736                        ;			ptr--;
  9737                        	.line	1197
  9738 06:218B: A5 1B        	lda	<L477+ptr_1
  9739 06:218D: D0 02        	bne	L486
  9740 06:218F: C6 1D        	dec	<L477+ptr_1+2
  9741                        L486:
  9742 06:2191: C6 1B        	dec	<L477+ptr_1
  9743                        ;			col+=8;
  9744                        	.line	1198
  9745 06:2193: 18           	clc
  9746 06:2194: A9 08 00     	lda	#$8
  9747 06:2197: 65 09        	adc	<L477+col_1
  9748 06:2199: 85 09        	sta	<L477+col_1
  9749                        ;		}
  9750                        	.line	1199
  9751 06:219B: 82 AD FF     	brl	L10079
  9752                        L10080:
  9753                        ;	}
  9754                        	.line	1200
  9755                        ;	else
  9756 06:219E: 82 BA 00     	brl	L10081
  9757                        L10078:
  9758                        ;	{
  9759                        	.line	1202
  9760                        ;		ptr = (LPCHAR)(text);
  9761                        	.line	1203
  9762 06:21A1: A5 2E        	lda	<L476+text_0
  9763 06:21A3: 85 1B        	sta	<L477+ptr_1
  9764 06:21A5: A5 30        	lda	<L476+text_0+2
  9765 06:21A7: 85 1D        	sta	<L477+ptr_1+2
  9766                        ;		while(*ptr)
  9767                        	.line	1204
  9768                        L10082:
  9769 06:21A9: A7 1B        	lda	[<L477+ptr_1]
  9770 06:21AB: 29 FF 00     	and	#$ff
  9771 06:21AE: D0 03        	bne	L487
  9772 06:21B0: 82 A8 00     	brl	L10083
  9773                        L487:
  9774                        ;		{
  9775                        	.line	1205
  9776                        ;			if(*ptr == 0x0D)
  9777                        	.line	1206
  9778                        ;			{
  Mon Aug  9 2021 16:52                                                Page 183


  9779 06:21B3: E2 20        	sep	#$20
  9780                        	longa	off
  9781 06:21B5: A7 1B        	lda	[<L477+ptr_1]
  9782 06:21B7: C9 0D        	cmp	#<$d
  9783 06:21B9: C2 20        	rep	#$20
  9784                        	longa	on
  9785 06:21BB: F0 03        	beq	L488
  9786 06:21BD: 82 07 00     	brl	L10084
  9787                        L488:
  9788                        	.line	1207
  9789                        ;				dx = prect->x;
  9790                        	.line	1208
  9791 06:21C0: A7 38        	lda	[<L476+prect_0]
  9792 06:21C2: 85 13        	sta	<L477+dx_1
  9793                        ;			}
  9794                        	.line	1209
  9795                        ;			else if(*ptr == 0x0A)
  9796 06:21C4: 82 59 00     	brl	L10085
  9797                        L10084:
  9798                        	.line	1210
  9799                        ;			{
  9800 06:21C7: E2 20        	sep	#$20
  9801                        	longa	off
  9802 06:21C9: A7 1B        	lda	[<L477+ptr_1]
  9803 06:21CB: C9 0A        	cmp	#<$a
  9804 06:21CD: C2 20        	rep	#$20
  9805                        	longa	on
  9806 06:21CF: F0 03        	beq	L489
  9807 06:21D1: 82 0E 00     	brl	L10086
  9808                        L489:
  9809                        	.line	1211
  9810                        ;				dy+=fheight;
  9811                        	.line	1212
  9812 06:21D4: 18           	clc
  9813 06:21D5: A5 15        	lda	<L477+dy_1
  9814 06:21D7: 65 0D        	adc	<L477+fheight_1
  9815 06:21D9: 85 15        	sta	<L477+dy_1
  9816                        ;				dx = prect->x;
  9817                        	.line	1213
  9818 06:21DB: A7 38        	lda	[<L476+prect_0]
  9819 06:21DD: 85 13        	sta	<L477+dx_1
  9820                        ;			}
  9821                        	.line	1214
  9822                        ;			else
  9823 06:21DF: 82 3E 00     	brl	L10087
  9824                        L10086:
  9825                        ;			{
  9826                        	.line	1216
  9827                        ;				if(dx < xmax && dy < yma
                    x)
  9828                        	.line	1217
  9829                        ;					dx+=k_put_binary
                    _variablefont_point_ex( fptr,*ptr,dx,dy,fwidth,fheight,color
                    ,page);
  9830 06:21E2: 38           	sec
  9831 06:21E3: A5 13        	lda	<L477+dx_1
  9832 06:21E5: E5 0F        	sbc	<L477+xmax_1
  9833 06:21E7: 70 03        	bvs	L490
  Mon Aug  9 2021 16:52                                                Page 184


  9834 06:21E9: 49 00 80     	eor	#$8000
  9835                        L490:
  9836 06:21EC: 10 03        	bpl	L491
  9837 06:21EE: 82 2F 00     	brl	L10088
  9838                        L491:
  9839 06:21F1: 38           	sec
  9840 06:21F2: A5 15        	lda	<L477+dy_1
  9841 06:21F4: E5 11        	sbc	<L477+ymax_1
  9842 06:21F6: 70 03        	bvs	L492
  9843 06:21F8: 49 00 80     	eor	#$8000
  9844                        L492:
  9845 06:21FB: 10 03        	bpl	L493
  9846 06:21FD: 82 20 00     	brl	L10088
  9847                        L493:
  9848                        	.line	1218
  9849 06:2200: D4 3E        	pei	<L476+page_0
  9850 06:2202: D4 3C        	pei	<L476+color_0
  9851 06:2204: D4 0D        	pei	<L477+fheight_1
  9852 06:2206: D4 0B        	pei	<L477+fwidth_1
  9853 06:2208: D4 15        	pei	<L477+dy_1
  9854 06:220A: D4 13        	pei	<L477+dx_1
  9855 06:220C: A7 1B        	lda	[<L477+ptr_1]
  9856 06:220E: 48           	pha
  9857 06:220F: D4 21        	pei	<L477+fptr_1+2
  9858 06:2211: D4 1F        	pei	<L477+fptr_1
  9859 06:2213: 22 AD 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  9860 06:2217: 85 01        	sta	<R0
  9861 06:2219: 18           	clc
  9862 06:221A: A5 01        	lda	<R0
  9863 06:221C: 65 13        	adc	<L477+dx_1
  9864 06:221E: 85 13        	sta	<L477+dx_1
  9865                        ;			}
  9866                        L10088:
  9867                        	.line	1219
  9868                        L10087:
  9869                        L10085:
  9870                        ;
  9871                        ;			//x+=k_put_binary_variablefont_p
                    oint_ex( fptr,*ptr,x,prect->y,fwidth,fheight,color,page);
  9872                        ;			//if(dx > xmax)
  9873                        ;			//	break;
  9874                        ;
  9875                        ;			if(dy > ymax)
  9876                        	.line	1225
  9877                        ;			{
  9878 06:2220: 38           	sec
  9879 06:2221: A5 11        	lda	<L477+ymax_1
  9880 06:2223: E5 15        	sbc	<L477+dy_1
  9881 06:2225: 70 03        	bvs	L494
  9882 06:2227: 49 00 80     	eor	#$8000
  9883                        L494:
  9884 06:222A: 10 03        	bpl	L495
  9885 06:222C: 82 1B 00     	brl	L10089
  9886                        L495:
  9887                        	.line	1226
  9888                        ;				k_debug_integer("k_draw_
                    text_point_with_font:font ymax:",ymax);
  9889                        	.line	1227
  Mon Aug  9 2021 16:52                                                Page 185


  9890 06:222F: D4 11        	pei	<L477+ymax_1
  9891 06:2231: F4 xx xx     	pea	#^L83
  9892 06:2234: F4 xx xx     	pea	#<L83
  9893 06:2237: 22 xx xx xx  	jsl	~~k_debug_integer
  9894                        ;				k_debug_integer("k_draw_
                    text_point_with_font:font dy@max:",dy);
  9895                        	.line	1228
  9896 06:223B: D4 15        	pei	<L477+dy_1
  9897 06:223D: F4 xx xx     	pea	#^L83+39
  9898 06:2240: F4 xx xx     	pea	#<L83+39
  9899 06:2243: 22 xx xx xx  	jsl	~~k_debug_integer
  9900                        ;				break;
  9901                        	.line	1229
  9902 06:2247: 82 11 00     	brl	L10083
  9903                        ;			}
  9904                        	.line	1230
  9905                        ;
  9906                        ;			ptr++;
  9907                        L10089:
  9908                        	.line	1232
  9909 06:224A: E6 1B        	inc	<L477+ptr_1
  9910 06:224C: D0 02        	bne	L496
  9911 06:224E: E6 1D        	inc	<L477+ptr_1+2
  9912                        L496:
  9913                        ;			col+=8;
  9914                        	.line	1233
  9915 06:2250: 18           	clc
  9916 06:2251: A9 08 00     	lda	#$8
  9917 06:2254: 65 09        	adc	<L477+col_1
  9918 06:2256: 85 09        	sta	<L477+col_1
  9919                        ;		}
  9920                        	.line	1234
  9921 06:2258: 82 4E FF     	brl	L10082
  9922                        L10083:
  9923                        ;	}
  9924                        	.line	1235
  9925                        L10081:
  9926                        ;
  9927                        ;
  9928                        ;	return col;
  9929                        	.line	1238
  9930 06:225B: A5 09        	lda	<L477+col_1
  9931 06:225D: 82 AB FE     	brl	L481
  9932                        ;}
  9933                        	.line	1239
  9934                        	.endblock	1239
  9935             00000026   L476	equ	38
  9936             00000009   L477	equ	9
  9937 06:2260:              	ends
  9938                        	efunc
  9939                        	.endfunc	1239,9,38
  9940                        	.line	1239
  9941                        	data
  9942                        L83:
  9943 00:07D6: 6B 5F 64 72  	db	$6B,$5F,$64,$72,$61,$77,$5F,$74,$65,$78,
                    $74,$5F,$70,$6F,$69
       00:07DA: 61 77 5F 74 
       00:07DE: 65 78 74 5F 
  Mon Aug  9 2021 16:52                                                Page 186


       00:07E2: 70 6F 69 
  9944 00:07E5: 6E 74 5F 77  	db	$6E,$74,$5F,$77,$69,$74,$68,$5F,$66,$6F,
                    $6E,$74,$3A,$66,$6F
       00:07E9: 69 74 68 5F 
       00:07ED: 66 6F 6E 74 
       00:07F1: 3A 66 6F 
  9945 00:07F4: 6E 74 20 79  	db	$6E,$74,$20,$79,$6D,$61,$78,$3A,$00,$6B,
                    $5F,$64,$72,$61,$77
       00:07F8: 6D 61 78 3A 
       00:07FC: 00 6B 5F 64 
       00:0800: 72 61 77 
  9946 00:0803: 5F 74 65 78  	db	$5F,$74,$65,$78,$74,$5F,$70,$6F,$69,$6E,
                    $74,$5F,$77,$69,$74
       00:0807: 74 5F 70 6F 
       00:080B: 69 6E 74 5F 
       00:080F: 77 69 74 
  9947 00:0812: 68 5F 66 6F  	db	$68,$5F,$66,$6F,$6E,$74,$3A,$66,$6F,$6E,
                    $74,$20,$64,$79,$40
       00:0816: 6E 74 3A 66 
       00:081A: 6F 6E 74 20 
       00:081E: 64 79 40 
  9948 00:0821: 6D 61 78 3A  	db	$6D,$61,$78,$3A,$00
       00:0825: 00 
  9949 00:0826:              	ends
  9950                        ;
  9951                        ;
  9952                        ;
  9953                        ;int k_draw_text_point_with_font_ex(LPCSTR text,LP
                    CSTR charSet,int x,int y,char color,UINT page)
  9954                        ;{
  9955                        	.line	1243
  9956                        	.line	1244
  9957                        	GFX
  9958                        	xdef	~~k_draw_text_point_with_font_ex
  9959                        	func
  9960                        	.function	1244
  9961                        ~~k_draw_text_point_with_font_ex:
  9962                        	longa	on
  9963                        	longi	on
  9964 06:2260: 3B           	tsc
  9965 06:2261: 38           	sec
  9966 06:2262: E9 12 00     	sbc	#L498
  9967 06:2265: 1B           	tcs
  9968 06:2266: 0B           	phd
  9969 06:2267: 5B           	tcd
  9970             00000004   text_0	set	4
  9971             00000008   charSet_0	set	8
  9972             0000000C   x_0	set	12
  9973             0000000E   y_0	set	14
  9974             00000010   color_0	set	16
  9975             00000012   page_0	set	18
  9976                        	.block	1244
  9977                        ;	int col = 0;
  9978                        ;	int width = 0;
  9979                        ;	int height = 0;
  9980                        ;
  9981                        ;	LPCHAR ptr = NULL;
  9982                        ;
  Mon Aug  9 2021 16:52                                                Page 187


  9983                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  9984                        ;
  9985                        ;	width  = (INT)(((INT)charSet[0]) & 0x00FF);
  9986             00000000   col_1	set	0
  9987             00000002   width_1	set	2
  9988             00000004   height_1	set	4
  9989             00000006   ptr_1	set	6
  9990                        	.sym	col,0,5,1,16
  9991                        	.sym	width,2,5,1,16
  9992                        	.sym	height,4,5,1,16
  9993                        	.sym	ptr,6,142,1,32
  9994                        	.sym	text,4,142,6,32
  9995                        	.sym	charSet,8,142,6,32
  9996                        	.sym	x,12,5,6,16
  9997                        	.sym	y,14,5,6,16
  9998                        	.sym	color,16,14,6,8
  9999                        	.sym	page,18,16,6,16
 10000 06:2268: 64 09        	stz	<L499+col_1
 10001 06:226A: 64 0B        	stz	<L499+width_1
 10002 06:226C: 64 0D        	stz	<L499+height_1
 10003 06:226E: 64 0F        	stz	<L499+ptr_1
 10004 06:2270: 64 11        	stz	<L499+ptr_1+2
 10005                        	.line	1253
 10006 06:2272: A7 1A        	lda	[<L498+charSet_0]
 10007 06:2274: 29 FF 00     	and	#<$ff
 10008 06:2277: 85 0B        	sta	<L499+width_1
 10009                        ;	height = (INT)(((INT)charSet[1]) & 0x00FF);
 10010                        	.line	1254
 10011 06:2279: A0 01 00     	ldy	#$1
 10012 06:227C: B7 1A        	lda	[<L498+charSet_0],Y
 10013 06:227E: 29 FF 00     	and	#<$ff
 10014 06:2281: 85 0D        	sta	<L499+height_1
 10015                        ;
 10016                        ;
 10017                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont x:",x);
 10018                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont y:",y);
 10019                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
 10020                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
 10021                        ;
 10022                        ;
 10023                        ;	ptr = (LPCHAR)(text);
 10024                        	.line	1263
 10025 06:2283: A5 16        	lda	<L498+text_0
 10026 06:2285: 85 0F        	sta	<L499+ptr_1
 10027 06:2287: A5 18        	lda	<L498+text_0+2
 10028 06:2289: 85 11        	sta	<L499+ptr_1+2
 10029                        ;	while(*ptr)
 10030                        	.line	1264
 10031                        L10090:
 10032 06:228B: A7 0F        	lda	[<L499+ptr_1]
 10033 06:228D: 29 FF 00     	and	#$ff
 10034 06:2290: D0 03        	bne	L501
 10035 06:2292: 82 40 00     	brl	L10091
  Mon Aug  9 2021 16:52                                                Page 188


 10036                        L501:
 10037                        ;	{
 10038                        	.line	1265
 10039                        ;		//x+=k_put_font_point(*ptr,x,y,color);
 10040                        ;
 10041                        ;		x+=k_put_binary_variablefont_point_ex( (
                    LPCHAR)&charSet[2] , *ptr,x,y,width,height,color,page);
 10042                        	.line	1268
 10043 06:2295: D4 24        	pei	<L498+page_0
 10044 06:2297: D4 22        	pei	<L498+color_0
 10045 06:2299: D4 0D        	pei	<L499+height_1
 10046 06:229B: D4 0B        	pei	<L499+width_1
 10047 06:229D: D4 20        	pei	<L498+y_0
 10048 06:229F: D4 1E        	pei	<L498+x_0
 10049 06:22A1: A7 0F        	lda	[<L499+ptr_1]
 10050 06:22A3: 48           	pha
 10051 06:22A4: 18           	clc
 10052 06:22A5: A9 02 00     	lda	#$2
 10053 06:22A8: 65 1A        	adc	<L498+charSet_0
 10054 06:22AA: 85 01        	sta	<R0
 10055 06:22AC: A9 00 00     	lda	#$0
 10056 06:22AF: 65 1C        	adc	<L498+charSet_0+2
 10057 06:22B1: 85 03        	sta	<R0+2
 10058 06:22B3: D4 03        	pei	<R0+2
 10059 06:22B5: D4 01        	pei	<R0
 10060 06:22B7: 22 AD 29 06  	jsl	~~k_put_binary_variablefont_point_ex
 10061 06:22BB: 85 05        	sta	<R1
 10062 06:22BD: 18           	clc
 10063 06:22BE: A5 05        	lda	<R1
 10064 06:22C0: 65 1E        	adc	<L498+x_0
 10065 06:22C2: 85 1E        	sta	<L498+x_0
 10066                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
 10067                        ;
 10068                        ;		ptr++;
 10069                        	.line	1271
 10070 06:22C4: E6 0F        	inc	<L499+ptr_1
 10071 06:22C6: D0 02        	bne	L502
 10072 06:22C8: E6 11        	inc	<L499+ptr_1+2
 10073                        L502:
 10074                        ;		col+=8;
 10075                        	.line	1272
 10076 06:22CA: 18           	clc
 10077 06:22CB: A9 08 00     	lda	#$8
 10078 06:22CE: 65 09        	adc	<L499+col_1
 10079 06:22D0: 85 09        	sta	<L499+col_1
 10080                        ;	}
 10081                        	.line	1273
 10082 06:22D2: 82 B6 FF     	brl	L10090
 10083                        L10091:
 10084                        ;
 10085                        ;	return col;
 10086                        	.line	1275
 10087 06:22D5: A5 09        	lda	<L499+col_1
 10088                        L503:
 10089 06:22D7: A8           	tay
 10090 06:22D8: A5 14        	lda	<L498+2
 10091 06:22DA: 85 24        	sta	<L498+2+16
  Mon Aug  9 2021 16:52                                                Page 189


 10092 06:22DC: A5 13        	lda	<L498+1
 10093 06:22DE: 85 23        	sta	<L498+1+16
 10094 06:22E0: 2B           	pld
 10095 06:22E1: 3B           	tsc
 10096 06:22E2: 18           	clc
 10097 06:22E3: 69 22 00     	adc	#L498+16
 10098 06:22E6: 1B           	tcs
 10099 06:22E7: 98           	tya
 10100 06:22E8: 6B           	rtl
 10101                        ;}
 10102                        	.line	1276
 10103                        	.endblock	1276
 10104             00000012   L498	equ	18
 10105             00000009   L499	equ	9
 10106 06:22E9:              	ends
 10107                        	efunc
 10108                        	.endfunc	1276,9,18
 10109                        	.line	1276
 10110                        ;
 10111                        ;int k_draw_text_point_with_font(LPCSTR text,LPCST
                    R charSet,int x,int y,char color)
 10112                        ;{
 10113                        	.line	1278
 10114                        	.line	1279
 10115                        	GFX
 10116                        	xdef	~~k_draw_text_point_with_font
 10117                        	func
 10118                        	.function	1279
 10119                        ~~k_draw_text_point_with_font:
 10120                        	longa	on
 10121                        	longi	on
 10122 06:22E9: 3B           	tsc
 10123 06:22EA: 38           	sec
 10124 06:22EB: E9 12 00     	sbc	#L504
 10125 06:22EE: 1B           	tcs
 10126 06:22EF: 0B           	phd
 10127 06:22F0: 5B           	tcd
 10128             00000004   text_0	set	4
 10129             00000008   charSet_0	set	8
 10130             0000000C   x_0	set	12
 10131             0000000E   y_0	set	14
 10132             00000010   color_0	set	16
 10133                        	.block	1279
 10134                        ;	int col = 0;
 10135                        ;	int width = 0;
 10136                        ;	int height = 0;
 10137                        ;
 10138                        ;	LPCHAR ptr = NULL;
 10139                        ;
 10140                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
 10141                        ;
 10142                        ;	width  = charSet[0];
 10143             00000000   col_1	set	0
 10144             00000002   width_1	set	2
 10145             00000004   height_1	set	4
 10146             00000006   ptr_1	set	6
 10147                        	.sym	col,0,5,1,16
  Mon Aug  9 2021 16:52                                                Page 190


 10148                        	.sym	width,2,5,1,16
 10149                        	.sym	height,4,5,1,16
 10150                        	.sym	ptr,6,142,1,32
 10151                        	.sym	text,4,142,6,32
 10152                        	.sym	charSet,8,142,6,32
 10153                        	.sym	x,12,5,6,16
 10154                        	.sym	y,14,5,6,16
 10155                        	.sym	color,16,14,6,8
 10156 06:22F1: 64 09        	stz	<L505+col_1
 10157 06:22F3: 64 0B        	stz	<L505+width_1
 10158 06:22F5: 64 0D        	stz	<L505+height_1
 10159 06:22F7: 64 0F        	stz	<L505+ptr_1
 10160 06:22F9: 64 11        	stz	<L505+ptr_1+2
 10161                        	.line	1288
 10162 06:22FB: A7 1A        	lda	[<L504+charSet_0]
 10163 06:22FD: 29 FF 00     	and	#$ff
 10164 06:2300: 85 0B        	sta	<L505+width_1
 10165                        ;	height = charSet[1];
 10166                        	.line	1289
 10167 06:2302: A0 01 00     	ldy	#$1
 10168 06:2305: B7 1A        	lda	[<L504+charSet_0],Y
 10169 06:2307: 29 FF 00     	and	#$ff
 10170 06:230A: 85 0D        	sta	<L505+height_1
 10171                        ;
 10172                        ;
 10173                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
 10174                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
 10175                        ;
 10176                        ;
 10177                        ;	ptr = (LPCHAR)(text);
 10178                        	.line	1296
 10179 06:230C: A5 16        	lda	<L504+text_0
 10180 06:230E: 85 0F        	sta	<L505+ptr_1
 10181 06:2310: A5 18        	lda	<L504+text_0+2
 10182 06:2312: 85 11        	sta	<L505+ptr_1+2
 10183                        ;	while(*ptr)
 10184                        	.line	1297
 10185                        L10092:
 10186 06:2314: A7 0F        	lda	[<L505+ptr_1]
 10187 06:2316: 29 FF 00     	and	#$ff
 10188 06:2319: D0 03        	bne	L507
 10189 06:231B: 82 3E 00     	brl	L10093
 10190                        L507:
 10191                        ;	{
 10192                        	.line	1298
 10193                        ;		//x+=k_put_font_point(*ptr,x,y,color);
 10194                        ;
 10195                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&charSet[2] , *ptr,x,y,width,height,color);
 10196                        	.line	1301
 10197 06:231E: D4 22        	pei	<L504+color_0
 10198 06:2320: D4 0D        	pei	<L505+height_1
 10199 06:2322: D4 0B        	pei	<L505+width_1
 10200 06:2324: D4 20        	pei	<L504+y_0
 10201 06:2326: D4 1E        	pei	<L504+x_0
 10202 06:2328: A7 0F        	lda	[<L505+ptr_1]
  Mon Aug  9 2021 16:52                                                Page 191


 10203 06:232A: 48           	pha
 10204 06:232B: 18           	clc
 10205 06:232C: A9 02 00     	lda	#$2
 10206 06:232F: 65 1A        	adc	<L504+charSet_0
 10207 06:2331: 85 01        	sta	<R0
 10208 06:2333: A9 00 00     	lda	#$0
 10209 06:2336: 65 1C        	adc	<L504+charSet_0+2
 10210 06:2338: 85 03        	sta	<R0+2
 10211 06:233A: D4 03        	pei	<R0+2
 10212 06:233C: D4 01        	pei	<R0
 10213 06:233E: 22 B3 28 06  	jsl	~~k_put_binary_variablefont_point
 10214 06:2342: 85 05        	sta	<R1
 10215 06:2344: 18           	clc
 10216 06:2345: A5 05        	lda	<R1
 10217 06:2347: 65 1E        	adc	<L504+x_0
 10218 06:2349: 85 1E        	sta	<L504+x_0
 10219                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
 10220                        ;
 10221                        ;		ptr++;
 10222                        	.line	1304
 10223 06:234B: E6 0F        	inc	<L505+ptr_1
 10224 06:234D: D0 02        	bne	L508
 10225 06:234F: E6 11        	inc	<L505+ptr_1+2
 10226                        L508:
 10227                        ;		col+=8;
 10228                        	.line	1305
 10229 06:2351: 18           	clc
 10230 06:2352: A9 08 00     	lda	#$8
 10231 06:2355: 65 09        	adc	<L505+col_1
 10232 06:2357: 85 09        	sta	<L505+col_1
 10233                        ;	}
 10234                        	.line	1306
 10235 06:2359: 82 B8 FF     	brl	L10092
 10236                        L10093:
 10237                        ;
 10238                        ;	return col;
 10239                        	.line	1308
 10240 06:235C: A5 09        	lda	<L505+col_1
 10241                        L509:
 10242 06:235E: A8           	tay
 10243 06:235F: A5 14        	lda	<L504+2
 10244 06:2361: 85 22        	sta	<L504+2+14
 10245 06:2363: A5 13        	lda	<L504+1
 10246 06:2365: 85 21        	sta	<L504+1+14
 10247 06:2367: 2B           	pld
 10248 06:2368: 3B           	tsc
 10249 06:2369: 18           	clc
 10250 06:236A: 69 20 00     	adc	#L504+14
 10251 06:236D: 1B           	tcs
 10252 06:236E: 98           	tya
 10253 06:236F: 6B           	rtl
 10254                        ;}
 10255                        	.line	1309
 10256                        	.endblock	1309
 10257             00000012   L504	equ	18
 10258             00000009   L505	equ	9
 10259 06:2370:              	ends
  Mon Aug  9 2021 16:52                                                Page 192


 10260                        	efunc
 10261                        	.endfunc	1309,9,18
 10262                        	.line	1309
 10263                        ;
 10264                        ;
 10265                        ;int k_draw_text_scaled(char FAR *text,int row,int
                     col,char color,int scale)
 10266                        ;{
 10267                        	.line	1312
 10268                        	.line	1313
 10269                        	GFX
 10270                        	xdef	~~k_draw_text_scaled
 10271                        	func
 10272                        	.function	1313
 10273                        ~~k_draw_text_scaled:
 10274                        	longa	on
 10275                        	longi	on
 10276 06:2370: 3B           	tsc
 10277 06:2371: 38           	sec
 10278 06:2372: E9 04 00     	sbc	#L510
 10279 06:2375: 1B           	tcs
 10280 06:2376: 0B           	phd
 10281 06:2377: 5B           	tcd
 10282             00000004   text_0	set	4
 10283             00000008   row_0	set	8
 10284             0000000A   col_0	set	10
 10285             0000000C   color_0	set	12
 10286             0000000E   scale_0	set	14
 10287                        	.block	1313
 10288                        ;	char FAR * ptr = (text);
 10289                        ;	while(*ptr)
 10290             00000000   ptr_1	set	0
 10291                        	.sym	ptr,0,142,1,32
 10292                        	.sym	text,4,142,6,32
 10293                        	.sym	row,8,5,6,16
 10294                        	.sym	col,10,5,6,16
 10295                        	.sym	color,12,14,6,8
 10296                        	.sym	scale,14,5,6,16
 10297 06:2378: A5 08        	lda	<L510+text_0
 10298 06:237A: 85 01        	sta	<L511+ptr_1
 10299 06:237C: A5 0A        	lda	<L510+text_0+2
 10300 06:237E: 85 03        	sta	<L511+ptr_1+2
 10301                        	.line	1315
 10302                        L10094:
 10303 06:2380: A7 01        	lda	[<L511+ptr_1]
 10304 06:2382: 29 FF 00     	and	#$ff
 10305 06:2385: D0 03        	bne	L513
 10306 06:2387: 82 1A 00     	brl	L10095
 10307                        L513:
 10308                        ;	{
 10309                        	.line	1316
 10310                        ;		k_put_font_scaled(*ptr,col,row,color,sca
                    le);
 10311                        	.line	1317
 10312 06:238A: D4 12        	pei	<L510+scale_0
 10313 06:238C: D4 10        	pei	<L510+color_0
 10314 06:238E: D4 0C        	pei	<L510+row_0
 10315 06:2390: D4 0E        	pei	<L510+col_0
  Mon Aug  9 2021 16:52                                                Page 193


 10316 06:2392: A7 01        	lda	[<L511+ptr_1]
 10317 06:2394: 48           	pha
 10318 06:2395: 22 E3 32 06  	jsl	~~k_put_font_scaled
 10319                        ;		col++;
 10320                        	.line	1318
 10321 06:2399: E6 0E        	inc	<L510+col_0
 10322                        ;		ptr++;
 10323                        	.line	1319
 10324 06:239B: E6 01        	inc	<L511+ptr_1
 10325 06:239D: D0 02        	bne	L514
 10326 06:239F: E6 03        	inc	<L511+ptr_1+2
 10327                        L514:
 10328                        ;	}
 10329                        	.line	1320
 10330 06:23A1: 82 DC FF     	brl	L10094
 10331                        L10095:
 10332                        ;	
 10333                        ;	return col;
 10334                        	.line	1322
 10335 06:23A4: A5 0E        	lda	<L510+col_0
 10336                        L515:
 10337 06:23A6: A8           	tay
 10338 06:23A7: A5 06        	lda	<L510+2
 10339 06:23A9: 85 12        	sta	<L510+2+12
 10340 06:23AB: A5 05        	lda	<L510+1
 10341 06:23AD: 85 11        	sta	<L510+1+12
 10342 06:23AF: 2B           	pld
 10343 06:23B0: 3B           	tsc
 10344 06:23B1: 18           	clc
 10345 06:23B2: 69 10 00     	adc	#L510+12
 10346 06:23B5: 1B           	tcs
 10347 06:23B6: 98           	tya
 10348 06:23B7: 6B           	rtl
 10349                        ;}
 10350                        	.line	1323
 10351                        	.endblock	1323
 10352             00000004   L510	equ	4
 10353             00000001   L511	equ	1
 10354 06:23B8:              	ends
 10355                        	efunc
 10356                        	.endfunc	1323,1,4
 10357                        	.line	1323
 10358                        ;
 10359                        ;int k_get_font_metrics(FONTMETRIC FAR *metric)
 10360                        ;{
 10361                        	.line	1325
 10362                        	.line	1326
 10363                        	GFX
 10364                        	xdef	~~k_get_font_metrics
 10365                        	func
 10366                        	.function	1326
 10367                        ~~k_get_font_metrics:
 10368                        	longa	on
 10369                        	longi	on
 10370 06:23B8: 3B           	tsc
 10371 06:23B9: 38           	sec
 10372 06:23BA: E9 00 00     	sbc	#L516
 10373 06:23BD: 1B           	tcs
  Mon Aug  9 2021 16:52                                                Page 194


 10374 06:23BE: 0B           	phd
 10375 06:23BF: 5B           	tcd
 10376             00000004   metric_0	set	4
 10377                        	.block	1326
 10378                        ;	metric->width  = FONTW;
 10379                        	.sym	metric,4,138,6,32,35
 10380                        	.line	1327
 10381 06:23C0: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 10382 06:23C4: 87 04        	sta	[<L516+metric_0]
 10383                        ;	metric->height = FONTH;
 10384                        	.line	1328
 10385 06:23C6: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 10386 06:23CA: A0 02 00     	ldy	#$2
 10387 06:23CD: 97 04        	sta	[<L516+metric_0],Y
 10388                        ;	
 10389                        ;	return sizeof(FONTMETRIC);
 10390                        	.line	1330
 10391 06:23CF: A9 04 00     	lda	#$4
 10392                        L519:
 10393 06:23D2: A8           	tay
 10394 06:23D3: A5 02        	lda	<L516+2
 10395 06:23D5: 85 06        	sta	<L516+2+4
 10396 06:23D7: A5 01        	lda	<L516+1
 10397 06:23D9: 85 05        	sta	<L516+1+4
 10398 06:23DB: 2B           	pld
 10399 06:23DC: 3B           	tsc
 10400 06:23DD: 18           	clc
 10401 06:23DE: 69 04 00     	adc	#L516+4
 10402 06:23E1: 1B           	tcs
 10403 06:23E2: 98           	tya
 10404 06:23E3: 6B           	rtl
 10405                        ;}
 10406                        	.line	1331
 10407                        	.endblock	1331
 10408             00000000   L516	equ	0
 10409             00000001   L517	equ	1
 10410 06:23E4:              	ends
 10411                        	efunc
 10412                        	.endfunc	1331,1,0
 10413                        	.line	1331
 10414                        ;
 10415                        ;int k_put_font_point(char outChar,int cx,int cy,c
                    har color)
 10416                        ;{
 10417                        	.line	1333
 10418                        	.line	1334
 10419                        	GFX
 10420                        	xdef	~~k_put_font_point
 10421                        	func
 10422                        	.function	1334
 10423                        ~~k_put_font_point:
 10424                        	longa	on
 10425                        	longi	on
 10426 06:23E4: 3B           	tsc
 10427 06:23E5: 38           	sec
 10428 06:23E6: E9 1D 00     	sbc	#L520
 10429 06:23E9: 1B           	tcs
 10430 06:23EA: 0B           	phd
  Mon Aug  9 2021 16:52                                                Page 195


 10431 06:23EB: 5B           	tcd
 10432             00000004   outChar_0	set	4
 10433             00000006   cx_0	set	6
 10434             00000008   cy_0	set	8
 10435             0000000A   color_0	set	10
 10436                        	.block	1334
 10437                        ;	int x = 0;
 10438                        ;	int y = 0;
 10439                        ;	int textX = cx;
 10440                        ;	int textY = cy;
 10441                        ;
 10442                        ;	char FAR* img = NULL;//fontImg[ix];
 10443                        ;
 10444                        ;	outChar = toupper(outChar); // fix this so we ca
                    n to lower case
 10445             00000000   x_1	set	0
 10446             00000002   y_1	set	2
 10447             00000004   textX_1	set	4
 10448             00000006   textY_1	set	6
 10449             00000008   img_1	set	8
 10450                        	.sym	x,0,5,1,16
 10451                        	.sym	y,2,5,1,16
 10452                        	.sym	textX,4,5,1,16
 10453                        	.sym	textY,6,5,1,16
 10454                        	.sym	img,8,142,1,32
 10455                        	.sym	outChar,4,14,6,8
 10456                        	.sym	cx,6,5,6,16
 10457                        	.sym	cy,8,5,6,16
 10458                        	.sym	color,10,14,6,8
 10459 06:23EC: 64 11        	stz	<L521+x_1
 10460 06:23EE: 64 13        	stz	<L521+y_1
 10461 06:23F0: A5 23        	lda	<L520+cx_0
 10462 06:23F2: 85 15        	sta	<L521+textX_1
 10463 06:23F4: A5 25        	lda	<L520+cy_0
 10464 06:23F6: 85 17        	sta	<L521+textY_1
 10465 06:23F8: 64 19        	stz	<L521+img_1
 10466 06:23FA: 64 1B        	stz	<L521+img_1+2
 10467                        	.line	1342
 10468 06:23FC: A5 21        	lda	<L520+outChar_0
 10469 06:23FE: 29 FF 00     	and	#$ff
 10470 06:2401: 48           	pha
 10471 06:2402: 22 xx xx xx  	jsl	~~toupper
 10472 06:2406: E2 20        	sep	#$20
 10473                        	longa	off
 10474 06:2408: 85 21        	sta	<L520+outChar_0
 10475 06:240A: C2 20        	rep	#$20
 10476                        	longa	on
 10477                        ;
 10478                        ;    if(outChar == 32)
 10479                        	.line	1344
 10480                        ;	{
 10481 06:240C: E2 20        	sep	#$20
 10482                        	longa	off
 10483 06:240E: A5 21        	lda	<L520+outChar_0
 10484 06:2410: C9 20        	cmp	#<$20
 10485 06:2412: C2 20        	rep	#$20
 10486                        	longa	on
 10487 06:2414: F0 03        	beq	L523
  Mon Aug  9 2021 16:52                                                Page 196


 10488 06:2416: 82 07 00     	brl	L10096
 10489                        L523:
 10490                        	.line	1345
 10491                        ;	   img = NULL;//fontSpace;
 10492                        	.line	1346
 10493 06:2419: 64 19        	stz	<L521+img_1
 10494 06:241B: 64 1B        	stz	<L521+img_1+2
 10495                        ;    }
 10496                        	.line	1347
 10497                        ;    else
 10498 06:241D: 82 5B 00     	brl	L10097
 10499                        L10096:
 10500                        ;	{
 10501                        	.line	1349
 10502                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 10503                        	.line	1350
 10504 06:2420: A5 21        	lda	<L520+outChar_0
 10505 06:2422: 29 FF 00     	and	#<$ff
 10506 06:2425: 85 09        	sta	<R2
 10507 06:2427: A0 00 00     	ldy	#$0
 10508 06:242A: A5 09        	lda	<R2
 10509 06:242C: 10 01        	bpl	L524
 10510 06:242E: 88           	dey
 10511                        L524:
 10512 06:242F: 85 09        	sta	<R2
 10513 06:2431: 84 0B        	sty	<R2+2
 10514 06:2433: D4 0B        	pei	<R2+2
 10515 06:2435: D4 09        	pei	<R2
 10516 06:2437: A9 01 00     	lda	#$1
 10517                        	xref	~~~lasl
 10518 06:243A: 22 xx xx xx  	jsl	~~~lasl
 10519 06:243E: 85 05        	sta	<R1
 10520 06:2440: 86 07        	stx	<R1+2
 10521 06:2442: 18           	clc
 10522 06:2443: A9 xx xx     	lda	#<~~characterROMMapping
 10523 06:2446: 65 05        	adc	<R1
 10524 06:2448: 85 0D        	sta	<R3
 10525 06:244A: A9 xx xx     	lda	#^~~characterROMMapping
 10526 06:244D: 65 07        	adc	<R1+2
 10527 06:244F: 85 0F        	sta	<R3+2
 10528 06:2451: A0 00 00     	ldy	#$0
 10529 06:2454: A7 0D        	lda	[<R3]
 10530 06:2456: 10 01        	bpl	L525
 10531 06:2458: 88           	dey
 10532                        L525:
 10533 06:2459: 85 05        	sta	<R1
 10534 06:245B: 84 07        	sty	<R1+2
 10535 06:245D: D4 07        	pei	<R1+2
 10536 06:245F: D4 05        	pei	<R1
 10537 06:2461: A9 06 00     	lda	#$6
 10538                        	xref	~~~lasl
 10539 06:2464: 22 xx xx xx  	jsl	~~~lasl
 10540 06:2468: 85 01        	sta	<R0
 10541 06:246A: 86 03        	stx	<R0+2
 10542 06:246C: 18           	clc
 10543 06:246D: A9 xx xx     	lda	#<~~fontImg
 10544 06:2470: 65 01        	adc	<R0
  Mon Aug  9 2021 16:52                                                Page 197


 10545 06:2472: 85 19        	sta	<L521+img_1
 10546 06:2474: A9 xx xx     	lda	#^~~fontImg
 10547 06:2477: 65 03        	adc	<R0+2
 10548 06:2479: 85 1B        	sta	<L521+img_1+2
 10549                        ;	}
 10550                        	.line	1351
 10551                        L10097:
 10552                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 10553                        ;
 10554                        ;	// get the font 'image'
 10555                        ;        //char *img = fontImg[ix]; 
 10556                        ;        // loop through pixel rows
 10557                        ;	if(img!=NULL)
 10558                        	.line	1357
 10559                        ;	{
 10560 06:247B: A5 19        	lda	<L521+img_1
 10561 06:247D: 05 1B        	ora	<L521+img_1+2
 10562 06:247F: D0 03        	bne	L526
 10563 06:2481: 82 91 00     	brl	L10098
 10564                        L526:
 10565                        	.line	1358
 10566                        ;		for (y = 0; y < FONTH; y++) 
 10567                        	.line	1359
 10568 06:2484: 64 13        	stz	<L521+y_1
 10569 06:2486: 82 7D 00     	brl	L10102
 10570                        L10101:
 10571                        ;		{
 10572                        	.line	1360
 10573                        ;			// loop through pixel columns
 10574                        ;			for (x = 0; x < FONTW; x++) 
 10575                        	.line	1362
 10576 06:2489: 64 11        	stz	<L521+x_1
 10577 06:248B: 82 67 00     	brl	L10106
 10578                        L10105:
 10579                        ;			{
 10580                        	.line	1363
 10581                        ;				// get the pixel value
 10582                        ;				char b = img[y * FONTW +
                     x];
 10583                        ;				if (b > 0) 
 10584                        	.block	1366
 10585             0000000C   b_2	set	12
 10586                        	.sym	b,12,14,1,8
 10587 06:248E: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 10588 06:2492: 85 01        	sta	<R0
 10589 06:2494: A5 01        	lda	<R0
 10590 06:2496: A6 13        	ldx	<L521+y_1
 10591                        	xref	~~~mul
 10592 06:2498: 22 xx xx xx  	jsl	~~~mul
 10593 06:249C: 85 01        	sta	<R0
 10594 06:249E: 18           	clc
 10595 06:249F: A5 01        	lda	<R0
 10596 06:24A1: 65 11        	adc	<L521+x_1
 10597 06:24A3: 85 05        	sta	<R1
 10598 06:24A5: E2 20        	sep	#$20
 10599                        	longa	off
 10600 06:24A7: A4 05        	ldy	<R1
  Mon Aug  9 2021 16:52                                                Page 198


 10601 06:24A9: B7 19        	lda	[<L521+img_1],Y
 10602 06:24AB: 85 1D        	sta	<L521+b_2
 10603 06:24AD: C2 20        	rep	#$20
 10604                        	longa	on
 10605                        	.line	1366
 10606                        ;				{ // plot the pixel
 10607 06:24AF: E2 20        	sep	#$20
 10608                        	longa	off
 10609 06:24B1: A9 00        	lda	#$0
 10610 06:24B3: C5 1D        	cmp	<L521+b_2
 10611 06:24B5: C2 20        	rep	#$20
 10612                        	longa	on
 10613 06:24B7: 90 03        	bcc	L528
 10614 06:24B9: 82 37 00     	brl	L10107
 10615                        L528:
 10616                        	.line	1367
 10617                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 10618                        	.line	1368
 10619 06:24BC: D4 27        	pei	<L520+color_0
 10620 06:24BE: 18           	clc
 10621 06:24BF: A5 17        	lda	<L521+textY_1
 10622 06:24C1: 65 13        	adc	<L521+y_1
 10623 06:24C3: 85 01        	sta	<R0
 10624 06:24C5: A0 00 00     	ldy	#$0
 10625 06:24C8: A5 01        	lda	<R0
 10626 06:24CA: 10 01        	bpl	L529
 10627 06:24CC: 88           	dey
 10628                        L529:
 10629 06:24CD: 85 01        	sta	<R0
 10630 06:24CF: 84 03        	sty	<R0+2
 10631 06:24D1: D4 03        	pei	<R0+2
 10632 06:24D3: D4 01        	pei	<R0
 10633 06:24D5: 18           	clc
 10634 06:24D6: A5 15        	lda	<L521+textX_1
 10635 06:24D8: 65 11        	adc	<L521+x_1
 10636 06:24DA: 85 05        	sta	<R1
 10637 06:24DC: A0 00 00     	ldy	#$0
 10638 06:24DF: A5 05        	lda	<R1
 10639 06:24E1: 10 01        	bpl	L530
 10640 06:24E3: 88           	dey
 10641                        L530:
 10642 06:24E4: 85 05        	sta	<R1
 10643 06:24E6: 84 07        	sty	<R1+2
 10644 06:24E8: D4 07        	pei	<R1+2
 10645 06:24EA: D4 05        	pei	<R1
 10646 06:24EC: 22 3B 13 06  	jsl	~~k_draw_pixel
 10647                        ;				}
 10648                        	.line	1369
 10649                        ;				else 
 10650 06:24F0: 82 00 00     	brl	L10108
 10651                        L10107:
 10652                        ;				{ 
 10653                        	.line	1371
 10654                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 10655                        ;				}
 10656                        	.line	1373
  Mon Aug  9 2021 16:52                                                Page 199


 10657                        L10108:
 10658                        ;			} // end "for x"
 10659                        	.endblock	1374
 10660                        	.line	1374
 10661                        L10103:
 10662 06:24F3: E6 11        	inc	<L521+x_1
 10663                        L10106:
 10664 06:24F5: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 10665 06:24F9: 85 01        	sta	<R0
 10666 06:24FB: A5 11        	lda	<L521+x_1
 10667 06:24FD: C5 01        	cmp	<R0
 10668 06:24FF: B0 03        	bcs	L531
 10669 06:2501: 82 8A FF     	brl	L10105
 10670                        L531:
 10671                        L10104:
 10672                        ;		} // end "for y"
 10673                        	.line	1375
 10674                        L10099:
 10675 06:2504: E6 13        	inc	<L521+y_1
 10676                        L10102:
 10677 06:2506: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 10678 06:250A: 85 01        	sta	<R0
 10679 06:250C: A5 13        	lda	<L521+y_1
 10680 06:250E: C5 01        	cmp	<R0
 10681 06:2510: B0 03        	bcs	L532
 10682 06:2512: 82 74 FF     	brl	L10101
 10683                        L532:
 10684                        L10100:
 10685                        ;	}
 10686                        	.line	1376
 10687                        ;	return FONTW;
 10688                        L10098:
 10689                        	.line	1377
 10690 06:2515: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 10691                        L533:
 10692 06:2519: A8           	tay
 10693 06:251A: A5 1F        	lda	<L520+2
 10694 06:251C: 85 27        	sta	<L520+2+8
 10695 06:251E: A5 1E        	lda	<L520+1
 10696 06:2520: 85 26        	sta	<L520+1+8
 10697 06:2522: 2B           	pld
 10698 06:2523: 3B           	tsc
 10699 06:2524: 18           	clc
 10700 06:2525: 69 25 00     	adc	#L520+8
 10701 06:2528: 1B           	tcs
 10702 06:2529: 98           	tya
 10703 06:252A: 6B           	rtl
 10704                        ;}
 10705                        	.line	1378
 10706                        	.endblock	1378
 10707             0000001D   L520	equ	29
 10708             00000011   L521	equ	17
 10709 06:252B:              	ends
 10710                        	efunc
 10711                        	.endfunc	1378,17,29
 10712                        	.line	1378
 10713                        ;
 10714                        ;int k_put_binary_font_point(LPCHAR fontSet, char 
  Mon Aug  9 2021 16:52                                                Page 200


                    outChar,int cx,int cy,char color)
 10715                        ;{
 10716                        	.line	1380
 10717                        	.line	1381
 10718                        	GFX
 10719                        	xdef	~~k_put_binary_font_point
 10720                        	func
 10721                        	.function	1381
 10722                        ~~k_put_binary_font_point:
 10723                        	longa	on
 10724                        	longi	on
 10725 06:252B: 3B           	tsc
 10726 06:252C: 38           	sec
 10727 06:252D: E9 18 00     	sbc	#L534
 10728 06:2530: 1B           	tcs
 10729 06:2531: 0B           	phd
 10730 06:2532: 5B           	tcd
 10731             00000004   fontSet_0	set	4
 10732             00000008   outChar_0	set	8
 10733             0000000A   cx_0	set	10
 10734             0000000C   cy_0	set	12
 10735             0000000E   color_0	set	14
 10736                        	.block	1381
 10737                        ;	int x = 0;
 10738                        ;	int y = 0;
 10739                        ;	int textX = cx;
 10740                        ;	int textY = cy;
 10741                        ;
 10742                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 10743                        ;
 10744                        ;    if(outChar == 32)
 10745             00000000   x_1	set	0
 10746             00000002   y_1	set	2
 10747             00000004   textX_1	set	4
 10748             00000006   textY_1	set	6
 10749             00000008   img_1	set	8
 10750                        	.sym	x,0,5,1,16
 10751                        	.sym	y,2,5,1,16
 10752                        	.sym	textX,4,5,1,16
 10753                        	.sym	textY,6,5,1,16
 10754                        	.sym	img,8,142,1,32
 10755                        	.sym	fontSet,4,142,6,32
 10756                        	.sym	outChar,8,14,6,8
 10757                        	.sym	cx,10,5,6,16
 10758                        	.sym	cy,12,5,6,16
 10759                        	.sym	color,14,14,6,8
 10760 06:2533: 64 09        	stz	<L535+x_1
 10761 06:2535: 64 0B        	stz	<L535+y_1
 10762 06:2537: A5 22        	lda	<L534+cx_0
 10763 06:2539: 85 0D        	sta	<L535+textX_1
 10764 06:253B: A5 24        	lda	<L534+cy_0
 10765 06:253D: 85 0F        	sta	<L535+textY_1
 10766 06:253F: 64 11        	stz	<L535+img_1
 10767 06:2541: 64 13        	stz	<L535+img_1+2
 10768                        	.line	1389
 10769                        ;	{
 10770 06:2543: E2 20        	sep	#$20
 10771                        	longa	off
  Mon Aug  9 2021 16:52                                                Page 201


 10772 06:2545: A5 20        	lda	<L534+outChar_0
 10773 06:2547: C9 20        	cmp	#<$20
 10774 06:2549: C2 20        	rep	#$20
 10775                        	longa	on
 10776 06:254B: F0 03        	beq	L537
 10777 06:254D: 82 07 00     	brl	L10109
 10778                        L537:
 10779                        	.line	1390
 10780                        ;	   img = NULL;//fontSpace;
 10781                        	.line	1391
 10782 06:2550: 64 11        	stz	<L535+img_1
 10783 06:2552: 64 13        	stz	<L535+img_1+2
 10784                        ;    }
 10785                        	.line	1392
 10786                        ;    else
 10787 06:2554: 82 2F 00     	brl	L10110
 10788                        L10109:
 10789                        ;	{
 10790                        	.line	1394
 10791                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 10792                        ;    	img = fontSet+=(8*outChar);
 10793                        	.line	1396
 10794 06:2557: A5 20        	lda	<L534+outChar_0
 10795 06:2559: 29 FF 00     	and	#$ff
 10796 06:255C: 85 05        	sta	<R1
 10797 06:255E: A5 05        	lda	<R1
 10798 06:2560: 0A           	asl	A
 10799 06:2561: 0A           	asl	A
 10800 06:2562: 0A           	asl	A
 10801 06:2563: 85 01        	sta	<R0
 10802 06:2565: A0 00 00     	ldy	#$0
 10803 06:2568: A5 01        	lda	<R0
 10804 06:256A: 10 01        	bpl	L538
 10805 06:256C: 88           	dey
 10806                        L538:
 10807 06:256D: 85 01        	sta	<R0
 10808 06:256F: 84 03        	sty	<R0+2
 10809 06:2571: 18           	clc
 10810 06:2572: A5 1C        	lda	<L534+fontSet_0
 10811 06:2574: 65 01        	adc	<R0
 10812 06:2576: 85 1C        	sta	<L534+fontSet_0
 10813 06:2578: A5 1E        	lda	<L534+fontSet_0+2
 10814 06:257A: 65 03        	adc	<R0+2
 10815 06:257C: 85 1E        	sta	<L534+fontSet_0+2
 10816 06:257E: A5 1C        	lda	<L534+fontSet_0
 10817 06:2580: 85 11        	sta	<L535+img_1
 10818 06:2582: A5 1E        	lda	<L534+fontSet_0+2
 10819 06:2584: 85 13        	sta	<L535+img_1+2
 10820                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 10821                        ;	}
 10822                        	.line	1398
 10823                        L10110:
 10824                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 10825                        ;
 10826                        ;	// get the font 'image'
  Mon Aug  9 2021 16:52                                                Page 202


 10827                        ;        //char *img = fontImg[ix];
 10828                        ;        // loop through pixel rows
 10829                        ;	if(img!=NULL)
 10830                        	.line	1404
 10831                        ;	{
 10832 06:2586: A5 11        	lda	<L535+img_1
 10833 06:2588: 05 13        	ora	<L535+img_1+2
 10834 06:258A: D0 03        	bne	L539
 10835 06:258C: 82 0E 03     	brl	L10111
 10836                        L539:
 10837                        	.line	1405
 10838                        ;		for (y = 0; y < FONTH; y++)
 10839                        	.line	1406
 10840 06:258F: 64 0B        	stz	<L535+y_1
 10841 06:2591: 82 FA 02     	brl	L10115
 10842                        L10114:
 10843                        ;		{
 10844                        	.line	1407
 10845                        ;			// get the pixel value
 10846                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 10847                        ;			if (b->b7 > 0)
 10848                        	.block	1410
 10849             0000000C   b_2	set	12
 10850                        	.sym	b,12,138,1,32,4
 10851 06:2594: A0 00 00     	ldy	#$0
 10852 06:2597: A5 0B        	lda	<L535+y_1
 10853 06:2599: 10 01        	bpl	L541
 10854 06:259B: 88           	dey
 10855                        L541:
 10856 06:259C: 85 01        	sta	<R0
 10857 06:259E: 84 03        	sty	<R0+2
 10858 06:25A0: 18           	clc
 10859 06:25A1: A5 11        	lda	<L535+img_1
 10860 06:25A3: 65 01        	adc	<R0
 10861 06:25A5: 85 15        	sta	<L535+b_2
 10862 06:25A7: A5 13        	lda	<L535+img_1+2
 10863 06:25A9: 65 03        	adc	<R0+2
 10864 06:25AB: 85 17        	sta	<L535+b_2+2
 10865                        	.line	1410
 10866                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 10867 06:25AD: E2 20        	sep	#$20
 10868                        	longa	off
 10869 06:25AF: A7 15        	lda	[<L535+b_2]
 10870 06:25B1: 85 01        	sta	<R0
 10871 06:25B3: C2 20        	rep	#$20
 10872                        	longa	on
 10873 06:25B5: E2 20        	sep	#$20
 10874                        	longa	off
 10875 06:25B7: A5 01        	lda	<R0
 10876 06:25B9: 29 01        	and	#<$1
 10877 06:25BB: 85 01        	sta	<R0
 10878 06:25BD: C2 20        	rep	#$20
 10879                        	longa	on
 10880 06:25BF: E2 20        	sep	#$20
 10881                        	longa	off
 10882 06:25C1: A9 00        	lda	#$0
  Mon Aug  9 2021 16:52                                                Page 203


 10883 06:25C3: C5 01        	cmp	<R0
 10884 06:25C5: C2 20        	rep	#$20
 10885                        	longa	on
 10886 06:25C7: 90 03        	bcc	L542
 10887 06:25C9: 82 35 00     	brl	L10116
 10888                        L542:
 10889                        	.line	1411
 10890 06:25CC: D4 26        	pei	<L534+color_0
 10891 06:25CE: 18           	clc
 10892 06:25CF: A5 0F        	lda	<L535+textY_1
 10893 06:25D1: 65 0B        	adc	<L535+y_1
 10894 06:25D3: 85 01        	sta	<R0
 10895 06:25D5: A0 00 00     	ldy	#$0
 10896 06:25D8: A5 01        	lda	<R0
 10897 06:25DA: 10 01        	bpl	L543
 10898 06:25DC: 88           	dey
 10899                        L543:
 10900 06:25DD: 85 01        	sta	<R0
 10901 06:25DF: 84 03        	sty	<R0+2
 10902 06:25E1: D4 03        	pei	<R0+2
 10903 06:25E3: D4 01        	pei	<R0
 10904 06:25E5: 18           	clc
 10905 06:25E6: A9 07 00     	lda	#$7
 10906 06:25E9: 65 0D        	adc	<L535+textX_1
 10907 06:25EB: 85 05        	sta	<R1
 10908 06:25ED: A0 00 00     	ldy	#$0
 10909 06:25F0: A5 05        	lda	<R1
 10910 06:25F2: 10 01        	bpl	L544
 10911 06:25F4: 88           	dey
 10912                        L544:
 10913 06:25F5: 85 05        	sta	<R1
 10914 06:25F7: 84 07        	sty	<R1+2
 10915 06:25F9: D4 07        	pei	<R1+2
 10916 06:25FB: D4 05        	pei	<R1
 10917 06:25FD: 22 3B 13 06  	jsl	~~k_draw_pixel
 10918                        ;			if (b->b6 > 0)
 10919                        L10116:
 10920                        	.line	1412
 10921                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 10922 06:2601: E2 20        	sep	#$20
 10923                        	longa	off
 10924 06:2603: A7 15        	lda	[<L535+b_2]
 10925 06:2605: 85 01        	sta	<R0
 10926 06:2607: C2 20        	rep	#$20
 10927                        	longa	on
 10928 06:2609: E2 20        	sep	#$20
 10929                        	longa	off
 10930 06:260B: 46 01        	lsr	<R0
 10931 06:260D: C2 20        	rep	#$20
 10932                        	longa	on
 10933 06:260F: E2 20        	sep	#$20
 10934                        	longa	off
 10935 06:2611: A5 01        	lda	<R0
 10936 06:2613: 29 01        	and	#<$1
 10937 06:2615: 85 01        	sta	<R0
 10938 06:2617: C2 20        	rep	#$20
 10939                        	longa	on
  Mon Aug  9 2021 16:52                                                Page 204


 10940 06:2619: E2 20        	sep	#$20
 10941                        	longa	off
 10942 06:261B: A9 00        	lda	#$0
 10943 06:261D: C5 01        	cmp	<R0
 10944 06:261F: C2 20        	rep	#$20
 10945                        	longa	on
 10946 06:2621: 90 03        	bcc	L545
 10947 06:2623: 82 35 00     	brl	L10117
 10948                        L545:
 10949                        	.line	1413
 10950 06:2626: D4 26        	pei	<L534+color_0
 10951 06:2628: 18           	clc
 10952 06:2629: A5 0F        	lda	<L535+textY_1
 10953 06:262B: 65 0B        	adc	<L535+y_1
 10954 06:262D: 85 01        	sta	<R0
 10955 06:262F: A0 00 00     	ldy	#$0
 10956 06:2632: A5 01        	lda	<R0
 10957 06:2634: 10 01        	bpl	L546
 10958 06:2636: 88           	dey
 10959                        L546:
 10960 06:2637: 85 01        	sta	<R0
 10961 06:2639: 84 03        	sty	<R0+2
 10962 06:263B: D4 03        	pei	<R0+2
 10963 06:263D: D4 01        	pei	<R0
 10964 06:263F: 18           	clc
 10965 06:2640: A9 06 00     	lda	#$6
 10966 06:2643: 65 0D        	adc	<L535+textX_1
 10967 06:2645: 85 05        	sta	<R1
 10968 06:2647: A0 00 00     	ldy	#$0
 10969 06:264A: A5 05        	lda	<R1
 10970 06:264C: 10 01        	bpl	L547
 10971 06:264E: 88           	dey
 10972                        L547:
 10973 06:264F: 85 05        	sta	<R1
 10974 06:2651: 84 07        	sty	<R1+2
 10975 06:2653: D4 07        	pei	<R1+2
 10976 06:2655: D4 05        	pei	<R1
 10977 06:2657: 22 3B 13 06  	jsl	~~k_draw_pixel
 10978                        ;			if (b->b5 > 0)
 10979                        L10117:
 10980                        	.line	1414
 10981                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 10982 06:265B: E2 20        	sep	#$20
 10983                        	longa	off
 10984 06:265D: A7 15        	lda	[<L535+b_2]
 10985 06:265F: 85 01        	sta	<R0
 10986 06:2661: C2 20        	rep	#$20
 10987                        	longa	on
 10988 06:2663: E2 20        	sep	#$20
 10989                        	longa	off
 10990 06:2665: 46 01        	lsr	<R0
 10991 06:2667: 46 01        	lsr	<R0
 10992 06:2669: C2 20        	rep	#$20
 10993                        	longa	on
 10994 06:266B: E2 20        	sep	#$20
 10995                        	longa	off
 10996 06:266D: A5 01        	lda	<R0
  Mon Aug  9 2021 16:52                                                Page 205


 10997 06:266F: 29 01        	and	#<$1
 10998 06:2671: 85 01        	sta	<R0
 10999 06:2673: C2 20        	rep	#$20
 11000                        	longa	on
 11001 06:2675: E2 20        	sep	#$20
 11002                        	longa	off
 11003 06:2677: A9 00        	lda	#$0
 11004 06:2679: C5 01        	cmp	<R0
 11005 06:267B: C2 20        	rep	#$20
 11006                        	longa	on
 11007 06:267D: 90 03        	bcc	L548
 11008 06:267F: 82 35 00     	brl	L10118
 11009                        L548:
 11010                        	.line	1415
 11011 06:2682: D4 26        	pei	<L534+color_0
 11012 06:2684: 18           	clc
 11013 06:2685: A5 0F        	lda	<L535+textY_1
 11014 06:2687: 65 0B        	adc	<L535+y_1
 11015 06:2689: 85 01        	sta	<R0
 11016 06:268B: A0 00 00     	ldy	#$0
 11017 06:268E: A5 01        	lda	<R0
 11018 06:2690: 10 01        	bpl	L549
 11019 06:2692: 88           	dey
 11020                        L549:
 11021 06:2693: 85 01        	sta	<R0
 11022 06:2695: 84 03        	sty	<R0+2
 11023 06:2697: D4 03        	pei	<R0+2
 11024 06:2699: D4 01        	pei	<R0
 11025 06:269B: 18           	clc
 11026 06:269C: A9 05 00     	lda	#$5
 11027 06:269F: 65 0D        	adc	<L535+textX_1
 11028 06:26A1: 85 05        	sta	<R1
 11029 06:26A3: A0 00 00     	ldy	#$0
 11030 06:26A6: A5 05        	lda	<R1
 11031 06:26A8: 10 01        	bpl	L550
 11032 06:26AA: 88           	dey
 11033                        L550:
 11034 06:26AB: 85 05        	sta	<R1
 11035 06:26AD: 84 07        	sty	<R1+2
 11036 06:26AF: D4 07        	pei	<R1+2
 11037 06:26B1: D4 05        	pei	<R1
 11038 06:26B3: 22 3B 13 06  	jsl	~~k_draw_pixel
 11039                        ;			if (b->b4 > 0)
 11040                        L10118:
 11041                        	.line	1416
 11042                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 11043 06:26B7: E2 20        	sep	#$20
 11044                        	longa	off
 11045 06:26B9: A7 15        	lda	[<L535+b_2]
 11046 06:26BB: 85 01        	sta	<R0
 11047 06:26BD: C2 20        	rep	#$20
 11048                        	longa	on
 11049 06:26BF: E2 20        	sep	#$20
 11050                        	longa	off
 11051 06:26C1: 46 01        	lsr	<R0
 11052 06:26C3: 46 01        	lsr	<R0
 11053 06:26C5: 46 01        	lsr	<R0
  Mon Aug  9 2021 16:52                                                Page 206


 11054 06:26C7: C2 20        	rep	#$20
 11055                        	longa	on
 11056 06:26C9: E2 20        	sep	#$20
 11057                        	longa	off
 11058 06:26CB: A5 01        	lda	<R0
 11059 06:26CD: 29 01        	and	#<$1
 11060 06:26CF: 85 01        	sta	<R0
 11061 06:26D1: C2 20        	rep	#$20
 11062                        	longa	on
 11063 06:26D3: E2 20        	sep	#$20
 11064                        	longa	off
 11065 06:26D5: A9 00        	lda	#$0
 11066 06:26D7: C5 01        	cmp	<R0
 11067 06:26D9: C2 20        	rep	#$20
 11068                        	longa	on
 11069 06:26DB: 90 03        	bcc	L551
 11070 06:26DD: 82 35 00     	brl	L10119
 11071                        L551:
 11072                        	.line	1417
 11073 06:26E0: D4 26        	pei	<L534+color_0
 11074 06:26E2: 18           	clc
 11075 06:26E3: A5 0F        	lda	<L535+textY_1
 11076 06:26E5: 65 0B        	adc	<L535+y_1
 11077 06:26E7: 85 01        	sta	<R0
 11078 06:26E9: A0 00 00     	ldy	#$0
 11079 06:26EC: A5 01        	lda	<R0
 11080 06:26EE: 10 01        	bpl	L552
 11081 06:26F0: 88           	dey
 11082                        L552:
 11083 06:26F1: 85 01        	sta	<R0
 11084 06:26F3: 84 03        	sty	<R0+2
 11085 06:26F5: D4 03        	pei	<R0+2
 11086 06:26F7: D4 01        	pei	<R0
 11087 06:26F9: 18           	clc
 11088 06:26FA: A9 04 00     	lda	#$4
 11089 06:26FD: 65 0D        	adc	<L535+textX_1
 11090 06:26FF: 85 05        	sta	<R1
 11091 06:2701: A0 00 00     	ldy	#$0
 11092 06:2704: A5 05        	lda	<R1
 11093 06:2706: 10 01        	bpl	L553
 11094 06:2708: 88           	dey
 11095                        L553:
 11096 06:2709: 85 05        	sta	<R1
 11097 06:270B: 84 07        	sty	<R1+2
 11098 06:270D: D4 07        	pei	<R1+2
 11099 06:270F: D4 05        	pei	<R1
 11100 06:2711: 22 3B 13 06  	jsl	~~k_draw_pixel
 11101                        ;			if (b->b3 > 0)
 11102                        L10119:
 11103                        	.line	1418
 11104                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 11105 06:2715: E2 20        	sep	#$20
 11106                        	longa	off
 11107 06:2717: A7 15        	lda	[<L535+b_2]
 11108 06:2719: 85 01        	sta	<R0
 11109 06:271B: C2 20        	rep	#$20
 11110                        	longa	on
  Mon Aug  9 2021 16:52                                                Page 207


 11111 06:271D: E2 20        	sep	#$20
 11112                        	longa	off
 11113 06:271F: 46 01        	lsr	<R0
 11114 06:2721: 46 01        	lsr	<R0
 11115 06:2723: 46 01        	lsr	<R0
 11116 06:2725: 46 01        	lsr	<R0
 11117 06:2727: C2 20        	rep	#$20
 11118                        	longa	on
 11119 06:2729: E2 20        	sep	#$20
 11120                        	longa	off
 11121 06:272B: A5 01        	lda	<R0
 11122 06:272D: 29 01        	and	#<$1
 11123 06:272F: 85 01        	sta	<R0
 11124 06:2731: C2 20        	rep	#$20
 11125                        	longa	on
 11126 06:2733: E2 20        	sep	#$20
 11127                        	longa	off
 11128 06:2735: A9 00        	lda	#$0
 11129 06:2737: C5 01        	cmp	<R0
 11130 06:2739: C2 20        	rep	#$20
 11131                        	longa	on
 11132 06:273B: 90 03        	bcc	L554
 11133 06:273D: 82 35 00     	brl	L10120
 11134                        L554:
 11135                        	.line	1419
 11136 06:2740: D4 26        	pei	<L534+color_0
 11137 06:2742: 18           	clc
 11138 06:2743: A5 0F        	lda	<L535+textY_1
 11139 06:2745: 65 0B        	adc	<L535+y_1
 11140 06:2747: 85 01        	sta	<R0
 11141 06:2749: A0 00 00     	ldy	#$0
 11142 06:274C: A5 01        	lda	<R0
 11143 06:274E: 10 01        	bpl	L555
 11144 06:2750: 88           	dey
 11145                        L555:
 11146 06:2751: 85 01        	sta	<R0
 11147 06:2753: 84 03        	sty	<R0+2
 11148 06:2755: D4 03        	pei	<R0+2
 11149 06:2757: D4 01        	pei	<R0
 11150 06:2759: 18           	clc
 11151 06:275A: A9 03 00     	lda	#$3
 11152 06:275D: 65 0D        	adc	<L535+textX_1
 11153 06:275F: 85 05        	sta	<R1
 11154 06:2761: A0 00 00     	ldy	#$0
 11155 06:2764: A5 05        	lda	<R1
 11156 06:2766: 10 01        	bpl	L556
 11157 06:2768: 88           	dey
 11158                        L556:
 11159 06:2769: 85 05        	sta	<R1
 11160 06:276B: 84 07        	sty	<R1+2
 11161 06:276D: D4 07        	pei	<R1+2
 11162 06:276F: D4 05        	pei	<R1
 11163 06:2771: 22 3B 13 06  	jsl	~~k_draw_pixel
 11164                        ;			if (b->b2 > 0)
 11165                        L10120:
 11166                        	.line	1420
 11167                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
  Mon Aug  9 2021 16:52                                                Page 208


 11168 06:2775: E2 20        	sep	#$20
 11169                        	longa	off
 11170 06:2777: A7 15        	lda	[<L535+b_2]
 11171 06:2779: 85 01        	sta	<R0
 11172 06:277B: C2 20        	rep	#$20
 11173                        	longa	on
 11174 06:277D: E2 20        	sep	#$20
 11175                        	longa	off
 11176 06:277F: 46 01        	lsr	<R0
 11177 06:2781: 46 01        	lsr	<R0
 11178 06:2783: 46 01        	lsr	<R0
 11179 06:2785: 46 01        	lsr	<R0
 11180 06:2787: 46 01        	lsr	<R0
 11181 06:2789: C2 20        	rep	#$20
 11182                        	longa	on
 11183 06:278B: E2 20        	sep	#$20
 11184                        	longa	off
 11185 06:278D: A5 01        	lda	<R0
 11186 06:278F: 29 01        	and	#<$1
 11187 06:2791: 85 01        	sta	<R0
 11188 06:2793: C2 20        	rep	#$20
 11189                        	longa	on
 11190 06:2795: E2 20        	sep	#$20
 11191                        	longa	off
 11192 06:2797: A9 00        	lda	#$0
 11193 06:2799: C5 01        	cmp	<R0
 11194 06:279B: C2 20        	rep	#$20
 11195                        	longa	on
 11196 06:279D: 90 03        	bcc	L557
 11197 06:279F: 82 35 00     	brl	L10121
 11198                        L557:
 11199                        	.line	1421
 11200 06:27A2: D4 26        	pei	<L534+color_0
 11201 06:27A4: 18           	clc
 11202 06:27A5: A5 0F        	lda	<L535+textY_1
 11203 06:27A7: 65 0B        	adc	<L535+y_1
 11204 06:27A9: 85 01        	sta	<R0
 11205 06:27AB: A0 00 00     	ldy	#$0
 11206 06:27AE: A5 01        	lda	<R0
 11207 06:27B0: 10 01        	bpl	L558
 11208 06:27B2: 88           	dey
 11209                        L558:
 11210 06:27B3: 85 01        	sta	<R0
 11211 06:27B5: 84 03        	sty	<R0+2
 11212 06:27B7: D4 03        	pei	<R0+2
 11213 06:27B9: D4 01        	pei	<R0
 11214 06:27BB: 18           	clc
 11215 06:27BC: A9 02 00     	lda	#$2
 11216 06:27BF: 65 0D        	adc	<L535+textX_1
 11217 06:27C1: 85 05        	sta	<R1
 11218 06:27C3: A0 00 00     	ldy	#$0
 11219 06:27C6: A5 05        	lda	<R1
 11220 06:27C8: 10 01        	bpl	L559
 11221 06:27CA: 88           	dey
 11222                        L559:
 11223 06:27CB: 85 05        	sta	<R1
 11224 06:27CD: 84 07        	sty	<R1+2
 11225 06:27CF: D4 07        	pei	<R1+2
  Mon Aug  9 2021 16:52                                                Page 209


 11226 06:27D1: D4 05        	pei	<R1
 11227 06:27D3: 22 3B 13 06  	jsl	~~k_draw_pixel
 11228                        ;			if (b->b1 > 0)
 11229                        L10121:
 11230                        	.line	1422
 11231                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 11232 06:27D7: E2 20        	sep	#$20
 11233                        	longa	off
 11234 06:27D9: A7 15        	lda	[<L535+b_2]
 11235 06:27DB: 85 01        	sta	<R0
 11236 06:27DD: C2 20        	rep	#$20
 11237                        	longa	on
 11238 06:27DF: E2 20        	sep	#$20
 11239                        	longa	off
 11240 06:27E1: 46 01        	lsr	<R0
 11241 06:27E3: 46 01        	lsr	<R0
 11242 06:27E5: 46 01        	lsr	<R0
 11243 06:27E7: 46 01        	lsr	<R0
 11244 06:27E9: 46 01        	lsr	<R0
 11245 06:27EB: 46 01        	lsr	<R0
 11246 06:27ED: C2 20        	rep	#$20
 11247                        	longa	on
 11248 06:27EF: E2 20        	sep	#$20
 11249                        	longa	off
 11250 06:27F1: A5 01        	lda	<R0
 11251 06:27F3: 29 01        	and	#<$1
 11252 06:27F5: 85 01        	sta	<R0
 11253 06:27F7: C2 20        	rep	#$20
 11254                        	longa	on
 11255 06:27F9: E2 20        	sep	#$20
 11256                        	longa	off
 11257 06:27FB: A9 00        	lda	#$0
 11258 06:27FD: C5 01        	cmp	<R0
 11259 06:27FF: C2 20        	rep	#$20
 11260                        	longa	on
 11261 06:2801: 90 03        	bcc	L560
 11262 06:2803: 82 32 00     	brl	L10122
 11263                        L560:
 11264                        	.line	1423
 11265 06:2806: D4 26        	pei	<L534+color_0
 11266 06:2808: 18           	clc
 11267 06:2809: A5 0F        	lda	<L535+textY_1
 11268 06:280B: 65 0B        	adc	<L535+y_1
 11269 06:280D: 85 01        	sta	<R0
 11270 06:280F: A0 00 00     	ldy	#$0
 11271 06:2812: A5 01        	lda	<R0
 11272 06:2814: 10 01        	bpl	L561
 11273 06:2816: 88           	dey
 11274                        L561:
 11275 06:2817: 85 01        	sta	<R0
 11276 06:2819: 84 03        	sty	<R0+2
 11277 06:281B: D4 03        	pei	<R0+2
 11278 06:281D: D4 01        	pei	<R0
 11279 06:281F: A5 0D        	lda	<L535+textX_1
 11280 06:2821: 1A           	ina
 11281 06:2822: 85 05        	sta	<R1
 11282 06:2824: A0 00 00     	ldy	#$0
  Mon Aug  9 2021 16:52                                                Page 210


 11283 06:2827: A5 05        	lda	<R1
 11284 06:2829: 10 01        	bpl	L562
 11285 06:282B: 88           	dey
 11286                        L562:
 11287 06:282C: 85 05        	sta	<R1
 11288 06:282E: 84 07        	sty	<R1+2
 11289 06:2830: D4 07        	pei	<R1+2
 11290 06:2832: D4 05        	pei	<R1
 11291 06:2834: 22 3B 13 06  	jsl	~~k_draw_pixel
 11292                        ;			if (b->b0 > 0)
 11293                        L10122:
 11294                        	.line	1424
 11295                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 11296 06:2838: E2 20        	sep	#$20
 11297                        	longa	off
 11298 06:283A: A7 15        	lda	[<L535+b_2]
 11299 06:283C: 85 01        	sta	<R0
 11300 06:283E: C2 20        	rep	#$20
 11301                        	longa	on
 11302 06:2840: E2 20        	sep	#$20
 11303                        	longa	off
 11304 06:2842: 46 01        	lsr	<R0
 11305 06:2844: 46 01        	lsr	<R0
 11306 06:2846: 46 01        	lsr	<R0
 11307 06:2848: 46 01        	lsr	<R0
 11308 06:284A: 46 01        	lsr	<R0
 11309 06:284C: 46 01        	lsr	<R0
 11310 06:284E: 46 01        	lsr	<R0
 11311 06:2850: C2 20        	rep	#$20
 11312                        	longa	on
 11313 06:2852: E2 20        	sep	#$20
 11314                        	longa	off
 11315 06:2854: A9 00        	lda	#$0
 11316 06:2856: C5 01        	cmp	<R0
 11317 06:2858: C2 20        	rep	#$20
 11318                        	longa	on
 11319 06:285A: 90 03        	bcc	L563
 11320 06:285C: 82 2D 00     	brl	L10123
 11321                        L563:
 11322                        	.line	1425
 11323 06:285F: D4 26        	pei	<L534+color_0
 11324 06:2861: 18           	clc
 11325 06:2862: A5 0F        	lda	<L535+textY_1
 11326 06:2864: 65 0B        	adc	<L535+y_1
 11327 06:2866: 85 01        	sta	<R0
 11328 06:2868: A0 00 00     	ldy	#$0
 11329 06:286B: A5 01        	lda	<R0
 11330 06:286D: 10 01        	bpl	L564
 11331 06:286F: 88           	dey
 11332                        L564:
 11333 06:2870: 85 01        	sta	<R0
 11334 06:2872: 84 03        	sty	<R0+2
 11335 06:2874: D4 03        	pei	<R0+2
 11336 06:2876: D4 01        	pei	<R0
 11337 06:2878: A0 00 00     	ldy	#$0
 11338 06:287B: A5 0D        	lda	<L535+textX_1
 11339 06:287D: 10 01        	bpl	L565
  Mon Aug  9 2021 16:52                                                Page 211


 11340 06:287F: 88           	dey
 11341                        L565:
 11342 06:2880: 85 05        	sta	<R1
 11343 06:2882: 84 07        	sty	<R1+2
 11344 06:2884: D4 07        	pei	<R1+2
 11345 06:2886: D4 05        	pei	<R1
 11346 06:2888: 22 3B 13 06  	jsl	~~k_draw_pixel
 11347                        ;
 11348                        ;		} // end "for y"
 11349                        L10123:
 11350                        	.endblock	1427
 11351                        	.line	1427
 11352                        L10112:
 11353 06:288C: E6 0B        	inc	<L535+y_1
 11354                        L10115:
 11355 06:288E: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 11356 06:2892: 85 01        	sta	<R0
 11357 06:2894: A5 0B        	lda	<L535+y_1
 11358 06:2896: C5 01        	cmp	<R0
 11359 06:2898: B0 03        	bcs	L566
 11360 06:289A: 82 F7 FC     	brl	L10114
 11361                        L566:
 11362                        L10113:
 11363                        ;	}
 11364                        	.line	1428
 11365                        ;	return FONTW;
 11366                        L10111:
 11367                        	.line	1429
 11368 06:289D: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 11369                        L567:
 11370 06:28A1: A8           	tay
 11371 06:28A2: A5 1A        	lda	<L534+2
 11372 06:28A4: 85 26        	sta	<L534+2+12
 11373 06:28A6: A5 19        	lda	<L534+1
 11374 06:28A8: 85 25        	sta	<L534+1+12
 11375 06:28AA: 2B           	pld
 11376 06:28AB: 3B           	tsc
 11377 06:28AC: 18           	clc
 11378 06:28AD: 69 24 00     	adc	#L534+12
 11379 06:28B0: 1B           	tcs
 11380 06:28B1: 98           	tya
 11381 06:28B2: 6B           	rtl
 11382                        ;}
 11383                        	.line	1430
 11384                        	.endblock	1430
 11385             00000018   L534	equ	24
 11386             00000009   L535	equ	9
 11387 06:28B3:              	ends
 11388                        	efunc
 11389                        	.endfunc	1430,9,24
 11390                        	.line	1430
 11391                        ;
 11392                        ;/*
 11393                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
 11394                        ;{
 11395                        ;	int x = 0;
  Mon Aug  9 2021 16:52                                                Page 212


 11396                        ;	int y = 0;
 11397                        ;	int textX = cx;
 11398                        ;	int textY = cy;
 11399                        ;
 11400                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 11401                        ;
 11402                        ;    if(outChar == 32)
 11403                        ;	{
 11404                        ;	   img = NULL;//fontSpace;
 11405                        ;    }
 11406                        ;    else
 11407                        ;	{
 11408                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 11409                        ;    	img = fontSet+=(height*outChar);
 11410                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 11411                        ;	}
 11412                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 11413                        ;
 11414                        ;	// get the font 'image'
 11415                        ;        //char *img = fontImg[ix];
 11416                        ;        // loop through pixel rows
 11417                        ;	if(img!=NULL)
 11418                        ;	{
 11419                        ;		for (y = 0; y < height; y++)
 11420                        ;		{
 11421                        ;			// get the pixel value
 11422                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 11423                        ;			if (b->b7 > 0)
 11424                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 11425                        ;			if (b->b6 > 0)
 11426                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 11427                        ;			if (b->b5 > 0)
 11428                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 11429                        ;			if (b->b4 > 0)
 11430                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 11431                        ;			if (b->b3 > 0)
 11432                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 11433                        ;			if (b->b2 > 0)
 11434                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 11435                        ;			if (b->b1 > 0)
 11436                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 11437                        ;			if (b->b0 > 0)
 11438                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 11439                        ;
 11440                        ;		} // end "for y"
 11441                        ;	}
  Mon Aug  9 2021 16:52                                                Page 213


 11442                        ;	return FONTW;
 11443                        ;}
 11444                        ;*/
 11445                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
 11446                        ;{
 11447                        	.line	1485
 11448                        	.line	1486
 11449                        	GFX
 11450                        	xdef	~~k_put_binary_variablefont_point
 11451                        	func
 11452                        	.function	1486
 11453                        ~~k_put_binary_variablefont_point:
 11454                        	longa	on
 11455                        	longi	on
 11456 06:28B3: 3B           	tsc
 11457 06:28B4: 38           	sec
 11458 06:28B5: E9 15 00     	sbc	#L568
 11459 06:28B8: 1B           	tcs
 11460 06:28B9: 0B           	phd
 11461 06:28BA: 5B           	tcd
 11462             00000004   fontSet_0	set	4
 11463             00000008   outChar_0	set	8
 11464             0000000A   cx_0	set	10
 11465             0000000C   cy_0	set	12
 11466             0000000E   width_0	set	14
 11467             00000010   height_0	set	16
 11468             00000012   color_0	set	18
 11469                        	.block	1486
 11470                        ;	int x = 0;
 11471                        ;	int y = 0;
 11472                        ;	int textX = cx;
 11473                        ;	int textY = cy;
 11474                        ;	char tmp;
 11475                        ;
 11476                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 11477                        ;
 11478                        ;    if(outChar == 32)
 11479             00000000   x_1	set	0
 11480             00000002   y_1	set	2
 11481             00000004   textX_1	set	4
 11482             00000006   textY_1	set	6
 11483             00000008   tmp_1	set	8
 11484             00000009   img_1	set	9
 11485                        	.sym	x,0,5,1,16
 11486                        	.sym	y,2,5,1,16
 11487                        	.sym	textX,4,5,1,16
 11488                        	.sym	textY,6,5,1,16
 11489                        	.sym	tmp,8,14,1,8
 11490                        	.sym	img,9,142,1,32
 11491                        	.sym	fontSet,4,142,6,32
 11492                        	.sym	outChar,8,14,6,8
 11493                        	.sym	cx,10,5,6,16
 11494                        	.sym	cy,12,5,6,16
 11495                        	.sym	width,14,5,6,16
 11496                        	.sym	height,16,5,6,16
 11497                        	.sym	color,18,14,6,8
  Mon Aug  9 2021 16:52                                                Page 214


 11498 06:28BB: 64 09        	stz	<L569+x_1
 11499 06:28BD: 64 0B        	stz	<L569+y_1
 11500 06:28BF: A5 1F        	lda	<L568+cx_0
 11501 06:28C1: 85 0D        	sta	<L569+textX_1
 11502 06:28C3: A5 21        	lda	<L568+cy_0
 11503 06:28C5: 85 0F        	sta	<L569+textY_1
 11504 06:28C7: 64 12        	stz	<L569+img_1
 11505 06:28C9: 64 14        	stz	<L569+img_1+2
 11506                        	.line	1495
 11507                        ;	{
 11508 06:28CB: E2 20        	sep	#$20
 11509                        	longa	off
 11510 06:28CD: A5 1D        	lda	<L568+outChar_0
 11511 06:28CF: C9 20        	cmp	#<$20
 11512 06:28D1: C2 20        	rep	#$20
 11513                        	longa	on
 11514 06:28D3: F0 03        	beq	L571
 11515 06:28D5: 82 07 00     	brl	L10124
 11516                        L571:
 11517                        	.line	1496
 11518                        ;	   img = NULL;//fontSpace;
 11519                        	.line	1497
 11520 06:28D8: 64 12        	stz	<L569+img_1
 11521 06:28DA: 64 14        	stz	<L569+img_1+2
 11522                        ;    }
 11523                        	.line	1498
 11524                        ;    else
 11525 06:28DC: 82 32 00     	brl	L10125
 11526                        L10124:
 11527                        ;	{
 11528                        	.line	1500
 11529                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 11530                        ;    	img = fontSet+=(height*outChar);
 11531                        	.line	1502
 11532 06:28DF: A5 1D        	lda	<L568+outChar_0
 11533 06:28E1: 29 FF 00     	and	#$ff
 11534 06:28E4: 85 01        	sta	<R0
 11535 06:28E6: A5 01        	lda	<R0
 11536 06:28E8: A6 25        	ldx	<L568+height_0
 11537                        	xref	~~~mul
 11538 06:28EA: 22 xx xx xx  	jsl	~~~mul
 11539 06:28EE: 85 01        	sta	<R0
 11540 06:28F0: A0 00 00     	ldy	#$0
 11541 06:28F3: A5 01        	lda	<R0
 11542 06:28F5: 10 01        	bpl	L572
 11543 06:28F7: 88           	dey
 11544                        L572:
 11545 06:28F8: 85 01        	sta	<R0
 11546 06:28FA: 84 03        	sty	<R0+2
 11547 06:28FC: 18           	clc
 11548 06:28FD: A5 19        	lda	<L568+fontSet_0
 11549 06:28FF: 65 01        	adc	<R0
 11550 06:2901: 85 19        	sta	<L568+fontSet_0
 11551 06:2903: A5 1B        	lda	<L568+fontSet_0+2
 11552 06:2905: 65 03        	adc	<R0+2
 11553 06:2907: 85 1B        	sta	<L568+fontSet_0+2
 11554 06:2909: A5 19        	lda	<L568+fontSet_0
  Mon Aug  9 2021 16:52                                                Page 215


 11555 06:290B: 85 12        	sta	<L569+img_1
 11556 06:290D: A5 1B        	lda	<L568+fontSet_0+2
 11557 06:290F: 85 14        	sta	<L569+img_1+2
 11558                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 11559                        ;	}
 11560                        	.line	1504
 11561                        L10125:
 11562                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 11563                        ;
 11564                        ;	// get the font 'image'
 11565                        ;        //char *img = fontImg[ix];
 11566                        ;        // loop through pixel rows
 11567                        ;	if(img!=NULL)
 11568                        	.line	1510
 11569                        ;	{
 11570 06:2911: A5 12        	lda	<L569+img_1
 11571 06:2913: 05 14        	ora	<L569+img_1+2
 11572 06:2915: D0 03        	bne	L573
 11573 06:2917: 82 7D 00     	brl	L10126
 11574                        L573:
 11575                        	.line	1511
 11576                        ;		for (y = 0; y < height; y++)
 11577                        	.line	1512
 11578 06:291A: 64 0B        	stz	<L569+y_1
 11579 06:291C: 82 69 00     	brl	L10130
 11580                        L10129:
 11581                        ;		{
 11582                        	.line	1513
 11583                        ;			tmp = img[y];
 11584                        	.line	1514
 11585 06:291F: E2 20        	sep	#$20
 11586                        	longa	off
 11587 06:2921: A4 0B        	ldy	<L569+y_1
 11588 06:2923: B7 12        	lda	[<L569+img_1],Y
 11589 06:2925: 85 11        	sta	<L569+tmp_1
 11590 06:2927: C2 20        	rep	#$20
 11591                        	longa	on
 11592                        ;
 11593                        ;			for (x = 0; x < width; x++)
 11594                        	.line	1516
 11595 06:2929: 64 09        	stz	<L569+x_1
 11596 06:292B: 82 49 00     	brl	L10134
 11597                        L10133:
 11598                        ;			{
 11599                        	.line	1517
 11600                        ;				if(tmp & 0x80 )
 11601                        	.line	1518
 11602                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 11603 06:292E: E2 20        	sep	#$20
 11604                        	longa	off
 11605 06:2930: A5 11        	lda	<L569+tmp_1
 11606 06:2932: 29 80        	and	#<$80
 11607 06:2934: C2 20        	rep	#$20
 11608                        	longa	on
 11609 06:2936: D0 03        	bne	L574
  Mon Aug  9 2021 16:52                                                Page 216


 11610 06:2938: 82 34 00     	brl	L10135
 11611                        L574:
 11612                        	.line	1519
 11613 06:293B: D4 27        	pei	<L568+color_0
 11614 06:293D: 18           	clc
 11615 06:293E: A5 0F        	lda	<L569+textY_1
 11616 06:2940: 65 0B        	adc	<L569+y_1
 11617 06:2942: 85 01        	sta	<R0
 11618 06:2944: A0 00 00     	ldy	#$0
 11619 06:2947: A5 01        	lda	<R0
 11620 06:2949: 10 01        	bpl	L575
 11621 06:294B: 88           	dey
 11622                        L575:
 11623 06:294C: 85 01        	sta	<R0
 11624 06:294E: 84 03        	sty	<R0+2
 11625 06:2950: D4 03        	pei	<R0+2
 11626 06:2952: D4 01        	pei	<R0
 11627 06:2954: 18           	clc
 11628 06:2955: A5 0D        	lda	<L569+textX_1
 11629 06:2957: 65 09        	adc	<L569+x_1
 11630 06:2959: 85 05        	sta	<R1
 11631 06:295B: A0 00 00     	ldy	#$0
 11632 06:295E: A5 05        	lda	<R1
 11633 06:2960: 10 01        	bpl	L576
 11634 06:2962: 88           	dey
 11635                        L576:
 11636 06:2963: 85 05        	sta	<R1
 11637 06:2965: 84 07        	sty	<R1+2
 11638 06:2967: D4 07        	pei	<R1+2
 11639 06:2969: D4 05        	pei	<R1
 11640 06:296B: 22 3B 13 06  	jsl	~~k_draw_pixel
 11641                        ;
 11642                        ;				tmp = tmp << 1;
 11643                        L10135:
 11644                        	.line	1521
 11645 06:296F: E2 20        	sep	#$20
 11646                        	longa	off
 11647 06:2971: 06 11        	asl	<L569+tmp_1
 11648 06:2973: C2 20        	rep	#$20
 11649                        	longa	on
 11650                        ;			}
 11651                        	.line	1522
 11652                        L10131:
 11653 06:2975: E6 09        	inc	<L569+x_1
 11654                        L10134:
 11655 06:2977: 38           	sec
 11656 06:2978: A5 09        	lda	<L569+x_1
 11657 06:297A: E5 23        	sbc	<L568+width_0
 11658 06:297C: 70 03        	bvs	L577
 11659 06:297E: 49 00 80     	eor	#$8000
 11660                        L577:
 11661 06:2981: 30 03        	bmi	L578
 11662 06:2983: 82 A8 FF     	brl	L10133
 11663                        L578:
 11664                        L10132:
 11665                        ;			// get the pixel value
 11666                        ;			/*
 11667                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
  Mon Aug  9 2021 16:52                                                Page 217


                    ]); //img[y * FONTW + x];
 11668                        ;			if (b->b7 > 0)
 11669                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 11670                        ;			if (b->b6 > 0)
 11671                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 11672                        ;			if (b->b5 > 0)
 11673                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 11674                        ;			if (b->b4 > 0)
 11675                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 11676                        ;			if (b->b3 > 0)
 11677                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 11678                        ;			if (b->b2 > 0)
 11679                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 11680                        ;			if (b->b1 > 0)
 11681                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 11682                        ;			if (b->b0 > 0)
 11683                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 11684                        ;			*/
 11685                        ;		} // end "for y"
 11686                        	.line	1543
 11687                        L10127:
 11688 06:2986: E6 0B        	inc	<L569+y_1
 11689                        L10130:
 11690 06:2988: 38           	sec
 11691 06:2989: A5 0B        	lda	<L569+y_1
 11692 06:298B: E5 25        	sbc	<L568+height_0
 11693 06:298D: 70 03        	bvs	L579
 11694 06:298F: 49 00 80     	eor	#$8000
 11695                        L579:
 11696 06:2992: 30 03        	bmi	L580
 11697 06:2994: 82 88 FF     	brl	L10129
 11698                        L580:
 11699                        L10128:
 11700                        ;	}
 11701                        	.line	1544
 11702                        ;	return FONTW;
 11703                        L10126:
 11704                        	.line	1545
 11705 06:2997: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 11706                        L581:
 11707 06:299B: A8           	tay
 11708 06:299C: A5 17        	lda	<L568+2
 11709 06:299E: 85 27        	sta	<L568+2+16
 11710 06:29A0: A5 16        	lda	<L568+1
 11711 06:29A2: 85 26        	sta	<L568+1+16
 11712 06:29A4: 2B           	pld
 11713 06:29A5: 3B           	tsc
 11714 06:29A6: 18           	clc
 11715 06:29A7: 69 25 00     	adc	#L568+16
 11716 06:29AA: 1B           	tcs
  Mon Aug  9 2021 16:52                                                Page 218


 11717 06:29AB: 98           	tya
 11718 06:29AC: 6B           	rtl
 11719                        ;}
 11720                        	.line	1546
 11721                        	.endblock	1546
 11722             00000015   L568	equ	21
 11723             00000009   L569	equ	9
 11724 06:29AD:              	ends
 11725                        	efunc
 11726                        	.endfunc	1546,9,21
 11727                        	.line	1546
 11728                        ;
 11729                        ;
 11730                        ;int k_put_binary_variablefont_point_ex(LPCHAR fon
                    tSet, char outChar,int cx,int cy,int width,int height,char c
                    olor,UINT page)
 11731                        ;{
 11732                        	.line	1549
 11733                        	.line	1550
 11734                        	GFX
 11735                        	xdef	~~k_put_binary_variablefont_point_ex
 11736                        	func
 11737                        	.function	1550
 11738                        ~~k_put_binary_variablefont_point_ex:
 11739                        	longa	on
 11740                        	longi	on
 11741 06:29AD: 3B           	tsc
 11742 06:29AE: 38           	sec
 11743 06:29AF: E9 15 00     	sbc	#L582
 11744 06:29B2: 1B           	tcs
 11745 06:29B3: 0B           	phd
 11746 06:29B4: 5B           	tcd
 11747             00000004   fontSet_0	set	4
 11748             00000008   outChar_0	set	8
 11749             0000000A   cx_0	set	10
 11750             0000000C   cy_0	set	12
 11751             0000000E   width_0	set	14
 11752             00000010   height_0	set	16
 11753             00000012   color_0	set	18
 11754             00000014   page_0	set	20
 11755                        	.block	1550
 11756                        ;	int x = 0;
 11757                        ;	int y = 0;
 11758                        ;	int textX = cx;
 11759                        ;	int textY = cy;
 11760                        ;	char tmp;
 11761                        ;
 11762                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 11763                        ;
 11764                        ;    if(outChar == 32)
 11765             00000000   x_1	set	0
 11766             00000002   y_1	set	2
 11767             00000004   textX_1	set	4
 11768             00000006   textY_1	set	6
 11769             00000008   tmp_1	set	8
 11770             00000009   img_1	set	9
 11771                        	.sym	x,0,5,1,16
 11772                        	.sym	y,2,5,1,16
  Mon Aug  9 2021 16:52                                                Page 219


 11773                        	.sym	textX,4,5,1,16
 11774                        	.sym	textY,6,5,1,16
 11775                        	.sym	tmp,8,14,1,8
 11776                        	.sym	img,9,142,1,32
 11777                        	.sym	fontSet,4,142,6,32
 11778                        	.sym	outChar,8,14,6,8
 11779                        	.sym	cx,10,5,6,16
 11780                        	.sym	cy,12,5,6,16
 11781                        	.sym	width,14,5,6,16
 11782                        	.sym	height,16,5,6,16
 11783                        	.sym	color,18,14,6,8
 11784                        	.sym	page,20,16,6,16
 11785 06:29B5: 64 09        	stz	<L583+x_1
 11786 06:29B7: 64 0B        	stz	<L583+y_1
 11787 06:29B9: A5 1F        	lda	<L582+cx_0
 11788 06:29BB: 85 0D        	sta	<L583+textX_1
 11789 06:29BD: A5 21        	lda	<L582+cy_0
 11790 06:29BF: 85 0F        	sta	<L583+textY_1
 11791 06:29C1: 64 12        	stz	<L583+img_1
 11792 06:29C3: 64 14        	stz	<L583+img_1+2
 11793                        	.line	1559
 11794                        ;	{
 11795 06:29C5: E2 20        	sep	#$20
 11796                        	longa	off
 11797 06:29C7: A5 1D        	lda	<L582+outChar_0
 11798 06:29C9: C9 20        	cmp	#<$20
 11799 06:29CB: C2 20        	rep	#$20
 11800                        	longa	on
 11801 06:29CD: F0 03        	beq	L585
 11802 06:29CF: 82 07 00     	brl	L10136
 11803                        L585:
 11804                        	.line	1560
 11805                        ;	   img = NULL;//fontSpace;
 11806                        	.line	1561
 11807 06:29D2: 64 12        	stz	<L583+img_1
 11808 06:29D4: 64 14        	stz	<L583+img_1+2
 11809                        ;    }
 11810                        	.line	1562
 11811                        ;    else if(outChar <= 0x0A)
 11812 06:29D6: 82 3E 00     	brl	L10137
 11813                        L10136:
 11814                        	.line	1563
 11815                        ;	{
 11816 06:29D9: E2 20        	sep	#$20
 11817                        	longa	off
 11818 06:29DB: A9 0A        	lda	#$a
 11819 06:29DD: C5 1D        	cmp	<L582+outChar_0
 11820 06:29DF: C2 20        	rep	#$20
 11821                        	longa	on
 11822 06:29E1: B0 03        	bcs	L586
 11823 06:29E3: 82 07 00     	brl	L10138
 11824                        L586:
 11825                        	.line	1564
 11826                        ;	   img = NULL;
 11827                        	.line	1565
 11828 06:29E6: 64 12        	stz	<L583+img_1
 11829 06:29E8: 64 14        	stz	<L583+img_1+2
 11830                        ;    }
  Mon Aug  9 2021 16:52                                                Page 220


 11831                        	.line	1566
 11832                        ;
 11833                        ;    else
 11834 06:29EA: 82 2A 00     	brl	L10139
 11835                        L10138:
 11836                        ;	{
 11837                        	.line	1569
 11838                        ;    	//img = fontSet+=(height*outChar);
 11839                        ;    	img = &fontSet[(height*outChar)];
 11840                        	.line	1571
 11841 06:29ED: A5 1D        	lda	<L582+outChar_0
 11842 06:29EF: 29 FF 00     	and	#$ff
 11843 06:29F2: 85 01        	sta	<R0
 11844 06:29F4: A5 01        	lda	<R0
 11845 06:29F6: A6 25        	ldx	<L582+height_0
 11846                        	xref	~~~mul
 11847 06:29F8: 22 xx xx xx  	jsl	~~~mul
 11848 06:29FC: 85 01        	sta	<R0
 11849 06:29FE: A0 00 00     	ldy	#$0
 11850 06:2A01: A5 01        	lda	<R0
 11851 06:2A03: 10 01        	bpl	L587
 11852 06:2A05: 88           	dey
 11853                        L587:
 11854 06:2A06: 85 01        	sta	<R0
 11855 06:2A08: 84 03        	sty	<R0+2
 11856 06:2A0A: 18           	clc
 11857 06:2A0B: A5 19        	lda	<L582+fontSet_0
 11858 06:2A0D: 65 01        	adc	<R0
 11859 06:2A0F: 85 12        	sta	<L583+img_1
 11860 06:2A11: A5 1B        	lda	<L582+fontSet_0+2
 11861 06:2A13: 65 03        	adc	<R0+2
 11862 06:2A15: 85 14        	sta	<L583+img_1+2
 11863                        ;	}
 11864                        	.line	1572
 11865                        L10139:
 11866                        L10137:
 11867                        ;
 11868                        ;    if(img!=NULL)
 11869                        	.line	1574
 11870                        ;	{
 11871 06:2A17: A5 12        	lda	<L583+img_1
 11872 06:2A19: 05 14        	ora	<L583+img_1+2
 11873 06:2A1B: D0 03        	bne	L588
 11874 06:2A1D: 82 C8 00     	brl	L10140
 11875                        L588:
 11876                        	.line	1575
 11877                        ;		for (y = 0; y < height; y++)
 11878                        	.line	1576
 11879 06:2A20: 64 0B        	stz	<L583+y_1
 11880 06:2A22: 82 B4 00     	brl	L10144
 11881                        L10143:
 11882                        ;		{
 11883                        	.line	1577
 11884                        ;			tmp = img[y];
 11885                        	.line	1578
 11886 06:2A25: E2 20        	sep	#$20
 11887                        	longa	off
 11888 06:2A27: A4 0B        	ldy	<L583+y_1
  Mon Aug  9 2021 16:52                                                Page 221


 11889 06:2A29: B7 12        	lda	[<L583+img_1],Y
 11890 06:2A2B: 85 11        	sta	<L583+tmp_1
 11891 06:2A2D: C2 20        	rep	#$20
 11892                        	longa	on
 11893                        ;
 11894                        ;			for (x = 0; x < width; x++)
 11895                        	.line	1580
 11896 06:2A2F: 64 09        	stz	<L583+x_1
 11897 06:2A31: 82 94 00     	brl	L10148
 11898                        L10147:
 11899                        ;			{
 11900                        	.line	1581
 11901                        ;				if(tmp & 0x80 )
 11902                        	.line	1582
 11903                        ;				{
 11904 06:2A34: E2 20        	sep	#$20
 11905                        	longa	off
 11906 06:2A36: A5 11        	lda	<L583+tmp_1
 11907 06:2A38: 29 80        	and	#<$80
 11908 06:2A3A: C2 20        	rep	#$20
 11909                        	longa	on
 11910 06:2A3C: D0 03        	bne	L589
 11911 06:2A3E: 82 7F 00     	brl	L10149
 11912                        L589:
 11913                        	.line	1583
 11914                        ;
 11915                        ;					switch(page)
 11916                        	.line	1585
 11917 06:2A41: A5 29        	lda	<L582+page_0
 11918 06:2A43: 82 6E 00     	brl	L10150
 11919                        ;					{
 11920                        	.line	1586
 11921                        ;					case BITMAP_BACK
                    :
 11922                        	.line	1587
 11923                        L10152:
 11924                        ;						k_draw_p
                    ixel_back(textX + x, textY + y,color);
 11925                        	.line	1588
 11926 06:2A46: D4 27        	pei	<L582+color_0
 11927 06:2A48: 18           	clc
 11928 06:2A49: A5 0F        	lda	<L583+textY_1
 11929 06:2A4B: 65 0B        	adc	<L583+y_1
 11930 06:2A4D: 85 01        	sta	<R0
 11931 06:2A4F: A0 00 00     	ldy	#$0
 11932 06:2A52: A5 01        	lda	<R0
 11933 06:2A54: 10 01        	bpl	L590
 11934 06:2A56: 88           	dey
 11935                        L590:
 11936 06:2A57: 85 01        	sta	<R0
 11937 06:2A59: 84 03        	sty	<R0+2
 11938 06:2A5B: D4 03        	pei	<R0+2
 11939 06:2A5D: D4 01        	pei	<R0
 11940 06:2A5F: 18           	clc
 11941 06:2A60: A5 0D        	lda	<L583+textX_1
 11942 06:2A62: 65 09        	adc	<L583+x_1
 11943 06:2A64: 85 05        	sta	<R1
 11944 06:2A66: A0 00 00     	ldy	#$0
  Mon Aug  9 2021 16:52                                                Page 222


 11945 06:2A69: A5 05        	lda	<R1
 11946 06:2A6B: 10 01        	bpl	L591
 11947 06:2A6D: 88           	dey
 11948                        L591:
 11949 06:2A6E: 85 05        	sta	<R1
 11950 06:2A70: 84 07        	sty	<R1+2
 11951 06:2A72: D4 07        	pei	<R1+2
 11952 06:2A74: D4 05        	pei	<R1
 11953 06:2A76: 22 47 14 06  	jsl	~~k_draw_pixel_back
 11954                        ;						break;
 11955                        	.line	1589
 11956 06:2A7A: 82 43 00     	brl	L10151
 11957                        ;					default:
 11958                        	.line	1590
 11959                        L10153:
 11960                        ;						k_draw_p
                    ixel_front(textX + x, textY + y,color);
 11961                        	.line	1591
 11962 06:2A7D: D4 27        	pei	<L582+color_0
 11963 06:2A7F: 18           	clc
 11964 06:2A80: A5 0F        	lda	<L583+textY_1
 11965 06:2A82: 65 0B        	adc	<L583+y_1
 11966 06:2A84: 85 01        	sta	<R0
 11967 06:2A86: A0 00 00     	ldy	#$0
 11968 06:2A89: A5 01        	lda	<R0
 11969 06:2A8B: 10 01        	bpl	L592
 11970 06:2A8D: 88           	dey
 11971                        L592:
 11972 06:2A8E: 85 01        	sta	<R0
 11973 06:2A90: 84 03        	sty	<R0+2
 11974 06:2A92: D4 03        	pei	<R0+2
 11975 06:2A94: D4 01        	pei	<R0
 11976 06:2A96: 18           	clc
 11977 06:2A97: A5 0D        	lda	<L583+textX_1
 11978 06:2A99: 65 09        	adc	<L583+x_1
 11979 06:2A9B: 85 05        	sta	<R1
 11980 06:2A9D: A0 00 00     	ldy	#$0
 11981 06:2AA0: A5 05        	lda	<R1
 11982 06:2AA2: 10 01        	bpl	L593
 11983 06:2AA4: 88           	dey
 11984                        L593:
 11985 06:2AA5: 85 05        	sta	<R1
 11986 06:2AA7: 84 07        	sty	<R1+2
 11987 06:2AA9: D4 07        	pei	<R1+2
 11988 06:2AAB: D4 05        	pei	<R1
 11989 06:2AAD: 22 C1 13 06  	jsl	~~k_draw_pixel_front
 11990                        ;					}
 11991                        	.line	1592
 11992 06:2AB1: 82 0C 00     	brl	L10151
 11993                        L10150:
 11994                        	xref	~~~swt
 11995 06:2AB4: 22 xx xx xx  	jsl	~~~swt
 11996 06:2AB8: 01 00        	dw	1
 11997 06:2ABA: 08 00        	dw	8
 11998 06:2ABC: 45 2A        	dw	L10152-1
 11999 06:2ABE: 7C 2A        	dw	L10153-1
 12000                        L10151:
 12001                        ;					/*
  Mon Aug  9 2021 16:52                                                Page 223


 12002                        ;					//k_draw_pixel_e
                    x(textX + x, textY + y, color, page);
 12003                        ;					if(page)
 12004                        ;						k_draw_p
                    ixel_back(textX + x, textY + y, color);
 12005                        ;					else
 12006                        ;						k_draw_p
                    ixel_front(textX + x, textY + y, color);
 12007                        ;						*/
 12008                        ;				}
 12009                        	.line	1600
 12010                        ;				tmp = tmp << 1;
 12011                        L10149:
 12012                        	.line	1601
 12013 06:2AC0: E2 20        	sep	#$20
 12014                        	longa	off
 12015 06:2AC2: 06 11        	asl	<L583+tmp_1
 12016 06:2AC4: C2 20        	rep	#$20
 12017                        	longa	on
 12018                        ;			}
 12019                        	.line	1602
 12020                        L10145:
 12021 06:2AC6: E6 09        	inc	<L583+x_1
 12022                        L10148:
 12023 06:2AC8: 38           	sec
 12024 06:2AC9: A5 09        	lda	<L583+x_1
 12025 06:2ACB: E5 23        	sbc	<L582+width_0
 12026 06:2ACD: 70 03        	bvs	L594
 12027 06:2ACF: 49 00 80     	eor	#$8000
 12028                        L594:
 12029 06:2AD2: 30 03        	bmi	L595
 12030 06:2AD4: 82 5D FF     	brl	L10147
 12031                        L595:
 12032                        L10146:
 12033                        ;		} // end "for y"
 12034                        	.line	1603
 12035                        L10141:
 12036 06:2AD7: E6 0B        	inc	<L583+y_1
 12037                        L10144:
 12038 06:2AD9: 38           	sec
 12039 06:2ADA: A5 0B        	lda	<L583+y_1
 12040 06:2ADC: E5 25        	sbc	<L582+height_0
 12041 06:2ADE: 70 03        	bvs	L596
 12042 06:2AE0: 49 00 80     	eor	#$8000
 12043                        L596:
 12044 06:2AE3: 30 03        	bmi	L597
 12045 06:2AE5: 82 3D FF     	brl	L10143
 12046                        L597:
 12047                        L10142:
 12048                        ;	}
 12049                        	.line	1604
 12050                        ;	return FONTW;
 12051                        L10140:
 12052                        	.line	1605
 12053 06:2AE8: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 12054                        L598:
 12055 06:2AEC: A8           	tay
 12056 06:2AED: A5 17        	lda	<L582+2
  Mon Aug  9 2021 16:52                                                Page 224


 12057 06:2AEF: 85 29        	sta	<L582+2+18
 12058 06:2AF1: A5 16        	lda	<L582+1
 12059 06:2AF3: 85 28        	sta	<L582+1+18
 12060 06:2AF5: 2B           	pld
 12061 06:2AF6: 3B           	tsc
 12062 06:2AF7: 18           	clc
 12063 06:2AF8: 69 27 00     	adc	#L582+18
 12064 06:2AFB: 1B           	tcs
 12065 06:2AFC: 98           	tya
 12066 06:2AFD: 6B           	rtl
 12067                        ;}
 12068                        	.line	1606
 12069                        	.endblock	1606
 12070             00000015   L582	equ	21
 12071             00000009   L583	equ	9
 12072 06:2AFE:              	ends
 12073                        	efunc
 12074                        	.endfunc	1606,9,21
 12075                        	.line	1606
 12076                        ;
 12077                        ;/*
 12078                        ;int k_render_wingadget(char gadgetCode,int cx,int
                     cy,char color,OBJECTCLICKED callback)
 12079                        ;{
 12080                        ;	PCLICKDETECTED pcd = NULL;
 12081                        ;
 12082                        ;	int retCode = 0;
 12083                        ;
 12084                        ;	k_put_wingadget_point(gadgetCode,cx,cy,color);
 12085                        ;
 12086                        ;	pcd = k_mem_allocate_heap(sizeof(CLICKDETECTED))
                    ;
 12087                        ;	if(pcd)
 12088                        ;	{
 12089                        ;		pcd->window  = k_create_ui_window_class(
                    cx,cy,FONTH,FONTW,"disk","gadget",NULL);
 12090                        ;		pcd->handler = callback;
 12091                        ;		k_add_window_hit_node(pcd);
 12092                        ;	}
 12093                        ;
 12094                        ;	return retCode;
 12095                        ;}
 12096                        ;*/
 12097                        ;
 12098                        ;
 12099                        ;int k_put_wingadget_point(char gadgetCode,int cx,
                    int cy,char color)
 12100                        ;{
 12101                        	.line	1630
 12102                        	.line	1631
 12103                        	GFX
 12104                        	xdef	~~k_put_wingadget_point
 12105                        	func
 12106                        	.function	1631
 12107                        ~~k_put_wingadget_point:
 12108                        	longa	on
 12109                        	longi	on
 12110 06:2AFE: 3B           	tsc
  Mon Aug  9 2021 16:52                                                Page 225


 12111 06:2AFF: 38           	sec
 12112 06:2B00: E9 15 00     	sbc	#L599
 12113 06:2B03: 1B           	tcs
 12114 06:2B04: 0B           	phd
 12115 06:2B05: 5B           	tcd
 12116             00000004   gadgetCode_0	set	4
 12117             00000006   cx_0	set	6
 12118             00000008   cy_0	set	8
 12119             0000000A   color_0	set	10
 12120                        	.block	1631
 12121                        ;	int x = 0;
 12122                        ;	int y = 0;
 12123                        ;	int textX = cx;
 12124                        ;	int textY = cy;
 12125                        ;
 12126                        ;	char FAR* img = NULL;//fontImg[ix];
 12127                        ;
 12128                        ;
 12129                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
 12130             00000000   x_1	set	0
 12131             00000002   y_1	set	2
 12132             00000004   textX_1	set	4
 12133             00000006   textY_1	set	6
 12134             00000008   img_1	set	8
 12135                        	.sym	x,0,5,1,16
 12136                        	.sym	y,2,5,1,16
 12137                        	.sym	textX,4,5,1,16
 12138                        	.sym	textY,6,5,1,16
 12139                        	.sym	img,8,142,1,32
 12140                        	.sym	gadgetCode,4,14,6,8
 12141                        	.sym	cx,6,5,6,16
 12142                        	.sym	cy,8,5,6,16
 12143                        	.sym	color,10,14,6,8
 12144 06:2B06: 64 09        	stz	<L600+x_1
 12145 06:2B08: 64 0B        	stz	<L600+y_1
 12146 06:2B0A: A5 1B        	lda	<L599+cx_0
 12147 06:2B0C: 85 0D        	sta	<L600+textX_1
 12148 06:2B0E: A5 1D        	lda	<L599+cy_0
 12149 06:2B10: 85 0F        	sta	<L600+textY_1
 12150 06:2B12: 64 11        	stz	<L600+img_1
 12151 06:2B14: 64 13        	stz	<L600+img_1+2
 12152                        	.line	1640
 12153 06:2B16: A5 19        	lda	<L599+gadgetCode_0
 12154 06:2B18: 29 FF 00     	and	#<$ff
 12155 06:2B1B: 85 05        	sta	<R1
 12156 06:2B1D: A0 00 00     	ldy	#$0
 12157 06:2B20: A5 05        	lda	<R1
 12158 06:2B22: 10 01        	bpl	L602
 12159 06:2B24: 88           	dey
 12160                        L602:
 12161 06:2B25: 85 05        	sta	<R1
 12162 06:2B27: 84 07        	sty	<R1+2
 12163 06:2B29: D4 07        	pei	<R1+2
 12164 06:2B2B: D4 05        	pei	<R1
 12165 06:2B2D: A9 06 00     	lda	#$6
 12166                        	xref	~~~lasl
 12167 06:2B30: 22 xx xx xx  	jsl	~~~lasl
  Mon Aug  9 2021 16:52                                                Page 226


 12168 06:2B34: 85 01        	sta	<R0
 12169 06:2B36: 86 03        	stx	<R0+2
 12170 06:2B38: 18           	clc
 12171 06:2B39: A9 xx xx     	lda	#<~~windowChromeImg
 12172 06:2B3C: 65 01        	adc	<R0
 12173 06:2B3E: 85 11        	sta	<L600+img_1
 12174 06:2B40: A9 xx xx     	lda	#^~~windowChromeImg
 12175 06:2B43: 65 03        	adc	<R0+2
 12176 06:2B45: 85 13        	sta	<L600+img_1+2
 12177                        ;	if(img!=NULL)
 12178                        	.line	1641
 12179                        ;	{
 12180 06:2B47: A5 11        	lda	<L600+img_1
 12181 06:2B49: 05 13        	ora	<L600+img_1+2
 12182 06:2B4B: D0 03        	bne	L603
 12183 06:2B4D: 82 91 00     	brl	L10154
 12184                        L603:
 12185                        	.line	1642
 12186                        ;		for (y = 0; y < FONTH; y++) 
 12187                        	.line	1643
 12188 06:2B50: 64 0B        	stz	<L600+y_1
 12189 06:2B52: 82 7D 00     	brl	L10158
 12190                        L10157:
 12191                        ;		{
 12192                        	.line	1644
 12193                        ;			// loop through pixel columns
 12194                        ;			for (x = 0; x < FONTW; x++) 
 12195                        	.line	1646
 12196 06:2B55: 64 09        	stz	<L600+x_1
 12197 06:2B57: 82 67 00     	brl	L10162
 12198                        L10161:
 12199                        ;			{
 12200                        	.line	1647
 12201                        ;				// get the pixel value
 12202                        ;				char b = img[y * FONTW +
                     x];
 12203                        ;				if (b > 0) 
 12204                        	.block	1650
 12205             0000000C   b_2	set	12
 12206                        	.sym	b,12,14,1,8
 12207 06:2B5A: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 12208 06:2B5E: 85 01        	sta	<R0
 12209 06:2B60: A5 01        	lda	<R0
 12210 06:2B62: A6 0B        	ldx	<L600+y_1
 12211                        	xref	~~~mul
 12212 06:2B64: 22 xx xx xx  	jsl	~~~mul
 12213 06:2B68: 85 01        	sta	<R0
 12214 06:2B6A: 18           	clc
 12215 06:2B6B: A5 01        	lda	<R0
 12216 06:2B6D: 65 09        	adc	<L600+x_1
 12217 06:2B6F: 85 05        	sta	<R1
 12218 06:2B71: E2 20        	sep	#$20
 12219                        	longa	off
 12220 06:2B73: A4 05        	ldy	<R1
 12221 06:2B75: B7 11        	lda	[<L600+img_1],Y
 12222 06:2B77: 85 15        	sta	<L600+b_2
 12223 06:2B79: C2 20        	rep	#$20
 12224                        	longa	on
  Mon Aug  9 2021 16:52                                                Page 227


 12225                        	.line	1650
 12226                        ;				{ // plot the pixel
 12227 06:2B7B: E2 20        	sep	#$20
 12228                        	longa	off
 12229 06:2B7D: A9 00        	lda	#$0
 12230 06:2B7F: C5 15        	cmp	<L600+b_2
 12231 06:2B81: C2 20        	rep	#$20
 12232                        	longa	on
 12233 06:2B83: 90 03        	bcc	L605
 12234 06:2B85: 82 37 00     	brl	L10163
 12235                        L605:
 12236                        	.line	1651
 12237                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 12238                        	.line	1652
 12239 06:2B88: D4 1F        	pei	<L599+color_0
 12240 06:2B8A: 18           	clc
 12241 06:2B8B: A5 0F        	lda	<L600+textY_1
 12242 06:2B8D: 65 0B        	adc	<L600+y_1
 12243 06:2B8F: 85 01        	sta	<R0
 12244 06:2B91: A0 00 00     	ldy	#$0
 12245 06:2B94: A5 01        	lda	<R0
 12246 06:2B96: 10 01        	bpl	L606
 12247 06:2B98: 88           	dey
 12248                        L606:
 12249 06:2B99: 85 01        	sta	<R0
 12250 06:2B9B: 84 03        	sty	<R0+2
 12251 06:2B9D: D4 03        	pei	<R0+2
 12252 06:2B9F: D4 01        	pei	<R0
 12253 06:2BA1: 18           	clc
 12254 06:2BA2: A5 0D        	lda	<L600+textX_1
 12255 06:2BA4: 65 09        	adc	<L600+x_1
 12256 06:2BA6: 85 05        	sta	<R1
 12257 06:2BA8: A0 00 00     	ldy	#$0
 12258 06:2BAB: A5 05        	lda	<R1
 12259 06:2BAD: 10 01        	bpl	L607
 12260 06:2BAF: 88           	dey
 12261                        L607:
 12262 06:2BB0: 85 05        	sta	<R1
 12263 06:2BB2: 84 07        	sty	<R1+2
 12264 06:2BB4: D4 07        	pei	<R1+2
 12265 06:2BB6: D4 05        	pei	<R1
 12266 06:2BB8: 22 3B 13 06  	jsl	~~k_draw_pixel
 12267                        ;				}
 12268                        	.line	1653
 12269                        ;				else 
 12270 06:2BBC: 82 00 00     	brl	L10164
 12271                        L10163:
 12272                        ;				{ 
 12273                        	.line	1655
 12274                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 12275                        ;				}
 12276                        	.line	1657
 12277                        L10164:
 12278                        ;			} // end "for x"
 12279                        	.endblock	1658
 12280                        	.line	1658
  Mon Aug  9 2021 16:52                                                Page 228


 12281                        L10159:
 12282 06:2BBF: E6 09        	inc	<L600+x_1
 12283                        L10162:
 12284 06:2BC1: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 12285 06:2BC5: 85 01        	sta	<R0
 12286 06:2BC7: A5 09        	lda	<L600+x_1
 12287 06:2BC9: C5 01        	cmp	<R0
 12288 06:2BCB: B0 03        	bcs	L608
 12289 06:2BCD: 82 8A FF     	brl	L10161
 12290                        L608:
 12291                        L10160:
 12292                        ;		} // end "for y"
 12293                        	.line	1659
 12294                        L10155:
 12295 06:2BD0: E6 0B        	inc	<L600+y_1
 12296                        L10158:
 12297 06:2BD2: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 12298 06:2BD6: 85 01        	sta	<R0
 12299 06:2BD8: A5 0B        	lda	<L600+y_1
 12300 06:2BDA: C5 01        	cmp	<R0
 12301 06:2BDC: B0 03        	bcs	L609
 12302 06:2BDE: 82 74 FF     	brl	L10157
 12303                        L609:
 12304                        L10156:
 12305                        ;	}
 12306                        	.line	1660
 12307                        ;	return FONTW;
 12308                        L10154:
 12309                        	.line	1661
 12310 06:2BE1: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 12311                        L610:
 12312 06:2BE5: A8           	tay
 12313 06:2BE6: A5 17        	lda	<L599+2
 12314 06:2BE8: 85 1F        	sta	<L599+2+8
 12315 06:2BEA: A5 16        	lda	<L599+1
 12316 06:2BEC: 85 1E        	sta	<L599+1+8
 12317 06:2BEE: 2B           	pld
 12318 06:2BEF: 3B           	tsc
 12319 06:2BF0: 18           	clc
 12320 06:2BF1: 69 1D 00     	adc	#L599+8
 12321 06:2BF4: 1B           	tcs
 12322 06:2BF5: 98           	tya
 12323 06:2BF6: 6B           	rtl
 12324                        ;}
 12325                        	.line	1662
 12326                        	.endblock	1662
 12327             00000015   L599	equ	21
 12328             00000009   L600	equ	9
 12329 06:2BF7:              	ends
 12330                        	efunc
 12331                        	.endfunc	1662,9,21
 12332                        	.line	1662
 12333                        ;
 12334                        ;int k_gui_DrawWidget(HWND hWnd,UINT gadgetId,PREC
                    T prect,UINT color,UINT page)
 12335                        ;{
 12336                        	.line	1664
 12337                        	.line	1665
  Mon Aug  9 2021 16:52                                                Page 229


 12338                        	GFX
 12339                        	xdef	~~k_gui_DrawWidget
 12340                        	func
 12341                        	.function	1665
 12342                        ~~k_gui_DrawWidget:
 12343                        	longa	on
 12344                        	longi	on
 12345 06:2BF7: 3B           	tsc
 12346 06:2BF8: 38           	sec
 12347 06:2BF9: E9 0A 00     	sbc	#L611
 12348 06:2BFC: 1B           	tcs
 12349 06:2BFD: 0B           	phd
 12350 06:2BFE: 5B           	tcd
 12351             00000004   hWnd_0	set	4
 12352             00000008   gadgetId_0	set	8
 12353             0000000A   prect_0	set	10
 12354             0000000E   color_0	set	14
 12355             00000010   page_0	set	16
 12356                        	.block	1665
 12357                        ;	int ymax = ((PWINDOW)hWnd)->clientRect.y + ((PWI
                    NDOW)hWnd)->clientRect.height - 1;
 12358                        ;
 12359                        ;	if(((prect->y + FONTH) >= ymax))
 12360             00000000   ymax_1	set	0
 12361                        	.sym	ymax,0,5,1,16
 12362                        	.sym	hWnd,4,129,6,32
 12363                        	.sym	gadgetId,8,16,6,16
 12364                        	.sym	prect,10,138,6,32,26
 12365                        	.sym	color,14,16,6,16
 12366                        	.sym	page,16,16,6,16
 12367 06:2BFF: 18           	clc
 12368 06:2C00: A0 2C 00     	ldy	#$2c
 12369 06:2C03: B7 0E        	lda	[<L611+hWnd_0],Y
 12370 06:2C05: A0 34 00     	ldy	#$34
 12371 06:2C08: 77 0E        	adc	[<L611+hWnd_0],Y
 12372 06:2C0A: 85 01        	sta	<R0
 12373 06:2C0C: 18           	clc
 12374 06:2C0D: A9 FF FF     	lda	#$ffff
 12375 06:2C10: 65 01        	adc	<R0
 12376 06:2C12: 85 09        	sta	<L612+ymax_1
 12377                        	.line	1668
 12378                        ;		return -1;
 12379 06:2C14: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 12380 06:2C18: 85 01        	sta	<R0
 12381 06:2C1A: 18           	clc
 12382 06:2C1B: A5 01        	lda	<R0
 12383 06:2C1D: A0 02 00     	ldy	#$2
 12384 06:2C20: 77 14        	adc	[<L611+prect_0],Y
 12385 06:2C22: 85 05        	sta	<R1
 12386 06:2C24: A5 05        	lda	<R1
 12387 06:2C26: C5 09        	cmp	<L612+ymax_1
 12388 06:2C28: B0 03        	bcs	L614
 12389 06:2C2A: 82 15 00     	brl	L10165
 12390                        L614:
 12391                        	.line	1669
 12392 06:2C2D: A9 FF FF     	lda	#$ffff
 12393                        L615:
 12394 06:2C30: A8           	tay
  Mon Aug  9 2021 16:52                                                Page 230


 12395 06:2C31: A5 0C        	lda	<L611+2
 12396 06:2C33: 85 1A        	sta	<L611+2+14
 12397 06:2C35: A5 0B        	lda	<L611+1
 12398 06:2C37: 85 19        	sta	<L611+1+14
 12399 06:2C39: 2B           	pld
 12400 06:2C3A: 3B           	tsc
 12401 06:2C3B: 18           	clc
 12402 06:2C3C: 69 18 00     	adc	#L611+14
 12403 06:2C3F: 1B           	tcs
 12404 06:2C40: 98           	tya
 12405 06:2C41: 6B           	rtl
 12406                        ;
 12407                        ;	return k_put_wingadget_point_ex(gadgetId,prect->
                    x,prect->y,color,page);
 12408                        L10165:
 12409                        	.line	1671
 12410 06:2C42: D4 1A        	pei	<L611+page_0
 12411 06:2C44: D4 18        	pei	<L611+color_0
 12412 06:2C46: A0 02 00     	ldy	#$2
 12413 06:2C49: B7 14        	lda	[<L611+prect_0],Y
 12414 06:2C4B: 48           	pha
 12415 06:2C4C: A7 14        	lda	[<L611+prect_0]
 12416 06:2C4E: 48           	pha
 12417 06:2C4F: D4 12        	pei	<L611+gadgetId_0
 12418 06:2C51: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 12419 06:2C55: 82 D8 FF     	brl	L615
 12420                        ;}
 12421                        	.line	1672
 12422                        	.endblock	1672
 12423             0000000A   L611	equ	10
 12424             00000009   L612	equ	9
 12425 06:2C58:              	ends
 12426                        	efunc
 12427                        	.endfunc	1672,9,10
 12428                        	.line	1672
 12429                        ;
 12430                        ;int k_put_wingadget_point_ex(char gadgetCode,int 
                    cx,int cy,char color,UINT page)
 12431                        ;{
 12432                        	.line	1674
 12433                        	.line	1675
 12434                        	GFX
 12435                        	xdef	~~k_put_wingadget_point_ex
 12436                        	func
 12437                        	.function	1675
 12438                        ~~k_put_wingadget_point_ex:
 12439                        	longa	on
 12440                        	longi	on
 12441 06:2C58: 3B           	tsc
 12442 06:2C59: 38           	sec
 12443 06:2C5A: E9 15 00     	sbc	#L616
 12444 06:2C5D: 1B           	tcs
 12445 06:2C5E: 0B           	phd
 12446 06:2C5F: 5B           	tcd
 12447             00000004   gadgetCode_0	set	4
 12448             00000006   cx_0	set	6
 12449             00000008   cy_0	set	8
 12450             0000000A   color_0	set	10
  Mon Aug  9 2021 16:52                                                Page 231


 12451             0000000C   page_0	set	12
 12452                        	.block	1675
 12453                        ;	int x = 0;
 12454                        ;	int y = 0;
 12455                        ;	int textX = cx;
 12456                        ;	int textY = cy;
 12457                        ;
 12458                        ;	char FAR* img = NULL;//fontImg[ix];
 12459                        ;
 12460                        ;
 12461                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
 12462             00000000   x_1	set	0
 12463             00000002   y_1	set	2
 12464             00000004   textX_1	set	4
 12465             00000006   textY_1	set	6
 12466             00000008   img_1	set	8
 12467                        	.sym	x,0,5,1,16
 12468                        	.sym	y,2,5,1,16
 12469                        	.sym	textX,4,5,1,16
 12470                        	.sym	textY,6,5,1,16
 12471                        	.sym	img,8,142,1,32
 12472                        	.sym	gadgetCode,4,14,6,8
 12473                        	.sym	cx,6,5,6,16
 12474                        	.sym	cy,8,5,6,16
 12475                        	.sym	color,10,14,6,8
 12476                        	.sym	page,12,16,6,16
 12477 06:2C60: 64 09        	stz	<L617+x_1
 12478 06:2C62: 64 0B        	stz	<L617+y_1
 12479 06:2C64: A5 1B        	lda	<L616+cx_0
 12480 06:2C66: 85 0D        	sta	<L617+textX_1
 12481 06:2C68: A5 1D        	lda	<L616+cy_0
 12482 06:2C6A: 85 0F        	sta	<L617+textY_1
 12483 06:2C6C: 64 11        	stz	<L617+img_1
 12484 06:2C6E: 64 13        	stz	<L617+img_1+2
 12485                        	.line	1684
 12486 06:2C70: A5 19        	lda	<L616+gadgetCode_0
 12487 06:2C72: 29 FF 00     	and	#<$ff
 12488 06:2C75: 85 05        	sta	<R1
 12489 06:2C77: A0 00 00     	ldy	#$0
 12490 06:2C7A: A5 05        	lda	<R1
 12491 06:2C7C: 10 01        	bpl	L619
 12492 06:2C7E: 88           	dey
 12493                        L619:
 12494 06:2C7F: 85 05        	sta	<R1
 12495 06:2C81: 84 07        	sty	<R1+2
 12496 06:2C83: D4 07        	pei	<R1+2
 12497 06:2C85: D4 05        	pei	<R1
 12498 06:2C87: A9 06 00     	lda	#$6
 12499                        	xref	~~~lasl
 12500 06:2C8A: 22 xx xx xx  	jsl	~~~lasl
 12501 06:2C8E: 85 01        	sta	<R0
 12502 06:2C90: 86 03        	stx	<R0+2
 12503 06:2C92: 18           	clc
 12504 06:2C93: A9 xx xx     	lda	#<~~windowChromeImg
 12505 06:2C96: 65 01        	adc	<R0
 12506 06:2C98: 85 11        	sta	<L617+img_1
 12507 06:2C9A: A9 xx xx     	lda	#^~~windowChromeImg
  Mon Aug  9 2021 16:52                                                Page 232


 12508 06:2C9D: 65 03        	adc	<R0+2
 12509 06:2C9F: 85 13        	sta	<L617+img_1+2
 12510                        ;	if(img!=NULL)
 12511                        	.line	1685
 12512                        ;	{
 12513 06:2CA1: A5 11        	lda	<L617+img_1
 12514 06:2CA3: 05 13        	ora	<L617+img_1+2
 12515 06:2CA5: D0 03        	bne	L620
 12516 06:2CA7: 82 DC 00     	brl	L10166
 12517                        L620:
 12518                        	.line	1686
 12519                        ;		for (y = 0; y < FONTH; y++)
 12520                        	.line	1687
 12521 06:2CAA: 64 0B        	stz	<L617+y_1
 12522 06:2CAC: 82 C8 00     	brl	L10170
 12523                        L10169:
 12524                        ;		{
 12525                        	.line	1688
 12526                        ;			// loop through pixel columns
 12527                        ;			for (x = 0; x < FONTW; x++)
 12528                        	.line	1690
 12529 06:2CAF: 64 09        	stz	<L617+x_1
 12530 06:2CB1: 82 B2 00     	brl	L10174
 12531                        L10173:
 12532                        ;			{
 12533                        	.line	1691
 12534                        ;				// get the pixel value
 12535                        ;				char b = img[y * FONTW +
                     x];
 12536                        ;				if (b > 0)
 12537                        	.block	1694
 12538             0000000C   b_2	set	12
 12539                        	.sym	b,12,14,1,8
 12540 06:2CB4: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 12541 06:2CB8: 85 01        	sta	<R0
 12542 06:2CBA: A5 01        	lda	<R0
 12543 06:2CBC: A6 0B        	ldx	<L617+y_1
 12544                        	xref	~~~mul
 12545 06:2CBE: 22 xx xx xx  	jsl	~~~mul
 12546 06:2CC2: 85 01        	sta	<R0
 12547 06:2CC4: 18           	clc
 12548 06:2CC5: A5 01        	lda	<R0
 12549 06:2CC7: 65 09        	adc	<L617+x_1
 12550 06:2CC9: 85 05        	sta	<R1
 12551 06:2CCB: E2 20        	sep	#$20
 12552                        	longa	off
 12553 06:2CCD: A4 05        	ldy	<R1
 12554 06:2CCF: B7 11        	lda	[<L617+img_1],Y
 12555 06:2CD1: 85 15        	sta	<L617+b_2
 12556 06:2CD3: C2 20        	rep	#$20
 12557                        	longa	on
 12558                        	.line	1694
 12559                        ;				{ // plot the pixel
 12560 06:2CD5: E2 20        	sep	#$20
 12561                        	longa	off
 12562 06:2CD7: A9 00        	lda	#$0
 12563 06:2CD9: C5 15        	cmp	<L617+b_2
 12564 06:2CDB: C2 20        	rep	#$20
  Mon Aug  9 2021 16:52                                                Page 233


 12565                        	longa	on
 12566 06:2CDD: 90 03        	bcc	L622
 12567 06:2CDF: 82 82 00     	brl	L10175
 12568                        L622:
 12569                        	.line	1695
 12570                        ;					//k_draw_pixel_e
                    x(textX + x, textY + y, color,page);
 12571                        ;					switch(page)
 12572                        	.line	1697
 12573 06:2CE2: A5 21        	lda	<L616+page_0
 12574 06:2CE4: 82 6E 00     	brl	L10176
 12575                        ;					{
 12576                        	.line	1698
 12577                        ;					case BITMAP_BACK
                    :
 12578                        	.line	1699
 12579                        L10178:
 12580                        ;						k_draw_p
                    ixel_back(textX + x, textY + y,color);
 12581                        	.line	1700
 12582 06:2CE7: D4 1F        	pei	<L616+color_0
 12583 06:2CE9: 18           	clc
 12584 06:2CEA: A5 0F        	lda	<L617+textY_1
 12585 06:2CEC: 65 0B        	adc	<L617+y_1
 12586 06:2CEE: 85 01        	sta	<R0
 12587 06:2CF0: A0 00 00     	ldy	#$0
 12588 06:2CF3: A5 01        	lda	<R0
 12589 06:2CF5: 10 01        	bpl	L623
 12590 06:2CF7: 88           	dey
 12591                        L623:
 12592 06:2CF8: 85 01        	sta	<R0
 12593 06:2CFA: 84 03        	sty	<R0+2
 12594 06:2CFC: D4 03        	pei	<R0+2
 12595 06:2CFE: D4 01        	pei	<R0
 12596 06:2D00: 18           	clc
 12597 06:2D01: A5 0D        	lda	<L617+textX_1
 12598 06:2D03: 65 09        	adc	<L617+x_1
 12599 06:2D05: 85 05        	sta	<R1
 12600 06:2D07: A0 00 00     	ldy	#$0
 12601 06:2D0A: A5 05        	lda	<R1
 12602 06:2D0C: 10 01        	bpl	L624
 12603 06:2D0E: 88           	dey
 12604                        L624:
 12605 06:2D0F: 85 05        	sta	<R1
 12606 06:2D11: 84 07        	sty	<R1+2
 12607 06:2D13: D4 07        	pei	<R1+2
 12608 06:2D15: D4 05        	pei	<R1
 12609 06:2D17: 22 47 14 06  	jsl	~~k_draw_pixel_back
 12610                        ;						break;
 12611                        	.line	1701
 12612 06:2D1B: 82 43 00     	brl	L10177
 12613                        ;					default:
 12614                        	.line	1702
 12615                        L10179:
 12616                        ;						k_draw_p
                    ixel_front(textX + x, textY + y,color);
 12617                        	.line	1703
 12618 06:2D1E: D4 1F        	pei	<L616+color_0
  Mon Aug  9 2021 16:52                                                Page 234


 12619 06:2D20: 18           	clc
 12620 06:2D21: A5 0F        	lda	<L617+textY_1
 12621 06:2D23: 65 0B        	adc	<L617+y_1
 12622 06:2D25: 85 01        	sta	<R0
 12623 06:2D27: A0 00 00     	ldy	#$0
 12624 06:2D2A: A5 01        	lda	<R0
 12625 06:2D2C: 10 01        	bpl	L625
 12626 06:2D2E: 88           	dey
 12627                        L625:
 12628 06:2D2F: 85 01        	sta	<R0
 12629 06:2D31: 84 03        	sty	<R0+2
 12630 06:2D33: D4 03        	pei	<R0+2
 12631 06:2D35: D4 01        	pei	<R0
 12632 06:2D37: 18           	clc
 12633 06:2D38: A5 0D        	lda	<L617+textX_1
 12634 06:2D3A: 65 09        	adc	<L617+x_1
 12635 06:2D3C: 85 05        	sta	<R1
 12636 06:2D3E: A0 00 00     	ldy	#$0
 12637 06:2D41: A5 05        	lda	<R1
 12638 06:2D43: 10 01        	bpl	L626
 12639 06:2D45: 88           	dey
 12640                        L626:
 12641 06:2D46: 85 05        	sta	<R1
 12642 06:2D48: 84 07        	sty	<R1+2
 12643 06:2D4A: D4 07        	pei	<R1+2
 12644 06:2D4C: D4 05        	pei	<R1
 12645 06:2D4E: 22 C1 13 06  	jsl	~~k_draw_pixel_front
 12646                        ;					}
 12647                        	.line	1704
 12648 06:2D52: 82 0C 00     	brl	L10177
 12649                        L10176:
 12650                        	xref	~~~swt
 12651 06:2D55: 22 xx xx xx  	jsl	~~~swt
 12652 06:2D59: 01 00        	dw	1
 12653 06:2D5B: 08 00        	dw	8
 12654 06:2D5D: E6 2C        	dw	L10178-1
 12655 06:2D5F: 1D 2D        	dw	L10179-1
 12656                        L10177:
 12657                        ;				}
 12658                        	.line	1705
 12659                        ;				else
 12660 06:2D61: 82 00 00     	brl	L10180
 12661                        L10175:
 12662                        ;				{
 12663                        	.line	1707
 12664                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 12665                        ;				}
 12666                        	.line	1709
 12667                        L10180:
 12668                        ;			} // end "for x"
 12669                        	.endblock	1710
 12670                        	.line	1710
 12671                        L10171:
 12672 06:2D64: E6 09        	inc	<L617+x_1
 12673                        L10174:
 12674 06:2D66: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 12675 06:2D6A: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 235


 12676 06:2D6C: A5 09        	lda	<L617+x_1
 12677 06:2D6E: C5 01        	cmp	<R0
 12678 06:2D70: B0 03        	bcs	L627
 12679 06:2D72: 82 3F FF     	brl	L10173
 12680                        L627:
 12681                        L10172:
 12682                        ;		} // end "for y"
 12683                        	.line	1711
 12684                        L10167:
 12685 06:2D75: E6 0B        	inc	<L617+y_1
 12686                        L10170:
 12687 06:2D77: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 12688 06:2D7B: 85 01        	sta	<R0
 12689 06:2D7D: A5 0B        	lda	<L617+y_1
 12690 06:2D7F: C5 01        	cmp	<R0
 12691 06:2D81: B0 03        	bcs	L628
 12692 06:2D83: 82 29 FF     	brl	L10169
 12693                        L628:
 12694                        L10168:
 12695                        ;	}
 12696                        	.line	1712
 12697                        ;	return FONTW;
 12698                        L10166:
 12699                        	.line	1713
 12700 06:2D86: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 12701                        L629:
 12702 06:2D8A: A8           	tay
 12703 06:2D8B: A5 17        	lda	<L616+2
 12704 06:2D8D: 85 21        	sta	<L616+2+10
 12705 06:2D8F: A5 16        	lda	<L616+1
 12706 06:2D91: 85 20        	sta	<L616+1+10
 12707 06:2D93: 2B           	pld
 12708 06:2D94: 3B           	tsc
 12709 06:2D95: 18           	clc
 12710 06:2D96: 69 1F 00     	adc	#L616+10
 12711 06:2D99: 1B           	tcs
 12712 06:2D9A: 98           	tya
 12713 06:2D9B: 6B           	rtl
 12714                        ;}
 12715                        	.line	1714
 12716                        	.endblock	1714
 12717             00000015   L616	equ	21
 12718             00000009   L617	equ	9
 12719 06:2D9C:              	ends
 12720                        	efunc
 12721                        	.endfunc	1714,9,21
 12722                        	.line	1714
 12723                        ;
 12724                        ;int k_put_winicon_point(char iconCode,int cx,int 
                    cy,int paletteId,int mode)
 12725                        ;{
 12726                        	.line	1716
 12727                        	.line	1717
 12728                        	GFX
 12729                        	xdef	~~k_put_winicon_point
 12730                        	func
 12731                        	.function	1717
 12732                        ~~k_put_winicon_point:
  Mon Aug  9 2021 16:52                                                Page 236


 12733                        	longa	on
 12734                        	longi	on
 12735 06:2D9C: 3B           	tsc
 12736 06:2D9D: 38           	sec
 12737 06:2D9E: E9 15 00     	sbc	#L630
 12738 06:2DA1: 1B           	tcs
 12739 06:2DA2: 0B           	phd
 12740 06:2DA3: 5B           	tcd
 12741             00000004   iconCode_0	set	4
 12742             00000006   cx_0	set	6
 12743             00000008   cy_0	set	8
 12744             0000000A   paletteId_0	set	10
 12745             0000000C   mode_0	set	12
 12746                        	.block	1717
 12747                        ;	int x = 0;
 12748                        ;	int y = 0;
 12749                        ;	int textX = cx;
 12750                        ;	int textY = cy;
 12751                        ;
 12752                        ;	char FAR* img = NULL;
 12753                        ;	
 12754                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
 12755             00000000   x_1	set	0
 12756             00000002   y_1	set	2
 12757             00000004   textX_1	set	4
 12758             00000006   textY_1	set	6
 12759             00000008   img_1	set	8
 12760                        	.sym	x,0,5,1,16
 12761                        	.sym	y,2,5,1,16
 12762                        	.sym	textX,4,5,1,16
 12763                        	.sym	textY,6,5,1,16
 12764                        	.sym	img,8,142,1,32
 12765                        	.sym	iconCode,4,14,6,8
 12766                        	.sym	cx,6,5,6,16
 12767                        	.sym	cy,8,5,6,16
 12768                        	.sym	paletteId,10,5,6,16
 12769                        	.sym	mode,12,5,6,16
 12770 06:2DA4: 64 09        	stz	<L631+x_1
 12771 06:2DA6: 64 0B        	stz	<L631+y_1
 12772 06:2DA8: A5 1B        	lda	<L630+cx_0
 12773 06:2DAA: 85 0D        	sta	<L631+textX_1
 12774 06:2DAC: A5 1D        	lda	<L630+cy_0
 12775 06:2DAE: 85 0F        	sta	<L631+textY_1
 12776 06:2DB0: 64 11        	stz	<L631+img_1
 12777 06:2DB2: 64 13        	stz	<L631+img_1+2
 12778                        	.line	1725
 12779 06:2DB4: A5 19        	lda	<L630+iconCode_0
 12780 06:2DB6: 29 FF 00     	and	#<$ff
 12781 06:2DB9: 85 05        	sta	<R1
 12782 06:2DBB: A0 00 00     	ldy	#$0
 12783 06:2DBE: A5 05        	lda	<R1
 12784 06:2DC0: 10 01        	bpl	L633
 12785 06:2DC2: 88           	dey
 12786                        L633:
 12787 06:2DC3: 85 05        	sta	<R1
 12788 06:2DC5: 84 07        	sty	<R1+2
 12789 06:2DC7: D4 07        	pei	<R1+2
 12790 06:2DC9: D4 05        	pei	<R1
  Mon Aug  9 2021 16:52                                                Page 237


 12791 06:2DCB: A9 08 00     	lda	#$8
 12792                        	xref	~~~lasl
 12793 06:2DCE: 22 xx xx xx  	jsl	~~~lasl
 12794 06:2DD2: 85 01        	sta	<R0
 12795 06:2DD4: 86 03        	stx	<R0+2
 12796 06:2DD6: 18           	clc
 12797 06:2DD7: A9 xx xx     	lda	#<~~windowIconImg
 12798 06:2DDA: 65 01        	adc	<R0
 12799 06:2DDC: 85 11        	sta	<L631+img_1
 12800 06:2DDE: A9 xx xx     	lda	#^~~windowIconImg
 12801 06:2DE1: 65 03        	adc	<R0+2
 12802 06:2DE3: 85 13        	sta	<L631+img_1+2
 12803                        ;	if(img!=NULL)
 12804                        	.line	1726
 12805                        ;	{
 12806 06:2DE5: A5 11        	lda	<L631+img_1
 12807 06:2DE7: 05 13        	ora	<L631+img_1+2
 12808 06:2DE9: D0 03        	bne	L634
 12809 06:2DEB: 82 BD 00     	brl	L10181
 12810                        L634:
 12811                        	.line	1727
 12812                        ;		for (y = 0; y < ICONH; y++) 
 12813                        	.line	1728
 12814 06:2DEE: 64 0B        	stz	<L631+y_1
 12815                        L10184:
 12816                        ;		{
 12817                        	.line	1729
 12818                        ;			for (x = 0; x < ICONW; x++) 
 12819                        	.line	1730
 12820 06:2DF0: 64 09        	stz	<L631+x_1
 12821                        L10187:
 12822                        ;			{
 12823                        	.line	1731
 12824                        ;				char b = img[y * ICONW +
                     x];
 12825                        ;				if (b > 0) 
 12826                        	.block	1733
 12827             0000000C   b_2	set	12
 12828                        	.sym	b,12,14,1,8
 12829 06:2DF2: A5 0B        	lda	<L631+y_1
 12830 06:2DF4: 0A           	asl	A
 12831 06:2DF5: 0A           	asl	A
 12832 06:2DF6: 0A           	asl	A
 12833 06:2DF7: 0A           	asl	A
 12834 06:2DF8: 85 01        	sta	<R0
 12835 06:2DFA: 18           	clc
 12836 06:2DFB: A5 01        	lda	<R0
 12837 06:2DFD: 65 09        	adc	<L631+x_1
 12838 06:2DFF: 85 05        	sta	<R1
 12839 06:2E01: E2 20        	sep	#$20
 12840                        	longa	off
 12841 06:2E03: A4 05        	ldy	<R1
 12842 06:2E05: B7 11        	lda	[<L631+img_1],Y
 12843 06:2E07: 85 15        	sta	<L631+b_2
 12844 06:2E09: C2 20        	rep	#$20
 12845                        	longa	on
 12846                        	.line	1733
 12847                        ;				{
  Mon Aug  9 2021 16:52                                                Page 238


 12848 06:2E0B: E2 20        	sep	#$20
 12849                        	longa	off
 12850 06:2E0D: A9 00        	lda	#$0
 12851 06:2E0F: C5 15        	cmp	<L631+b_2
 12852 06:2E11: C2 20        	rep	#$20
 12853                        	longa	on
 12854 06:2E13: 90 03        	bcc	L636
 12855 06:2E15: 82 68 00     	brl	L10188
 12856                        L636:
 12857                        	.line	1734
 12858                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
 12859                        	.line	1735
 12860                        ;						b = pale
                    tteId;
 12861 06:2E18: A5 21        	lda	<L630+mode_0
 12862 06:2E1A: C9 F0 00     	cmp	#<$f0
 12863 06:2E1D: F0 03        	beq	L637
 12864 06:2E1F: 82 08 00     	brl	L10189
 12865                        L637:
 12866                        	.line	1736
 12867 06:2E22: E2 20        	sep	#$20
 12868                        	longa	off
 12869 06:2E24: A5 1F        	lda	<L630+paletteId_0
 12870 06:2E26: 85 15        	sta	<L631+b_2
 12871 06:2E28: C2 20        	rep	#$20
 12872                        	longa	on
 12873                        ;
 12874                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
 12875                        L10189:
 12876                        	.line	1738
 12877                        ;						b = pale
                    tteId;
 12878 06:2E2A: A5 21        	lda	<L630+mode_0
 12879 06:2E2C: C9 F1 00     	cmp	#<$f1
 12880 06:2E2F: F0 03        	beq	L638
 12881 06:2E31: 82 15 00     	brl	L10190
 12882                        L638:
 12883 06:2E34: E2 20        	sep	#$20
 12884                        	longa	off
 12885 06:2E36: A5 15        	lda	<L631+b_2
 12886 06:2E38: C9 0F        	cmp	#<$f
 12887 06:2E3A: C2 20        	rep	#$20
 12888                        	longa	on
 12889 06:2E3C: F0 03        	beq	L639
 12890 06:2E3E: 82 08 00     	brl	L10190
 12891                        L639:
 12892                        	.line	1739
 12893 06:2E41: E2 20        	sep	#$20
 12894                        	longa	off
 12895 06:2E43: A5 1F        	lda	<L630+paletteId_0
 12896 06:2E45: 85 15        	sta	<L631+b_2
 12897 06:2E47: C2 20        	rep	#$20
 12898                        	longa	on
 12899                        ;
 12900                        ;					k_draw_pixel(tex
                    tX + x, textY + y, b);
  Mon Aug  9 2021 16:52                                                Page 239


 12901                        L10190:
 12902                        	.line	1741
 12903 06:2E49: D4 15        	pei	<L631+b_2
 12904 06:2E4B: 18           	clc
 12905 06:2E4C: A5 0F        	lda	<L631+textY_1
 12906 06:2E4E: 65 0B        	adc	<L631+y_1
 12907 06:2E50: 85 01        	sta	<R0
 12908 06:2E52: A0 00 00     	ldy	#$0
 12909 06:2E55: A5 01        	lda	<R0
 12910 06:2E57: 10 01        	bpl	L640
 12911 06:2E59: 88           	dey
 12912                        L640:
 12913 06:2E5A: 85 01        	sta	<R0
 12914 06:2E5C: 84 03        	sty	<R0+2
 12915 06:2E5E: D4 03        	pei	<R0+2
 12916 06:2E60: D4 01        	pei	<R0
 12917 06:2E62: 18           	clc
 12918 06:2E63: A5 0D        	lda	<L631+textX_1
 12919 06:2E65: 65 09        	adc	<L631+x_1
 12920 06:2E67: 85 05        	sta	<R1
 12921 06:2E69: A0 00 00     	ldy	#$0
 12922 06:2E6C: A5 05        	lda	<R1
 12923 06:2E6E: 10 01        	bpl	L641
 12924 06:2E70: 88           	dey
 12925                        L641:
 12926 06:2E71: 85 05        	sta	<R1
 12927 06:2E73: 84 07        	sty	<R1+2
 12928 06:2E75: D4 07        	pei	<R1+2
 12929 06:2E77: D4 05        	pei	<R1
 12930 06:2E79: 22 3B 13 06  	jsl	~~k_draw_pixel
 12931                        ;				}
 12932                        	.line	1742
 12933                        ;				else 
 12934 06:2E7D: 82 07 00     	brl	L10191
 12935                        L10188:
 12936                        ;				{ 
 12937                        	.line	1744
 12938                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
 12939                        	.line	1745
 12940                        ;					{
 12941 06:2E80: A5 21        	lda	<L630+mode_0
 12942 06:2E82: D0 03        	bne	L642
 12943 06:2E84: 82 00 00     	brl	L10192
 12944                        L642:
 12945                        	.line	1746
 12946                        ;					
 12947                        ;					}
 12948                        	.line	1748
 12949                        ;				}
 12950                        L10192:
 12951                        	.line	1749
 12952                        L10191:
 12953                        ;			}
 12954                        	.endblock	1750
 12955                        	.line	1750
 12956                        L10185:
 12957 06:2E87: E6 09        	inc	<L631+x_1
  Mon Aug  9 2021 16:52                                                Page 240


 12958 06:2E89: 38           	sec
 12959 06:2E8A: A5 09        	lda	<L631+x_1
 12960 06:2E8C: E9 10 00     	sbc	#<$10
 12961 06:2E8F: 70 03        	bvs	L643
 12962 06:2E91: 49 00 80     	eor	#$8000
 12963                        L643:
 12964 06:2E94: 30 03        	bmi	L644
 12965 06:2E96: 82 59 FF     	brl	L10187
 12966                        L644:
 12967                        L10186:
 12968                        ;		}
 12969                        	.line	1751
 12970                        L10182:
 12971 06:2E99: E6 0B        	inc	<L631+y_1
 12972 06:2E9B: 38           	sec
 12973 06:2E9C: A5 0B        	lda	<L631+y_1
 12974 06:2E9E: E9 10 00     	sbc	#<$10
 12975 06:2EA1: 70 03        	bvs	L645
 12976 06:2EA3: 49 00 80     	eor	#$8000
 12977                        L645:
 12978 06:2EA6: 30 03        	bmi	L646
 12979 06:2EA8: 82 45 FF     	brl	L10184
 12980                        L646:
 12981                        L10183:
 12982                        ;	}
 12983                        	.line	1752
 12984                        ;	return FONTW;
 12985                        L10181:
 12986                        	.line	1753
 12987 06:2EAB: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 12988                        L647:
 12989 06:2EAF: A8           	tay
 12990 06:2EB0: A5 17        	lda	<L630+2
 12991 06:2EB2: 85 21        	sta	<L630+2+10
 12992 06:2EB4: A5 16        	lda	<L630+1
 12993 06:2EB6: 85 20        	sta	<L630+1+10
 12994 06:2EB8: 2B           	pld
 12995 06:2EB9: 3B           	tsc
 12996 06:2EBA: 18           	clc
 12997 06:2EBB: 69 1F 00     	adc	#L630+10
 12998 06:2EBE: 1B           	tcs
 12999 06:2EBF: 98           	tya
 13000 06:2EC0: 6B           	rtl
 13001                        ;}
 13002                        	.line	1754
 13003                        	.endblock	1754
 13004             00000015   L630	equ	21
 13005             00000009   L631	equ	9
 13006 06:2EC1:              	ends
 13007                        	efunc
 13008                        	.endfunc	1754,9,21
 13009                        	.line	1754
 13010                        ;
 13011                        ;int k_put_winicon_point_ex(char iconCode,int cx,i
                    nt cy,int paletteId,int mode,UINT page)
 13012                        ;{
 13013                        	.line	1756
 13014                        	.line	1757
  Mon Aug  9 2021 16:52                                                Page 241


 13015                        	GFX
 13016                        	xdef	~~k_put_winicon_point_ex
 13017                        	func
 13018                        	.function	1757
 13019                        ~~k_put_winicon_point_ex:
 13020                        	longa	on
 13021                        	longi	on
 13022 06:2EC1: 3B           	tsc
 13023 06:2EC2: 38           	sec
 13024 06:2EC3: E9 15 00     	sbc	#L648
 13025 06:2EC6: 1B           	tcs
 13026 06:2EC7: 0B           	phd
 13027 06:2EC8: 5B           	tcd
 13028             00000004   iconCode_0	set	4
 13029             00000006   cx_0	set	6
 13030             00000008   cy_0	set	8
 13031             0000000A   paletteId_0	set	10
 13032             0000000C   mode_0	set	12
 13033             0000000E   page_0	set	14
 13034                        	.block	1757
 13035                        ;	int x = 0;
 13036                        ;	int y = 0;
 13037                        ;	int textX = cx;
 13038                        ;	int textY = cy;
 13039                        ;
 13040                        ;	char FAR* img = NULL;
 13041                        ;
 13042                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
 13043             00000000   x_1	set	0
 13044             00000002   y_1	set	2
 13045             00000004   textX_1	set	4
 13046             00000006   textY_1	set	6
 13047             00000008   img_1	set	8
 13048                        	.sym	x,0,5,1,16
 13049                        	.sym	y,2,5,1,16
 13050                        	.sym	textX,4,5,1,16
 13051                        	.sym	textY,6,5,1,16
 13052                        	.sym	img,8,142,1,32
 13053                        	.sym	iconCode,4,14,6,8
 13054                        	.sym	cx,6,5,6,16
 13055                        	.sym	cy,8,5,6,16
 13056                        	.sym	paletteId,10,5,6,16
 13057                        	.sym	mode,12,5,6,16
 13058                        	.sym	page,14,16,6,16
 13059 06:2EC9: 64 09        	stz	<L649+x_1
 13060 06:2ECB: 64 0B        	stz	<L649+y_1
 13061 06:2ECD: A5 1B        	lda	<L648+cx_0
 13062 06:2ECF: 85 0D        	sta	<L649+textX_1
 13063 06:2ED1: A5 1D        	lda	<L648+cy_0
 13064 06:2ED3: 85 0F        	sta	<L649+textY_1
 13065 06:2ED5: 64 11        	stz	<L649+img_1
 13066 06:2ED7: 64 13        	stz	<L649+img_1+2
 13067                        	.line	1765
 13068 06:2ED9: A5 19        	lda	<L648+iconCode_0
 13069 06:2EDB: 29 FF 00     	and	#<$ff
 13070 06:2EDE: 85 05        	sta	<R1
 13071 06:2EE0: A0 00 00     	ldy	#$0
 13072 06:2EE3: A5 05        	lda	<R1
  Mon Aug  9 2021 16:52                                                Page 242


 13073 06:2EE5: 10 01        	bpl	L651
 13074 06:2EE7: 88           	dey
 13075                        L651:
 13076 06:2EE8: 85 05        	sta	<R1
 13077 06:2EEA: 84 07        	sty	<R1+2
 13078 06:2EEC: D4 07        	pei	<R1+2
 13079 06:2EEE: D4 05        	pei	<R1
 13080 06:2EF0: A9 08 00     	lda	#$8
 13081                        	xref	~~~lasl
 13082 06:2EF3: 22 xx xx xx  	jsl	~~~lasl
 13083 06:2EF7: 85 01        	sta	<R0
 13084 06:2EF9: 86 03        	stx	<R0+2
 13085 06:2EFB: 18           	clc
 13086 06:2EFC: A9 xx xx     	lda	#<~~windowIconImg
 13087 06:2EFF: 65 01        	adc	<R0
 13088 06:2F01: 85 11        	sta	<L649+img_1
 13089 06:2F03: A9 xx xx     	lda	#^~~windowIconImg
 13090 06:2F06: 65 03        	adc	<R0+2
 13091 06:2F08: 85 13        	sta	<L649+img_1+2
 13092                        ;	if(img!=NULL)
 13093                        	.line	1766
 13094                        ;	{
 13095 06:2F0A: A5 11        	lda	<L649+img_1
 13096 06:2F0C: 05 13        	ora	<L649+img_1+2
 13097 06:2F0E: D0 03        	bne	L652
 13098 06:2F10: 82 BF 00     	brl	L10193
 13099                        L652:
 13100                        	.line	1767
 13101                        ;		for (y = 0; y < ICONH; y++)
 13102                        	.line	1768
 13103 06:2F13: 64 0B        	stz	<L649+y_1
 13104                        L10196:
 13105                        ;		{
 13106                        	.line	1769
 13107                        ;			for (x = 0; x < ICONW; x++)
 13108                        	.line	1770
 13109 06:2F15: 64 09        	stz	<L649+x_1
 13110                        L10199:
 13111                        ;			{
 13112                        	.line	1771
 13113                        ;				char b = img[y * ICONW +
                     x];
 13114                        ;				if (b > 0)
 13115                        	.block	1773
 13116             0000000C   b_2	set	12
 13117                        	.sym	b,12,14,1,8
 13118 06:2F17: A5 0B        	lda	<L649+y_1
 13119 06:2F19: 0A           	asl	A
 13120 06:2F1A: 0A           	asl	A
 13121 06:2F1B: 0A           	asl	A
 13122 06:2F1C: 0A           	asl	A
 13123 06:2F1D: 85 01        	sta	<R0
 13124 06:2F1F: 18           	clc
 13125 06:2F20: A5 01        	lda	<R0
 13126 06:2F22: 65 09        	adc	<L649+x_1
 13127 06:2F24: 85 05        	sta	<R1
 13128 06:2F26: E2 20        	sep	#$20
 13129                        	longa	off
  Mon Aug  9 2021 16:52                                                Page 243


 13130 06:2F28: A4 05        	ldy	<R1
 13131 06:2F2A: B7 11        	lda	[<L649+img_1],Y
 13132 06:2F2C: 85 15        	sta	<L649+b_2
 13133 06:2F2E: C2 20        	rep	#$20
 13134                        	longa	on
 13135                        	.line	1773
 13136                        ;				{
 13137 06:2F30: E2 20        	sep	#$20
 13138                        	longa	off
 13139 06:2F32: A9 00        	lda	#$0
 13140 06:2F34: C5 15        	cmp	<L649+b_2
 13141 06:2F36: C2 20        	rep	#$20
 13142                        	longa	on
 13143 06:2F38: 90 03        	bcc	L654
 13144 06:2F3A: 82 6A 00     	brl	L10200
 13145                        L654:
 13146                        	.line	1774
 13147                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
 13148                        	.line	1775
 13149                        ;						b = pale
                    tteId;
 13150 06:2F3D: A5 21        	lda	<L648+mode_0
 13151 06:2F3F: C9 F0 00     	cmp	#<$f0
 13152 06:2F42: F0 03        	beq	L655
 13153 06:2F44: 82 08 00     	brl	L10201
 13154                        L655:
 13155                        	.line	1776
 13156 06:2F47: E2 20        	sep	#$20
 13157                        	longa	off
 13158 06:2F49: A5 1F        	lda	<L648+paletteId_0
 13159 06:2F4B: 85 15        	sta	<L649+b_2
 13160 06:2F4D: C2 20        	rep	#$20
 13161                        	longa	on
 13162                        ;
 13163                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
 13164                        L10201:
 13165                        	.line	1778
 13166                        ;						b = pale
                    tteId;
 13167 06:2F4F: A5 21        	lda	<L648+mode_0
 13168 06:2F51: C9 F1 00     	cmp	#<$f1
 13169 06:2F54: F0 03        	beq	L656
 13170 06:2F56: 82 15 00     	brl	L10202
 13171                        L656:
 13172 06:2F59: E2 20        	sep	#$20
 13173                        	longa	off
 13174 06:2F5B: A5 15        	lda	<L649+b_2
 13175 06:2F5D: C9 0F        	cmp	#<$f
 13176 06:2F5F: C2 20        	rep	#$20
 13177                        	longa	on
 13178 06:2F61: F0 03        	beq	L657
 13179 06:2F63: 82 08 00     	brl	L10202
 13180                        L657:
 13181                        	.line	1779
 13182 06:2F66: E2 20        	sep	#$20
 13183                        	longa	off
  Mon Aug  9 2021 16:52                                                Page 244


 13184 06:2F68: A5 1F        	lda	<L648+paletteId_0
 13185 06:2F6A: 85 15        	sta	<L649+b_2
 13186 06:2F6C: C2 20        	rep	#$20
 13187                        	longa	on
 13188                        ;
 13189                        ;					k_draw_pixel_ex(
                    textX + x, textY + y, b, page);
 13190                        L10202:
 13191                        	.line	1781
 13192 06:2F6E: D4 23        	pei	<L648+page_0
 13193 06:2F70: D4 15        	pei	<L649+b_2
 13194 06:2F72: 18           	clc
 13195 06:2F73: A5 0F        	lda	<L649+textY_1
 13196 06:2F75: 65 0B        	adc	<L649+y_1
 13197 06:2F77: 85 01        	sta	<R0
 13198 06:2F79: A0 00 00     	ldy	#$0
 13199 06:2F7C: A5 01        	lda	<R0
 13200 06:2F7E: 10 01        	bpl	L658
 13201 06:2F80: 88           	dey
 13202                        L658:
 13203 06:2F81: 85 01        	sta	<R0
 13204 06:2F83: 84 03        	sty	<R0+2
 13205 06:2F85: D4 03        	pei	<R0+2
 13206 06:2F87: D4 01        	pei	<R0
 13207 06:2F89: 18           	clc
 13208 06:2F8A: A5 0D        	lda	<L649+textX_1
 13209 06:2F8C: 65 09        	adc	<L649+x_1
 13210 06:2F8E: 85 05        	sta	<R1
 13211 06:2F90: A0 00 00     	ldy	#$0
 13212 06:2F93: A5 05        	lda	<R1
 13213 06:2F95: 10 01        	bpl	L659
 13214 06:2F97: 88           	dey
 13215                        L659:
 13216 06:2F98: 85 05        	sta	<R1
 13217 06:2F9A: 84 07        	sty	<R1+2
 13218 06:2F9C: D4 07        	pei	<R1+2
 13219 06:2F9E: D4 05        	pei	<R1
 13220 06:2FA0: 22 1B 15 06  	jsl	~~k_draw_pixel_ex
 13221                        ;
 13222                        ;
 13223                        ;				}
 13224                        	.line	1784
 13225                        ;				else
 13226 06:2FA4: 82 07 00     	brl	L10203
 13227                        L10200:
 13228                        ;				{
 13229                        	.line	1786
 13230                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
 13231                        	.line	1787
 13232                        ;					{
 13233 06:2FA7: A5 21        	lda	<L648+mode_0
 13234 06:2FA9: D0 03        	bne	L660
 13235 06:2FAB: 82 00 00     	brl	L10204
 13236                        L660:
 13237                        	.line	1788
 13238                        ;
 13239                        ;					}
  Mon Aug  9 2021 16:52                                                Page 245


 13240                        	.line	1790
 13241                        ;				}
 13242                        L10204:
 13243                        	.line	1791
 13244                        L10203:
 13245                        ;			}
 13246                        	.endblock	1792
 13247                        	.line	1792
 13248                        L10197:
 13249 06:2FAE: E6 09        	inc	<L649+x_1
 13250 06:2FB0: 38           	sec
 13251 06:2FB1: A5 09        	lda	<L649+x_1
 13252 06:2FB3: E9 10 00     	sbc	#<$10
 13253 06:2FB6: 70 03        	bvs	L661
 13254 06:2FB8: 49 00 80     	eor	#$8000
 13255                        L661:
 13256 06:2FBB: 30 03        	bmi	L662
 13257 06:2FBD: 82 57 FF     	brl	L10199
 13258                        L662:
 13259                        L10198:
 13260                        ;		}
 13261                        	.line	1793
 13262                        L10194:
 13263 06:2FC0: E6 0B        	inc	<L649+y_1
 13264 06:2FC2: 38           	sec
 13265 06:2FC3: A5 0B        	lda	<L649+y_1
 13266 06:2FC5: E9 10 00     	sbc	#<$10
 13267 06:2FC8: 70 03        	bvs	L663
 13268 06:2FCA: 49 00 80     	eor	#$8000
 13269                        L663:
 13270 06:2FCD: 30 03        	bmi	L664
 13271 06:2FCF: 82 43 FF     	brl	L10196
 13272                        L664:
 13273                        L10195:
 13274                        ;	}
 13275                        	.line	1794
 13276                        ;	return FONTW;
 13277                        L10193:
 13278                        	.line	1795
 13279 06:2FD2: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 13280                        L665:
 13281 06:2FD6: A8           	tay
 13282 06:2FD7: A5 17        	lda	<L648+2
 13283 06:2FD9: 85 23        	sta	<L648+2+12
 13284 06:2FDB: A5 16        	lda	<L648+1
 13285 06:2FDD: 85 22        	sta	<L648+1+12
 13286 06:2FDF: 2B           	pld
 13287 06:2FE0: 3B           	tsc
 13288 06:2FE1: 18           	clc
 13289 06:2FE2: 69 21 00     	adc	#L648+12
 13290 06:2FE5: 1B           	tcs
 13291 06:2FE6: 98           	tya
 13292 06:2FE7: 6B           	rtl
 13293                        ;}
 13294                        	.line	1796
 13295                        	.endblock	1796
 13296             00000015   L648	equ	21
 13297             00000009   L649	equ	9
  Mon Aug  9 2021 16:52                                                Page 246


 13298 06:2FE8:              	ends
 13299                        	efunc
 13300                        	.endfunc	1796,9,21
 13301                        	.line	1796
 13302                        ;
 13303                        ;
 13304                        ;
 13305                        ;/*
 13306                        ; 		//PFXNODE k_point_in_nodes(int x
                    ,int y);
 13307                        ;		//void k_add_window_hit_node(PCLICKDETEC
                    TED pcd);
 13308                        ;
 13309                        ;		PWINDOW k_create_ui_window_class(cx,cy,I
                    CONW,ICONH,LPCHAR title,LPCHAR className,int color, int bgco
                    lor);
 13310                        ;
 13311                        ;		k_add_window_hit_node();
 13312                        ;
 13313                        ;
 13314                        ; */
 13315                        ;
 13316                        ;
 13317                        ;void k_put_winicon_scaled(char iconCode,int cx,in
                    t cy,char paletteId,int mode,int scale)
 13318                        ;{
 13319                        	.line	1812
 13320                        	.line	1813
 13321                        	GFX
 13322                        	xdef	~~k_put_winicon_scaled
 13323                        	func
 13324                        	.function	1813
 13325                        ~~k_put_winicon_scaled:
 13326                        	longa	on
 13327                        	longi	on
 13328 06:2FE8: 3B           	tsc
 13329 06:2FE9: 38           	sec
 13330 06:2FEA: E9 25 00     	sbc	#L666
 13331 06:2FED: 1B           	tcs
 13332 06:2FEE: 0B           	phd
 13333 06:2FEF: 5B           	tcd
 13334             00000004   iconCode_0	set	4
 13335             00000006   cx_0	set	6
 13336             00000008   cy_0	set	8
 13337             0000000A   paletteId_0	set	10
 13338             0000000C   mode_0	set	12
 13339             0000000E   scale_0	set	14
 13340                        	.block	1813
 13341                        ;	int x = 0;
 13342                        ;	int y = 0;
 13343                        ;
 13344                        ;	int height = ICONH * scale;
 13345                        ;	int width  = ICONW * scale;
 13346                        ;	
 13347                        ;	int textX = cx ;
 13348                        ;	int textY = cy ;
 13349                        ;
 13350                        ;	int px   = 0;
  Mon Aug  9 2021 16:52                                                Page 247


 13351                        ;	int py   = 0;
 13352                        ;	int offx = 0;
 13353                        ;	int offy = 0;
 13354                        ;	int sx   = 0;
 13355                        ;	int sy   = 0;
 13356                        ;
 13357                        ;	char b   = 0;
 13358                        ;
 13359                        ;	char FAR* img = NULL;
 13360                        ;
 13361                        ;	img = windowIconImg[(int)(iconCode & 0xFF)];	
                    //printf("putFont:%d\n",characterROMMapping[outChar]);
 13362             00000000   x_1	set	0
 13363             00000002   y_1	set	2
 13364             00000004   height_1	set	4
 13365             00000006   width_1	set	6
 13366             00000008   textX_1	set	8
 13367             0000000A   textY_1	set	10
 13368             0000000C   px_1	set	12
 13369             0000000E   py_1	set	14
 13370             00000010   offx_1	set	16
 13371             00000012   offy_1	set	18
 13372             00000014   sx_1	set	20
 13373             00000016   sy_1	set	22
 13374             00000018   b_1	set	24
 13375             00000019   img_1	set	25
 13376                        	.sym	x,0,5,1,16
 13377                        	.sym	y,2,5,1,16
 13378                        	.sym	height,4,5,1,16
 13379                        	.sym	width,6,5,1,16
 13380                        	.sym	textX,8,5,1,16
 13381                        	.sym	textY,10,5,1,16
 13382                        	.sym	px,12,5,1,16
 13383                        	.sym	py,14,5,1,16
 13384                        	.sym	offx,16,5,1,16
 13385                        	.sym	offy,18,5,1,16
 13386                        	.sym	sx,20,5,1,16
 13387                        	.sym	sy,22,5,1,16
 13388                        	.sym	b,24,14,1,8
 13389                        	.sym	img,25,142,1,32
 13390                        	.sym	iconCode,4,14,6,8
 13391                        	.sym	cx,6,5,6,16
 13392                        	.sym	cy,8,5,6,16
 13393                        	.sym	paletteId,10,14,6,8
 13394                        	.sym	mode,12,5,6,16
 13395                        	.sym	scale,14,5,6,16
 13396 06:2FF0: 64 09        	stz	<L667+x_1
 13397 06:2FF2: 64 0B        	stz	<L667+y_1
 13398 06:2FF4: A5 33        	lda	<L666+scale_0
 13399 06:2FF6: 0A           	asl	A
 13400 06:2FF7: 0A           	asl	A
 13401 06:2FF8: 0A           	asl	A
 13402 06:2FF9: 0A           	asl	A
 13403 06:2FFA: 85 0D        	sta	<L667+height_1
 13404 06:2FFC: A5 33        	lda	<L666+scale_0
 13405 06:2FFE: 0A           	asl	A
 13406 06:2FFF: 0A           	asl	A
 13407 06:3000: 0A           	asl	A
  Mon Aug  9 2021 16:52                                                Page 248


 13408 06:3001: 0A           	asl	A
 13409 06:3002: 85 0F        	sta	<L667+width_1
 13410 06:3004: A5 2B        	lda	<L666+cx_0
 13411 06:3006: 85 11        	sta	<L667+textX_1
 13412 06:3008: A5 2D        	lda	<L666+cy_0
 13413 06:300A: 85 13        	sta	<L667+textY_1
 13414 06:300C: 64 15        	stz	<L667+px_1
 13415 06:300E: 64 17        	stz	<L667+py_1
 13416 06:3010: 64 19        	stz	<L667+offx_1
 13417 06:3012: 64 1B        	stz	<L667+offy_1
 13418 06:3014: 64 1D        	stz	<L667+sx_1
 13419 06:3016: 64 1F        	stz	<L667+sy_1
 13420 06:3018: E2 20        	sep	#$20
 13421                        	longa	off
 13422 06:301A: 64 21        	stz	<L667+b_1
 13423 06:301C: C2 20        	rep	#$20
 13424                        	longa	on
 13425 06:301E: 64 22        	stz	<L667+img_1
 13426 06:3020: 64 24        	stz	<L667+img_1+2
 13427                        	.line	1834
 13428 06:3022: A5 29        	lda	<L666+iconCode_0
 13429 06:3024: 29 FF 00     	and	#<$ff
 13430 06:3027: 85 05        	sta	<R1
 13431 06:3029: A0 00 00     	ldy	#$0
 13432 06:302C: A5 05        	lda	<R1
 13433 06:302E: 10 01        	bpl	L669
 13434 06:3030: 88           	dey
 13435                        L669:
 13436 06:3031: 85 05        	sta	<R1
 13437 06:3033: 84 07        	sty	<R1+2
 13438 06:3035: D4 07        	pei	<R1+2
 13439 06:3037: D4 05        	pei	<R1
 13440 06:3039: A9 08 00     	lda	#$8
 13441                        	xref	~~~lasl
 13442 06:303C: 22 xx xx xx  	jsl	~~~lasl
 13443 06:3040: 85 01        	sta	<R0
 13444 06:3042: 86 03        	stx	<R0+2
 13445 06:3044: 18           	clc
 13446 06:3045: A9 xx xx     	lda	#<~~windowIconImg
 13447 06:3048: 65 01        	adc	<R0
 13448 06:304A: 85 22        	sta	<L667+img_1
 13449 06:304C: A9 xx xx     	lda	#^~~windowIconImg
 13450 06:304F: 65 03        	adc	<R0+2
 13451 06:3051: 85 24        	sta	<L667+img_1+2
 13452                        ;	if(img!=NULL)
 13453                        	.line	1835
 13454                        ;	{
 13455 06:3053: A5 22        	lda	<L667+img_1
 13456 06:3055: 05 24        	ora	<L667+img_1+2
 13457 06:3057: D0 03        	bne	L670
 13458 06:3059: 82 E2 00     	brl	L10205
 13459                        L670:
 13460                        	.line	1836
 13461                        ;		py = 0;
 13462                        	.line	1837
 13463 06:305C: 64 17        	stz	<L667+py_1
 13464                        ;		for (y = 0; y < height; y+=scale) 
 13465                        	.line	1838
  Mon Aug  9 2021 16:52                                                Page 249


 13466 06:305E: 64 0B        	stz	<L667+y_1
 13467 06:3060: 82 CC 00     	brl	L10209
 13468                        L10208:
 13469                        ;		{
 13470                        	.line	1839
 13471                        ;			offy = y;
 13472                        	.line	1840
 13473 06:3063: A5 0B        	lda	<L667+y_1
 13474 06:3065: 85 1B        	sta	<L667+offy_1
 13475                        ;			px   = 0;
 13476                        	.line	1841
 13477 06:3067: 64 15        	stz	<L667+px_1
 13478                        ;			for (x = 0; x < width; x+=scale)
                     
 13479                        	.line	1842
 13480 06:3069: 64 09        	stz	<L667+x_1
 13481 06:306B: 82 A9 00     	brl	L10213
 13482                        L10212:
 13483                        ;			{
 13484                        	.line	1843
 13485                        ;				// get the pixel value
 13486                        ;				offx = x;
 13487                        	.line	1845
 13488 06:306E: A5 09        	lda	<L667+x_1
 13489 06:3070: 85 19        	sta	<L667+offx_1
 13490                        ;				b = img[py * ICONW + px]
                    ;
 13491                        	.line	1846
 13492 06:3072: A5 17        	lda	<L667+py_1
 13493 06:3074: 0A           	asl	A
 13494 06:3075: 0A           	asl	A
 13495 06:3076: 0A           	asl	A
 13496 06:3077: 0A           	asl	A
 13497 06:3078: 85 01        	sta	<R0
 13498 06:307A: 18           	clc
 13499 06:307B: A5 01        	lda	<R0
 13500 06:307D: 65 15        	adc	<L667+px_1
 13501 06:307F: 85 05        	sta	<R1
 13502 06:3081: E2 20        	sep	#$20
 13503                        	longa	off
 13504 06:3083: A4 05        	ldy	<R1
 13505 06:3085: B7 22        	lda	[<L667+img_1],Y
 13506 06:3087: 85 21        	sta	<L667+b_1
 13507 06:3089: C2 20        	rep	#$20
 13508                        	longa	on
 13509                        ;				if (b > -1) 
 13510                        	.line	1847
 13511                        ;				{ // plot the pixel	
                    				
 13512 06:308B: A5 21        	lda	<L667+b_1
 13513 06:308D: 29 FF 00     	and	#$ff
 13514 06:3090: 85 01        	sta	<R0
 13515 06:3092: 38           	sec
 13516 06:3093: A9 FF FF     	lda	#$ffff
 13517 06:3096: E5 01        	sbc	<R0
 13518 06:3098: 70 03        	bvs	L671
 13519 06:309A: 49 00 80     	eor	#$8000
 13520                        L671:
  Mon Aug  9 2021 16:52                                                Page 250


 13521 06:309D: 10 03        	bpl	L672
 13522 06:309F: 82 6C 00     	brl	L10214
 13523                        L672:
 13524                        	.line	1848
 13525                        ;					offy = y;
 13526                        	.line	1849
 13527 06:30A2: A5 0B        	lda	<L667+y_1
 13528 06:30A4: 85 1B        	sta	<L667+offy_1
 13529                        ;					for(sy=0;sy<scal
                    e;sy++)
 13530                        	.line	1850
 13531 06:30A6: 64 1F        	stz	<L667+sy_1
 13532 06:30A8: 82 54 00     	brl	L10218
 13533                        L10217:
 13534                        ;					{
 13535                        	.line	1851
 13536                        ;						offx = x
                    ;
 13537                        	.line	1852
 13538 06:30AB: A5 09        	lda	<L667+x_1
 13539 06:30AD: 85 19        	sta	<L667+offx_1
 13540                        ;						for(sx=0
                    ;sx<scale;sx++)
 13541                        	.line	1853
 13542 06:30AF: 64 1D        	stz	<L667+sx_1
 13543 06:30B1: 82 38 00     	brl	L10222
 13544                        L10221:
 13545                        ;						{
 13546                        	.line	1854
 13547                        ;							
                    k_draw_pixel(textX + offx, textY + offy, b);
 13548                        	.line	1855
 13549 06:30B4: D4 21        	pei	<L667+b_1
 13550 06:30B6: 18           	clc
 13551 06:30B7: A5 13        	lda	<L667+textY_1
 13552 06:30B9: 65 1B        	adc	<L667+offy_1
 13553 06:30BB: 85 01        	sta	<R0
 13554 06:30BD: A0 00 00     	ldy	#$0
 13555 06:30C0: A5 01        	lda	<R0
 13556 06:30C2: 10 01        	bpl	L673
 13557 06:30C4: 88           	dey
 13558                        L673:
 13559 06:30C5: 85 01        	sta	<R0
 13560 06:30C7: 84 03        	sty	<R0+2
 13561 06:30C9: D4 03        	pei	<R0+2
 13562 06:30CB: D4 01        	pei	<R0
 13563 06:30CD: 18           	clc
 13564 06:30CE: A5 11        	lda	<L667+textX_1
 13565 06:30D0: 65 19        	adc	<L667+offx_1
 13566 06:30D2: 85 05        	sta	<R1
 13567 06:30D4: A0 00 00     	ldy	#$0
 13568 06:30D7: A5 05        	lda	<R1
 13569 06:30D9: 10 01        	bpl	L674
 13570 06:30DB: 88           	dey
 13571                        L674:
 13572 06:30DC: 85 05        	sta	<R1
 13573 06:30DE: 84 07        	sty	<R1+2
 13574 06:30E0: D4 07        	pei	<R1+2
  Mon Aug  9 2021 16:52                                                Page 251


 13575 06:30E2: D4 05        	pei	<R1
 13576 06:30E4: 22 3B 13 06  	jsl	~~k_draw_pixel
 13577                        ;							
                    offx++;
 13578                        	.line	1856
 13579 06:30E8: E6 19        	inc	<L667+offx_1
 13580                        ;						}
 13581                        	.line	1857
 13582                        L10219:
 13583 06:30EA: E6 1D        	inc	<L667+sx_1
 13584                        L10222:
 13585 06:30EC: 38           	sec
 13586 06:30ED: A5 1D        	lda	<L667+sx_1
 13587 06:30EF: E5 33        	sbc	<L666+scale_0
 13588 06:30F1: 70 03        	bvs	L675
 13589 06:30F3: 49 00 80     	eor	#$8000
 13590                        L675:
 13591 06:30F6: 30 03        	bmi	L676
 13592 06:30F8: 82 B9 FF     	brl	L10221
 13593                        L676:
 13594                        L10220:
 13595                        ;						offy++;
 13596                        	.line	1858
 13597 06:30FB: E6 1B        	inc	<L667+offy_1
 13598                        ;					}
 13599                        	.line	1859
 13600                        L10215:
 13601 06:30FD: E6 1F        	inc	<L667+sy_1
 13602                        L10218:
 13603 06:30FF: 38           	sec
 13604 06:3100: A5 1F        	lda	<L667+sy_1
 13605 06:3102: E5 33        	sbc	<L666+scale_0
 13606 06:3104: 70 03        	bvs	L677
 13607 06:3106: 49 00 80     	eor	#$8000
 13608                        L677:
 13609 06:3109: 30 03        	bmi	L678
 13610 06:310B: 82 9D FF     	brl	L10217
 13611                        L678:
 13612                        L10216:
 13613                        ;				}
 13614                        	.line	1860
 13615                        ;				px++;
 13616                        L10214:
 13617                        	.line	1861
 13618 06:310E: E6 15        	inc	<L667+px_1
 13619                        ;			} // end "for x"
 13620                        	.line	1862
 13621                        L10210:
 13622 06:3110: 18           	clc
 13623 06:3111: A5 09        	lda	<L667+x_1
 13624 06:3113: 65 33        	adc	<L666+scale_0
 13625 06:3115: 85 09        	sta	<L667+x_1
 13626                        L10213:
 13627 06:3117: 38           	sec
 13628 06:3118: A5 09        	lda	<L667+x_1
 13629 06:311A: E5 0F        	sbc	<L667+width_1
 13630 06:311C: 70 03        	bvs	L679
 13631 06:311E: 49 00 80     	eor	#$8000
  Mon Aug  9 2021 16:52                                                Page 252


 13632                        L679:
 13633 06:3121: 30 03        	bmi	L680
 13634 06:3123: 82 48 FF     	brl	L10212
 13635                        L680:
 13636                        L10211:
 13637                        ;			py++;
 13638                        	.line	1863
 13639 06:3126: E6 17        	inc	<L667+py_1
 13640                        ;		} // end "for y"
 13641                        	.line	1864
 13642                        L10206:
 13643 06:3128: 18           	clc
 13644 06:3129: A5 0B        	lda	<L667+y_1
 13645 06:312B: 65 33        	adc	<L666+scale_0
 13646 06:312D: 85 0B        	sta	<L667+y_1
 13647                        L10209:
 13648 06:312F: 38           	sec
 13649 06:3130: A5 0B        	lda	<L667+y_1
 13650 06:3132: E5 0D        	sbc	<L667+height_1
 13651 06:3134: 70 03        	bvs	L681
 13652 06:3136: 49 00 80     	eor	#$8000
 13653                        L681:
 13654 06:3139: 30 03        	bmi	L682
 13655 06:313B: 82 25 FF     	brl	L10208
 13656                        L682:
 13657                        L10207:
 13658                        ;	}
 13659                        	.line	1865
 13660                        ;}
 13661                        L10205:
 13662                        	.line	1866
 13663                        L683:
 13664 06:313E: A5 27        	lda	<L666+2
 13665 06:3140: 85 33        	sta	<L666+2+12
 13666 06:3142: A5 26        	lda	<L666+1
 13667 06:3144: 85 32        	sta	<L666+1+12
 13668 06:3146: 2B           	pld
 13669 06:3147: 3B           	tsc
 13670 06:3148: 18           	clc
 13671 06:3149: 69 31 00     	adc	#L666+12
 13672 06:314C: 1B           	tcs
 13673 06:314D: 6B           	rtl
 13674                        	.endblock	1866
 13675             00000025   L666	equ	37
 13676             00000009   L667	equ	9
 13677 06:314E:              	ends
 13678                        	efunc
 13679                        	.endfunc	1866,9,37
 13680                        	.line	1866
 13681                        ;
 13682                        ;
 13683                        ;void k_put_font(char outChar,int row,int column,c
                    har color)
 13684                        ;{
 13685                        	.line	1869
 13686                        	.line	1870
 13687                        	GFX
 13688                        	xdef	~~k_put_font
  Mon Aug  9 2021 16:52                                                Page 253


 13689                        	func
 13690                        	.function	1870
 13691                        ~~k_put_font:
 13692                        	longa	on
 13693                        	longi	on
 13694 06:314E: 3B           	tsc
 13695 06:314F: 38           	sec
 13696 06:3150: E9 21 00     	sbc	#L684
 13697 06:3153: 1B           	tcs
 13698 06:3154: 0B           	phd
 13699 06:3155: 5B           	tcd
 13700             00000004   outChar_0	set	4
 13701             00000006   row_0	set	6
 13702             00000008   column_0	set	8
 13703             0000000A   color_0	set	10
 13704                        	.block	1870
 13705                        ;	int x = 0;
 13706                        ;	int y = 0;
 13707                        ;	int textX = row * FONTW;
 13708                        ;	int textY = column * FONTH;
 13709                        ;
 13710                        ;	char FAR* img = NULL;//fontImg[ix];
 13711                        ;
 13712                        ;    if(outChar == 32)
 13713             00000000   x_1	set	0
 13714             00000002   y_1	set	2
 13715             00000004   textX_1	set	4
 13716             00000006   textY_1	set	6
 13717             00000008   img_1	set	8
 13718                        	.sym	x,0,5,1,16
 13719                        	.sym	y,2,5,1,16
 13720                        	.sym	textX,4,5,1,16
 13721                        	.sym	textY,6,5,1,16
 13722                        	.sym	img,8,142,1,32
 13723                        	.sym	outChar,4,14,6,8
 13724                        	.sym	row,6,5,6,16
 13725                        	.sym	column,8,5,6,16
 13726                        	.sym	color,10,14,6,8
 13727 06:3156: 64 15        	stz	<L685+x_1
 13728 06:3158: 64 17        	stz	<L685+y_1
 13729 06:315A: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 13730 06:315E: 85 01        	sta	<R0
 13731 06:3160: A5 01        	lda	<R0
 13732 06:3162: A6 27        	ldx	<L684+row_0
 13733                        	xref	~~~mul
 13734 06:3164: 22 xx xx xx  	jsl	~~~mul
 13735 06:3168: 85 19        	sta	<L685+textX_1
 13736 06:316A: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 13737 06:316E: 85 01        	sta	<R0
 13738 06:3170: A5 01        	lda	<R0
 13739 06:3172: A6 29        	ldx	<L684+column_0
 13740                        	xref	~~~mul
 13741 06:3174: 22 xx xx xx  	jsl	~~~mul
 13742 06:3178: 85 1B        	sta	<L685+textY_1
 13743 06:317A: 64 1D        	stz	<L685+img_1
 13744 06:317C: 64 1F        	stz	<L685+img_1+2
 13745                        	.line	1878
 13746                        ;	{
  Mon Aug  9 2021 16:52                                                Page 254


 13747 06:317E: E2 20        	sep	#$20
 13748                        	longa	off
 13749 06:3180: A5 25        	lda	<L684+outChar_0
 13750 06:3182: C9 20        	cmp	#<$20
 13751 06:3184: C2 20        	rep	#$20
 13752                        	longa	on
 13753 06:3186: F0 03        	beq	L687
 13754 06:3188: 82 07 00     	brl	L10223
 13755                        L687:
 13756                        	.line	1879
 13757                        ;	   img = NULL;
 13758                        	.line	1880
 13759 06:318B: 64 1D        	stz	<L685+img_1
 13760 06:318D: 64 1F        	stz	<L685+img_1+2
 13761                        ;    }
 13762                        	.line	1881
 13763                        ;    else
 13764 06:318F: 82 5B 00     	brl	L10224
 13765                        L10223:
 13766                        ;	{
 13767                        	.line	1883
 13768                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 13769                        	.line	1884
 13770 06:3192: A5 25        	lda	<L684+outChar_0
 13771 06:3194: 29 FF 00     	and	#<$ff
 13772 06:3197: 85 09        	sta	<R2
 13773 06:3199: A0 00 00     	ldy	#$0
 13774 06:319C: A5 09        	lda	<R2
 13775 06:319E: 10 01        	bpl	L688
 13776 06:31A0: 88           	dey
 13777                        L688:
 13778 06:31A1: 85 09        	sta	<R2
 13779 06:31A3: 84 0B        	sty	<R2+2
 13780 06:31A5: D4 0B        	pei	<R2+2
 13781 06:31A7: D4 09        	pei	<R2
 13782 06:31A9: A9 01 00     	lda	#$1
 13783                        	xref	~~~lasl
 13784 06:31AC: 22 xx xx xx  	jsl	~~~lasl
 13785 06:31B0: 85 05        	sta	<R1
 13786 06:31B2: 86 07        	stx	<R1+2
 13787 06:31B4: 18           	clc
 13788 06:31B5: A9 xx xx     	lda	#<~~characterROMMapping
 13789 06:31B8: 65 05        	adc	<R1
 13790 06:31BA: 85 0D        	sta	<R3
 13791 06:31BC: A9 xx xx     	lda	#^~~characterROMMapping
 13792 06:31BF: 65 07        	adc	<R1+2
 13793 06:31C1: 85 0F        	sta	<R3+2
 13794 06:31C3: A0 00 00     	ldy	#$0
 13795 06:31C6: A7 0D        	lda	[<R3]
 13796 06:31C8: 10 01        	bpl	L689
 13797 06:31CA: 88           	dey
 13798                        L689:
 13799 06:31CB: 85 05        	sta	<R1
 13800 06:31CD: 84 07        	sty	<R1+2
 13801 06:31CF: D4 07        	pei	<R1+2
 13802 06:31D1: D4 05        	pei	<R1
 13803 06:31D3: A9 06 00     	lda	#$6
  Mon Aug  9 2021 16:52                                                Page 255


 13804                        	xref	~~~lasl
 13805 06:31D6: 22 xx xx xx  	jsl	~~~lasl
 13806 06:31DA: 85 01        	sta	<R0
 13807 06:31DC: 86 03        	stx	<R0+2
 13808 06:31DE: 18           	clc
 13809 06:31DF: A9 xx xx     	lda	#<~~fontImg
 13810 06:31E2: 65 01        	adc	<R0
 13811 06:31E4: 85 1D        	sta	<L685+img_1
 13812 06:31E6: A9 xx xx     	lda	#^~~fontImg
 13813 06:31E9: 65 03        	adc	<R0+2
 13814 06:31EB: 85 1F        	sta	<L685+img_1+2
 13815                        ;		//img = fontImg[0x02];
 13816                        ;	}
 13817                        	.line	1886
 13818                        L10224:
 13819                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 13820                        ;
 13821                        ;	// get the font 'image'
 13822                        ;        //char *img = fontImg[ix]; 
 13823                        ;        // loop through pixel rows
 13824                        ;	if(img!=NULL)
 13825                        	.line	1892
 13826                        ;	{
 13827 06:31ED: A5 1D        	lda	<L685+img_1
 13828 06:31EF: 05 1F        	ora	<L685+img_1+2
 13829 06:31F1: D0 03        	bne	L690
 13830 06:31F3: 82 DD 00     	brl	L10225
 13831                        L690:
 13832                        	.line	1893
 13833                        ;		for (y = 0; y < FONTH; y++) 
 13834                        	.line	1894
 13835 06:31F6: 64 17        	stz	<L685+y_1
 13836 06:31F8: 82 C9 00     	brl	L10229
 13837                        L10228:
 13838                        ;		{
 13839                        	.line	1895
 13840                        ;			// loop through pixel columns
 13841                        ;			for (x = 0; x < FONTW; x++) 
 13842                        	.line	1897
 13843 06:31FB: 64 15        	stz	<L685+x_1
 13844 06:31FD: 82 B3 00     	brl	L10233
 13845                        L10232:
 13846                        ;			{
 13847                        	.line	1898
 13848                        ;				// get the pixel value
 13849                        ;				char b = img[y * FONTW +
                     x];
 13850                        ;				if (b > 0) 
 13851                        	.block	1901
 13852             0000000C   b_2	set	12
 13853                        	.sym	b,12,14,1,8
 13854 06:3200: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 13855 06:3204: 85 01        	sta	<R0
 13856 06:3206: A5 01        	lda	<R0
 13857 06:3208: A6 17        	ldx	<L685+y_1
 13858                        	xref	~~~mul
 13859 06:320A: 22 xx xx xx  	jsl	~~~mul
  Mon Aug  9 2021 16:52                                                Page 256


 13860 06:320E: 85 01        	sta	<R0
 13861 06:3210: 18           	clc
 13862 06:3211: A5 01        	lda	<R0
 13863 06:3213: 65 15        	adc	<L685+x_1
 13864 06:3215: 85 05        	sta	<R1
 13865 06:3217: E2 20        	sep	#$20
 13866                        	longa	off
 13867 06:3219: A4 05        	ldy	<R1
 13868 06:321B: B7 1D        	lda	[<L685+img_1],Y
 13869 06:321D: 85 21        	sta	<L685+b_2
 13870 06:321F: C2 20        	rep	#$20
 13871                        	longa	on
 13872                        	.line	1901
 13873                        ;				{ // plot the pixel
 13874 06:3221: E2 20        	sep	#$20
 13875                        	longa	off
 13876 06:3223: A9 00        	lda	#$0
 13877 06:3225: C5 21        	cmp	<L685+b_2
 13878 06:3227: C2 20        	rep	#$20
 13879                        	longa	on
 13880 06:3229: 90 03        	bcc	L692
 13881 06:322B: 82 83 00     	brl	L10234
 13882                        L692:
 13883                        	.line	1902
 13884                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 13885                        ;					
 13886                        ;					((unsigned char 
                    FAR *)BITMAP_BANK_0)[(long)(( ((long)textY + y) * 640L) + ((
                    long)textX + x) )] = (char)color;
 13887                        	.line	1905
 13888 06:322E: A0 00 00     	ldy	#$0
 13889 06:3231: A5 19        	lda	<L685+textX_1
 13890 06:3233: 10 01        	bpl	L693
 13891 06:3235: 88           	dey
 13892                        L693:
 13893 06:3236: 85 01        	sta	<R0
 13894 06:3238: 84 03        	sty	<R0+2
 13895 06:323A: A0 00 00     	ldy	#$0
 13896 06:323D: A5 15        	lda	<L685+x_1
 13897 06:323F: 10 01        	bpl	L694
 13898 06:3241: 88           	dey
 13899                        L694:
 13900 06:3242: 85 05        	sta	<R1
 13901 06:3244: 84 07        	sty	<R1+2
 13902 06:3246: A0 00 00     	ldy	#$0
 13903 06:3249: A5 17        	lda	<L685+y_1
 13904 06:324B: 10 01        	bpl	L695
 13905 06:324D: 88           	dey
 13906                        L695:
 13907 06:324E: 85 09        	sta	<R2
 13908 06:3250: 84 0B        	sty	<R2+2
 13909 06:3252: A0 00 00     	ldy	#$0
 13910 06:3255: A5 1B        	lda	<L685+textY_1
 13911 06:3257: 10 01        	bpl	L696
 13912 06:3259: 88           	dey
 13913                        L696:
 13914 06:325A: 85 0D        	sta	<R3
  Mon Aug  9 2021 16:52                                                Page 257


 13915 06:325C: 84 0F        	sty	<R3+2
 13916 06:325E: 18           	clc
 13917 06:325F: A5 0D        	lda	<R3
 13918 06:3261: 65 09        	adc	<R2
 13919 06:3263: 85 11        	sta	<17
 13920 06:3265: A5 0F        	lda	<R3+2
 13921 06:3267: 65 0B        	adc	<R2+2
 13922 06:3269: 85 13        	sta	<17+2
 13923 06:326B: F4 00 00     	pea	#^$280
 13924 06:326E: F4 80 02     	pea	#<$280
 13925 06:3271: D4 13        	pei	<17+2
 13926 06:3273: D4 11        	pei	<17
 13927                        	xref	~~~lmul
 13928 06:3275: 22 xx xx xx  	jsl	~~~lmul
 13929 06:3279: 85 09        	sta	<R2
 13930 06:327B: 86 0B        	stx	<R2+2
 13931 06:327D: 18           	clc
 13932 06:327E: A5 09        	lda	<R2
 13933 06:3280: 65 05        	adc	<R1
 13934 06:3282: 85 0D        	sta	<R3
 13935 06:3284: A5 0B        	lda	<R2+2
 13936 06:3286: 65 07        	adc	<R1+2
 13937 06:3288: 85 0F        	sta	<R3+2
 13938 06:328A: 18           	clc
 13939 06:328B: A5 0D        	lda	<R3
 13940 06:328D: 65 01        	adc	<R0
 13941 06:328F: 85 05        	sta	<R1
 13942 06:3291: A5 0F        	lda	<R3+2
 13943 06:3293: 65 03        	adc	<R0+2
 13944 06:3295: 85 07        	sta	<R1+2
 13945 06:3297: 18           	clc
 13946 06:3298: A9 00 00     	lda	#$0
 13947 06:329B: 65 05        	adc	<R1
 13948 06:329D: 85 01        	sta	<R0
 13949 06:329F: A9 B0 00     	lda	#$b0
 13950 06:32A2: 65 07        	adc	<R1+2
 13951 06:32A4: 85 03        	sta	<R0+2
 13952 06:32A6: E2 20        	sep	#$20
 13953                        	longa	off
 13954 06:32A8: A5 2B        	lda	<L684+color_0
 13955 06:32AA: 87 01        	sta	[<R0]
 13956 06:32AC: C2 20        	rep	#$20
 13957                        	longa	on
 13958                        ;				}
 13959                        	.line	1906
 13960                        ;				else 
 13961 06:32AE: 82 00 00     	brl	L10235
 13962                        L10234:
 13963                        ;				{ 
 13964                        	.line	1908
 13965                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 13966                        ;				}
 13967                        	.line	1910
 13968                        L10235:
 13969                        ;			} // end "for x"
 13970                        	.endblock	1911
 13971                        	.line	1911
  Mon Aug  9 2021 16:52                                                Page 258


 13972                        L10230:
 13973 06:32B1: E6 15        	inc	<L685+x_1
 13974                        L10233:
 13975 06:32B3: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 13976 06:32B7: 85 01        	sta	<R0
 13977 06:32B9: A5 15        	lda	<L685+x_1
 13978 06:32BB: C5 01        	cmp	<R0
 13979 06:32BD: B0 03        	bcs	L697
 13980 06:32BF: 82 3E FF     	brl	L10232
 13981                        L697:
 13982                        L10231:
 13983                        ;		} // end "for y"
 13984                        	.line	1912
 13985                        L10226:
 13986 06:32C2: E6 17        	inc	<L685+y_1
 13987                        L10229:
 13988 06:32C4: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 13989 06:32C8: 85 01        	sta	<R0
 13990 06:32CA: A5 17        	lda	<L685+y_1
 13991 06:32CC: C5 01        	cmp	<R0
 13992 06:32CE: B0 03        	bcs	L698
 13993 06:32D0: 82 28 FF     	brl	L10228
 13994                        L698:
 13995                        L10227:
 13996                        ;	}
 13997                        	.line	1913
 13998                        ;}
 13999                        L10225:
 14000                        	.line	1914
 14001                        L699:
 14002 06:32D3: A5 23        	lda	<L684+2
 14003 06:32D5: 85 2B        	sta	<L684+2+8
 14004 06:32D7: A5 22        	lda	<L684+1
 14005 06:32D9: 85 2A        	sta	<L684+1+8
 14006 06:32DB: 2B           	pld
 14007 06:32DC: 3B           	tsc
 14008 06:32DD: 18           	clc
 14009 06:32DE: 69 29 00     	adc	#L684+8
 14010 06:32E1: 1B           	tcs
 14011 06:32E2: 6B           	rtl
 14012                        	.endblock	1914
 14013             00000021   L684	equ	33
 14014             00000015   L685	equ	21
 14015 06:32E3:              	ends
 14016                        	efunc
 14017                        	.endfunc	1914,21,33
 14018                        	.line	1914
 14019                        ;
 14020                        ;void k_put_font_scaled(char outChar,int row,int c
                    olumn,char color,int scale)
 14021                        ;{
 14022                        	.line	1916
 14023                        	.line	1917
 14024                        	GFX
 14025                        	xdef	~~k_put_font_scaled
 14026                        	func
 14027                        	.function	1917
 14028                        ~~k_put_font_scaled:
  Mon Aug  9 2021 16:52                                                Page 259


 14029                        	longa	on
 14030                        	longi	on
 14031 06:32E3: 3B           	tsc
 14032 06:32E4: 38           	sec
 14033 06:32E5: E9 2D 00     	sbc	#L700
 14034 06:32E8: 1B           	tcs
 14035 06:32E9: 0B           	phd
 14036 06:32EA: 5B           	tcd
 14037             00000004   outChar_0	set	4
 14038             00000006   row_0	set	6
 14039             00000008   column_0	set	8
 14040             0000000A   color_0	set	10
 14041             0000000C   scale_0	set	12
 14042                        	.block	1917
 14043                        ;	int x = 0;
 14044                        ;	int y = 0;
 14045                        ;
 14046                        ;	int height = FONTH * scale;
 14047                        ;	int width  = FONTW * scale;
 14048                        ;	
 14049                        ;	int textX = row    * height;
 14050                        ;	int textY = column * width;
 14051                        ;
 14052                        ;	int px   = 0;
 14053                        ;	int py   = 0;
 14054                        ;	int offx = 0;
 14055                        ;	int offy = 0;
 14056                        ;	int sx   = 0;
 14057                        ;	int sy   = 0;
 14058                        ;
 14059                        ;	char b   = 0;
 14060                        ;
 14061                        ;	char FAR* img = NULL;//fontImg[ix];
 14062                        ;
 14063                        ;    if(outChar == 32)
 14064             00000000   x_1	set	0
 14065             00000002   y_1	set	2
 14066             00000004   height_1	set	4
 14067             00000006   width_1	set	6
 14068             00000008   textX_1	set	8
 14069             0000000A   textY_1	set	10
 14070             0000000C   px_1	set	12
 14071             0000000E   py_1	set	14
 14072             00000010   offx_1	set	16
 14073             00000012   offy_1	set	18
 14074             00000014   sx_1	set	20
 14075             00000016   sy_1	set	22
 14076             00000018   b_1	set	24
 14077             00000019   img_1	set	25
 14078                        	.sym	x,0,5,1,16
 14079                        	.sym	y,2,5,1,16
 14080                        	.sym	height,4,5,1,16
 14081                        	.sym	width,6,5,1,16
 14082                        	.sym	textX,8,5,1,16
 14083                        	.sym	textY,10,5,1,16
 14084                        	.sym	px,12,5,1,16
 14085                        	.sym	py,14,5,1,16
 14086                        	.sym	offx,16,5,1,16
  Mon Aug  9 2021 16:52                                                Page 260


 14087                        	.sym	offy,18,5,1,16
 14088                        	.sym	sx,20,5,1,16
 14089                        	.sym	sy,22,5,1,16
 14090                        	.sym	b,24,14,1,8
 14091                        	.sym	img,25,142,1,32
 14092                        	.sym	outChar,4,14,6,8
 14093                        	.sym	row,6,5,6,16
 14094                        	.sym	column,8,5,6,16
 14095                        	.sym	color,10,14,6,8
 14096                        	.sym	scale,12,5,6,16
 14097 06:32EB: 64 11        	stz	<L701+x_1
 14098 06:32ED: 64 13        	stz	<L701+y_1
 14099 06:32EF: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 14100 06:32F3: 85 01        	sta	<R0
 14101 06:32F5: A5 01        	lda	<R0
 14102 06:32F7: A6 39        	ldx	<L700+scale_0
 14103                        	xref	~~~mul
 14104 06:32F9: 22 xx xx xx  	jsl	~~~mul
 14105 06:32FD: 85 15        	sta	<L701+height_1
 14106 06:32FF: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 14107 06:3303: 85 01        	sta	<R0
 14108 06:3305: A5 01        	lda	<R0
 14109 06:3307: A6 39        	ldx	<L700+scale_0
 14110                        	xref	~~~mul
 14111 06:3309: 22 xx xx xx  	jsl	~~~mul
 14112 06:330D: 85 17        	sta	<L701+width_1
 14113 06:330F: A5 33        	lda	<L700+row_0
 14114 06:3311: A6 15        	ldx	<L701+height_1
 14115                        	xref	~~~mul
 14116 06:3313: 22 xx xx xx  	jsl	~~~mul
 14117 06:3317: 85 19        	sta	<L701+textX_1
 14118 06:3319: A5 35        	lda	<L700+column_0
 14119 06:331B: A6 17        	ldx	<L701+width_1
 14120                        	xref	~~~mul
 14121 06:331D: 22 xx xx xx  	jsl	~~~mul
 14122 06:3321: 85 1B        	sta	<L701+textY_1
 14123 06:3323: 64 1D        	stz	<L701+px_1
 14124 06:3325: 64 1F        	stz	<L701+py_1
 14125 06:3327: 64 21        	stz	<L701+offx_1
 14126 06:3329: 64 23        	stz	<L701+offy_1
 14127 06:332B: 64 25        	stz	<L701+sx_1
 14128 06:332D: 64 27        	stz	<L701+sy_1
 14129 06:332F: E2 20        	sep	#$20
 14130                        	longa	off
 14131 06:3331: 64 29        	stz	<L701+b_1
 14132 06:3333: C2 20        	rep	#$20
 14133                        	longa	on
 14134 06:3335: 64 2A        	stz	<L701+img_1
 14135 06:3337: 64 2C        	stz	<L701+img_1+2
 14136                        	.line	1938
 14137                        ;	{
 14138 06:3339: E2 20        	sep	#$20
 14139                        	longa	off
 14140 06:333B: A5 31        	lda	<L700+outChar_0
 14141 06:333D: C9 20        	cmp	#<$20
 14142 06:333F: C2 20        	rep	#$20
 14143                        	longa	on
 14144 06:3341: F0 03        	beq	L703
  Mon Aug  9 2021 16:52                                                Page 261


 14145 06:3343: 82 07 00     	brl	L10236
 14146                        L703:
 14147                        	.line	1939
 14148                        ;	   img = NULL;//fontSpace;
 14149                        	.line	1940
 14150 06:3346: 64 2A        	stz	<L701+img_1
 14151 06:3348: 64 2C        	stz	<L701+img_1+2
 14152                        ;    }
 14153                        	.line	1941
 14154                        ;    else
 14155 06:334A: 82 5B 00     	brl	L10237
 14156                        L10236:
 14157                        ;	{
 14158                        	.line	1943
 14159                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 14160                        	.line	1944
 14161 06:334D: A5 31        	lda	<L700+outChar_0
 14162 06:334F: 29 FF 00     	and	#<$ff
 14163 06:3352: 85 09        	sta	<R2
 14164 06:3354: A0 00 00     	ldy	#$0
 14165 06:3357: A5 09        	lda	<R2
 14166 06:3359: 10 01        	bpl	L704
 14167 06:335B: 88           	dey
 14168                        L704:
 14169 06:335C: 85 09        	sta	<R2
 14170 06:335E: 84 0B        	sty	<R2+2
 14171 06:3360: D4 0B        	pei	<R2+2
 14172 06:3362: D4 09        	pei	<R2
 14173 06:3364: A9 01 00     	lda	#$1
 14174                        	xref	~~~lasl
 14175 06:3367: 22 xx xx xx  	jsl	~~~lasl
 14176 06:336B: 85 05        	sta	<R1
 14177 06:336D: 86 07        	stx	<R1+2
 14178 06:336F: 18           	clc
 14179 06:3370: A9 xx xx     	lda	#<~~characterROMMapping
 14180 06:3373: 65 05        	adc	<R1
 14181 06:3375: 85 0D        	sta	<R3
 14182 06:3377: A9 xx xx     	lda	#^~~characterROMMapping
 14183 06:337A: 65 07        	adc	<R1+2
 14184 06:337C: 85 0F        	sta	<R3+2
 14185 06:337E: A0 00 00     	ldy	#$0
 14186 06:3381: A7 0D        	lda	[<R3]
 14187 06:3383: 10 01        	bpl	L705
 14188 06:3385: 88           	dey
 14189                        L705:
 14190 06:3386: 85 05        	sta	<R1
 14191 06:3388: 84 07        	sty	<R1+2
 14192 06:338A: D4 07        	pei	<R1+2
 14193 06:338C: D4 05        	pei	<R1
 14194 06:338E: A9 06 00     	lda	#$6
 14195                        	xref	~~~lasl
 14196 06:3391: 22 xx xx xx  	jsl	~~~lasl
 14197 06:3395: 85 01        	sta	<R0
 14198 06:3397: 86 03        	stx	<R0+2
 14199 06:3399: 18           	clc
 14200 06:339A: A9 xx xx     	lda	#<~~fontImg
 14201 06:339D: 65 01        	adc	<R0
  Mon Aug  9 2021 16:52                                                Page 262


 14202 06:339F: 85 2A        	sta	<L701+img_1
 14203 06:33A1: A9 xx xx     	lda	#^~~fontImg
 14204 06:33A4: 65 03        	adc	<R0+2
 14205 06:33A6: 85 2C        	sta	<L701+img_1+2
 14206                        ;		//img = fontImg[0x01];
 14207                        ;	}
 14208                        	.line	1946
 14209                        L10237:
 14210                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 14211                        ;
 14212                        ;	// get the font 'image'
 14213                        ;        //char *img = fontImg[ix]; 
 14214                        ;        // loop through pixel rows
 14215                        ;	if(img!=NULL)
 14216                        	.line	1952
 14217                        ;	{
 14218 06:33A8: A5 2A        	lda	<L701+img_1
 14219 06:33AA: 05 2C        	ora	<L701+img_1+2
 14220 06:33AC: D0 03        	bne	L706
 14221 06:33AE: 82 E3 00     	brl	L10238
 14222                        L706:
 14223                        	.line	1953
 14224                        ;		py = 0;
 14225                        	.line	1954
 14226 06:33B1: 64 1F        	stz	<L701+py_1
 14227                        ;		for (y = 0; y < height; y+=scale) 
 14228                        	.line	1955
 14229 06:33B3: 64 13        	stz	<L701+y_1
 14230 06:33B5: 82 CD 00     	brl	L10242
 14231                        L10241:
 14232                        ;		{
 14233                        	.line	1956
 14234                        ;			offy = y;
 14235                        	.line	1957
 14236 06:33B8: A5 13        	lda	<L701+y_1
 14237 06:33BA: 85 23        	sta	<L701+offy_1
 14238                        ;			px = 0;
 14239                        	.line	1958
 14240 06:33BC: 64 1D        	stz	<L701+px_1
 14241                        ;			for (x = 0; x < width; x+=scale)
                     
 14242                        	.line	1959
 14243 06:33BE: 64 11        	stz	<L701+x_1
 14244 06:33C0: 82 AA 00     	brl	L10246
 14245                        L10245:
 14246                        ;			{
 14247                        	.line	1960
 14248                        ;				// get the pixel value
 14249                        ;				offx = x;
 14250                        	.line	1962
 14251 06:33C3: A5 11        	lda	<L701+x_1
 14252 06:33C5: 85 21        	sta	<L701+offx_1
 14253                        ;				b = img[py * FONTW + px]
                    ;
 14254                        	.line	1963
 14255 06:33C7: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 14256 06:33CB: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 263


 14257 06:33CD: A5 01        	lda	<R0
 14258 06:33CF: A6 1F        	ldx	<L701+py_1
 14259                        	xref	~~~mul
 14260 06:33D1: 22 xx xx xx  	jsl	~~~mul
 14261 06:33D5: 85 01        	sta	<R0
 14262 06:33D7: 18           	clc
 14263 06:33D8: A5 01        	lda	<R0
 14264 06:33DA: 65 1D        	adc	<L701+px_1
 14265 06:33DC: 85 05        	sta	<R1
 14266 06:33DE: E2 20        	sep	#$20
 14267                        	longa	off
 14268 06:33E0: A4 05        	ldy	<R1
 14269 06:33E2: B7 2A        	lda	[<L701+img_1],Y
 14270 06:33E4: 85 29        	sta	<L701+b_1
 14271 06:33E6: C2 20        	rep	#$20
 14272                        	longa	on
 14273                        ;				if (b > 0) 
 14274                        	.line	1964
 14275                        ;				{ // plot the pixel	
                    				
 14276 06:33E8: E2 20        	sep	#$20
 14277                        	longa	off
 14278 06:33EA: A9 00        	lda	#$0
 14279 06:33EC: C5 29        	cmp	<L701+b_1
 14280 06:33EE: C2 20        	rep	#$20
 14281                        	longa	on
 14282 06:33F0: 90 03        	bcc	L707
 14283 06:33F2: 82 6F 00     	brl	L10247
 14284                        L707:
 14285                        	.line	1965
 14286                        ;					offy = y;
 14287                        	.line	1966
 14288 06:33F5: A5 13        	lda	<L701+y_1
 14289 06:33F7: 85 23        	sta	<L701+offy_1
 14290                        ;					for(sy=0;sy<scal
                    e;sy++)
 14291                        	.line	1967
 14292 06:33F9: 64 27        	stz	<L701+sy_1
 14293 06:33FB: 82 54 00     	brl	L10251
 14294                        L10250:
 14295                        ;					{
 14296                        	.line	1968
 14297                        ;						offx = x
                    ;
 14298                        	.line	1969
 14299 06:33FE: A5 11        	lda	<L701+x_1
 14300 06:3400: 85 21        	sta	<L701+offx_1
 14301                        ;						for(sx=0
                    ;sx<scale;sx++)
 14302                        	.line	1970
 14303 06:3402: 64 25        	stz	<L701+sx_1
 14304 06:3404: 82 38 00     	brl	L10255
 14305                        L10254:
 14306                        ;						{
 14307                        	.line	1971
 14308                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 14309                        	.line	1972
  Mon Aug  9 2021 16:52                                                Page 264


 14310 06:3407: D4 37        	pei	<L700+color_0
 14311 06:3409: 18           	clc
 14312 06:340A: A5 1B        	lda	<L701+textY_1
 14313 06:340C: 65 23        	adc	<L701+offy_1
 14314 06:340E: 85 01        	sta	<R0
 14315 06:3410: A0 00 00     	ldy	#$0
 14316 06:3413: A5 01        	lda	<R0
 14317 06:3415: 10 01        	bpl	L708
 14318 06:3417: 88           	dey
 14319                        L708:
 14320 06:3418: 85 01        	sta	<R0
 14321 06:341A: 84 03        	sty	<R0+2
 14322 06:341C: D4 03        	pei	<R0+2
 14323 06:341E: D4 01        	pei	<R0
 14324 06:3420: 18           	clc
 14325 06:3421: A5 19        	lda	<L701+textX_1
 14326 06:3423: 65 21        	adc	<L701+offx_1
 14327 06:3425: 85 05        	sta	<R1
 14328 06:3427: A0 00 00     	ldy	#$0
 14329 06:342A: A5 05        	lda	<R1
 14330 06:342C: 10 01        	bpl	L709
 14331 06:342E: 88           	dey
 14332                        L709:
 14333 06:342F: 85 05        	sta	<R1
 14334 06:3431: 84 07        	sty	<R1+2
 14335 06:3433: D4 07        	pei	<R1+2
 14336 06:3435: D4 05        	pei	<R1
 14337 06:3437: 22 3B 13 06  	jsl	~~k_draw_pixel
 14338                        ;							
                    offx++;
 14339                        	.line	1973
 14340 06:343B: E6 21        	inc	<L701+offx_1
 14341                        ;						}
 14342                        	.line	1974
 14343                        L10252:
 14344 06:343D: E6 25        	inc	<L701+sx_1
 14345                        L10255:
 14346 06:343F: 38           	sec
 14347 06:3440: A5 25        	lda	<L701+sx_1
 14348 06:3442: E5 39        	sbc	<L700+scale_0
 14349 06:3444: 70 03        	bvs	L710
 14350 06:3446: 49 00 80     	eor	#$8000
 14351                        L710:
 14352 06:3449: 30 03        	bmi	L711
 14353 06:344B: 82 B9 FF     	brl	L10254
 14354                        L711:
 14355                        L10253:
 14356                        ;						offy++;
 14357                        	.line	1975
 14358 06:344E: E6 23        	inc	<L701+offy_1
 14359                        ;					}
 14360                        	.line	1976
 14361                        L10248:
 14362 06:3450: E6 27        	inc	<L701+sy_1
 14363                        L10251:
 14364 06:3452: 38           	sec
 14365 06:3453: A5 27        	lda	<L701+sy_1
 14366 06:3455: E5 39        	sbc	<L700+scale_0
  Mon Aug  9 2021 16:52                                                Page 265


 14367 06:3457: 70 03        	bvs	L712
 14368 06:3459: 49 00 80     	eor	#$8000
 14369                        L712:
 14370 06:345C: 30 03        	bmi	L713
 14371 06:345E: 82 9D FF     	brl	L10250
 14372                        L713:
 14373                        L10249:
 14374                        ;					
 14375                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 14376                        ;				}
 14377                        	.line	1979
 14378                        ;				else 
 14379 06:3461: 82 00 00     	brl	L10256
 14380                        L10247:
 14381                        ;				{ 
 14382                        	.line	1981
 14383                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 14384                        ;				}
 14385                        	.line	1983
 14386                        L10256:
 14387                        ;				px++;
 14388                        	.line	1984
 14389 06:3464: E6 1D        	inc	<L701+px_1
 14390                        ;			} // end "for x"
 14391                        	.line	1985
 14392                        L10243:
 14393 06:3466: 18           	clc
 14394 06:3467: A5 11        	lda	<L701+x_1
 14395 06:3469: 65 39        	adc	<L700+scale_0
 14396 06:346B: 85 11        	sta	<L701+x_1
 14397                        L10246:
 14398 06:346D: 38           	sec
 14399 06:346E: A5 11        	lda	<L701+x_1
 14400 06:3470: E5 17        	sbc	<L701+width_1
 14401 06:3472: 70 03        	bvs	L714
 14402 06:3474: 49 00 80     	eor	#$8000
 14403                        L714:
 14404 06:3477: 30 03        	bmi	L715
 14405 06:3479: 82 47 FF     	brl	L10245
 14406                        L715:
 14407                        L10244:
 14408                        ;			py++;
 14409                        	.line	1986
 14410 06:347C: E6 1F        	inc	<L701+py_1
 14411                        ;		} // end "for y"
 14412                        	.line	1987
 14413                        L10239:
 14414 06:347E: 18           	clc
 14415 06:347F: A5 13        	lda	<L701+y_1
 14416 06:3481: 65 39        	adc	<L700+scale_0
 14417 06:3483: 85 13        	sta	<L701+y_1
 14418                        L10242:
 14419 06:3485: 38           	sec
 14420 06:3486: A5 13        	lda	<L701+y_1
 14421 06:3488: E5 15        	sbc	<L701+height_1
 14422 06:348A: 70 03        	bvs	L716
  Mon Aug  9 2021 16:52                                                Page 266


 14423 06:348C: 49 00 80     	eor	#$8000
 14424                        L716:
 14425 06:348F: 30 03        	bmi	L717
 14426 06:3491: 82 24 FF     	brl	L10241
 14427                        L717:
 14428                        L10240:
 14429                        ;	}
 14430                        	.line	1988
 14431                        ;}
 14432                        L10238:
 14433                        	.line	1989
 14434                        L718:
 14435 06:3494: A5 2F        	lda	<L700+2
 14436 06:3496: 85 39        	sta	<L700+2+10
 14437 06:3498: A5 2E        	lda	<L700+1
 14438 06:349A: 85 38        	sta	<L700+1+10
 14439 06:349C: 2B           	pld
 14440 06:349D: 3B           	tsc
 14441 06:349E: 18           	clc
 14442 06:349F: 69 37 00     	adc	#L700+10
 14443 06:34A2: 1B           	tcs
 14444 06:34A3: 6B           	rtl
 14445                        	.endblock	1989
 14446             0000002D   L700	equ	45
 14447             00000011   L701	equ	17
 14448 06:34A4:              	ends
 14449                        	efunc
 14450                        	.endfunc	1989,17,45
 14451                        	.line	1989
 14452                        ;
 14453                        ;void k_draw_char(char charCode,int row,int column
                    ,char color)
 14454                        ;{
 14455                        	.line	1991
 14456                        	.line	1992
 14457                        	GFX
 14458                        	xdef	~~k_draw_char
 14459                        	func
 14460                        	.function	1992
 14461                        ~~k_draw_char:
 14462                        	longa	on
 14463                        	longi	on
 14464 06:34A4: 3B           	tsc
 14465 06:34A5: 38           	sec
 14466 06:34A6: E9 15 00     	sbc	#L719
 14467 06:34A9: 1B           	tcs
 14468 06:34AA: 0B           	phd
 14469 06:34AB: 5B           	tcd
 14470             00000004   charCode_0	set	4
 14471             00000006   row_0	set	6
 14472             00000008   column_0	set	8
 14473             0000000A   color_0	set	10
 14474                        	.block	1992
 14475                        ;	int x = 0;
 14476                        ;	int y = 0;
 14477                        ;
 14478                        ;	int textX = row * FONTH;
 14479                        ;	int textY = column * FONTW;
  Mon Aug  9 2021 16:52                                                Page 267


 14480                        ;	char b = 0;
 14481                        ;
 14482                        ;	char FAR* img = NULL;//fontImg[ix];
 14483                        ;
 14484                        ;    if(charCode == 32)
 14485             00000000   x_1	set	0
 14486             00000002   y_1	set	2
 14487             00000004   textX_1	set	4
 14488             00000006   textY_1	set	6
 14489             00000008   b_1	set	8
 14490             00000009   img_1	set	9
 14491                        	.sym	x,0,5,1,16
 14492                        	.sym	y,2,5,1,16
 14493                        	.sym	textX,4,5,1,16
 14494                        	.sym	textY,6,5,1,16
 14495                        	.sym	b,8,14,1,8
 14496                        	.sym	img,9,142,1,32
 14497                        	.sym	charCode,4,14,6,8
 14498                        	.sym	row,6,5,6,16
 14499                        	.sym	column,8,5,6,16
 14500                        	.sym	color,10,14,6,8
 14501 06:34AC: 64 09        	stz	<L720+x_1
 14502 06:34AE: 64 0B        	stz	<L720+y_1
 14503 06:34B0: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 14504 06:34B4: 85 01        	sta	<R0
 14505 06:34B6: A5 01        	lda	<R0
 14506 06:34B8: A6 1B        	ldx	<L719+row_0
 14507                        	xref	~~~mul
 14508 06:34BA: 22 xx xx xx  	jsl	~~~mul
 14509 06:34BE: 85 0D        	sta	<L720+textX_1
 14510 06:34C0: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 14511 06:34C4: 85 01        	sta	<R0
 14512 06:34C6: A5 01        	lda	<R0
 14513 06:34C8: A6 1D        	ldx	<L719+column_0
 14514                        	xref	~~~mul
 14515 06:34CA: 22 xx xx xx  	jsl	~~~mul
 14516 06:34CE: 85 0F        	sta	<L720+textY_1
 14517 06:34D0: E2 20        	sep	#$20
 14518                        	longa	off
 14519 06:34D2: 64 11        	stz	<L720+b_1
 14520 06:34D4: C2 20        	rep	#$20
 14521                        	longa	on
 14522 06:34D6: 64 12        	stz	<L720+img_1
 14523 06:34D8: 64 14        	stz	<L720+img_1+2
 14524                        	.line	2002
 14525                        ;	{
 14526 06:34DA: E2 20        	sep	#$20
 14527                        	longa	off
 14528 06:34DC: A5 19        	lda	<L719+charCode_0
 14529 06:34DE: C9 20        	cmp	#<$20
 14530 06:34E0: C2 20        	rep	#$20
 14531                        	longa	on
 14532 06:34E2: F0 03        	beq	L722
 14533 06:34E4: 82 07 00     	brl	L10257
 14534                        L722:
 14535                        	.line	2003
 14536                        ;	   img = NULL;//fontSpace;
 14537                        	.line	2004
  Mon Aug  9 2021 16:52                                                Page 268


 14538 06:34E7: 64 12        	stz	<L720+img_1
 14539 06:34E9: 64 14        	stz	<L720+img_1+2
 14540                        ;    }
 14541                        	.line	2005
 14542                        ;    else
 14543 06:34EB: 82 31 00     	brl	L10258
 14544                        L10257:
 14545                        ;	{
 14546                        	.line	2007
 14547                        ;	    img = fontImg[charCode & 0xFF];
 14548                        	.line	2008
 14549 06:34EE: A5 19        	lda	<L719+charCode_0
 14550 06:34F0: 29 FF 00     	and	#<$ff
 14551 06:34F3: 85 05        	sta	<R1
 14552 06:34F5: A0 00 00     	ldy	#$0
 14553 06:34F8: A5 05        	lda	<R1
 14554 06:34FA: 10 01        	bpl	L723
 14555 06:34FC: 88           	dey
 14556                        L723:
 14557 06:34FD: 85 05        	sta	<R1
 14558 06:34FF: 84 07        	sty	<R1+2
 14559 06:3501: D4 07        	pei	<R1+2
 14560 06:3503: D4 05        	pei	<R1
 14561 06:3505: A9 06 00     	lda	#$6
 14562                        	xref	~~~lasl
 14563 06:3508: 22 xx xx xx  	jsl	~~~lasl
 14564 06:350C: 85 01        	sta	<R0
 14565 06:350E: 86 03        	stx	<R0+2
 14566 06:3510: 18           	clc
 14567 06:3511: A9 xx xx     	lda	#<~~fontImg
 14568 06:3514: 65 01        	adc	<R0
 14569 06:3516: 85 12        	sta	<L720+img_1
 14570 06:3518: A9 xx xx     	lda	#^~~fontImg
 14571 06:351B: 65 03        	adc	<R0+2
 14572 06:351D: 85 14        	sta	<L720+img_1+2
 14573                        ;	}
 14574                        	.line	2009
 14575                        L10258:
 14576                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 14577                        ;
 14578                        ;	// get the font 'image'
 14579                        ;        //char *img = fontImg[ix]; 
 14580                        ;        // loop through pixel rows
 14581                        ;	if(img!=NULL)
 14582                        	.line	2015
 14583                        ;	{
 14584 06:351F: A5 12        	lda	<L720+img_1
 14585 06:3521: 05 14        	ora	<L720+img_1+2
 14586 06:3523: D0 03        	bne	L724
 14587 06:3525: 82 91 00     	brl	L10259
 14588                        L724:
 14589                        	.line	2016
 14590                        ;		for (y = 0; y < FONTH; y++) 
 14591                        	.line	2017
 14592 06:3528: 64 0B        	stz	<L720+y_1
 14593 06:352A: 82 7D 00     	brl	L10263
 14594                        L10262:
  Mon Aug  9 2021 16:52                                                Page 269


 14595                        ;		{
 14596                        	.line	2018
 14597                        ;			// loop through pixel columns
 14598                        ;			for (x = 0; x < FONTW; x++) 
 14599                        	.line	2020
 14600 06:352D: 64 09        	stz	<L720+x_1
 14601 06:352F: 82 67 00     	brl	L10267
 14602                        L10266:
 14603                        ;			{
 14604                        	.line	2021
 14605                        ;				// get the pixel value
 14606                        ;				b = img[y * FONTW + x];
 14607                        	.line	2023
 14608 06:3532: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 14609 06:3536: 85 01        	sta	<R0
 14610 06:3538: A5 01        	lda	<R0
 14611 06:353A: A6 0B        	ldx	<L720+y_1
 14612                        	xref	~~~mul
 14613 06:353C: 22 xx xx xx  	jsl	~~~mul
 14614 06:3540: 85 01        	sta	<R0
 14615 06:3542: 18           	clc
 14616 06:3543: A5 01        	lda	<R0
 14617 06:3545: 65 09        	adc	<L720+x_1
 14618 06:3547: 85 05        	sta	<R1
 14619 06:3549: E2 20        	sep	#$20
 14620                        	longa	off
 14621 06:354B: A4 05        	ldy	<R1
 14622 06:354D: B7 12        	lda	[<L720+img_1],Y
 14623 06:354F: 85 11        	sta	<L720+b_1
 14624 06:3551: C2 20        	rep	#$20
 14625                        	longa	on
 14626                        ;				if (b > 0) 
 14627                        	.line	2024
 14628                        ;				{ // plot the pixel
 14629 06:3553: E2 20        	sep	#$20
 14630                        	longa	off
 14631 06:3555: A9 00        	lda	#$0
 14632 06:3557: C5 11        	cmp	<L720+b_1
 14633 06:3559: C2 20        	rep	#$20
 14634                        	longa	on
 14635 06:355B: 90 03        	bcc	L725
 14636 06:355D: 82 37 00     	brl	L10268
 14637                        L725:
 14638                        	.line	2025
 14639                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 14640                        	.line	2026
 14641 06:3560: D4 1F        	pei	<L719+color_0
 14642 06:3562: 18           	clc
 14643 06:3563: A5 0F        	lda	<L720+textY_1
 14644 06:3565: 65 0B        	adc	<L720+y_1
 14645 06:3567: 85 01        	sta	<R0
 14646 06:3569: A0 00 00     	ldy	#$0
 14647 06:356C: A5 01        	lda	<R0
 14648 06:356E: 10 01        	bpl	L726
 14649 06:3570: 88           	dey
 14650                        L726:
 14651 06:3571: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 270


 14652 06:3573: 84 03        	sty	<R0+2
 14653 06:3575: D4 03        	pei	<R0+2
 14654 06:3577: D4 01        	pei	<R0
 14655 06:3579: 18           	clc
 14656 06:357A: A5 0D        	lda	<L720+textX_1
 14657 06:357C: 65 09        	adc	<L720+x_1
 14658 06:357E: 85 05        	sta	<R1
 14659 06:3580: A0 00 00     	ldy	#$0
 14660 06:3583: A5 05        	lda	<R1
 14661 06:3585: 10 01        	bpl	L727
 14662 06:3587: 88           	dey
 14663                        L727:
 14664 06:3588: 85 05        	sta	<R1
 14665 06:358A: 84 07        	sty	<R1+2
 14666 06:358C: D4 07        	pei	<R1+2
 14667 06:358E: D4 05        	pei	<R1
 14668 06:3590: 22 3B 13 06  	jsl	~~k_draw_pixel
 14669                        ;				}
 14670                        	.line	2027
 14671                        ;				else 
 14672 06:3594: 82 00 00     	brl	L10269
 14673                        L10268:
 14674                        ;				{ 
 14675                        	.line	2029
 14676                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 14677                        ;				}
 14678                        	.line	2031
 14679                        L10269:
 14680                        ;			} // end "for x"
 14681                        	.line	2032
 14682                        L10264:
 14683 06:3597: E6 09        	inc	<L720+x_1
 14684                        L10267:
 14685 06:3599: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 14686 06:359D: 85 01        	sta	<R0
 14687 06:359F: A5 09        	lda	<L720+x_1
 14688 06:35A1: C5 01        	cmp	<R0
 14689 06:35A3: B0 03        	bcs	L728
 14690 06:35A5: 82 8A FF     	brl	L10266
 14691                        L728:
 14692                        L10265:
 14693                        ;		} // end "for y"
 14694                        	.line	2033
 14695                        L10260:
 14696 06:35A8: E6 0B        	inc	<L720+y_1
 14697                        L10263:
 14698 06:35AA: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 14699 06:35AE: 85 01        	sta	<R0
 14700 06:35B0: A5 0B        	lda	<L720+y_1
 14701 06:35B2: C5 01        	cmp	<R0
 14702 06:35B4: B0 03        	bcs	L729
 14703 06:35B6: 82 74 FF     	brl	L10262
 14704                        L729:
 14705                        L10261:
 14706                        ;	}
 14707                        	.line	2034
 14708                        ;}
  Mon Aug  9 2021 16:52                                                Page 271


 14709                        L10259:
 14710                        	.line	2035
 14711                        L730:
 14712 06:35B9: A5 17        	lda	<L719+2
 14713 06:35BB: 85 1F        	sta	<L719+2+8
 14714 06:35BD: A5 16        	lda	<L719+1
 14715 06:35BF: 85 1E        	sta	<L719+1+8
 14716 06:35C1: 2B           	pld
 14717 06:35C2: 3B           	tsc
 14718 06:35C3: 18           	clc
 14719 06:35C4: 69 1D 00     	adc	#L719+8
 14720 06:35C7: 1B           	tcs
 14721 06:35C8: 6B           	rtl
 14722                        	.endblock	2035
 14723             00000015   L719	equ	21
 14724             00000009   L720	equ	9
 14725 06:35C9:              	ends
 14726                        	efunc
 14727                        	.endfunc	2035,9,21
 14728                        	.line	2035
 14729                        ;
 14730                        ;void k_draw_char_scaled(char charCode,int row,int
                     column,char color,int scale)
 14731                        ;{
 14732                        	.line	2037
 14733                        	.line	2038
 14734                        	GFX
 14735                        	xdef	~~k_draw_char_scaled
 14736                        	func
 14737                        	.function	2038
 14738                        ~~k_draw_char_scaled:
 14739                        	longa	on
 14740                        	longi	on
 14741 06:35C9: 3B           	tsc
 14742 06:35CA: 38           	sec
 14743 06:35CB: E9 25 00     	sbc	#L731
 14744 06:35CE: 1B           	tcs
 14745 06:35CF: 0B           	phd
 14746 06:35D0: 5B           	tcd
 14747             00000004   charCode_0	set	4
 14748             00000006   row_0	set	6
 14749             00000008   column_0	set	8
 14750             0000000A   color_0	set	10
 14751             0000000C   scale_0	set	12
 14752                        	.block	2038
 14753                        ;	int x = 0;
 14754                        ;	int y = 0;
 14755                        ;
 14756                        ;	int height = FONTH * scale;
 14757                        ;	int width  = FONTW * scale;
 14758                        ;	
 14759                        ;	int textX = row    * height;
 14760                        ;	int textY = column * width;
 14761                        ;
 14762                        ;	int px   = 0;
 14763                        ;	int py   = 0;
 14764                        ;	int offx = 0;
 14765                        ;	int offy = 0;
  Mon Aug  9 2021 16:52                                                Page 272


 14766                        ;	int sx   = 0;
 14767                        ;	int sy   = 0;
 14768                        ;
 14769                        ;	char b   = 0;
 14770                        ;
 14771                        ;	char FAR* img = NULL;
 14772                        ;
 14773                        ;    if(charCode == 32)
 14774             00000000   x_1	set	0
 14775             00000002   y_1	set	2
 14776             00000004   height_1	set	4
 14777             00000006   width_1	set	6
 14778             00000008   textX_1	set	8
 14779             0000000A   textY_1	set	10
 14780             0000000C   px_1	set	12
 14781             0000000E   py_1	set	14
 14782             00000010   offx_1	set	16
 14783             00000012   offy_1	set	18
 14784             00000014   sx_1	set	20
 14785             00000016   sy_1	set	22
 14786             00000018   b_1	set	24
 14787             00000019   img_1	set	25
 14788                        	.sym	x,0,5,1,16
 14789                        	.sym	y,2,5,1,16
 14790                        	.sym	height,4,5,1,16
 14791                        	.sym	width,6,5,1,16
 14792                        	.sym	textX,8,5,1,16
 14793                        	.sym	textY,10,5,1,16
 14794                        	.sym	px,12,5,1,16
 14795                        	.sym	py,14,5,1,16
 14796                        	.sym	offx,16,5,1,16
 14797                        	.sym	offy,18,5,1,16
 14798                        	.sym	sx,20,5,1,16
 14799                        	.sym	sy,22,5,1,16
 14800                        	.sym	b,24,14,1,8
 14801                        	.sym	img,25,142,1,32
 14802                        	.sym	charCode,4,14,6,8
 14803                        	.sym	row,6,5,6,16
 14804                        	.sym	column,8,5,6,16
 14805                        	.sym	color,10,14,6,8
 14806                        	.sym	scale,12,5,6,16
 14807 06:35D1: 64 09        	stz	<L732+x_1
 14808 06:35D3: 64 0B        	stz	<L732+y_1
 14809 06:35D5: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 14810 06:35D9: 85 01        	sta	<R0
 14811 06:35DB: A5 01        	lda	<R0
 14812 06:35DD: A6 31        	ldx	<L731+scale_0
 14813                        	xref	~~~mul
 14814 06:35DF: 22 xx xx xx  	jsl	~~~mul
 14815 06:35E3: 85 0D        	sta	<L732+height_1
 14816 06:35E5: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 14817 06:35E9: 85 01        	sta	<R0
 14818 06:35EB: A5 01        	lda	<R0
 14819 06:35ED: A6 31        	ldx	<L731+scale_0
 14820                        	xref	~~~mul
 14821 06:35EF: 22 xx xx xx  	jsl	~~~mul
 14822 06:35F3: 85 0F        	sta	<L732+width_1
 14823 06:35F5: A5 2B        	lda	<L731+row_0
  Mon Aug  9 2021 16:52                                                Page 273


 14824 06:35F7: A6 0D        	ldx	<L732+height_1
 14825                        	xref	~~~mul
 14826 06:35F9: 22 xx xx xx  	jsl	~~~mul
 14827 06:35FD: 85 11        	sta	<L732+textX_1
 14828 06:35FF: A5 2D        	lda	<L731+column_0
 14829 06:3601: A6 0F        	ldx	<L732+width_1
 14830                        	xref	~~~mul
 14831 06:3603: 22 xx xx xx  	jsl	~~~mul
 14832 06:3607: 85 13        	sta	<L732+textY_1
 14833 06:3609: 64 15        	stz	<L732+px_1
 14834 06:360B: 64 17        	stz	<L732+py_1
 14835 06:360D: 64 19        	stz	<L732+offx_1
 14836 06:360F: 64 1B        	stz	<L732+offy_1
 14837 06:3611: 64 1D        	stz	<L732+sx_1
 14838 06:3613: 64 1F        	stz	<L732+sy_1
 14839 06:3615: E2 20        	sep	#$20
 14840                        	longa	off
 14841 06:3617: 64 21        	stz	<L732+b_1
 14842 06:3619: C2 20        	rep	#$20
 14843                        	longa	on
 14844 06:361B: 64 22        	stz	<L732+img_1
 14845 06:361D: 64 24        	stz	<L732+img_1+2
 14846                        	.line	2059
 14847                        ;	{
 14848 06:361F: E2 20        	sep	#$20
 14849                        	longa	off
 14850 06:3621: A5 29        	lda	<L731+charCode_0
 14851 06:3623: C9 20        	cmp	#<$20
 14852 06:3625: C2 20        	rep	#$20
 14853                        	longa	on
 14854 06:3627: F0 03        	beq	L734
 14855 06:3629: 82 07 00     	brl	L10270
 14856                        L734:
 14857                        	.line	2060
 14858                        ;	   img = NULL;
 14859                        	.line	2061
 14860 06:362C: 64 22        	stz	<L732+img_1
 14861 06:362E: 64 24        	stz	<L732+img_1+2
 14862                        ;    }
 14863                        	.line	2062
 14864                        ;    else
 14865 06:3630: 82 31 00     	brl	L10271
 14866                        L10270:
 14867                        ;	{
 14868                        	.line	2064
 14869                        ;	    img = fontImg[charCode & 0xFF];
 14870                        	.line	2065
 14871 06:3633: A5 29        	lda	<L731+charCode_0
 14872 06:3635: 29 FF 00     	and	#<$ff
 14873 06:3638: 85 05        	sta	<R1
 14874 06:363A: A0 00 00     	ldy	#$0
 14875 06:363D: A5 05        	lda	<R1
 14876 06:363F: 10 01        	bpl	L735
 14877 06:3641: 88           	dey
 14878                        L735:
 14879 06:3642: 85 05        	sta	<R1
 14880 06:3644: 84 07        	sty	<R1+2
 14881 06:3646: D4 07        	pei	<R1+2
  Mon Aug  9 2021 16:52                                                Page 274


 14882 06:3648: D4 05        	pei	<R1
 14883 06:364A: A9 06 00     	lda	#$6
 14884                        	xref	~~~lasl
 14885 06:364D: 22 xx xx xx  	jsl	~~~lasl
 14886 06:3651: 85 01        	sta	<R0
 14887 06:3653: 86 03        	stx	<R0+2
 14888 06:3655: 18           	clc
 14889 06:3656: A9 xx xx     	lda	#<~~fontImg
 14890 06:3659: 65 01        	adc	<R0
 14891 06:365B: 85 22        	sta	<L732+img_1
 14892 06:365D: A9 xx xx     	lda	#^~~fontImg
 14893 06:3660: 65 03        	adc	<R0+2
 14894 06:3662: 85 24        	sta	<L732+img_1+2
 14895                        ;	}
 14896                        	.line	2066
 14897                        L10271:
 14898                        ;
 14899                        ;	if(img!=NULL)
 14900                        	.line	2068
 14901                        ;	{
 14902 06:3664: A5 22        	lda	<L732+img_1
 14903 06:3666: 05 24        	ora	<L732+img_1+2
 14904 06:3668: D0 03        	bne	L736
 14905 06:366A: 82 E3 00     	brl	L10272
 14906                        L736:
 14907                        	.line	2069
 14908                        ;		py = 0;
 14909                        	.line	2070
 14910 06:366D: 64 17        	stz	<L732+py_1
 14911                        ;		for (y = 0; y < height; y+=scale) 
 14912                        	.line	2071
 14913 06:366F: 64 0B        	stz	<L732+y_1
 14914 06:3671: 82 CD 00     	brl	L10276
 14915                        L10275:
 14916                        ;		{
 14917                        	.line	2072
 14918                        ;			offy = y;
 14919                        	.line	2073
 14920 06:3674: A5 0B        	lda	<L732+y_1
 14921 06:3676: 85 1B        	sta	<L732+offy_1
 14922                        ;			px = 0;
 14923                        	.line	2074
 14924 06:3678: 64 15        	stz	<L732+px_1
 14925                        ;			for (x = 0; x < width; x+=scale)
                     
 14926                        	.line	2075
 14927 06:367A: 64 09        	stz	<L732+x_1
 14928 06:367C: 82 AA 00     	brl	L10280
 14929                        L10279:
 14930                        ;			{
 14931                        	.line	2076
 14932                        ;				// get the pixel value
 14933                        ;				offx = x;
 14934                        	.line	2078
 14935 06:367F: A5 09        	lda	<L732+x_1
 14936 06:3681: 85 19        	sta	<L732+offx_1
 14937                        ;				b = img[py * FONTW + px]
                    ;
  Mon Aug  9 2021 16:52                                                Page 275


 14938                        	.line	2079
 14939 06:3683: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 14940 06:3687: 85 01        	sta	<R0
 14941 06:3689: A5 01        	lda	<R0
 14942 06:368B: A6 17        	ldx	<L732+py_1
 14943                        	xref	~~~mul
 14944 06:368D: 22 xx xx xx  	jsl	~~~mul
 14945 06:3691: 85 01        	sta	<R0
 14946 06:3693: 18           	clc
 14947 06:3694: A5 01        	lda	<R0
 14948 06:3696: 65 15        	adc	<L732+px_1
 14949 06:3698: 85 05        	sta	<R1
 14950 06:369A: E2 20        	sep	#$20
 14951                        	longa	off
 14952 06:369C: A4 05        	ldy	<R1
 14953 06:369E: B7 22        	lda	[<L732+img_1],Y
 14954 06:36A0: 85 21        	sta	<L732+b_1
 14955 06:36A2: C2 20        	rep	#$20
 14956                        	longa	on
 14957                        ;				if (b > 0) 
 14958                        	.line	2080
 14959                        ;				{ // plot the pixel	
                    				
 14960 06:36A4: E2 20        	sep	#$20
 14961                        	longa	off
 14962 06:36A6: A9 00        	lda	#$0
 14963 06:36A8: C5 21        	cmp	<L732+b_1
 14964 06:36AA: C2 20        	rep	#$20
 14965                        	longa	on
 14966 06:36AC: 90 03        	bcc	L737
 14967 06:36AE: 82 6F 00     	brl	L10281
 14968                        L737:
 14969                        	.line	2081
 14970                        ;					offy = y;
 14971                        	.line	2082
 14972 06:36B1: A5 0B        	lda	<L732+y_1
 14973 06:36B3: 85 1B        	sta	<L732+offy_1
 14974                        ;					for(sy=0;sy<scal
                    e;sy++)
 14975                        	.line	2083
 14976 06:36B5: 64 1F        	stz	<L732+sy_1
 14977 06:36B7: 82 54 00     	brl	L10285
 14978                        L10284:
 14979                        ;					{
 14980                        	.line	2084
 14981                        ;						offx = x
                    ;
 14982                        	.line	2085
 14983 06:36BA: A5 09        	lda	<L732+x_1
 14984 06:36BC: 85 19        	sta	<L732+offx_1
 14985                        ;						for(sx=0
                    ;sx<scale;sx++)
 14986                        	.line	2086
 14987 06:36BE: 64 1D        	stz	<L732+sx_1
 14988 06:36C0: 82 38 00     	brl	L10289
 14989                        L10288:
 14990                        ;						{
 14991                        	.line	2087
  Mon Aug  9 2021 16:52                                                Page 276


 14992                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 14993                        	.line	2088
 14994 06:36C3: D4 2F        	pei	<L731+color_0
 14995 06:36C5: 18           	clc
 14996 06:36C6: A5 13        	lda	<L732+textY_1
 14997 06:36C8: 65 1B        	adc	<L732+offy_1
 14998 06:36CA: 85 01        	sta	<R0
 14999 06:36CC: A0 00 00     	ldy	#$0
 15000 06:36CF: A5 01        	lda	<R0
 15001 06:36D1: 10 01        	bpl	L738
 15002 06:36D3: 88           	dey
 15003                        L738:
 15004 06:36D4: 85 01        	sta	<R0
 15005 06:36D6: 84 03        	sty	<R0+2
 15006 06:36D8: D4 03        	pei	<R0+2
 15007 06:36DA: D4 01        	pei	<R0
 15008 06:36DC: 18           	clc
 15009 06:36DD: A5 11        	lda	<L732+textX_1
 15010 06:36DF: 65 19        	adc	<L732+offx_1
 15011 06:36E1: 85 05        	sta	<R1
 15012 06:36E3: A0 00 00     	ldy	#$0
 15013 06:36E6: A5 05        	lda	<R1
 15014 06:36E8: 10 01        	bpl	L739
 15015 06:36EA: 88           	dey
 15016                        L739:
 15017 06:36EB: 85 05        	sta	<R1
 15018 06:36ED: 84 07        	sty	<R1+2
 15019 06:36EF: D4 07        	pei	<R1+2
 15020 06:36F1: D4 05        	pei	<R1
 15021 06:36F3: 22 3B 13 06  	jsl	~~k_draw_pixel
 15022                        ;							
                    offx++;
 15023                        	.line	2089
 15024 06:36F7: E6 19        	inc	<L732+offx_1
 15025                        ;						}
 15026                        	.line	2090
 15027                        L10286:
 15028 06:36F9: E6 1D        	inc	<L732+sx_1
 15029                        L10289:
 15030 06:36FB: 38           	sec
 15031 06:36FC: A5 1D        	lda	<L732+sx_1
 15032 06:36FE: E5 31        	sbc	<L731+scale_0
 15033 06:3700: 70 03        	bvs	L740
 15034 06:3702: 49 00 80     	eor	#$8000
 15035                        L740:
 15036 06:3705: 30 03        	bmi	L741
 15037 06:3707: 82 B9 FF     	brl	L10288
 15038                        L741:
 15039                        L10287:
 15040                        ;						offy++;
 15041                        	.line	2091
 15042 06:370A: E6 1B        	inc	<L732+offy_1
 15043                        ;					}
 15044                        	.line	2092
 15045                        L10282:
 15046 06:370C: E6 1F        	inc	<L732+sy_1
 15047                        L10285:
  Mon Aug  9 2021 16:52                                                Page 277


 15048 06:370E: 38           	sec
 15049 06:370F: A5 1F        	lda	<L732+sy_1
 15050 06:3711: E5 31        	sbc	<L731+scale_0
 15051 06:3713: 70 03        	bvs	L742
 15052 06:3715: 49 00 80     	eor	#$8000
 15053                        L742:
 15054 06:3718: 30 03        	bmi	L743
 15055 06:371A: 82 9D FF     	brl	L10284
 15056                        L743:
 15057                        L10283:
 15058                        ;					
 15059                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 15060                        ;				}
 15061                        	.line	2095
 15062                        ;				else 
 15063 06:371D: 82 00 00     	brl	L10290
 15064                        L10281:
 15065                        ;				{ 
 15066                        	.line	2097
 15067                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 15068                        ;				}
 15069                        	.line	2099
 15070                        L10290:
 15071                        ;				px++;
 15072                        	.line	2100
 15073 06:3720: E6 15        	inc	<L732+px_1
 15074                        ;			} // end "for x"
 15075                        	.line	2101
 15076                        L10277:
 15077 06:3722: 18           	clc
 15078 06:3723: A5 09        	lda	<L732+x_1
 15079 06:3725: 65 31        	adc	<L731+scale_0
 15080 06:3727: 85 09        	sta	<L732+x_1
 15081                        L10280:
 15082 06:3729: 38           	sec
 15083 06:372A: A5 09        	lda	<L732+x_1
 15084 06:372C: E5 0F        	sbc	<L732+width_1
 15085 06:372E: 70 03        	bvs	L744
 15086 06:3730: 49 00 80     	eor	#$8000
 15087                        L744:
 15088 06:3733: 30 03        	bmi	L745
 15089 06:3735: 82 47 FF     	brl	L10279
 15090                        L745:
 15091                        L10278:
 15092                        ;			py++;
 15093                        	.line	2102
 15094 06:3738: E6 17        	inc	<L732+py_1
 15095                        ;		} // end "for y"
 15096                        	.line	2103
 15097                        L10273:
 15098 06:373A: 18           	clc
 15099 06:373B: A5 0B        	lda	<L732+y_1
 15100 06:373D: 65 31        	adc	<L731+scale_0
 15101 06:373F: 85 0B        	sta	<L732+y_1
 15102                        L10276:
 15103 06:3741: 38           	sec
  Mon Aug  9 2021 16:52                                                Page 278


 15104 06:3742: A5 0B        	lda	<L732+y_1
 15105 06:3744: E5 0D        	sbc	<L732+height_1
 15106 06:3746: 70 03        	bvs	L746
 15107 06:3748: 49 00 80     	eor	#$8000
 15108                        L746:
 15109 06:374B: 30 03        	bmi	L747
 15110 06:374D: 82 24 FF     	brl	L10275
 15111                        L747:
 15112                        L10274:
 15113                        ;	}
 15114                        	.line	2104
 15115                        ;}
 15116                        L10272:
 15117                        	.line	2105
 15118                        L748:
 15119 06:3750: A5 27        	lda	<L731+2
 15120 06:3752: 85 31        	sta	<L731+2+10
 15121 06:3754: A5 26        	lda	<L731+1
 15122 06:3756: 85 30        	sta	<L731+1+10
 15123 06:3758: 2B           	pld
 15124 06:3759: 3B           	tsc
 15125 06:375A: 18           	clc
 15126 06:375B: 69 2F 00     	adc	#L731+10
 15127 06:375E: 1B           	tcs
 15128 06:375F: 6B           	rtl
 15129                        	.endblock	2105
 15130             00000025   L731	equ	37
 15131             00000009   L732	equ	9
 15132 06:3760:              	ends
 15133                        	efunc
 15134                        	.endfunc	2105,9,37
 15135                        	.line	2105
 15136                        ;
 15137                        ;
 15138                        ;void k_draw_char_scaled_point(char charCode,int l
                    ocX,int locY,char color,int scale)
 15139                        ;{
 15140                        	.line	2108
 15141                        	.line	2109
 15142                        	GFX
 15143                        	xdef	~~k_draw_char_scaled_point
 15144                        	func
 15145                        	.function	2109
 15146                        ~~k_draw_char_scaled_point:
 15147                        	longa	on
 15148                        	longi	on
 15149 06:3760: 3B           	tsc
 15150 06:3761: 38           	sec
 15151 06:3762: E9 25 00     	sbc	#L749
 15152 06:3765: 1B           	tcs
 15153 06:3766: 0B           	phd
 15154 06:3767: 5B           	tcd
 15155             00000004   charCode_0	set	4
 15156             00000006   locX_0	set	6
 15157             00000008   locY_0	set	8
 15158             0000000A   color_0	set	10
 15159             0000000C   scale_0	set	12
 15160                        	.block	2109
  Mon Aug  9 2021 16:52                                                Page 279


 15161                        ;	int x = 0;
 15162                        ;	int y = 0;
 15163                        ;
 15164                        ;	int height = FONTH * scale;
 15165                        ;	int width  = FONTW * scale;
 15166                        ;	
 15167                        ;	int textX = locX;
 15168                        ;	int textY = locY;
 15169                        ;
 15170                        ;	int px   = 0;
 15171                        ;	int py   = 0;
 15172                        ;	int offx = 0;
 15173                        ;	int offy = 0;
 15174                        ;	int sx   = 0;
 15175                        ;	int sy   = 0;
 15176                        ;
 15177                        ;	char b   = 0;
 15178                        ;
 15179                        ;	char FAR* img = NULL;
 15180                        ;
 15181                        ;    if(charCode == 32)
 15182             00000000   x_1	set	0
 15183             00000002   y_1	set	2
 15184             00000004   height_1	set	4
 15185             00000006   width_1	set	6
 15186             00000008   textX_1	set	8
 15187             0000000A   textY_1	set	10
 15188             0000000C   px_1	set	12
 15189             0000000E   py_1	set	14
 15190             00000010   offx_1	set	16
 15191             00000012   offy_1	set	18
 15192             00000014   sx_1	set	20
 15193             00000016   sy_1	set	22
 15194             00000018   b_1	set	24
 15195             00000019   img_1	set	25
 15196                        	.sym	x,0,5,1,16
 15197                        	.sym	y,2,5,1,16
 15198                        	.sym	height,4,5,1,16
 15199                        	.sym	width,6,5,1,16
 15200                        	.sym	textX,8,5,1,16
 15201                        	.sym	textY,10,5,1,16
 15202                        	.sym	px,12,5,1,16
 15203                        	.sym	py,14,5,1,16
 15204                        	.sym	offx,16,5,1,16
 15205                        	.sym	offy,18,5,1,16
 15206                        	.sym	sx,20,5,1,16
 15207                        	.sym	sy,22,5,1,16
 15208                        	.sym	b,24,14,1,8
 15209                        	.sym	img,25,142,1,32
 15210                        	.sym	charCode,4,14,6,8
 15211                        	.sym	locX,6,5,6,16
 15212                        	.sym	locY,8,5,6,16
 15213                        	.sym	color,10,14,6,8
 15214                        	.sym	scale,12,5,6,16
 15215 06:3768: 64 09        	stz	<L750+x_1
 15216 06:376A: 64 0B        	stz	<L750+y_1
 15217 06:376C: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 15218 06:3770: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 280


 15219 06:3772: A5 01        	lda	<R0
 15220 06:3774: A6 31        	ldx	<L749+scale_0
 15221                        	xref	~~~mul
 15222 06:3776: 22 xx xx xx  	jsl	~~~mul
 15223 06:377A: 85 0D        	sta	<L750+height_1
 15224 06:377C: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 15225 06:3780: 85 01        	sta	<R0
 15226 06:3782: A5 01        	lda	<R0
 15227 06:3784: A6 31        	ldx	<L749+scale_0
 15228                        	xref	~~~mul
 15229 06:3786: 22 xx xx xx  	jsl	~~~mul
 15230 06:378A: 85 0F        	sta	<L750+width_1
 15231 06:378C: A5 2B        	lda	<L749+locX_0
 15232 06:378E: 85 11        	sta	<L750+textX_1
 15233 06:3790: A5 2D        	lda	<L749+locY_0
 15234 06:3792: 85 13        	sta	<L750+textY_1
 15235 06:3794: 64 15        	stz	<L750+px_1
 15236 06:3796: 64 17        	stz	<L750+py_1
 15237 06:3798: 64 19        	stz	<L750+offx_1
 15238 06:379A: 64 1B        	stz	<L750+offy_1
 15239 06:379C: 64 1D        	stz	<L750+sx_1
 15240 06:379E: 64 1F        	stz	<L750+sy_1
 15241 06:37A0: E2 20        	sep	#$20
 15242                        	longa	off
 15243 06:37A2: 64 21        	stz	<L750+b_1
 15244 06:37A4: C2 20        	rep	#$20
 15245                        	longa	on
 15246 06:37A6: 64 22        	stz	<L750+img_1
 15247 06:37A8: 64 24        	stz	<L750+img_1+2
 15248                        	.line	2130
 15249                        ;	{
 15250 06:37AA: E2 20        	sep	#$20
 15251                        	longa	off
 15252 06:37AC: A5 29        	lda	<L749+charCode_0
 15253 06:37AE: C9 20        	cmp	#<$20
 15254 06:37B0: C2 20        	rep	#$20
 15255                        	longa	on
 15256 06:37B2: F0 03        	beq	L752
 15257 06:37B4: 82 07 00     	brl	L10291
 15258                        L752:
 15259                        	.line	2131
 15260                        ;	   img = NULL;
 15261                        	.line	2132
 15262 06:37B7: 64 22        	stz	<L750+img_1
 15263 06:37B9: 64 24        	stz	<L750+img_1+2
 15264                        ;    }
 15265                        	.line	2133
 15266                        ;    else
 15267 06:37BB: 82 31 00     	brl	L10292
 15268                        L10291:
 15269                        ;	{
 15270                        	.line	2135
 15271                        ;	    img = fontImg[charCode & 0xFF];
 15272                        	.line	2136
 15273 06:37BE: A5 29        	lda	<L749+charCode_0
 15274 06:37C0: 29 FF 00     	and	#<$ff
 15275 06:37C3: 85 05        	sta	<R1
 15276 06:37C5: A0 00 00     	ldy	#$0
  Mon Aug  9 2021 16:52                                                Page 281


 15277 06:37C8: A5 05        	lda	<R1
 15278 06:37CA: 10 01        	bpl	L753
 15279 06:37CC: 88           	dey
 15280                        L753:
 15281 06:37CD: 85 05        	sta	<R1
 15282 06:37CF: 84 07        	sty	<R1+2
 15283 06:37D1: D4 07        	pei	<R1+2
 15284 06:37D3: D4 05        	pei	<R1
 15285 06:37D5: A9 06 00     	lda	#$6
 15286                        	xref	~~~lasl
 15287 06:37D8: 22 xx xx xx  	jsl	~~~lasl
 15288 06:37DC: 85 01        	sta	<R0
 15289 06:37DE: 86 03        	stx	<R0+2
 15290 06:37E0: 18           	clc
 15291 06:37E1: A9 xx xx     	lda	#<~~fontImg
 15292 06:37E4: 65 01        	adc	<R0
 15293 06:37E6: 85 22        	sta	<L750+img_1
 15294 06:37E8: A9 xx xx     	lda	#^~~fontImg
 15295 06:37EB: 65 03        	adc	<R0+2
 15296 06:37ED: 85 24        	sta	<L750+img_1+2
 15297                        ;	}
 15298                        	.line	2137
 15299                        L10292:
 15300                        ;
 15301                        ;	if(img!=NULL)
 15302                        	.line	2139
 15303                        ;	{
 15304 06:37EF: A5 22        	lda	<L750+img_1
 15305 06:37F1: 05 24        	ora	<L750+img_1+2
 15306 06:37F3: D0 03        	bne	L754
 15307 06:37F5: 82 E3 00     	brl	L10293
 15308                        L754:
 15309                        	.line	2140
 15310                        ;		py = 0;
 15311                        	.line	2141
 15312 06:37F8: 64 17        	stz	<L750+py_1
 15313                        ;		for (y = 0; y < height; y+=scale) 
 15314                        	.line	2142
 15315 06:37FA: 64 0B        	stz	<L750+y_1
 15316 06:37FC: 82 CD 00     	brl	L10297
 15317                        L10296:
 15318                        ;		{
 15319                        	.line	2143
 15320                        ;			offy = y;
 15321                        	.line	2144
 15322 06:37FF: A5 0B        	lda	<L750+y_1
 15323 06:3801: 85 1B        	sta	<L750+offy_1
 15324                        ;			px = 0;
 15325                        	.line	2145
 15326 06:3803: 64 15        	stz	<L750+px_1
 15327                        ;			for (x = 0; x < width; x+=scale)
                     
 15328                        	.line	2146
 15329 06:3805: 64 09        	stz	<L750+x_1
 15330 06:3807: 82 AA 00     	brl	L10301
 15331                        L10300:
 15332                        ;			{
 15333                        	.line	2147
  Mon Aug  9 2021 16:52                                                Page 282


 15334                        ;				// get the pixel value
 15335                        ;				offx = x;
 15336                        	.line	2149
 15337 06:380A: A5 09        	lda	<L750+x_1
 15338 06:380C: 85 19        	sta	<L750+offx_1
 15339                        ;				b = img[py * FONTW + px]
                    ;
 15340                        	.line	2150
 15341 06:380E: 22 F8 83 06  	jsl	~~k_font_getFontWidth
 15342 06:3812: 85 01        	sta	<R0
 15343 06:3814: A5 01        	lda	<R0
 15344 06:3816: A6 17        	ldx	<L750+py_1
 15345                        	xref	~~~mul
 15346 06:3818: 22 xx xx xx  	jsl	~~~mul
 15347 06:381C: 85 01        	sta	<R0
 15348 06:381E: 18           	clc
 15349 06:381F: A5 01        	lda	<R0
 15350 06:3821: 65 15        	adc	<L750+px_1
 15351 06:3823: 85 05        	sta	<R1
 15352 06:3825: E2 20        	sep	#$20
 15353                        	longa	off
 15354 06:3827: A4 05        	ldy	<R1
 15355 06:3829: B7 22        	lda	[<L750+img_1],Y
 15356 06:382B: 85 21        	sta	<L750+b_1
 15357 06:382D: C2 20        	rep	#$20
 15358                        	longa	on
 15359                        ;				if (b > 0) 
 15360                        	.line	2151
 15361                        ;				{ // plot the pixel	
                    				
 15362 06:382F: E2 20        	sep	#$20
 15363                        	longa	off
 15364 06:3831: A9 00        	lda	#$0
 15365 06:3833: C5 21        	cmp	<L750+b_1
 15366 06:3835: C2 20        	rep	#$20
 15367                        	longa	on
 15368 06:3837: 90 03        	bcc	L755
 15369 06:3839: 82 6F 00     	brl	L10302
 15370                        L755:
 15371                        	.line	2152
 15372                        ;					offy = y;
 15373                        	.line	2153
 15374 06:383C: A5 0B        	lda	<L750+y_1
 15375 06:383E: 85 1B        	sta	<L750+offy_1
 15376                        ;					for(sy=0;sy<scal
                    e;sy++)
 15377                        	.line	2154
 15378 06:3840: 64 1F        	stz	<L750+sy_1
 15379 06:3842: 82 54 00     	brl	L10306
 15380                        L10305:
 15381                        ;					{
 15382                        	.line	2155
 15383                        ;						offx = x
                    ;
 15384                        	.line	2156
 15385 06:3845: A5 09        	lda	<L750+x_1
 15386 06:3847: 85 19        	sta	<L750+offx_1
 15387                        ;						for(sx=0
  Mon Aug  9 2021 16:52                                                Page 283


                    ;sx<scale;sx++)
 15388                        	.line	2157
 15389 06:3849: 64 1D        	stz	<L750+sx_1
 15390 06:384B: 82 38 00     	brl	L10310
 15391                        L10309:
 15392                        ;						{
 15393                        	.line	2158
 15394                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 15395                        	.line	2159
 15396 06:384E: D4 2F        	pei	<L749+color_0
 15397 06:3850: 18           	clc
 15398 06:3851: A5 13        	lda	<L750+textY_1
 15399 06:3853: 65 1B        	adc	<L750+offy_1
 15400 06:3855: 85 01        	sta	<R0
 15401 06:3857: A0 00 00     	ldy	#$0
 15402 06:385A: A5 01        	lda	<R0
 15403 06:385C: 10 01        	bpl	L756
 15404 06:385E: 88           	dey
 15405                        L756:
 15406 06:385F: 85 01        	sta	<R0
 15407 06:3861: 84 03        	sty	<R0+2
 15408 06:3863: D4 03        	pei	<R0+2
 15409 06:3865: D4 01        	pei	<R0
 15410 06:3867: 18           	clc
 15411 06:3868: A5 11        	lda	<L750+textX_1
 15412 06:386A: 65 19        	adc	<L750+offx_1
 15413 06:386C: 85 05        	sta	<R1
 15414 06:386E: A0 00 00     	ldy	#$0
 15415 06:3871: A5 05        	lda	<R1
 15416 06:3873: 10 01        	bpl	L757
 15417 06:3875: 88           	dey
 15418                        L757:
 15419 06:3876: 85 05        	sta	<R1
 15420 06:3878: 84 07        	sty	<R1+2
 15421 06:387A: D4 07        	pei	<R1+2
 15422 06:387C: D4 05        	pei	<R1
 15423 06:387E: 22 3B 13 06  	jsl	~~k_draw_pixel
 15424                        ;							
                    offx++;
 15425                        	.line	2160
 15426 06:3882: E6 19        	inc	<L750+offx_1
 15427                        ;						}
 15428                        	.line	2161
 15429                        L10307:
 15430 06:3884: E6 1D        	inc	<L750+sx_1
 15431                        L10310:
 15432 06:3886: 38           	sec
 15433 06:3887: A5 1D        	lda	<L750+sx_1
 15434 06:3889: E5 31        	sbc	<L749+scale_0
 15435 06:388B: 70 03        	bvs	L758
 15436 06:388D: 49 00 80     	eor	#$8000
 15437                        L758:
 15438 06:3890: 30 03        	bmi	L759
 15439 06:3892: 82 B9 FF     	brl	L10309
 15440                        L759:
 15441                        L10308:
 15442                        ;						offy++;
  Mon Aug  9 2021 16:52                                                Page 284


 15443                        	.line	2162
 15444 06:3895: E6 1B        	inc	<L750+offy_1
 15445                        ;					}
 15446                        	.line	2163
 15447                        L10303:
 15448 06:3897: E6 1F        	inc	<L750+sy_1
 15449                        L10306:
 15450 06:3899: 38           	sec
 15451 06:389A: A5 1F        	lda	<L750+sy_1
 15452 06:389C: E5 31        	sbc	<L749+scale_0
 15453 06:389E: 70 03        	bvs	L760
 15454 06:38A0: 49 00 80     	eor	#$8000
 15455                        L760:
 15456 06:38A3: 30 03        	bmi	L761
 15457 06:38A5: 82 9D FF     	brl	L10305
 15458                        L761:
 15459                        L10304:
 15460                        ;					
 15461                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 15462                        ;				}
 15463                        	.line	2166
 15464                        ;				else 
 15465 06:38A8: 82 00 00     	brl	L10311
 15466                        L10302:
 15467                        ;				{ 
 15468                        	.line	2168
 15469                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 15470                        ;				}
 15471                        	.line	2170
 15472                        L10311:
 15473                        ;				px++;
 15474                        	.line	2171
 15475 06:38AB: E6 15        	inc	<L750+px_1
 15476                        ;			} // end "for x"
 15477                        	.line	2172
 15478                        L10298:
 15479 06:38AD: 18           	clc
 15480 06:38AE: A5 09        	lda	<L750+x_1
 15481 06:38B0: 65 31        	adc	<L749+scale_0
 15482 06:38B2: 85 09        	sta	<L750+x_1
 15483                        L10301:
 15484 06:38B4: 38           	sec
 15485 06:38B5: A5 09        	lda	<L750+x_1
 15486 06:38B7: E5 0F        	sbc	<L750+width_1
 15487 06:38B9: 70 03        	bvs	L762
 15488 06:38BB: 49 00 80     	eor	#$8000
 15489                        L762:
 15490 06:38BE: 30 03        	bmi	L763
 15491 06:38C0: 82 47 FF     	brl	L10300
 15492                        L763:
 15493                        L10299:
 15494                        ;			py++;
 15495                        	.line	2173
 15496 06:38C3: E6 17        	inc	<L750+py_1
 15497                        ;		} // end "for y"
 15498                        	.line	2174
  Mon Aug  9 2021 16:52                                                Page 285


 15499                        L10294:
 15500 06:38C5: 18           	clc
 15501 06:38C6: A5 0B        	lda	<L750+y_1
 15502 06:38C8: 65 31        	adc	<L749+scale_0
 15503 06:38CA: 85 0B        	sta	<L750+y_1
 15504                        L10297:
 15505 06:38CC: 38           	sec
 15506 06:38CD: A5 0B        	lda	<L750+y_1
 15507 06:38CF: E5 0D        	sbc	<L750+height_1
 15508 06:38D1: 70 03        	bvs	L764
 15509 06:38D3: 49 00 80     	eor	#$8000
 15510                        L764:
 15511 06:38D6: 30 03        	bmi	L765
 15512 06:38D8: 82 24 FF     	brl	L10296
 15513                        L765:
 15514                        L10295:
 15515                        ;	}
 15516                        	.line	2175
 15517                        ;}
 15518                        L10293:
 15519                        	.line	2176
 15520                        L766:
 15521 06:38DB: A5 27        	lda	<L749+2
 15522 06:38DD: 85 31        	sta	<L749+2+10
 15523 06:38DF: A5 26        	lda	<L749+1
 15524 06:38E1: 85 30        	sta	<L749+1+10
 15525 06:38E3: 2B           	pld
 15526 06:38E4: 3B           	tsc
 15527 06:38E5: 18           	clc
 15528 06:38E6: 69 2F 00     	adc	#L749+10
 15529 06:38E9: 1B           	tcs
 15530 06:38EA: 6B           	rtl
 15531                        	.endblock	2176
 15532             00000025   L749	equ	37
 15533             00000009   L750	equ	9
 15534 06:38EB:              	ends
 15535                        	efunc
 15536                        	.endfunc	2176,9,37
 15537                        	.line	2176
 15538                        ;
 15539                        ;/*
 15540                        ;void k_render_bitmap_info(int fcolor)
 15541                        ;{
 15542                        ;	int x;
 15543                        ;	int y;
 15544                        ;	int pos = 0;
 15545                        ;	int i = 0;
 15546                        ;	int k = 0;
 15547                        ;	int cv = 0;
 15548                        ;	int cl = 0;
 15549                        ;	int lv = 0;
 15550                        ;	int lm = 0;
 15551                        ;	int bx = 0;
 15552                        ;	int by = 0;
 15553                        ;	int mx = -1;
 15554                        ;	int my = -1;
 15555                        ;	int mb = -1;
 15556                        ;	int bw = 0;
  Mon Aug  9 2021 16:52                                                Page 286


 15557                        ;	int bh = 0;
 15558                        ;	char kbchar = 0;
 15559                        ;
 15560                        ;	version_title = "Version 1.0.0\0";
 15561                        ;
 15562                        ;
 15563                        ;	pos=2;
 15564                        ;	pos=k_put_draw_text(pos,35,"FOENIX C256 VERSION:
                    ",fcolor,0);
 15565                        ;	k_get_c256_major_version(buffer);
 15566                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 15567                        ;	k_get_c256_minor_version(buffer);
 15568                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 15569                        ;	
 15570                        ;	pos=2;
 15571                        ;	pos=k_put_draw_text(pos,37,"FPGA VERSION:",fcolo
                    r,0);
 15572                        ;	k_get_fpga_date_month(buffer);
 15573                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 15574                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 15575                        ;	k_get_fpga_date_day(buffer);
 15576                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 15577                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 15578                        ;	k_get_fpga_date_year(buffer);
 15579                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 15580                        ;
 15581                        ;
 15582                        ;	pos = 2;
 15583                        ;	pos=k_put_draw_text(pos,2,"CURRENT COLOR:",15,0)
                    ;
 15584                        ;	k_itoa(fcolor,buffer,10);
 15585                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 15586                        ;
 15587                        ;	pos = 2;
 15588                        ;	k_draw_pixel(0,0,fcolor);
 15589                        ;	pos=k_put_draw_text(pos,3,"READ COLOR AT 0,0 :",
                    15,0);
 15590                        ;	k_itoa(k_get_pixel_color(0,0),buffer,10);
 15591                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 15592                        ;
 15593                        ;
 15594                        ;
 15595                        ;	pos = 2;
 15596                        ;	pos=k_put_draw_text(pos,41,"SIZEOF CHAR:",fcolor
                    ,0);
 15597                        ;	k_itoa(sizeof(char),buffer,10);
 15598                        ;	pos=k_put_draw_text(pos,41,buffer,fcolor,0);
 15599                        ;
 15600                        ;	pos = 2;
 15601                        ;	pos=k_put_draw_text(pos,42,"SIZEOF INT:",fcolor,
                    0);
 15602                        ;	k_itoa(sizeof(int),buffer,10);
 15603                        ;	pos=k_put_draw_text(pos,42,buffer,fcolor,0);
 15604                        ;
 15605                        ;	pos = 2;
  Mon Aug  9 2021 16:52                                                Page 287


 15606                        ;	pos=k_put_draw_text(pos,43,"SIZEOF LONG:",fcolor
                    ,0);
 15607                        ;	k_itoa(sizeof(long),buffer,10);
 15608                        ;	pos=k_put_draw_text(pos,43,buffer,fcolor,0);
 15609                        ;
 15610                        ;	pos = 2;
 15611                        ;	pos=k_put_draw_text(pos,44,"SIZEOF CHAR*:",fcolo
                    r,0);
 15612                        ;	k_itoa(sizeof(char*),buffer,10);
 15613                        ;	pos=k_put_draw_text(pos,44,buffer,fcolor,0);
 15614                        ;
 15615                        ;	pos = 2;
 15616                        ;	pos=k_put_draw_text(pos,45,"SIZEOF CHAR FAR*:",f
                    color,0);
 15617                        ;	k_itoa(sizeof(char FAR*),buffer,10);
 15618                        ;	pos=k_put_draw_text(pos,45,buffer,fcolor,0);
 15619                        ;
 15620                        ;
 15621                        ;	pos = 2;
 15622                        ;	pos=k_put_draw_text(pos,46,"SIZEOF UINT:",fcolor
                    ,0);
 15623                        ;	k_itoa(sizeof(unsigned int),buffer,10);
 15624                        ;	pos=k_put_draw_text(pos,46,buffer,fcolor,0);
 15625                        ;
 15626                        ;	pos = 2;
 15627                        ;	pos=k_put_draw_text(pos,47,"SIZEOF ULONG:",fcolo
                    r,0);
 15628                        ;	k_itoa(sizeof(unsigned long),buffer,10);
 15629                        ;	pos=k_put_draw_text(pos,47,buffer,fcolor,0);
 15630                        ;
 15631                        ;}
 15632                        ;*/
 15633                        ;void k_draw_lines(void)
 15634                        ;{
 15635                        	.line	2272
 15636                        	.line	2273
 15637                        	GFX
 15638                        	xdef	~~k_draw_lines
 15639                        	func
 15640                        	.function	2273
 15641                        ~~k_draw_lines:
 15642                        	longa	on
 15643                        	longi	on
 15644 06:38EB: 3B           	tsc
 15645 06:38EC: 38           	sec
 15646 06:38ED: E9 0A 00     	sbc	#L767
 15647 06:38F0: 1B           	tcs
 15648 06:38F1: 0B           	phd
 15649 06:38F2: 5B           	tcd
 15650                        	.block	2273
 15651                        ;	int dx = 0;
 15652                        ;	int dy = 0;
 15653                        ;	int bc = 1;	
 15654                        ;	int dx0 = 0;
 15655                        ;	int dy0 = 0;
 15656                        ;	
 15657                        ;	for(dy=0;dy<480;dy+=5)
 15658             00000000   dx_1	set	0
  Mon Aug  9 2021 16:52                                                Page 288


 15659             00000002   dy_1	set	2
 15660             00000004   bc_1	set	4
 15661             00000006   dx0_1	set	6
 15662             00000008   dy0_1	set	8
 15663                        	.sym	dx,0,5,1,16
 15664                        	.sym	dy,2,5,1,16
 15665                        	.sym	bc,4,5,1,16
 15666                        	.sym	dx0,6,5,1,16
 15667                        	.sym	dy0,8,5,1,16
 15668 06:38F3: 64 01        	stz	<L768+dx_1
 15669 06:38F5: 64 03        	stz	<L768+dy_1
 15670 06:38F7: A9 01 00     	lda	#$1
 15671 06:38FA: 85 05        	sta	<L768+bc_1
 15672 06:38FC: 64 07        	stz	<L768+dx0_1
 15673 06:38FE: 64 09        	stz	<L768+dy0_1
 15674                        	.line	2280
 15675 06:3900: 64 03        	stz	<L768+dy_1
 15676                        L10314:
 15677                        ;	{
 15678                        	.line	2281
 15679                        ;		//if(dx0!=0 && dy0!=0)
 15680                        ;		//	k_draw_line(0,dy0,dx0,479,0);
 15681                        ;		
 15682                        ;		k_draw_line(0,dy,dx,479,bc);
 15683                        	.line	2285
 15684 06:3902: D4 05        	pei	<L768+bc_1
 15685 06:3904: F4 DF 01     	pea	#<$1df
 15686 06:3907: D4 01        	pei	<L768+dx_1
 15687 06:3909: D4 03        	pei	<L768+dy_1
 15688 06:390B: F4 00 00     	pea	#<$0
 15689 06:390E: 22 CB 1A 06  	jsl	~~k_draw_line
 15690                        ;
 15691                        ;		dx0 = dx;
 15692                        	.line	2287
 15693 06:3912: A5 01        	lda	<L768+dx_1
 15694 06:3914: 85 07        	sta	<L768+dx0_1
 15695                        ;		dy0 = dy;
 15696                        	.line	2288
 15697 06:3916: A5 03        	lda	<L768+dy_1
 15698 06:3918: 85 09        	sta	<L768+dy0_1
 15699                        ;		
 15700                        ;		dx+=5;
 15701                        	.line	2290
 15702 06:391A: 18           	clc
 15703 06:391B: A9 05 00     	lda	#$5
 15704 06:391E: 65 01        	adc	<L768+dx_1
 15705 06:3920: 85 01        	sta	<L768+dx_1
 15706                        ;		bc++;
 15707                        	.line	2291
 15708 06:3922: E6 05        	inc	<L768+bc_1
 15709                        ;		if(bc > 15)
 15710                        	.line	2292
 15711                        ;			bc = 1;
 15712 06:3924: 38           	sec
 15713 06:3925: A9 0F 00     	lda	#$f
 15714 06:3928: E5 05        	sbc	<L768+bc_1
 15715 06:392A: 70 03        	bvs	L770
 15716 06:392C: 49 00 80     	eor	#$8000
  Mon Aug  9 2021 16:52                                                Page 289


 15717                        L770:
 15718 06:392F: 10 03        	bpl	L771
 15719 06:3931: 82 05 00     	brl	L10315
 15720                        L771:
 15721                        	.line	2293
 15722 06:3934: A9 01 00     	lda	#$1
 15723 06:3937: 85 05        	sta	<L768+bc_1
 15724                        ;		
 15725                        ;		
 15726                        ;	}
 15727                        L10315:
 15728                        	.line	2296
 15729                        L10312:
 15730 06:3939: 18           	clc
 15731 06:393A: A9 05 00     	lda	#$5
 15732 06:393D: 65 03        	adc	<L768+dy_1
 15733 06:393F: 85 03        	sta	<L768+dy_1
 15734 06:3941: 38           	sec
 15735 06:3942: A5 03        	lda	<L768+dy_1
 15736 06:3944: E9 E0 01     	sbc	#<$1e0
 15737 06:3947: 70 03        	bvs	L772
 15738 06:3949: 49 00 80     	eor	#$8000
 15739                        L772:
 15740 06:394C: 30 03        	bmi	L773
 15741 06:394E: 82 B1 FF     	brl	L10314
 15742                        L773:
 15743                        L10313:
 15744                        ;
 15745                        ;
 15746                        ;	dx=479;
 15747                        	.line	2299
 15748 06:3951: A9 DF 01     	lda	#$1df
 15749 06:3954: 85 01        	sta	<L768+dx_1
 15750                        ;	bc = 1;
 15751                        	.line	2300
 15752 06:3956: A9 01 00     	lda	#$1
 15753 06:3959: 85 05        	sta	<L768+bc_1
 15754                        ;	for(dy=479;dy>=0;dy-=5)
 15755                        	.line	2301
 15756 06:395B: A9 DF 01     	lda	#$1df
 15757 06:395E: 85 03        	sta	<L768+dy_1
 15758                        L10318:
 15759                        ;	{
 15760                        	.line	2302
 15761                        ;		
 15762                        ;		//if(dx!=480 && dy!=480)
 15763                        ;		//	k_draw_line(640,dy,dx,0,15);
 15764                        ;		
 15765                        ;		k_draw_line(639,dy,dx,0,bc);
 15766                        	.line	2307
 15767 06:3960: D4 05        	pei	<L768+bc_1
 15768 06:3962: F4 00 00     	pea	#<$0
 15769 06:3965: D4 01        	pei	<L768+dx_1
 15770 06:3967: D4 03        	pei	<L768+dy_1
 15771 06:3969: F4 7F 02     	pea	#<$27f
 15772 06:396C: 22 CB 1A 06  	jsl	~~k_draw_line
 15773                        ;		
 15774                        ;		dx-=5;
  Mon Aug  9 2021 16:52                                                Page 290


 15775                        	.line	2309
 15776 06:3970: 18           	clc
 15777 06:3971: A9 FB FF     	lda	#$fffb
 15778 06:3974: 65 01        	adc	<L768+dx_1
 15779 06:3976: 85 01        	sta	<L768+dx_1
 15780                        ;		bc++;
 15781                        	.line	2310
 15782 06:3978: E6 05        	inc	<L768+bc_1
 15783                        ;		if(bc > 15)
 15784                        	.line	2311
 15785                        ;			bc = 1;
 15786 06:397A: 38           	sec
 15787 06:397B: A9 0F 00     	lda	#$f
 15788 06:397E: E5 05        	sbc	<L768+bc_1
 15789 06:3980: 70 03        	bvs	L774
 15790 06:3982: 49 00 80     	eor	#$8000
 15791                        L774:
 15792 06:3985: 10 03        	bpl	L775
 15793 06:3987: 82 05 00     	brl	L10319
 15794                        L775:
 15795                        	.line	2312
 15796 06:398A: A9 01 00     	lda	#$1
 15797 06:398D: 85 05        	sta	<L768+bc_1
 15798                        ;	}
 15799                        L10319:
 15800                        	.line	2313
 15801                        L10316:
 15802 06:398F: 18           	clc
 15803 06:3990: A9 FB FF     	lda	#$fffb
 15804 06:3993: 65 03        	adc	<L768+dy_1
 15805 06:3995: 85 03        	sta	<L768+dy_1
 15806 06:3997: A5 03        	lda	<L768+dy_1
 15807 06:3999: 30 03        	bmi	L776
 15808 06:399B: 82 C2 FF     	brl	L10318
 15809                        L776:
 15810                        L10317:
 15811                        ;	
 15812                        ;	/*
 15813                        ;	for(x=0;x<640;x+=10)
 15814                        ;	{
 15815                        ;		
 15816                        ;		for(y=0;y<480;y+=10)
 15817                        ;		{
 15818                        ;			if(x!=0 && y!=0)
 15819                        ;				k_draw_line(x,y,640 - x,
                    480 - y,0);
 15820                        ;			k_draw_line(x,y,640 - x,480 - y,
                    15);
 15821                        ;		}
 15822                        ;		
 15823                        ;	}
 15824                        ;	*/
 15825                        ;}
 15826                        	.line	2328
 15827                        L777:
 15828 06:399E: 2B           	pld
 15829 06:399F: 3B           	tsc
 15830 06:39A0: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 291


 15831 06:39A1: 69 0A 00     	adc	#L767
 15832 06:39A4: 1B           	tcs
 15833 06:39A5: 6B           	rtl
 15834                        	.endblock	2328
 15835             0000000A   L767	equ	10
 15836             00000001   L768	equ	1
 15837 06:39A6:              	ends
 15838                        	efunc
 15839                        	.endfunc	2328,1,10
 15840                        	.line	2328
 15841                        ;
 15842                        ;void k_draw_fontset(void)
 15843                        ;{
 15844                        	.line	2330
 15845                        	.line	2331
 15846                        	GFX
 15847                        	xdef	~~k_draw_fontset
 15848                        	func
 15849                        	.function	2331
 15850                        ~~k_draw_fontset:
 15851                        	longa	on
 15852                        	longi	on
 15853 06:39A6: 3B           	tsc
 15854 06:39A7: 38           	sec
 15855 06:39A8: E9 0B 00     	sbc	#L778
 15856 06:39AB: 1B           	tcs
 15857 06:39AC: 0B           	phd
 15858 06:39AD: 5B           	tcd
 15859                        	.block	2331
 15860                        ;	int bx = 0;
 15861                        ;	int by = 29; 
 15862                        ;	int bc = 15;
 15863                        ;	char bf = 1;
 15864                        ;	
 15865                        ;	for(bf=0;bf<64;bf++)
 15866             00000000   bx_1	set	0
 15867             00000002   by_1	set	2
 15868             00000004   bc_1	set	4
 15869             00000006   bf_1	set	6
 15870                        	.sym	bx,0,5,1,16
 15871                        	.sym	by,2,5,1,16
 15872                        	.sym	bc,4,5,1,16
 15873                        	.sym	bf,6,14,1,8
 15874 06:39AE: 64 05        	stz	<L779+bx_1
 15875 06:39B0: A9 1D 00     	lda	#$1d
 15876 06:39B3: 85 07        	sta	<L779+by_1
 15877 06:39B5: A9 0F 00     	lda	#$f
 15878 06:39B8: 85 09        	sta	<L779+bc_1
 15879 06:39BA: E2 20        	sep	#$20
 15880                        	longa	off
 15881 06:39BC: A9 01        	lda	#$1
 15882 06:39BE: 85 0B        	sta	<L779+bf_1
 15883 06:39C0: C2 20        	rep	#$20
 15884                        	longa	on
 15885                        	.line	2337
 15886 06:39C2: E2 20        	sep	#$20
 15887                        	longa	off
 15888 06:39C4: 64 0B        	stz	<L779+bf_1
  Mon Aug  9 2021 16:52                                                Page 292


 15889 06:39C6: C2 20        	rep	#$20
 15890                        	longa	on
 15891 06:39C8: 82 81 00     	brl	L10323
 15892                        L10322:
 15893                        ;	{
 15894                        	.line	2338
 15895                        ;		k_draw_char((char)bf*1,bx,by,bc);
 15896                        	.line	2339
 15897 06:39CB: D4 09        	pei	<L779+bc_1
 15898 06:39CD: D4 07        	pei	<L779+by_1
 15899 06:39CF: D4 05        	pei	<L779+bx_1
 15900 06:39D1: A5 0B        	lda	<L779+bf_1
 15901 06:39D3: 29 FF 00     	and	#$ff
 15902 06:39D6: 48           	pha
 15903 06:39D7: 22 A4 34 06  	jsl	~~k_draw_char
 15904                        ;		k_draw_char((char)bf+64,bx,by + 1,bc);
 15905                        	.line	2340
 15906 06:39DB: D4 09        	pei	<L779+bc_1
 15907 06:39DD: A5 07        	lda	<L779+by_1
 15908 06:39DF: 1A           	ina
 15909 06:39E0: 48           	pha
 15910 06:39E1: D4 05        	pei	<L779+bx_1
 15911 06:39E3: A5 0B        	lda	<L779+bf_1
 15912 06:39E5: 29 FF 00     	and	#$ff
 15913 06:39E8: 85 01        	sta	<R0
 15914 06:39EA: 18           	clc
 15915 06:39EB: A9 40 00     	lda	#$40
 15916 06:39EE: 65 01        	adc	<R0
 15917 06:39F0: 48           	pha
 15918 06:39F1: 22 A4 34 06  	jsl	~~k_draw_char
 15919                        ;		k_draw_char((char)bf+128,bx,by + 2,bc);
 15920                        	.line	2341
 15921 06:39F5: D4 09        	pei	<L779+bc_1
 15922 06:39F7: 18           	clc
 15923 06:39F8: A9 02 00     	lda	#$2
 15924 06:39FB: 65 07        	adc	<L779+by_1
 15925 06:39FD: 48           	pha
 15926 06:39FE: D4 05        	pei	<L779+bx_1
 15927 06:3A00: A5 0B        	lda	<L779+bf_1
 15928 06:3A02: 29 FF 00     	and	#$ff
 15929 06:3A05: 85 01        	sta	<R0
 15930 06:3A07: 18           	clc
 15931 06:3A08: A9 80 00     	lda	#$80
 15932 06:3A0B: 65 01        	adc	<R0
 15933 06:3A0D: 48           	pha
 15934 06:3A0E: 22 A4 34 06  	jsl	~~k_draw_char
 15935                        ;		k_draw_char((char)bf+192,bx,by + 3,bc);
 15936                        	.line	2342
 15937 06:3A12: D4 09        	pei	<L779+bc_1
 15938 06:3A14: 18           	clc
 15939 06:3A15: A9 03 00     	lda	#$3
 15940 06:3A18: 65 07        	adc	<L779+by_1
 15941 06:3A1A: 48           	pha
 15942 06:3A1B: D4 05        	pei	<L779+bx_1
 15943 06:3A1D: A5 0B        	lda	<L779+bf_1
 15944 06:3A1F: 29 FF 00     	and	#$ff
 15945 06:3A22: 85 01        	sta	<R0
 15946 06:3A24: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 293


 15947 06:3A25: A9 C0 00     	lda	#$c0
 15948 06:3A28: 65 01        	adc	<R0
 15949 06:3A2A: 48           	pha
 15950 06:3A2B: 22 A4 34 06  	jsl	~~k_draw_char
 15951                        ;
 15952                        ;
 15953                        ;		if(bc > 15)
 15954                        	.line	2345
 15955                        ;			bc = 1;
 15956 06:3A2F: 38           	sec
 15957 06:3A30: A9 0F 00     	lda	#$f
 15958 06:3A33: E5 09        	sbc	<L779+bc_1
 15959 06:3A35: 70 03        	bvs	L781
 15960 06:3A37: 49 00 80     	eor	#$8000
 15961                        L781:
 15962 06:3A3A: 10 03        	bpl	L782
 15963 06:3A3C: 82 05 00     	brl	L10324
 15964                        L782:
 15965                        	.line	2346
 15966 06:3A3F: A9 01 00     	lda	#$1
 15967 06:3A42: 85 09        	sta	<L779+bc_1
 15968                        ;		
 15969                        ;		bx++;
 15970                        L10324:
 15971                        	.line	2348
 15972 06:3A44: E6 05        	inc	<L779+bx_1
 15973                        ;	}
 15974                        	.line	2349
 15975                        L10320:
 15976 06:3A46: E2 20        	sep	#$20
 15977                        	longa	off
 15978 06:3A48: E6 0B        	inc	<L779+bf_1
 15979 06:3A4A: C2 20        	rep	#$20
 15980                        	longa	on
 15981                        L10323:
 15982 06:3A4C: E2 20        	sep	#$20
 15983                        	longa	off
 15984 06:3A4E: A5 0B        	lda	<L779+bf_1
 15985 06:3A50: C9 40        	cmp	#<$40
 15986 06:3A52: C2 20        	rep	#$20
 15987                        	longa	on
 15988 06:3A54: B0 03        	bcs	L783
 15989 06:3A56: 82 72 FF     	brl	L10322
 15990                        L783:
 15991                        L10321:
 15992                        ;
 15993                        ;}
 15994                        	.line	2351
 15995                        L784:
 15996 06:3A59: 2B           	pld
 15997 06:3A5A: 3B           	tsc
 15998 06:3A5B: 18           	clc
 15999 06:3A5C: 69 0B 00     	adc	#L778
 16000 06:3A5F: 1B           	tcs
 16001 06:3A60: 6B           	rtl
 16002                        	.endblock	2351
 16003             0000000B   L778	equ	11
 16004             00000005   L779	equ	5
  Mon Aug  9 2021 16:52                                                Page 294


 16005 06:3A61:              	ends
 16006                        	efunc
 16007                        	.endfunc	2351,5,11
 16008                        	.line	2351
 16009                        ;
 16010                        ;/*
 16011                        ;void k_fill_bank(int bankId,char fcolor)
 16012                        ;{
 16013                        ;	long fill = 0xffffL;
 16014                        ;	
 16015                        ;	if(bankId == 0)
 16016                        ;	{
 16017                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    0,fcolor + 0,fill);
 16018                        ;		((unsigned char FAR *)BITMAP_BANK_0)[fil
                    l] = fcolor;
 16019                        ;	}
 16020                        ;	else if(bankId == 1)
 16021                        ;	{
 16022                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    1,fcolor + 0,fill);
 16023                        ;		((unsigned char FAR *)BITMAP_BANK_1)[fil
                    l] = fcolor;
 16024                        ;	}
 16025                        ;	else if(bankId == 2)
 16026                        ;	{
 16027                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    2,fcolor + 0,fill);
 16028                        ;		((unsigned char FAR *)BITMAP_BANK_2)[fil
                    l] = fcolor;
 16029                        ;	}
 16030                        ;	else if(bankId == 3)
 16031                        ;	{
 16032                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    3,fcolor + 0,fill);
 16033                        ;		((unsigned char FAR *)BITMAP_BANK_3)[fil
                    l] = fcolor;
 16034                        ;	}
 16035                        ;	else if(bankId == 4)
 16036                        ;	{
 16037                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    4,fcolor + 0,fill);
 16038                        ;		((unsigned char FAR *)BITMAP_BANK_4)[fil
                    l] = fcolor;
 16039                        ;	}
 16040                        ;	else if(bankId == 5)
 16041                        ;	{
 16042                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    5,fcolor + 0,fill);
 16043                        ;		((unsigned char FAR *)BITMAP_BANK_5)[fil
                    l] = fcolor;
 16044                        ;	}
 16045                        ;
 16046                        ;}
 16047                        ;*/
 16048                        ;
 16049                        ;
 16050                        ;
  Mon Aug  9 2021 16:52                                                Page 295


 16051                        ;void k_fill_line(int cx,int cy,int width,int colo
                    r)
 16052                        ;{
 16053                        	.line	2394
 16054                        	.line	2395
 16055                        	GFX
 16056                        	xdef	~~k_fill_line
 16057                        	func
 16058                        	.function	2395
 16059                        ~~k_fill_line:
 16060                        	longa	on
 16061                        	longi	on
 16062 06:3A61: 3B           	tsc
 16063 06:3A62: 38           	sec
 16064 06:3A63: E9 0C 00     	sbc	#L785
 16065 06:3A66: 1B           	tcs
 16066 06:3A67: 0B           	phd
 16067 06:3A68: 5B           	tcd
 16068             00000004   cx_0	set	4
 16069             00000006   cy_0	set	6
 16070             00000008   width_0	set	8
 16071             0000000A   color_0	set	10
 16072                        	.block	2395
 16073                        ;
 16074                        ;	long locStart = (long)(( ((long)cy) * 640L) + ((
                    long)cx) );
 16075                        ;	memset(&(((unsigned char FAR *)BITMAP_BANK_0)[lo
                    cStart]),color,width);
 16076             00000000   locStart_1	set	0
 16077                        	.sym	locStart,0,7,1,32
 16078                        	.sym	cx,4,5,6,16
 16079                        	.sym	cy,6,5,6,16
 16080                        	.sym	width,8,5,6,16
 16081                        	.sym	color,10,5,6,16
 16082 06:3A69: A0 00 00     	ldy	#$0
 16083 06:3A6C: A5 10        	lda	<L785+cx_0
 16084 06:3A6E: 10 01        	bpl	L788
 16085 06:3A70: 88           	dey
 16086                        L788:
 16087 06:3A71: 85 01        	sta	<R0
 16088 06:3A73: 84 03        	sty	<R0+2
 16089 06:3A75: A0 00 00     	ldy	#$0
 16090 06:3A78: A5 12        	lda	<L785+cy_0
 16091 06:3A7A: 10 01        	bpl	L789
 16092 06:3A7C: 88           	dey
 16093                        L789:
 16094 06:3A7D: 85 05        	sta	<R1
 16095 06:3A7F: 84 07        	sty	<R1+2
 16096 06:3A81: F4 00 00     	pea	#^$280
 16097 06:3A84: F4 80 02     	pea	#<$280
 16098 06:3A87: D4 07        	pei	<R1+2
 16099 06:3A89: D4 05        	pei	<R1
 16100                        	xref	~~~lmul
 16101 06:3A8B: 22 xx xx xx  	jsl	~~~lmul
 16102 06:3A8F: 85 05        	sta	<R1
 16103 06:3A91: 86 07        	stx	<R1+2
 16104 06:3A93: 18           	clc
 16105 06:3A94: A5 05        	lda	<R1
  Mon Aug  9 2021 16:52                                                Page 296


 16106 06:3A96: 65 01        	adc	<R0
 16107 06:3A98: 85 09        	sta	<L786+locStart_1
 16108 06:3A9A: A5 07        	lda	<R1+2
 16109 06:3A9C: 65 03        	adc	<R0+2
 16110 06:3A9E: 85 0B        	sta	<L786+locStart_1+2
 16111                        	.line	2398
 16112 06:3AA0: D4 14        	pei	<L785+width_0
 16113 06:3AA2: D4 16        	pei	<L785+color_0
 16114 06:3AA4: 18           	clc
 16115 06:3AA5: A9 00 00     	lda	#$0
 16116 06:3AA8: 65 09        	adc	<L786+locStart_1
 16117 06:3AAA: 85 01        	sta	<R0
 16118 06:3AAC: A9 B0 00     	lda	#$b0
 16119 06:3AAF: 65 0B        	adc	<L786+locStart_1+2
 16120 06:3AB1: 85 03        	sta	<R0+2
 16121 06:3AB3: D4 03        	pei	<R0+2
 16122 06:3AB5: D4 01        	pei	<R0
 16123 06:3AB7: 22 xx xx xx  	jsl	~~memset
 16124                        ;}
 16125                        	.line	2399
 16126                        L790:
 16127 06:3ABB: A5 0E        	lda	<L785+2
 16128 06:3ABD: 85 16        	sta	<L785+2+8
 16129 06:3ABF: A5 0D        	lda	<L785+1
 16130 06:3AC1: 85 15        	sta	<L785+1+8
 16131 06:3AC3: 2B           	pld
 16132 06:3AC4: 3B           	tsc
 16133 06:3AC5: 18           	clc
 16134 06:3AC6: 69 14 00     	adc	#L785+8
 16135 06:3AC9: 1B           	tcs
 16136 06:3ACA: 6B           	rtl
 16137                        	.endblock	2399
 16138             0000000C   L785	equ	12
 16139             00000009   L786	equ	9
 16140 06:3ACB:              	ends
 16141                        	efunc
 16142                        	.endfunc	2399,9,12
 16143                        	.line	2399
 16144                        ;
 16145                        ;void k_vdraw_filled_rect(int cx,int cy,int height
                    ,int width,int color)
 16146                        ;{
 16147                        	.line	2401
 16148                        	.line	2402
 16149                        	GFX
 16150                        	xdef	~~k_vdraw_filled_rect
 16151                        	func
 16152                        	.function	2402
 16153                        ~~k_vdraw_filled_rect:
 16154                        	longa	on
 16155                        	longi	on
 16156 06:3ACB: 3B           	tsc
 16157 06:3ACC: 38           	sec
 16158 06:3ACD: E9 14 00     	sbc	#L791
 16159 06:3AD0: 1B           	tcs
 16160 06:3AD1: 0B           	phd
 16161 06:3AD2: 5B           	tcd
 16162             00000004   cx_0	set	4
  Mon Aug  9 2021 16:52                                                Page 297


 16163             00000006   cy_0	set	6
 16164             00000008   height_0	set	8
 16165             0000000A   width_0	set	10
 16166             0000000C   color_0	set	12
 16167                        	.block	2402
 16168                        ;	int x = 0;
 16169                        ;	int y = 0;
 16170                        ;	int dx = cx + width;
 16171                        ;	int dy = cy + height;
 16172                        ;	
 16173                        ;	if(dx > 639)
 16174             00000000   x_1	set	0
 16175             00000002   y_1	set	2
 16176             00000004   dx_1	set	4
 16177             00000006   dy_1	set	6
 16178                        	.sym	x,0,5,1,16
 16179                        	.sym	y,2,5,1,16
 16180                        	.sym	dx,4,5,1,16
 16181                        	.sym	dy,6,5,1,16
 16182                        	.sym	cx,4,5,6,16
 16183                        	.sym	cy,6,5,6,16
 16184                        	.sym	height,8,5,6,16
 16185                        	.sym	width,10,5,6,16
 16186                        	.sym	color,12,5,6,16
 16187 06:3AD3: 64 09        	stz	<L792+x_1
 16188 06:3AD5: 64 0B        	stz	<L792+y_1
 16189 06:3AD7: 18           	clc
 16190 06:3AD8: A5 18        	lda	<L791+cx_0
 16191 06:3ADA: 65 1E        	adc	<L791+width_0
 16192 06:3ADC: 85 0D        	sta	<L792+dx_1
 16193 06:3ADE: 18           	clc
 16194 06:3ADF: A5 1A        	lda	<L791+cy_0
 16195 06:3AE1: 65 1C        	adc	<L791+height_0
 16196 06:3AE3: 85 0F        	sta	<L792+dy_1
 16197                        	.line	2408
 16198                        ;		dx = 639;
 16199 06:3AE5: 38           	sec
 16200 06:3AE6: A9 7F 02     	lda	#$27f
 16201 06:3AE9: E5 0D        	sbc	<L792+dx_1
 16202 06:3AEB: 70 03        	bvs	L794
 16203 06:3AED: 49 00 80     	eor	#$8000
 16204                        L794:
 16205 06:3AF0: 10 03        	bpl	L795
 16206 06:3AF2: 82 05 00     	brl	L10325
 16207                        L795:
 16208                        	.line	2409
 16209 06:3AF5: A9 7F 02     	lda	#$27f
 16210 06:3AF8: 85 0D        	sta	<L792+dx_1
 16211                        ;	if(dy > 479)
 16212                        L10325:
 16213                        	.line	2410
 16214                        ;		dy = 479;
 16215 06:3AFA: 38           	sec
 16216 06:3AFB: A9 DF 01     	lda	#$1df
 16217 06:3AFE: E5 0F        	sbc	<L792+dy_1
 16218 06:3B00: 70 03        	bvs	L796
 16219 06:3B02: 49 00 80     	eor	#$8000
 16220                        L796:
  Mon Aug  9 2021 16:52                                                Page 298


 16221 06:3B05: 10 03        	bpl	L797
 16222 06:3B07: 82 05 00     	brl	L10326
 16223                        L797:
 16224                        	.line	2411
 16225 06:3B0A: A9 DF 01     	lda	#$1df
 16226 06:3B0D: 85 0F        	sta	<L792+dy_1
 16227                        ;	
 16228                        ;	for(y=cy;y<dy;y++)
 16229                        L10326:
 16230                        	.line	2413
 16231 06:3B0F: A5 1A        	lda	<L791+cy_0
 16232 06:3B11: 85 0B        	sta	<L792+y_1
 16233 06:3B13: 82 39 00     	brl	L10330
 16234                        L10329:
 16235                        ;	{
 16236                        	.line	2414
 16237                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 16238                        ;		//memset(&(((unsigned char FAR *)SHADOW_
                    BANK_0)[locStart]),color,dx - cx);
 16239                        ;	}
 16240                        	.block	2417
 16241             00000008   locStart_2	set	8
 16242                        	.sym	locStart,8,7,1,32
 16243 06:3B16: A0 00 00     	ldy	#$0
 16244 06:3B19: A5 18        	lda	<L791+cx_0
 16245 06:3B1B: 10 01        	bpl	L799
 16246 06:3B1D: 88           	dey
 16247                        L799:
 16248 06:3B1E: 85 01        	sta	<R0
 16249 06:3B20: 84 03        	sty	<R0+2
 16250 06:3B22: A0 00 00     	ldy	#$0
 16251 06:3B25: A5 0B        	lda	<L792+y_1
 16252 06:3B27: 10 01        	bpl	L800
 16253 06:3B29: 88           	dey
 16254                        L800:
 16255 06:3B2A: 85 05        	sta	<R1
 16256 06:3B2C: 84 07        	sty	<R1+2
 16257 06:3B2E: F4 00 00     	pea	#^$280
 16258 06:3B31: F4 80 02     	pea	#<$280
 16259 06:3B34: D4 07        	pei	<R1+2
 16260 06:3B36: D4 05        	pei	<R1
 16261                        	xref	~~~lmul
 16262 06:3B38: 22 xx xx xx  	jsl	~~~lmul
 16263 06:3B3C: 85 05        	sta	<R1
 16264 06:3B3E: 86 07        	stx	<R1+2
 16265 06:3B40: 18           	clc
 16266 06:3B41: A5 05        	lda	<R1
 16267 06:3B43: 65 01        	adc	<R0
 16268 06:3B45: 85 11        	sta	<L792+locStart_2
 16269 06:3B47: A5 07        	lda	<R1+2
 16270 06:3B49: 65 03        	adc	<R0+2
 16271 06:3B4B: 85 13        	sta	<L792+locStart_2+2
 16272                        	.endblock	2417
 16273                        	.line	2417
 16274                        L10327:
 16275 06:3B4D: E6 0B        	inc	<L792+y_1
 16276                        L10330:
  Mon Aug  9 2021 16:52                                                Page 299


 16277 06:3B4F: 38           	sec
 16278 06:3B50: A5 0B        	lda	<L792+y_1
 16279 06:3B52: E5 0F        	sbc	<L792+dy_1
 16280 06:3B54: 70 03        	bvs	L801
 16281 06:3B56: 49 00 80     	eor	#$8000
 16282                        L801:
 16283 06:3B59: 30 03        	bmi	L802
 16284 06:3B5B: 82 B8 FF     	brl	L10329
 16285                        L802:
 16286                        L10328:
 16287                        ;}
 16288                        	.line	2418
 16289                        L803:
 16290 06:3B5E: A5 16        	lda	<L791+2
 16291 06:3B60: 85 20        	sta	<L791+2+10
 16292 06:3B62: A5 15        	lda	<L791+1
 16293 06:3B64: 85 1F        	sta	<L791+1+10
 16294 06:3B66: 2B           	pld
 16295 06:3B67: 3B           	tsc
 16296 06:3B68: 18           	clc
 16297 06:3B69: 69 1E 00     	adc	#L791+10
 16298 06:3B6C: 1B           	tcs
 16299 06:3B6D: 6B           	rtl
 16300                        	.endblock	2418
 16301             00000014   L791	equ	20
 16302             00000009   L792	equ	9
 16303 06:3B6E:              	ends
 16304                        	efunc
 16305                        	.endfunc	2418,9,20
 16306                        	.line	2418
 16307                        ;
 16308                        ;void k_draw_filled_rect(int cx,int cy,int height,
                    int width,int color)
 16309                        ;{
 16310                        	.line	2420
 16311                        	.line	2421
 16312                        	GFX
 16313                        	xdef	~~k_draw_filled_rect
 16314                        	func
 16315                        	.function	2421
 16316                        ~~k_draw_filled_rect:
 16317                        	longa	on
 16318                        	longi	on
 16319 06:3B6E: 3B           	tsc
 16320 06:3B6F: 38           	sec
 16321 06:3B70: E9 14 00     	sbc	#L804
 16322 06:3B73: 1B           	tcs
 16323 06:3B74: 0B           	phd
 16324 06:3B75: 5B           	tcd
 16325             00000004   cx_0	set	4
 16326             00000006   cy_0	set	6
 16327             00000008   height_0	set	8
 16328             0000000A   width_0	set	10
 16329             0000000C   color_0	set	12
 16330                        	.block	2421
 16331                        ;	int x = 0;
 16332                        ;	int y = 0;
 16333                        ;	int dx = cx + width;
  Mon Aug  9 2021 16:52                                                Page 300


 16334                        ;	int dy = cy + height;
 16335                        ;	
 16336                        ;	if(dx > 639)
 16337             00000000   x_1	set	0
 16338             00000002   y_1	set	2
 16339             00000004   dx_1	set	4
 16340             00000006   dy_1	set	6
 16341                        	.sym	x,0,5,1,16
 16342                        	.sym	y,2,5,1,16
 16343                        	.sym	dx,4,5,1,16
 16344                        	.sym	dy,6,5,1,16
 16345                        	.sym	cx,4,5,6,16
 16346                        	.sym	cy,6,5,6,16
 16347                        	.sym	height,8,5,6,16
 16348                        	.sym	width,10,5,6,16
 16349                        	.sym	color,12,5,6,16
 16350 06:3B76: 64 09        	stz	<L805+x_1
 16351 06:3B78: 64 0B        	stz	<L805+y_1
 16352 06:3B7A: 18           	clc
 16353 06:3B7B: A5 18        	lda	<L804+cx_0
 16354 06:3B7D: 65 1E        	adc	<L804+width_0
 16355 06:3B7F: 85 0D        	sta	<L805+dx_1
 16356 06:3B81: 18           	clc
 16357 06:3B82: A5 1A        	lda	<L804+cy_0
 16358 06:3B84: 65 1C        	adc	<L804+height_0
 16359 06:3B86: 85 0F        	sta	<L805+dy_1
 16360                        	.line	2427
 16361                        ;		dx = 639;
 16362 06:3B88: 38           	sec
 16363 06:3B89: A9 7F 02     	lda	#$27f
 16364 06:3B8C: E5 0D        	sbc	<L805+dx_1
 16365 06:3B8E: 70 03        	bvs	L807
 16366 06:3B90: 49 00 80     	eor	#$8000
 16367                        L807:
 16368 06:3B93: 10 03        	bpl	L808
 16369 06:3B95: 82 05 00     	brl	L10331
 16370                        L808:
 16371                        	.line	2428
 16372 06:3B98: A9 7F 02     	lda	#$27f
 16373 06:3B9B: 85 0D        	sta	<L805+dx_1
 16374                        ;	if(dy > 479)
 16375                        L10331:
 16376                        	.line	2429
 16377                        ;		dy = 479;
 16378 06:3B9D: 38           	sec
 16379 06:3B9E: A9 DF 01     	lda	#$1df
 16380 06:3BA1: E5 0F        	sbc	<L805+dy_1
 16381 06:3BA3: 70 03        	bvs	L809
 16382 06:3BA5: 49 00 80     	eor	#$8000
 16383                        L809:
 16384 06:3BA8: 10 03        	bpl	L810
 16385 06:3BAA: 82 05 00     	brl	L10332
 16386                        L810:
 16387                        	.line	2430
 16388 06:3BAD: A9 DF 01     	lda	#$1df
 16389 06:3BB0: 85 0F        	sta	<L805+dy_1
 16390                        ;	
 16391                        ;	for(y=cy;y<dy;y++)
  Mon Aug  9 2021 16:52                                                Page 301


 16392                        L10332:
 16393                        	.line	2432
 16394 06:3BB2: A5 1A        	lda	<L804+cy_0
 16395 06:3BB4: 85 0B        	sta	<L805+y_1
 16396 06:3BB6: 82 39 00     	brl	L10336
 16397                        L10335:
 16398                        ;	{
 16399                        	.line	2433
 16400                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 16401                        ;		//memset(&(((unsigned char FAR *)BITMAP_
                    BANK_0)[locStart]),color,dx - cx);
 16402                        ;	}
 16403                        	.block	2436
 16404             00000008   locStart_2	set	8
 16405                        	.sym	locStart,8,7,1,32
 16406 06:3BB9: A0 00 00     	ldy	#$0
 16407 06:3BBC: A5 18        	lda	<L804+cx_0
 16408 06:3BBE: 10 01        	bpl	L812
 16409 06:3BC0: 88           	dey
 16410                        L812:
 16411 06:3BC1: 85 01        	sta	<R0
 16412 06:3BC3: 84 03        	sty	<R0+2
 16413 06:3BC5: A0 00 00     	ldy	#$0
 16414 06:3BC8: A5 0B        	lda	<L805+y_1
 16415 06:3BCA: 10 01        	bpl	L813
 16416 06:3BCC: 88           	dey
 16417                        L813:
 16418 06:3BCD: 85 05        	sta	<R1
 16419 06:3BCF: 84 07        	sty	<R1+2
 16420 06:3BD1: F4 00 00     	pea	#^$280
 16421 06:3BD4: F4 80 02     	pea	#<$280
 16422 06:3BD7: D4 07        	pei	<R1+2
 16423 06:3BD9: D4 05        	pei	<R1
 16424                        	xref	~~~lmul
 16425 06:3BDB: 22 xx xx xx  	jsl	~~~lmul
 16426 06:3BDF: 85 05        	sta	<R1
 16427 06:3BE1: 86 07        	stx	<R1+2
 16428 06:3BE3: 18           	clc
 16429 06:3BE4: A5 05        	lda	<R1
 16430 06:3BE6: 65 01        	adc	<R0
 16431 06:3BE8: 85 11        	sta	<L805+locStart_2
 16432 06:3BEA: A5 07        	lda	<R1+2
 16433 06:3BEC: 65 03        	adc	<R0+2
 16434 06:3BEE: 85 13        	sta	<L805+locStart_2+2
 16435                        	.endblock	2436
 16436                        	.line	2436
 16437                        L10333:
 16438 06:3BF0: E6 0B        	inc	<L805+y_1
 16439                        L10336:
 16440 06:3BF2: 38           	sec
 16441 06:3BF3: A5 0B        	lda	<L805+y_1
 16442 06:3BF5: E5 0F        	sbc	<L805+dy_1
 16443 06:3BF7: 70 03        	bvs	L814
 16444 06:3BF9: 49 00 80     	eor	#$8000
 16445                        L814:
 16446 06:3BFC: 30 03        	bmi	L815
 16447 06:3BFE: 82 B8 FF     	brl	L10335
  Mon Aug  9 2021 16:52                                                Page 302


 16448                        L815:
 16449                        L10334:
 16450                        ;}
 16451                        	.line	2437
 16452                        L816:
 16453 06:3C01: A5 16        	lda	<L804+2
 16454 06:3C03: 85 20        	sta	<L804+2+10
 16455 06:3C05: A5 15        	lda	<L804+1
 16456 06:3C07: 85 1F        	sta	<L804+1+10
 16457 06:3C09: 2B           	pld
 16458 06:3C0A: 3B           	tsc
 16459 06:3C0B: 18           	clc
 16460 06:3C0C: 69 1E 00     	adc	#L804+10
 16461 06:3C0F: 1B           	tcs
 16462 06:3C10: 6B           	rtl
 16463                        	.endblock	2437
 16464             00000014   L804	equ	20
 16465             00000009   L805	equ	9
 16466 06:3C11:              	ends
 16467                        	efunc
 16468                        	.endfunc	2437,9,20
 16469                        	.line	2437
 16470                        ;
 16471                        ;
 16472                        ;PWINDOW k_create_ui_window_class(int cx,int cy,in
                    t height,int width,LPCHAR title,LPCHAR className,FXWndProc w
                    ndProc)
 16473                        ;{
 16474                        	.line	2440
 16475                        	.line	2441
 16476                        	GFX
 16477                        	xdef	~~k_create_ui_window_class
 16478                        	func
 16479                        	.function	2441
 16480                        ~~k_create_ui_window_class:
 16481                        	longa	on
 16482                        	longi	on
 16483 06:3C11: 3B           	tsc
 16484 06:3C12: 38           	sec
 16485 06:3C13: E9 08 00     	sbc	#L817
 16486 06:3C16: 1B           	tcs
 16487 06:3C17: 0B           	phd
 16488 06:3C18: 5B           	tcd
 16489             00000004   cx_0	set	4
 16490             00000006   cy_0	set	6
 16491             00000008   height_0	set	8
 16492             0000000A   width_0	set	10
 16493             0000000C   title_0	set	12
 16494             00000010   className_0	set	16
 16495             00000014   wndProc_0	set	20
 16496                        	.block	2441
 16497                        ;	PWINDOW pWin = NULL;
 16498                        ;
 16499                        ;	if(className && title)
 16500             00000000   pWin_1	set	0
 16501                        	.sym	pWin,0,138,1,32,33
 16502                        	.sym	cx,4,5,6,16
 16503                        	.sym	cy,6,5,6,16
  Mon Aug  9 2021 16:52                                                Page 303


 16504                        	.sym	height,8,5,6,16
 16505                        	.sym	width,10,5,6,16
 16506                        	.sym	title,12,142,6,32
 16507                        	.sym	className,16,142,6,32
 16508                        	.sym	wndProc,20,654,6,32
 16509 06:3C19: 64 05        	stz	<L818+pWin_1
 16510 06:3C1B: 64 07        	stz	<L818+pWin_1+2
 16511                        	.line	2444
 16512                        ;	{
 16513 06:3C1D: A5 18        	lda	<L817+className_0
 16514 06:3C1F: 05 1A        	ora	<L817+className_0+2
 16515 06:3C21: D0 03        	bne	L820
 16516 06:3C23: 82 FC 00     	brl	L10337
 16517                        L820:
 16518 06:3C26: A5 14        	lda	<L817+title_0
 16519 06:3C28: 05 16        	ora	<L817+title_0+2
 16520 06:3C2A: D0 03        	bne	L821
 16521 06:3C2C: 82 F3 00     	brl	L10337
 16522                        L821:
 16523                        	.line	2445
 16524                        ;		pWin = (PWINDOW)k_mem_allocate_heap(size
                    of(WINDOW));
 16525                        	.line	2446
 16526 06:3C2F: F4 00 00     	pea	#^$1e8
 16527 06:3C32: F4 E8 01     	pea	#<$1e8
 16528 06:3C35: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 16529 06:3C39: 85 05        	sta	<L818+pWin_1
 16530 06:3C3B: 86 07        	stx	<L818+pWin_1+2
 16531                        ;		if(pWin)
 16532                        	.line	2447
 16533                        ;		{
 16534 06:3C3D: A5 05        	lda	<L818+pWin_1
 16535 06:3C3F: 05 07        	ora	<L818+pWin_1+2
 16536 06:3C41: D0 03        	bne	L822
 16537 06:3C43: 82 DC 00     	brl	L10338
 16538                        L822:
 16539                        	.line	2448
 16540                        ;			memset(pWin,0,sizeof(WINDOW));
 16541                        	.line	2449
 16542 06:3C46: F4 E8 01     	pea	#<$1e8
 16543 06:3C49: F4 00 00     	pea	#<$0
 16544 06:3C4C: D4 07        	pei	<L818+pWin_1+2
 16545 06:3C4E: D4 05        	pei	<L818+pWin_1
 16546 06:3C50: 22 xx xx xx  	jsl	~~memset
 16547                        ;
 16548                        ;			strcpy(pWin->win_title,title);
 16549                        	.line	2451
 16550 06:3C54: D4 16        	pei	<L817+title_0+2
 16551 06:3C56: D4 14        	pei	<L817+title_0
 16552 06:3C58: 18           	clc
 16553 06:3C59: A9 4C 01     	lda	#$14c
 16554 06:3C5C: 65 05        	adc	<L818+pWin_1
 16555 06:3C5E: 85 01        	sta	<R0
 16556 06:3C60: A9 00 00     	lda	#$0
 16557 06:3C63: 65 07        	adc	<L818+pWin_1+2
 16558 06:3C65: 85 03        	sta	<R0+2
 16559 06:3C67: D4 03        	pei	<R0+2
 16560 06:3C69: D4 01        	pei	<R0
  Mon Aug  9 2021 16:52                                                Page 304


 16561 06:3C6B: 22 xx xx xx  	jsl	~~strcpy
 16562                        ;			strcpy(pWin->win_class,className
                    );
 16563                        	.line	2452
 16564 06:3C6F: D4 1A        	pei	<L817+className_0+2
 16565 06:3C71: D4 18        	pei	<L817+className_0
 16566 06:3C73: 18           	clc
 16567 06:3C74: A9 6E 01     	lda	#$16e
 16568 06:3C77: 65 05        	adc	<L818+pWin_1
 16569 06:3C79: 85 01        	sta	<R0
 16570 06:3C7B: A9 00 00     	lda	#$0
 16571 06:3C7E: 65 07        	adc	<L818+pWin_1+2
 16572 06:3C80: 85 03        	sta	<R0+2
 16573 06:3C82: D4 03        	pei	<R0+2
 16574 06:3C84: D4 01        	pei	<R0
 16575 06:3C86: 22 xx xx xx  	jsl	~~strcpy
 16576                        ;			pWin->win_x = cx;
 16577                        	.line	2453
 16578 06:3C8A: A5 0C        	lda	<L817+cx_0
 16579 06:3C8C: A0 0C 00     	ldy	#$c
 16580 06:3C8F: 97 05        	sta	[<L818+pWin_1],Y
 16581                        ;			pWin->win_y = cy;
 16582                        	.line	2454
 16583 06:3C91: A5 0E        	lda	<L817+cy_0
 16584 06:3C93: A0 0E 00     	ldy	#$e
 16585 06:3C96: 97 05        	sta	[<L818+pWin_1],Y
 16586                        ;			pWin->win_width  = width;
 16587                        	.line	2455
 16588 06:3C98: A5 12        	lda	<L817+width_0
 16589 06:3C9A: A0 10 00     	ldy	#$10
 16590 06:3C9D: 97 05        	sta	[<L818+pWin_1],Y
 16591                        ;			pWin->win_height = height;
 16592                        	.line	2456
 16593 06:3C9F: A5 10        	lda	<L817+height_0
 16594 06:3CA1: A0 12 00     	ldy	#$12
 16595 06:3CA4: 97 05        	sta	[<L818+pWin_1],Y
 16596                        ;			pWin->clickable = k_mem_allocate
                    _heap(sizeof(CLICKABLE));
 16597                        	.line	2457
 16598 06:3CA6: F4 00 00     	pea	#^$13
 16599 06:3CA9: F4 13 00     	pea	#<$13
 16600 06:3CAC: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 16601 06:3CB0: 85 01        	sta	<R0
 16602 06:3CB2: 86 03        	stx	<R0+2
 16603 06:3CB4: A5 01        	lda	<R0
 16604 06:3CB6: A0 48 01     	ldy	#$148
 16605 06:3CB9: 97 05        	sta	[<L818+pWin_1],Y
 16606 06:3CBB: A5 03        	lda	<R0+2
 16607 06:3CBD: A0 4A 01     	ldy	#$14a
 16608 06:3CC0: 97 05        	sta	[<L818+pWin_1],Y
 16609                        ;			if(pWin->clickable)
 16610                        	.line	2458
 16611                        ;			{
 16612 06:3CC2: A0 48 01     	ldy	#$148
 16613 06:3CC5: B7 05        	lda	[<L818+pWin_1],Y
 16614 06:3CC7: A0 4A 01     	ldy	#$14a
 16615 06:3CCA: 17 05        	ora	[<L818+pWin_1],Y
 16616 06:3CCC: D0 03        	bne	L823
  Mon Aug  9 2021 16:52                                                Page 305


 16617 06:3CCE: 82 51 00     	brl	L10339
 16618                        L823:
 16619                        	.line	2459
 16620                        ;				((PCLICKABLE)pWin->click
                    able)->area.x = cx;
 16621                        	.line	2460
 16622 06:3CD1: A0 48 01     	ldy	#$148
 16623 06:3CD4: B7 05        	lda	[<L818+pWin_1],Y
 16624 06:3CD6: 85 01        	sta	<R0
 16625 06:3CD8: A0 4A 01     	ldy	#$14a
 16626 06:3CDB: B7 05        	lda	[<L818+pWin_1],Y
 16627 06:3CDD: 85 03        	sta	<R0+2
 16628 06:3CDF: A5 0C        	lda	<L817+cx_0
 16629 06:3CE1: 87 01        	sta	[<R0]
 16630                        ;				((PCLICKABLE)pWin->click
                    able)->area.y = cy;
 16631                        	.line	2461
 16632 06:3CE3: A0 48 01     	ldy	#$148
 16633 06:3CE6: B7 05        	lda	[<L818+pWin_1],Y
 16634 06:3CE8: 85 01        	sta	<R0
 16635 06:3CEA: A0 4A 01     	ldy	#$14a
 16636 06:3CED: B7 05        	lda	[<L818+pWin_1],Y
 16637 06:3CEF: 85 03        	sta	<R0+2
 16638 06:3CF1: A5 0E        	lda	<L817+cy_0
 16639 06:3CF3: A0 02 00     	ldy	#$2
 16640 06:3CF6: 97 01        	sta	[<R0],Y
 16641                        ;				((PCLICKABLE)pWin->click
                    able)->area.height = height;
 16642                        	.line	2462
 16643 06:3CF8: A0 48 01     	ldy	#$148
 16644 06:3CFB: B7 05        	lda	[<L818+pWin_1],Y
 16645 06:3CFD: 85 01        	sta	<R0
 16646 06:3CFF: A0 4A 01     	ldy	#$14a
 16647 06:3D02: B7 05        	lda	[<L818+pWin_1],Y
 16648 06:3D04: 85 03        	sta	<R0+2
 16649 06:3D06: A5 10        	lda	<L817+height_0
 16650 06:3D08: A0 0A 00     	ldy	#$a
 16651 06:3D0B: 97 01        	sta	[<R0],Y
 16652                        ;				((PCLICKABLE)pWin->click
                    able)->area.width = width;
 16653                        	.line	2463
 16654 06:3D0D: A0 48 01     	ldy	#$148
 16655 06:3D10: B7 05        	lda	[<L818+pWin_1],Y
 16656 06:3D12: 85 01        	sta	<R0
 16657 06:3D14: A0 4A 01     	ldy	#$14a
 16658 06:3D17: B7 05        	lda	[<L818+pWin_1],Y
 16659 06:3D19: 85 03        	sta	<R0+2
 16660 06:3D1B: A5 12        	lda	<L817+width_0
 16661 06:3D1D: A0 08 00     	ldy	#$8
 16662 06:3D20: 97 01        	sta	[<R0],Y
 16663                        ;			}
 16664                        	.line	2464
 16665                        ;			//pWin->WndProc = wndProc;
 16666                        ;		}
 16667                        L10339:
 16668                        	.line	2466
 16669                        ;	}
 16670                        L10338:
  Mon Aug  9 2021 16:52                                                Page 306


 16671                        	.line	2467
 16672                        ;
 16673                        ;	return pWin;
 16674                        L10337:
 16675                        	.line	2469
 16676 06:3D22: A6 07        	ldx	<L818+pWin_1+2
 16677 06:3D24: A5 05        	lda	<L818+pWin_1
 16678                        L824:
 16679 06:3D26: A8           	tay
 16680 06:3D27: A5 0A        	lda	<L817+2
 16681 06:3D29: 85 1E        	sta	<L817+2+20
 16682 06:3D2B: A5 09        	lda	<L817+1
 16683 06:3D2D: 85 1D        	sta	<L817+1+20
 16684 06:3D2F: 2B           	pld
 16685 06:3D30: 3B           	tsc
 16686 06:3D31: 18           	clc
 16687 06:3D32: 69 1C 00     	adc	#L817+20
 16688 06:3D35: 1B           	tcs
 16689 06:3D36: 98           	tya
 16690 06:3D37: 6B           	rtl
 16691                        ;}
 16692                        	.line	2470
 16693                        	.endblock	2470
 16694             00000008   L817	equ	8
 16695             00000005   L818	equ	5
 16696 06:3D38:              	ends
 16697                        	efunc
 16698                        	.endfunc	2470,5,8
 16699                        	.line	2470
 16700                        ;
 16701                        ;PRECT k_HWNDToWINRECT(HWND hWnd)
 16702                        ;{
 16703                        	.line	2472
 16704                        	.line	2473
 16705                        	GFX
 16706                        	xdef	~~k_HWNDToWINRECT
 16707                        	func
 16708                        	.function	2473
 16709                        ~~k_HWNDToWINRECT:
 16710                        	longa	on
 16711                        	longi	on
 16712 06:3D38: 3B           	tsc
 16713 06:3D39: 38           	sec
 16714 06:3D3A: E9 04 00     	sbc	#L825
 16715 06:3D3D: 1B           	tcs
 16716 06:3D3E: 0B           	phd
 16717 06:3D3F: 5B           	tcd
 16718             00000004   hWnd_0	set	4
 16719                        	.block	2473
 16720                        ;
 16721                        ;	((PWINDOW)hWnd)->wndRect.x 		= ((PWIN
                    DOW)hWnd)->win_x;
 16722                        	.sym	hWnd,4,129,6,32
 16723                        	.line	2475
 16724 06:3D40: A0 0C 00     	ldy	#$c
 16725 06:3D43: B7 08        	lda	[<L825+hWnd_0],Y
 16726 06:3D45: A0 1C 00     	ldy	#$1c
 16727 06:3D48: 97 08        	sta	[<L825+hWnd_0],Y
  Mon Aug  9 2021 16:52                                                Page 307


 16728                        ;	((PWINDOW)hWnd)->wndRect.y 		= ((PWIN
                    DOW)hWnd)->win_y;
 16729                        	.line	2476
 16730 06:3D4A: A0 0E 00     	ldy	#$e
 16731 06:3D4D: B7 08        	lda	[<L825+hWnd_0],Y
 16732 06:3D4F: A0 1E 00     	ldy	#$1e
 16733 06:3D52: 97 08        	sta	[<L825+hWnd_0],Y
 16734                        ;	((PWINDOW)hWnd)->wndRect.width  = ((PWINDOW)hWnd
                    )->win_width;
 16735                        	.line	2477
 16736 06:3D54: A0 10 00     	ldy	#$10
 16737 06:3D57: B7 08        	lda	[<L825+hWnd_0],Y
 16738 06:3D59: A0 24 00     	ldy	#$24
 16739 06:3D5C: 97 08        	sta	[<L825+hWnd_0],Y
 16740                        ;	((PWINDOW)hWnd)->wndRect.height = ((PWINDOW)hWnd
                    )->win_height;
 16741                        	.line	2478
 16742 06:3D5E: A0 12 00     	ldy	#$12
 16743 06:3D61: B7 08        	lda	[<L825+hWnd_0],Y
 16744 06:3D63: A0 26 00     	ldy	#$26
 16745 06:3D66: 97 08        	sta	[<L825+hWnd_0],Y
 16746                        ;
 16747                        ;
 16748                        ;	return &(((PWINDOW)hWnd)->wndRect);
 16749                        	.line	2481
 16750 06:3D68: 18           	clc
 16751 06:3D69: A9 1C 00     	lda	#$1c
 16752 06:3D6C: 65 08        	adc	<L825+hWnd_0
 16753 06:3D6E: 85 01        	sta	<R0
 16754 06:3D70: A9 00 00     	lda	#$0
 16755 06:3D73: 65 0A        	adc	<L825+hWnd_0+2
 16756 06:3D75: 85 03        	sta	<R0+2
 16757 06:3D77: A6 03        	ldx	<R0+2
 16758 06:3D79: A5 01        	lda	<R0
 16759                        L828:
 16760 06:3D7B: A8           	tay
 16761 06:3D7C: A5 06        	lda	<L825+2
 16762 06:3D7E: 85 0A        	sta	<L825+2+4
 16763 06:3D80: A5 05        	lda	<L825+1
 16764 06:3D82: 85 09        	sta	<L825+1+4
 16765 06:3D84: 2B           	pld
 16766 06:3D85: 3B           	tsc
 16767 06:3D86: 18           	clc
 16768 06:3D87: 69 08 00     	adc	#L825+4
 16769 06:3D8A: 1B           	tcs
 16770 06:3D8B: 98           	tya
 16771 06:3D8C: 6B           	rtl
 16772                        ;}
 16773                        	.line	2482
 16774                        	.endblock	2482
 16775             00000004   L825	equ	4
 16776             00000005   L826	equ	5
 16777 06:3D8D:              	ends
 16778                        	efunc
 16779                        	.endfunc	2482,5,4
 16780                        	.line	2482
 16781                        ;
 16782                        ;BOOL k_gui_size_nonclient_area(HWND hWnd)
  Mon Aug  9 2021 16:52                                                Page 308


 16783                        ;{
 16784                        	.line	2484
 16785                        	.line	2485
 16786                        	GFX
 16787                        	xdef	~~k_gui_size_nonclient_area
 16788                        	func
 16789                        	.function	2485
 16790                        ~~k_gui_size_nonclient_area:
 16791                        	longa	on
 16792                        	longi	on
 16793 06:3D8D: 3B           	tsc
 16794 06:3D8E: 38           	sec
 16795 06:3D8F: E9 21 00     	sbc	#L829
 16796 06:3D92: 1B           	tcs
 16797 06:3D93: 0B           	phd
 16798 06:3D94: 5B           	tcd
 16799             00000004   hWnd_0	set	4
 16800                        	.block	2485
 16801                        ;	BOOL bRet = FALSE;
 16802                        ;
 16803                        ;	FONTMETRIC metric;
 16804                        ;
 16805                        ;	PWINDOW pWin = (PWINDOW)hWnd;
 16806                        ;
 16807                        ;	PRECT wndRect;
 16808                        ;
 16809                        ;	int borderWidthL = 0;
 16810                        ;	int borderWidthR = 0;
 16811                        ;	int borderWidthT = 0;
 16812                        ;	int borderWidthB = 0;
 16813                        ;
 16814                        ;	ULONG style = pWin->style;
 16815                        ;
 16816                        ;	wndRect    = k_HWNDToWINRECT(hWnd);
 16817             00000000   bRet_1	set	0
 16818             00000001   metric_1	set	1
 16819             00000005   pWin_1	set	5
 16820             00000009   wndRect_1	set	9
 16821             0000000D   borderWidthL_1	set	13
 16822             0000000F   borderWidthR_1	set	15
 16823             00000011   borderWidthT_1	set	17
 16824             00000013   borderWidthB_1	set	19
 16825             00000015   style_1	set	21
 16826                        	.sym	bRet,0,14,1,8
 16827                        	.sym	metric,1,10,1,32,35
 16828                        	.sym	pWin,5,138,1,32,33
 16829                        	.sym	wndRect,9,138,1,32,26
 16830                        	.sym	borderWidthL,13,5,1,16
 16831                        	.sym	borderWidthR,15,5,1,16
 16832                        	.sym	borderWidthT,17,5,1,16
 16833                        	.sym	borderWidthB,19,5,1,16
 16834                        	.sym	style,21,18,1,32
 16835                        	.sym	hWnd,4,129,6,32
 16836 06:3D95: E2 20        	sep	#$20
 16837                        	longa	off
 16838 06:3D97: 64 09        	stz	<L830+bRet_1
 16839 06:3D99: C2 20        	rep	#$20
 16840                        	longa	on
  Mon Aug  9 2021 16:52                                                Page 309


 16841 06:3D9B: A5 25        	lda	<L829+hWnd_0
 16842 06:3D9D: 85 0E        	sta	<L830+pWin_1
 16843 06:3D9F: A5 27        	lda	<L829+hWnd_0+2
 16844 06:3DA1: 85 10        	sta	<L830+pWin_1+2
 16845 06:3DA3: 64 16        	stz	<L830+borderWidthL_1
 16846 06:3DA5: 64 18        	stz	<L830+borderWidthR_1
 16847 06:3DA7: 64 1A        	stz	<L830+borderWidthT_1
 16848 06:3DA9: 64 1C        	stz	<L830+borderWidthB_1
 16849 06:3DAB: A0 02 00     	ldy	#$2
 16850 06:3DAE: B7 0E        	lda	[<L830+pWin_1],Y
 16851 06:3DB0: 85 1E        	sta	<L830+style_1
 16852 06:3DB2: A0 04 00     	ldy	#$4
 16853 06:3DB5: B7 0E        	lda	[<L830+pWin_1],Y
 16854 06:3DB7: 85 20        	sta	<L830+style_1+2
 16855                        	.line	2501
 16856 06:3DB9: D4 27        	pei	<L829+hWnd_0+2
 16857 06:3DBB: D4 25        	pei	<L829+hWnd_0
 16858 06:3DBD: 22 38 3D 06  	jsl	~~k_HWNDToWINRECT
 16859 06:3DC1: 85 12        	sta	<L830+wndRect_1
 16860 06:3DC3: 86 14        	stx	<L830+wndRect_1+2
 16861                        ;
 16862                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 16863                        	.line	2503
 16864                        ;	{
 16865 06:3DC5: 82 23 00     	brl	L10340
 16866                        	.line	2504
 16867                        ;		k_debug_pointer("k_gui_size_nonclient_ar
                    ea::NOT RENDERING:",hWnd);
 16868                        	.line	2505
 16869 06:3DC8: D4 27        	pei	<L829+hWnd_0+2
 16870 06:3DCA: D4 25        	pei	<L829+hWnd_0
 16871 06:3DCC: F4 xx xx     	pea	#^L497
 16872 06:3DCF: F4 xx xx     	pea	#<L497
 16873 06:3DD2: 22 xx xx xx  	jsl	~~k_debug_pointer
 16874                        ;		return FALSE;
 16875                        	.line	2506
 16876 06:3DD6: A9 00 00     	lda	#$0
 16877                        L832:
 16878 06:3DD9: A8           	tay
 16879 06:3DDA: A5 23        	lda	<L829+2
 16880 06:3DDC: 85 27        	sta	<L829+2+4
 16881 06:3DDE: A5 22        	lda	<L829+1
 16882 06:3DE0: 85 26        	sta	<L829+1+4
 16883 06:3DE2: 2B           	pld
 16884 06:3DE3: 3B           	tsc
 16885 06:3DE4: 18           	clc
 16886 06:3DE5: 69 25 00     	adc	#L829+4
 16887 06:3DE8: 1B           	tcs
 16888 06:3DE9: 98           	tya
 16889 06:3DEA: 6B           	rtl
 16890                        ;	}
 16891                        	.line	2507
 16892                        ;
 16893                        ;	if(style & FXWS_THICKFRAME)
 16894                        L10340:
 16895                        	.line	2509
 16896                        ;	{
 16897 06:3DEB: A5 20        	lda	<L830+style_1+2
  Mon Aug  9 2021 16:52                                                Page 310


 16898 06:3DED: 29 02 00     	and	#^$20000
 16899 06:3DF0: D0 03        	bne	L833
 16900 06:3DF2: 82 17 00     	brl	L10341
 16901                        L833:
 16902                        	.line	2510
 16903                        ;		borderWidthL = SM_CXFRAME_DEFAULT + SM_C
                    XBORDER_DEFAULT;
 16904                        	.line	2511
 16905 06:3DF5: A9 03 00     	lda	#$3
 16906 06:3DF8: 85 16        	sta	<L830+borderWidthL_1
 16907                        ;		borderWidthR = SM_CXFRAME_DEFAULT + SM_C
                    XBORDER_DEFAULT;
 16908                        	.line	2512
 16909 06:3DFA: A9 03 00     	lda	#$3
 16910 06:3DFD: 85 18        	sta	<L830+borderWidthR_1
 16911                        ;		borderWidthT = SM_CYFRAME_DEFAULT + SM_C
                    YBORDER_DEFAULT;
 16912                        	.line	2513
 16913 06:3DFF: A9 03 00     	lda	#$3
 16914 06:3E02: 85 1A        	sta	<L830+borderWidthT_1
 16915                        ;		borderWidthB = SM_CYFRAME_DEFAULT + SM_C
                    YBORDER_DEFAULT;
 16916                        	.line	2514
 16917 06:3E04: A9 03 00     	lda	#$3
 16918 06:3E07: 85 1C        	sta	<L830+borderWidthB_1
 16919                        ;	}
 16920                        	.line	2515
 16921                        ;	else if(style & FXWS_BORDER)
 16922 06:3E09: 82 3F 00     	brl	L10342
 16923                        L10341:
 16924                        	.line	2516
 16925                        ;	{
 16926 06:3E0C: A5 20        	lda	<L830+style_1+2
 16927 06:3E0E: 29 01 00     	and	#^$10000
 16928 06:3E11: D0 03        	bne	L834
 16929 06:3E13: 82 17 00     	brl	L10343
 16930                        L834:
 16931                        	.line	2517
 16932                        ;		borderWidthL = SM_CXBORDER_DEFAULT;
 16933                        	.line	2518
 16934 06:3E16: A9 01 00     	lda	#$1
 16935 06:3E19: 85 16        	sta	<L830+borderWidthL_1
 16936                        ;		borderWidthR = SM_CXBORDER_DEFAULT;
 16937                        	.line	2519
 16938 06:3E1B: A9 01 00     	lda	#$1
 16939 06:3E1E: 85 18        	sta	<L830+borderWidthR_1
 16940                        ;		borderWidthT = SM_CYBORDER_DEFAULT;
 16941                        	.line	2520
 16942 06:3E20: A9 01 00     	lda	#$1
 16943 06:3E23: 85 1A        	sta	<L830+borderWidthT_1
 16944                        ;		borderWidthB = SM_CYBORDER_DEFAULT;
 16945                        	.line	2521
 16946 06:3E25: A9 01 00     	lda	#$1
 16947 06:3E28: 85 1C        	sta	<L830+borderWidthB_1
 16948                        ;	}
 16949                        	.line	2522
 16950                        ;	else if(style & FXWS_DLGFRAME)
 16951 06:3E2A: 82 1E 00     	brl	L10344
  Mon Aug  9 2021 16:52                                                Page 311


 16952                        L10343:
 16953                        	.line	2523
 16954                        ;	{
 16955 06:3E2D: A5 20        	lda	<L830+style_1+2
 16956 06:3E2F: 29 04 00     	and	#^$40000
 16957 06:3E32: D0 03        	bne	L835
 16958 06:3E34: 82 14 00     	brl	L10345
 16959                        L835:
 16960                        	.line	2524
 16961                        ;		borderWidthL = SM_CXDLGFRAME_DEFAULT + S
                    M_CXBORDER_DEFAULT;
 16962                        	.line	2525
 16963 06:3E37: A9 05 00     	lda	#$5
 16964 06:3E3A: 85 16        	sta	<L830+borderWidthL_1
 16965                        ;		borderWidthR = SM_CXDLGFRAME_DEFAULT + S
                    M_CXBORDER_DEFAULT;
 16966                        	.line	2526
 16967 06:3E3C: A9 05 00     	lda	#$5
 16968 06:3E3F: 85 18        	sta	<L830+borderWidthR_1
 16969                        ;		borderWidthT = SM_CYDLGFRAME_DEFAULT + S
                    M_CYBORDER_DEFAULT;
 16970                        	.line	2527
 16971 06:3E41: A9 05 00     	lda	#$5
 16972 06:3E44: 85 1A        	sta	<L830+borderWidthT_1
 16973                        ;		borderWidthB = SM_CYDLGFRAME_DEFAULT + S
                    M_CYBORDER_DEFAULT;
 16974                        	.line	2528
 16975 06:3E46: A9 05 00     	lda	#$5
 16976 06:3E49: 85 1C        	sta	<L830+borderWidthB_1
 16977                        ;	}
 16978                        	.line	2529
 16979                        ;
 16980                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 16981                        L10345:
 16982                        L10344:
 16983                        L10342:
 16984                        	.line	2531
 16985                        ;	{
 16986 06:3E4B: A5 1E        	lda	<L830+style_1
 16987 06:3E4D: 29 04 00     	and	#<$4
 16988 06:3E50: 85 01        	sta	<R0
 16989 06:3E52: 64 03        	stz	<R0+2
 16990 06:3E54: A5 01        	lda	<R0
 16991 06:3E56: C9 04 00     	cmp	#<$4
 16992 06:3E59: D0 05        	bne	L837
 16993 06:3E5B: A5 03        	lda	<R0+2
 16994 06:3E5D: C9 00 00     	cmp	#^$4
 16995                        L837:
 16996 06:3E60: D0 03        	bne	L838
 16997 06:3E62: 82 1E 00     	brl	L836
 16998                        L838:
 16999 06:3E65: A5 1E        	lda	<L830+style_1
 17000 06:3E67: 29 08 00     	and	#<$8
 17001 06:3E6A: F0 03        	beq	L839
 17002 06:3E6C: 82 14 00     	brl	L836
 17003                        L839:
  Mon Aug  9 2021 16:52                                                Page 312


 17004 06:3E6F: A5 1E        	lda	<L830+style_1
 17005 06:3E71: 29 20 00     	and	#<$20
 17006 06:3E74: F0 03        	beq	L840
 17007 06:3E76: 82 0A 00     	brl	L836
 17008                        L840:
 17009 06:3E79: A5 1E        	lda	<L830+style_1
 17010 06:3E7B: 29 10 00     	and	#<$10
 17011 06:3E7E: D0 03        	bne	L841
 17012 06:3E80: 82 08 00     	brl	L10346
 17013                        L841:
 17014                        L836:
 17015                        	.line	2532
 17016                        ;		borderWidthT += SM_CYCAPTION_DEFAULT;
 17017                        	.line	2533
 17018 06:3E83: 18           	clc
 17019 06:3E84: A9 0C 00     	lda	#$c
 17020 06:3E87: 65 1A        	adc	<L830+borderWidthT_1
 17021 06:3E89: 85 1A        	sta	<L830+borderWidthT_1
 17022                        ;	}
 17023                        	.line	2534
 17024                        ;
 17025                        ;	//k_debug_rect("k_gui_size_nonclient_area::wndRe
                    ct:", &pWin->wndRect);
 17026                        ;
 17027                        ;	pWin->clientRect.x      = wndRect->x + borderWid
                    thL + SM_CLIENT_BORDER_DEFAULT;
 17028                        L10346:
 17029                        	.line	2538
 17030 06:3E8B: 18           	clc
 17031 06:3E8C: A7 12        	lda	[<L830+wndRect_1]
 17032 06:3E8E: 65 16        	adc	<L830+borderWidthL_1
 17033 06:3E90: 85 01        	sta	<R0
 17034 06:3E92: A5 01        	lda	<R0
 17035 06:3E94: 1A           	ina
 17036 06:3E95: A0 2A 00     	ldy	#$2a
 17037 06:3E98: 97 0E        	sta	[<L830+pWin_1],Y
 17038                        ;	pWin->clientRect.y      = wndRect->y + borderWid
                    thT + SM_CLIENT_BORDER_DEFAULT;
 17039                        	.line	2539
 17040 06:3E9A: 18           	clc
 17041 06:3E9B: A0 02 00     	ldy	#$2
 17042 06:3E9E: B7 12        	lda	[<L830+wndRect_1],Y
 17043 06:3EA0: 65 1A        	adc	<L830+borderWidthT_1
 17044 06:3EA2: 85 01        	sta	<R0
 17045 06:3EA4: A5 01        	lda	<R0
 17046 06:3EA6: 1A           	ina
 17047 06:3EA7: A0 2C 00     	ldy	#$2c
 17048 06:3EAA: 97 0E        	sta	[<L830+pWin_1],Y
 17049                        ;	pWin->clientRect.width  = wndRect->width  - (bor
                    derWidthL + borderWidthR + SM_CLIENT_BORDER_DEFAULT + SM_CLI
                    ENT_BORDER_DEFAULT);
 17050                        	.line	2540
 17051 06:3EAC: 18           	clc
 17052 06:3EAD: A5 16        	lda	<L830+borderWidthL_1
 17053 06:3EAF: 65 18        	adc	<L830+borderWidthR_1
 17054 06:3EB1: 85 01        	sta	<R0
 17055 06:3EB3: 18           	clc
 17056 06:3EB4: A9 02 00     	lda	#$2
  Mon Aug  9 2021 16:52                                                Page 313


 17057 06:3EB7: 65 01        	adc	<R0
 17058 06:3EB9: 85 05        	sta	<R1
 17059 06:3EBB: 38           	sec
 17060 06:3EBC: A0 08 00     	ldy	#$8
 17061 06:3EBF: B7 12        	lda	[<L830+wndRect_1],Y
 17062 06:3EC1: E5 05        	sbc	<R1
 17063 06:3EC3: A0 32 00     	ldy	#$32
 17064 06:3EC6: 97 0E        	sta	[<L830+pWin_1],Y
 17065                        ;	pWin->clientRect.height = wndRect->height - (bor
                    derWidthT + borderWidthB + SM_CLIENT_BORDER_DEFAULT + SM_CLI
                    ENT_BORDER_DEFAULT);
 17066                        	.line	2541
 17067 06:3EC8: 18           	clc
 17068 06:3EC9: A5 1A        	lda	<L830+borderWidthT_1
 17069 06:3ECB: 65 1C        	adc	<L830+borderWidthB_1
 17070 06:3ECD: 85 01        	sta	<R0
 17071 06:3ECF: 18           	clc
 17072 06:3ED0: A9 02 00     	lda	#$2
 17073 06:3ED3: 65 01        	adc	<R0
 17074 06:3ED5: 85 05        	sta	<R1
 17075 06:3ED7: 38           	sec
 17076 06:3ED8: A0 0A 00     	ldy	#$a
 17077 06:3EDB: B7 12        	lda	[<L830+wndRect_1],Y
 17078 06:3EDD: E5 05        	sbc	<R1
 17079 06:3EDF: A0 34 00     	ldy	#$34
 17080 06:3EE2: 97 0E        	sta	[<L830+pWin_1],Y
 17081                        ;
 17082                        ;	//k_debug_rect("k_gui_size_nonclient_area::clien
                    tRect:", &pWin->clientRect);
 17083                        ;
 17084                        ;	return bRet;
 17085                        	.line	2545
 17086 06:3EE4: A5 09        	lda	<L830+bRet_1
 17087 06:3EE6: 29 FF 00     	and	#$ff
 17088 06:3EE9: 82 ED FE     	brl	L832
 17089                        ;}
 17090                        	.line	2546
 17091                        	.endblock	2546
 17092             00000021   L829	equ	33
 17093             00000009   L830	equ	9
 17094 06:3EEC:              	ends
 17095                        	efunc
 17096                        	.endfunc	2546,9,33
 17097                        	.line	2546
 17098                        	data
 17099                        L497:
 17100 00:0826: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$73,$69,$7A,$65,
                    $5F,$6E,$6F,$6E,$63
       00:082A: 69 5F 73 69 
       00:082E: 7A 65 5F 6E 
       00:0832: 6F 6E 63 
 17101 00:0835: 6C 69 65 6E  	db	$6C,$69,$65,$6E,$74,$5F,$61,$72,$65,$61,
                    $3A,$3A,$4E,$4F,$54
       00:0839: 74 5F 61 72 
       00:083D: 65 61 3A 3A 
       00:0841: 4E 4F 54 
 17102 00:0844: 20 52 45 4E  	db	$20,$52,$45,$4E,$44,$45,$52,$49,$4E,$47,
                    $3A,$00
  Mon Aug  9 2021 16:52                                                Page 314


       00:0848: 44 45 52 49 
       00:084C: 4E 47 3A 00 
 17103 00:0850:              	ends
 17104                        ;
 17105                        ;
 17106                        ;void k_vdraw_ui_window(PWINDOW pWin,ULONG style,i
                    nt cx,int cy,int height,int width,char FAR *title,int color,
                     int bgcolor)
 17107                        ;{
 17108                        	.line	2549
 17109                        	.line	2550
 17110                        	GFX
 17111                        	xdef	~~k_vdraw_ui_window
 17112                        	func
 17113                        	.function	2550
 17114                        ~~k_vdraw_ui_window:
 17115                        	longa	on
 17116                        	longi	on
 17117 06:3EEC: 3B           	tsc
 17118 06:3EED: 38           	sec
 17119 06:3EEE: E9 00 00     	sbc	#L843
 17120 06:3EF1: 1B           	tcs
 17121 06:3EF2: 0B           	phd
 17122 06:3EF3: 5B           	tcd
 17123             00000004   pWin_0	set	4
 17124             00000008   style_0	set	8
 17125             0000000C   cx_0	set	12
 17126             0000000E   cy_0	set	14
 17127             00000010   height_0	set	16
 17128             00000012   width_0	set	18
 17129             00000014   title_0	set	20
 17130             00000018   color_0	set	24
 17131             0000001A   bgcolor_0	set	26
 17132                        	.block	2550
 17133                        ;	k_vdraw_ui_window_ex(pWin,style,cx,cy,height,wid
                    th,title,color, bgcolor,BITMAP_BACK);
 17134                        	.sym	pWin,4,138,6,32,33
 17135                        	.sym	style,8,18,6,32
 17136                        	.sym	cx,12,5,6,16
 17137                        	.sym	cy,14,5,6,16
 17138                        	.sym	height,16,5,6,16
 17139                        	.sym	width,18,5,6,16
 17140                        	.sym	title,20,142,6,32
 17141                        	.sym	color,24,5,6,16
 17142                        	.sym	bgcolor,26,5,6,16
 17143                        	.line	2551
 17144 06:3EF4: F4 08 00     	pea	#<$8
 17145 06:3EF7: D4 1A        	pei	<L843+bgcolor_0
 17146 06:3EF9: D4 18        	pei	<L843+color_0
 17147 06:3EFB: D4 16        	pei	<L843+title_0+2
 17148 06:3EFD: D4 14        	pei	<L843+title_0
 17149 06:3EFF: D4 12        	pei	<L843+width_0
 17150 06:3F01: D4 10        	pei	<L843+height_0
 17151 06:3F03: D4 0E        	pei	<L843+cy_0
 17152 06:3F05: D4 0C        	pei	<L843+cx_0
 17153 06:3F07: D4 0A        	pei	<L843+style_0+2
 17154 06:3F09: D4 08        	pei	<L843+style_0
 17155 06:3F0B: D4 06        	pei	<L843+pWin_0+2
  Mon Aug  9 2021 16:52                                                Page 315


 17156 06:3F0D: D4 04        	pei	<L843+pWin_0
 17157 06:3F0F: 22 1C 4A 06  	jsl	~~k_vdraw_ui_window_ex
 17158                        ;}
 17159                        	.line	2552
 17160                        L846:
 17161 06:3F13: A5 02        	lda	<L843+2
 17162 06:3F15: 85 1A        	sta	<L843+2+24
 17163 06:3F17: A5 01        	lda	<L843+1
 17164 06:3F19: 85 19        	sta	<L843+1+24
 17165 06:3F1B: 2B           	pld
 17166 06:3F1C: 3B           	tsc
 17167 06:3F1D: 18           	clc
 17168 06:3F1E: 69 18 00     	adc	#L843+24
 17169 06:3F21: 1B           	tcs
 17170 06:3F22: 6B           	rtl
 17171                        	.endblock	2552
 17172             00000000   L843	equ	0
 17173             00000001   L844	equ	1
 17174 06:3F23:              	ends
 17175                        	efunc
 17176                        	.endfunc	2552,1,0
 17177                        	.line	2552
 17178                        ;
 17179                        ;void k_gui_DrawWindow(HWND hWnd,int color, int bg
                    color)
 17180                        ;{
 17181                        	.line	2554
 17182                        	.line	2555
 17183                        	GFX
 17184                        	xdef	~~k_gui_DrawWindow
 17185                        	func
 17186                        	.function	2555
 17187                        ~~k_gui_DrawWindow:
 17188                        	longa	on
 17189                        	longi	on
 17190 06:3F23: 3B           	tsc
 17191 06:3F24: 38           	sec
 17192 06:3F25: E9 4A 00     	sbc	#L847
 17193 06:3F28: 1B           	tcs
 17194 06:3F29: 0B           	phd
 17195 06:3F2A: 5B           	tcd
 17196             00000004   hWnd_0	set	4
 17197             00000008   color_0	set	8
 17198             0000000A   bgcolor_0	set	10
 17199                        	.block	2555
 17200                        ;	FONTMETRIC metric;
 17201                        ;
 17202                        ;	PRECT pwndRect 	  = NULL;
 17203                        ;	PRECT pclientRect = NULL;
 17204                        ;
 17205                        ;	int ncc = 0;
 17206                        ;
 17207                        ;	INT  bIndex       = 0;
 17208                        ;	UINT borderWidth  = 0;
 17209                        ;
 17210                        ;	int cacheTitle 	  = 0L;
 17211                        ;	ULONG style       = 0L;
 17212                        ;	RECT rect;
  Mon Aug  9 2021 16:52                                                Page 316


 17213                        ;
 17214                        ;	int titleOffsetX = 0;
 17215                        ;	int titleOffsetY = 0;
 17216                        ;	int titleScaler  = 0;
 17217                        ;	int tx = 0;
 17218                        ;	int gx,gy,bx,by;
 17219                        ;
 17220                        ;	PWINDOW pWin = (PWINDOW)hWnd;
 17221                        ;	if(pWin)
 17222             00000000   metric_1	set	0
 17223             00000004   pwndRect_1	set	4
 17224             00000008   pclientRect_1	set	8
 17225             0000000C   ncc_1	set	12
 17226             0000000E   bIndex_1	set	14
 17227             00000010   borderWidth_1	set	16
 17228             00000012   cacheTitle_1	set	18
 17229             00000014   style_1	set	20
 17230             00000018   rect_1	set	24
 17231             00000026   titleOffsetX_1	set	38
 17232             00000028   titleOffsetY_1	set	40
 17233             0000002A   titleScaler_1	set	42
 17234             0000002C   tx_1	set	44
 17235             0000002E   gx_1	set	46
 17236             00000030   gy_1	set	48
 17237             00000032   bx_1	set	50
 17238             00000034   by_1	set	52
 17239             00000036   pWin_1	set	54
 17240                        	.sym	metric,0,10,1,32,35
 17241                        	.sym	pwndRect,4,138,1,32,26
 17242                        	.sym	pclientRect,8,138,1,32,26
 17243                        	.sym	ncc,12,5,1,16
 17244                        	.sym	bIndex,14,5,1,16
 17245                        	.sym	borderWidth,16,16,1,16
 17246                        	.sym	cacheTitle,18,5,1,16
 17247                        	.sym	style,20,18,1,32
 17248                        	.sym	rect,24,10,1,112,26
 17249                        	.sym	titleOffsetX,38,5,1,16
 17250                        	.sym	titleOffsetY,40,5,1,16
 17251                        	.sym	titleScaler,42,5,1,16
 17252                        	.sym	tx,44,5,1,16
 17253                        	.sym	gx,46,5,1,16
 17254                        	.sym	gy,48,5,1,16
 17255                        	.sym	bx,50,5,1,16
 17256                        	.sym	by,52,5,1,16
 17257                        	.sym	pWin,54,138,1,32,33
 17258                        	.sym	hWnd,4,129,6,32
 17259                        	.sym	color,8,5,6,16
 17260                        	.sym	bgcolor,10,5,6,16
 17261 06:3F2B: 64 15        	stz	<L848+pwndRect_1
 17262 06:3F2D: 64 17        	stz	<L848+pwndRect_1+2
 17263 06:3F2F: 64 19        	stz	<L848+pclientRect_1
 17264 06:3F31: 64 1B        	stz	<L848+pclientRect_1+2
 17265 06:3F33: 64 1D        	stz	<L848+ncc_1
 17266 06:3F35: 64 1F        	stz	<L848+bIndex_1
 17267 06:3F37: 64 21        	stz	<L848+borderWidth_1
 17268 06:3F39: 64 23        	stz	<L848+cacheTitle_1
 17269 06:3F3B: 64 25        	stz	<L848+style_1
 17270 06:3F3D: 64 27        	stz	<L848+style_1+2
  Mon Aug  9 2021 16:52                                                Page 317


 17271 06:3F3F: 64 37        	stz	<L848+titleOffsetX_1
 17272 06:3F41: 64 39        	stz	<L848+titleOffsetY_1
 17273 06:3F43: 64 3B        	stz	<L848+titleScaler_1
 17274 06:3F45: 64 3D        	stz	<L848+tx_1
 17275 06:3F47: A5 4E        	lda	<L847+hWnd_0
 17276 06:3F49: 85 47        	sta	<L848+pWin_1
 17277 06:3F4B: A5 50        	lda	<L847+hWnd_0+2
 17278 06:3F4D: 85 49        	sta	<L848+pWin_1+2
 17279                        	.line	2577
 17280                        ;	{
 17281 06:3F4F: A5 47        	lda	<L848+pWin_1
 17282 06:3F51: 05 49        	ora	<L848+pWin_1+2
 17283 06:3F53: D0 03        	bne	L850
 17284 06:3F55: 82 C1 0A     	brl	L10347
 17285                        L850:
 17286                        	.line	2578
 17287                        ;
 17288                        ;		pwndRect 	= &pWin->wndRect;
 17289                        	.line	2580
 17290 06:3F58: 18           	clc
 17291 06:3F59: A9 1C 00     	lda	#$1c
 17292 06:3F5C: 65 47        	adc	<L848+pWin_1
 17293 06:3F5E: 85 15        	sta	<L848+pwndRect_1
 17294 06:3F60: A9 00 00     	lda	#$0
 17295 06:3F63: 65 49        	adc	<L848+pWin_1+2
 17296 06:3F65: 85 17        	sta	<L848+pwndRect_1+2
 17297                        ;		pclientRect = &pWin->clientRect;
 17298                        	.line	2581
 17299 06:3F67: 18           	clc
 17300 06:3F68: A9 2A 00     	lda	#$2a
 17301 06:3F6B: 65 47        	adc	<L848+pWin_1
 17302 06:3F6D: 85 19        	sta	<L848+pclientRect_1
 17303 06:3F6F: A9 00 00     	lda	#$0
 17304 06:3F72: 65 49        	adc	<L848+pWin_1+2
 17305 06:3F74: 85 1B        	sta	<L848+pclientRect_1+2
 17306                        ;
 17307                        ;		style      = pWin->style;
 17308                        	.line	2583
 17309 06:3F76: A0 02 00     	ldy	#$2
 17310 06:3F79: B7 47        	lda	[<L848+pWin_1],Y
 17311 06:3F7B: 85 25        	sta	<L848+style_1
 17312 06:3F7D: A0 04 00     	ldy	#$4
 17313 06:3F80: B7 47        	lda	[<L848+pWin_1],Y
 17314 06:3F82: 85 27        	sta	<L848+style_1+2
 17315                        ;		cacheTitle = (pWin->styleEx & FXWSX_CACH
                    E_TITLE);
 17316                        	.line	2584
 17317 06:3F84: A0 06 00     	ldy	#$6
 17318 06:3F87: B7 47        	lda	[<L848+pWin_1],Y
 17319 06:3F89: 29 02 00     	and	#<$2
 17320 06:3F8C: 85 01        	sta	<R0
 17321 06:3F8E: 64 03        	stz	<R0+2
 17322 06:3F90: A5 01        	lda	<R0
 17323 06:3F92: 85 23        	sta	<L848+cacheTitle_1
 17324                        ;
 17325                        ;		if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 17326                        	.line	2586
 17327                        ;		{
  Mon Aug  9 2021 16:52                                                Page 318


 17328 06:3F94: 82 1E 00     	brl	L10348
 17329                        	.line	2587
 17330                        ;			k_debug_pointer("k_gui_DrawWindo
                    w::NOT RENDERING:",hWnd);
 17331                        	.line	2588
 17332 06:3F97: D4 50        	pei	<L847+hWnd_0+2
 17333 06:3F99: D4 4E        	pei	<L847+hWnd_0
 17334 06:3F9B: F4 xx xx     	pea	#^L842
 17335 06:3F9E: F4 xx xx     	pea	#<L842
 17336 06:3FA1: 22 xx xx xx  	jsl	~~k_debug_pointer
 17337                        ;			return;
 17338                        	.line	2589
 17339                        L851:
 17340 06:3FA5: A5 4C        	lda	<L847+2
 17341 06:3FA7: 85 54        	sta	<L847+2+8
 17342 06:3FA9: A5 4B        	lda	<L847+1
 17343 06:3FAB: 85 53        	sta	<L847+1+8
 17344 06:3FAD: 2B           	pld
 17345 06:3FAE: 3B           	tsc
 17346 06:3FAF: 18           	clc
 17347 06:3FB0: 69 52 00     	adc	#L847+8
 17348 06:3FB3: 1B           	tcs
 17349 06:3FB4: 6B           	rtl
 17350                        ;		}
 17351                        	.line	2590
 17352                        ;
 17353                        ;
 17354                        ;		if(style & FXWS_THICKFRAME)
 17355                        L10348:
 17356                        	.line	2593
 17357                        ;		{
 17358 06:3FB5: A5 27        	lda	<L848+style_1+2
 17359 06:3FB7: 29 02 00     	and	#^$20000
 17360 06:3FBA: D0 03        	bne	L852
 17361 06:3FBC: 82 08 00     	brl	L10349
 17362                        L852:
 17363                        	.line	2594
 17364                        ;			borderWidth = SM_CXFRAME_DEFAULT
                     + SM_CXBORDER_DEFAULT;
 17365                        	.line	2595
 17366 06:3FBF: A9 03 00     	lda	#$3
 17367 06:3FC2: 85 21        	sta	<L848+borderWidth_1
 17368                        ;		}
 17369                        	.line	2596
 17370                        ;		else if(style & FXWS_BORDER)
 17371 06:3FC4: 82 21 00     	brl	L10350
 17372                        L10349:
 17373                        	.line	2597
 17374                        ;		{
 17375 06:3FC7: A5 27        	lda	<L848+style_1+2
 17376 06:3FC9: 29 01 00     	and	#^$10000
 17377 06:3FCC: D0 03        	bne	L853
 17378 06:3FCE: 82 08 00     	brl	L10351
 17379                        L853:
 17380                        	.line	2598
 17381                        ;			borderWidth = SM_CXBORDER_DEFAUL
                    T;
 17382                        	.line	2599
  Mon Aug  9 2021 16:52                                                Page 319


 17383 06:3FD1: A9 01 00     	lda	#$1
 17384 06:3FD4: 85 21        	sta	<L848+borderWidth_1
 17385                        ;		}
 17386                        	.line	2600
 17387                        ;		else if(style & FXWS_DLGFRAME)
 17388 06:3FD6: 82 0F 00     	brl	L10352
 17389                        L10351:
 17390                        	.line	2601
 17391                        ;		{
 17392 06:3FD9: A5 27        	lda	<L848+style_1+2
 17393 06:3FDB: 29 04 00     	and	#^$40000
 17394 06:3FDE: D0 03        	bne	L854
 17395 06:3FE0: 82 05 00     	brl	L10353
 17396                        L854:
 17397                        	.line	2602
 17398                        ;			borderWidth = SM_CXDLGFRAME_DEFA
                    ULT + SM_CXBORDER_DEFAULT;
 17399                        	.line	2603
 17400 06:3FE3: A9 05 00     	lda	#$5
 17401 06:3FE6: 85 21        	sta	<L848+borderWidth_1
 17402                        ;		}
 17403                        	.line	2604
 17404                        ;
 17405                        ;		if(borderWidth > 0)
 17406                        L10353:
 17407                        L10352:
 17408                        L10350:
 17409                        	.line	2606
 17410                        ;		{
 17411 06:3FE8: A9 00 00     	lda	#$0
 17412 06:3FEB: C5 21        	cmp	<L848+borderWidth_1
 17413 06:3FED: 90 03        	bcc	L855
 17414 06:3FEF: 82 21 01     	brl	L10354
 17415                        L855:
 17416                        	.line	2607
 17417                        ;			if(borderWidth > SM_CXBORDER_DEF
                    AULT)
 17418                        	.line	2608
 17419                        ;			{
 17420 06:3FF2: A9 01 00     	lda	#$1
 17421 06:3FF5: C5 21        	cmp	<L848+borderWidth_1
 17422 06:3FF7: 90 03        	bcc	L856
 17423 06:3FF9: 82 42 00     	brl	L10355
 17424                        L856:
 17425                        	.line	2609
 17426                        ;				k_vdma_fill_rect_ex(pwnd
                    Rect->x,
 17427                        	.line	2610
 17428                        ;							
                    		pwndRect->y,
 17429                        ;							
                    		pwndRect->width,
 17430                        ;							
                    		pwndRect->height,
 17431                        ;							
                    		k_getUIWindowBorderColor(),
 17432                        ;						        
                        pWin->nBitmapLayer);
  Mon Aug  9 2021 16:52                                                Page 320


 17433 06:3FFC: A0 9E 01     	ldy	#$19e
 17434 06:3FFF: B7 47        	lda	[<L848+pWin_1],Y
 17435 06:4001: 48           	pha
 17436 06:4002: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 17437 06:4006: 48           	pha
 17438 06:4007: A0 0A 00     	ldy	#$a
 17439 06:400A: B7 15        	lda	[<L848+pwndRect_1],Y
 17440 06:400C: 48           	pha
 17441 06:400D: A0 08 00     	ldy	#$8
 17442 06:4010: B7 15        	lda	[<L848+pwndRect_1],Y
 17443 06:4012: 48           	pha
 17444 06:4013: A0 00 00     	ldy	#$0
 17445 06:4016: 5A           	phy
 17446 06:4017: A0 02 00     	ldy	#$2
 17447 06:401A: B7 15        	lda	[<L848+pwndRect_1],Y
 17448 06:401C: 7A           	ply
 17449 06:401D: 2A           	rol	A
 17450 06:401E: 6A           	ror	A
 17451 06:401F: 10 01        	bpl	L857
 17452 06:4021: 88           	dey
 17453                        L857:
 17454 06:4022: 85 01        	sta	<R0
 17455 06:4024: 84 03        	sty	<R0+2
 17456 06:4026: D4 03        	pei	<R0+2
 17457 06:4028: D4 01        	pei	<R0
 17458 06:402A: A0 00 00     	ldy	#$0
 17459 06:402D: A7 15        	lda	[<L848+pwndRect_1]
 17460 06:402F: 10 01        	bpl	L858
 17461 06:4031: 88           	dey
 17462                        L858:
 17463 06:4032: 85 05        	sta	<R1
 17464 06:4034: 84 07        	sty	<R1+2
 17465 06:4036: D4 07        	pei	<R1+2
 17466 06:4038: D4 05        	pei	<R1
 17467 06:403A: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 17468                        ;
 17469                        ;			}
 17470                        	.line	2617
 17471                        ;
 17472                        ;			for(bIndex=0;bIndex<SM_CXBORDER_
                    DEFAULT;bIndex++)
 17473                        L10355:
 17474                        	.line	2619
 17475 06:403E: 64 1F        	stz	<L848+bIndex_1
 17476                        L10358:
 17477                        ;			{
 17478                        	.line	2620
 17479                        ;				k_draw_rect(pwndRect->x 
                    + bIndex,
 17480                        	.line	2621
 17481                        ;							
                    pwndRect->y + bIndex,
 17482                        ;							
                    PRECTRIGHT(pwndRect)  - bIndex,
 17483                        ;							
                    PRECTBOTTOM(pwndRect) - bIndex,
 17484                        ;							
                    11,
  Mon Aug  9 2021 16:52                                                Page 321


 17485                        ;							
                    0,
 17486                        ;							
                    pWin->nBitmapLayer);
 17487 06:4040: A0 9E 01     	ldy	#$19e
 17488 06:4043: B7 47        	lda	[<L848+pWin_1],Y
 17489 06:4045: 48           	pha
 17490 06:4046: F4 00 00     	pea	#<$0
 17491 06:4049: F4 0B 00     	pea	#<$b
 17492 06:404C: 18           	clc
 17493 06:404D: A0 02 00     	ldy	#$2
 17494 06:4050: B7 15        	lda	[<L848+pwndRect_1],Y
 17495 06:4052: A0 0A 00     	ldy	#$a
 17496 06:4055: 77 15        	adc	[<L848+pwndRect_1],Y
 17497 06:4057: 85 01        	sta	<R0
 17498 06:4059: 18           	clc
 17499 06:405A: A9 FF FF     	lda	#$ffff
 17500 06:405D: 65 01        	adc	<R0
 17501 06:405F: 85 05        	sta	<R1
 17502 06:4061: 38           	sec
 17503 06:4062: A5 05        	lda	<R1
 17504 06:4064: E5 1F        	sbc	<L848+bIndex_1
 17505 06:4066: 48           	pha
 17506 06:4067: 18           	clc
 17507 06:4068: A7 15        	lda	[<L848+pwndRect_1]
 17508 06:406A: A0 08 00     	ldy	#$8
 17509 06:406D: 77 15        	adc	[<L848+pwndRect_1],Y
 17510 06:406F: 85 01        	sta	<R0
 17511 06:4071: 18           	clc
 17512 06:4072: A9 FF FF     	lda	#$ffff
 17513 06:4075: 65 01        	adc	<R0
 17514 06:4077: 85 05        	sta	<R1
 17515 06:4079: 38           	sec
 17516 06:407A: A5 05        	lda	<R1
 17517 06:407C: E5 1F        	sbc	<L848+bIndex_1
 17518 06:407E: 48           	pha
 17519 06:407F: 18           	clc
 17520 06:4080: A0 02 00     	ldy	#$2
 17521 06:4083: B7 15        	lda	[<L848+pwndRect_1],Y
 17522 06:4085: 65 1F        	adc	<L848+bIndex_1
 17523 06:4087: 48           	pha
 17524 06:4088: 18           	clc
 17525 06:4089: A7 15        	lda	[<L848+pwndRect_1]
 17526 06:408B: 65 1F        	adc	<L848+bIndex_1
 17527 06:408D: 48           	pha
 17528 06:408E: 22 D8 1D 06  	jsl	~~k_draw_rect
 17529                        ;			}
 17530                        	.line	2628
 17531                        L10356:
 17532 06:4092: E6 1F        	inc	<L848+bIndex_1
 17533 06:4094: A5 1F        	lda	<L848+bIndex_1
 17534 06:4096: 30 03        	bmi	L859
 17535 06:4098: 3A           	dea
 17536 06:4099: 10 03        	bpl	L860
 17537                        L859:
 17538 06:409B: 82 A2 FF     	brl	L10358
 17539                        L860:
 17540                        L10357:
  Mon Aug  9 2021 16:52                                                Page 322


 17541                        ;
 17542                        ;
 17543                        ;
 17544                        ;			k_draw_rect(pclientRect->x - SM_
                    CLIENT_BORDER_DEFAULT,
 17545                        	.line	2632
 17546                        ;						pclientR
                    ect->y - SM_CLIENT_BORDER_DEFAULT,
 17547                        ;						PRECTRIG
                    HT(pclientRect)  + SM_CLIENT_BORDER_DEFAULT ,
 17548                        ;						PRECTBOT
                    TOM(pclientRect) + SM_CLIENT_BORDER_DEFAULT,
 17549                        ;						11,
 17550                        ;						0,
 17551                        ;						pWin->nB
                    itmapLayer);
 17552 06:409E: A0 9E 01     	ldy	#$19e
 17553 06:40A1: B7 47        	lda	[<L848+pWin_1],Y
 17554 06:40A3: 48           	pha
 17555 06:40A4: F4 00 00     	pea	#<$0
 17556 06:40A7: F4 0B 00     	pea	#<$b
 17557 06:40AA: 18           	clc
 17558 06:40AB: A0 02 00     	ldy	#$2
 17559 06:40AE: B7 19        	lda	[<L848+pclientRect_1],Y
 17560 06:40B0: A0 0A 00     	ldy	#$a
 17561 06:40B3: 77 19        	adc	[<L848+pclientRect_1],Y
 17562 06:40B5: 48           	pha
 17563 06:40B6: 18           	clc
 17564 06:40B7: A7 19        	lda	[<L848+pclientRect_1]
 17565 06:40B9: A0 08 00     	ldy	#$8
 17566 06:40BC: 77 19        	adc	[<L848+pclientRect_1],Y
 17567 06:40BE: 48           	pha
 17568 06:40BF: 18           	clc
 17569 06:40C0: A9 FF FF     	lda	#$ffff
 17570 06:40C3: A0 02 00     	ldy	#$2
 17571 06:40C6: 77 19        	adc	[<L848+pclientRect_1],Y
 17572 06:40C8: 48           	pha
 17573 06:40C9: 18           	clc
 17574 06:40CA: A9 FF FF     	lda	#$ffff
 17575 06:40CD: 67 19        	adc	[<L848+pclientRect_1]
 17576 06:40CF: 48           	pha
 17577 06:40D0: 22 D8 1D 06  	jsl	~~k_draw_rect
 17578                        ;
 17579                        ;			k_vdma_fill_rect_ex(pclientRect-
                    >x,
 17580                        	.line	2640
 17581                        ;							
                    	pclientRect->y,
 17582                        ;							
                    	pclientRect->width ,
 17583                        ;							
                    	pclientRect->height ,
 17584                        ;							
                    	bgcolor,
 17585                        ;					            pWin
                    ->nBitmapLayer);
 17586 06:40D4: A0 9E 01     	ldy	#$19e
 17587 06:40D7: B7 47        	lda	[<L848+pWin_1],Y
  Mon Aug  9 2021 16:52                                                Page 323


 17588 06:40D9: 48           	pha
 17589 06:40DA: D4 54        	pei	<L847+bgcolor_0
 17590 06:40DC: A0 0A 00     	ldy	#$a
 17591 06:40DF: B7 19        	lda	[<L848+pclientRect_1],Y
 17592 06:40E1: 48           	pha
 17593 06:40E2: A0 08 00     	ldy	#$8
 17594 06:40E5: B7 19        	lda	[<L848+pclientRect_1],Y
 17595 06:40E7: 48           	pha
 17596 06:40E8: A0 00 00     	ldy	#$0
 17597 06:40EB: 5A           	phy
 17598 06:40EC: A0 02 00     	ldy	#$2
 17599 06:40EF: B7 19        	lda	[<L848+pclientRect_1],Y
 17600 06:40F1: 7A           	ply
 17601 06:40F2: 2A           	rol	A
 17602 06:40F3: 6A           	ror	A
 17603 06:40F4: 10 01        	bpl	L861
 17604 06:40F6: 88           	dey
 17605                        L861:
 17606 06:40F7: 85 01        	sta	<R0
 17607 06:40F9: 84 03        	sty	<R0+2
 17608 06:40FB: D4 03        	pei	<R0+2
 17609 06:40FD: D4 01        	pei	<R0
 17610 06:40FF: A0 00 00     	ldy	#$0
 17611 06:4102: A7 19        	lda	[<L848+pclientRect_1]
 17612 06:4104: 10 01        	bpl	L862
 17613 06:4106: 88           	dey
 17614                        L862:
 17615 06:4107: 85 05        	sta	<R1
 17616 06:4109: 84 07        	sty	<R1+2
 17617 06:410B: D4 07        	pei	<R1+2
 17618 06:410D: D4 05        	pei	<R1
 17619 06:410F: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 17620                        ;
 17621                        ;		}
 17622                        	.line	2647
 17623                        ;
 17624                        ;		k_get_font_metrics(&metric);
 17625                        L10354:
 17626                        	.line	2649
 17627 06:4113: F4 00 00     	pea	#0
 17628 06:4116: 18           	clc
 17629 06:4117: 7B           	tdc
 17630 06:4118: 69 11 00     	adc	#<L848+metric_1
 17631 06:411B: 48           	pha
 17632 06:411C: 22 B8 23 06  	jsl	~~k_get_font_metrics
 17633                        ;
 17634                        ;		gx = k_user_getSystemMetric(SM_CXGADGET)
                    ;
 17635                        	.line	2651
 17636 06:4120: F4 18 00     	pea	#<$18
 17637 06:4123: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 17638 06:4127: 85 3F        	sta	<L848+gx_1
 17639                        ;		gy = k_user_getSystemMetric(SM_CYGADGET)
                    ;
 17640                        	.line	2652
 17641 06:4129: F4 19 00     	pea	#<$19
 17642 06:412C: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 17643 06:4130: 85 41        	sta	<L848+gy_1
  Mon Aug  9 2021 16:52                                                Page 324


 17644                        ;		bx = k_user_getSystemMetric(SM_CXBORDER)
                    ;
 17645                        	.line	2653
 17646 06:4132: F4 05 00     	pea	#<$5
 17647 06:4135: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 17648 06:4139: 85 43        	sta	<L848+bx_1
 17649                        ;		by = k_user_getSystemMetric(SM_CYBORDER)
                    ;
 17650                        	.line	2654
 17651 06:413B: F4 06 00     	pea	#<$6
 17652 06:413E: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 17653 06:4142: 85 45        	sta	<L848+by_1
 17654                        ;
 17655                        ;		titleOffsetX = pwndRect->x+SM_TITLE_XGAD
                    GETGAP_DEFAULT;
 17656                        	.line	2656
 17657 06:4144: 18           	clc
 17658 06:4145: A9 04 00     	lda	#$4
 17659 06:4148: 67 15        	adc	[<L848+pwndRect_1]
 17660 06:414A: 85 37        	sta	<L848+titleOffsetX_1
 17661                        ;		titleOffsetY = pwndRect->y+SM_TITLE_YGAD
                    GETGAP_DEFAULT;
 17662                        	.line	2657
 17663 06:414C: 18           	clc
 17664 06:414D: A9 05 00     	lda	#$5
 17665 06:4150: A0 02 00     	ldy	#$2
 17666 06:4153: 77 15        	adc	[<L848+pwndRect_1],Y
 17667 06:4155: 85 39        	sta	<L848+titleOffsetY_1
 17668                        ;
 17669                        ;		if(style & FXWS_SYSMENU)
 17670                        	.line	2659
 17671                        ;		{
 17672 06:4157: A5 25        	lda	<L848+style_1
 17673 06:4159: 29 08 00     	and	#<$8
 17674 06:415C: D0 03        	bne	L863
 17675 06:415E: 82 AA 00     	brl	L10359
 17676                        L863:
 17677                        	.line	2660
 17678                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 17679                        	.line	2661
 17680                        ;					   titleOffsetX,
                    titleOffsetY,gx,gx);
 17681 06:4161: D4 3F        	pei	<L848+gx_1
 17682 06:4163: D4 3F        	pei	<L848+gx_1
 17683 06:4165: D4 39        	pei	<L848+titleOffsetY_1
 17684 06:4167: D4 37        	pei	<L848+titleOffsetX_1
 17685 06:4169: A0 00 00     	ldy	#$0
 17686 06:416C: A5 1D        	lda	<L848+ncc_1
 17687 06:416E: 10 01        	bpl	L864
 17688 06:4170: 88           	dey
 17689                        L864:
 17690 06:4171: 85 01        	sta	<R0
 17691 06:4173: 84 03        	sty	<R0+2
 17692 06:4175: F4 00 00     	pea	#^$11
 17693 06:4178: F4 11 00     	pea	#<$11
 17694 06:417B: D4 03        	pei	<R0+2
 17695 06:417D: D4 01        	pei	<R0
  Mon Aug  9 2021 16:52                                                Page 325


 17696                        	xref	~~~lmul
 17697 06:417F: 22 xx xx xx  	jsl	~~~lmul
 17698 06:4183: 85 01        	sta	<R0
 17699 06:4185: 86 03        	stx	<R0+2
 17700 06:4187: 18           	clc
 17701 06:4188: A9 38 00     	lda	#$38
 17702 06:418B: 65 01        	adc	<R0
 17703 06:418D: 85 05        	sta	<R1
 17704 06:418F: A9 00 00     	lda	#$0
 17705 06:4192: 65 03        	adc	<R0+2
 17706 06:4194: 85 07        	sta	<R1+2
 17707 06:4196: 18           	clc
 17708 06:4197: A5 47        	lda	<L848+pWin_1
 17709 06:4199: 65 05        	adc	<R1
 17710 06:419B: 85 01        	sta	<R0
 17711 06:419D: A5 49        	lda	<L848+pWin_1+2
 17712 06:419F: 65 07        	adc	<R1+2
 17713 06:41A1: 85 03        	sta	<R0+2
 17714 06:41A3: D4 03        	pei	<R0+2
 17715 06:41A5: D4 01        	pei	<R0
 17716 06:41A7: 22 06 06 06  	jsl	~~k_set_rect
 17717                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_WINDOW_CLOSE;
 17718                        	.line	2663
 17719 06:41AB: A0 00 00     	ldy	#$0
 17720 06:41AE: A5 1D        	lda	<L848+ncc_1
 17721 06:41B0: 10 01        	bpl	L865
 17722 06:41B2: 88           	dey
 17723                        L865:
 17724 06:41B3: 85 01        	sta	<R0
 17725 06:41B5: 84 03        	sty	<R0+2
 17726 06:41B7: F4 00 00     	pea	#^$11
 17727 06:41BA: F4 11 00     	pea	#<$11
 17728 06:41BD: D4 03        	pei	<R0+2
 17729 06:41BF: D4 01        	pei	<R0
 17730                        	xref	~~~lmul
 17731 06:41C1: 22 xx xx xx  	jsl	~~~lmul
 17732 06:41C5: 85 01        	sta	<R0
 17733 06:41C7: 86 03        	stx	<R0+2
 17734 06:41C9: 18           	clc
 17735 06:41CA: A9 46 00     	lda	#$46
 17736 06:41CD: 65 47        	adc	<L848+pWin_1
 17737 06:41CF: 85 05        	sta	<R1
 17738 06:41D1: A9 00 00     	lda	#$0
 17739 06:41D4: 65 49        	adc	<L848+pWin_1+2
 17740 06:41D6: 85 07        	sta	<R1+2
 17741 06:41D8: 18           	clc
 17742 06:41D9: A5 05        	lda	<R1
 17743 06:41DB: 65 01        	adc	<R0
 17744 06:41DD: 85 09        	sta	<R2
 17745 06:41DF: A5 07        	lda	<R1+2
 17746 06:41E1: 65 03        	adc	<R0+2
 17747 06:41E3: 85 0B        	sta	<R2+2
 17748 06:41E5: A9 FF FB     	lda	#$fbff
 17749 06:41E8: 87 09        	sta	[<R2]
 17750 06:41EA: E6 1D        	inc	<L848+ncc_1
 17751                        ;
 17752                        ;			titleOffsetX+=k_put_wingadget_po
  Mon Aug  9 2021 16:52                                                Page 326


                    int_ex(WINICON_TITLE_BCLOSE,
 17753                        	.line	2665
 17754                        ;							
                    					   titleOffsetX,titleOff
                    setY,
 17755                        ;							
                    					   k_getUIGadgetColor(),
 17756                        ;							
                    					   pWin->nBitmapLayer);
 17757 06:41EC: A0 9E 01     	ldy	#$19e
 17758 06:41EF: B7 47        	lda	[<L848+pWin_1],Y
 17759 06:41F1: 48           	pha
 17760 06:41F2: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 17761 06:41F6: 48           	pha
 17762 06:41F7: D4 39        	pei	<L848+titleOffsetY_1
 17763 06:41F9: D4 37        	pei	<L848+titleOffsetX_1
 17764 06:41FB: F4 06 00     	pea	#<$6
 17765 06:41FE: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 17766 06:4202: 85 01        	sta	<R0
 17767 06:4204: 18           	clc
 17768 06:4205: A5 01        	lda	<R0
 17769 06:4207: 65 37        	adc	<L848+titleOffsetX_1
 17770 06:4209: 85 37        	sta	<L848+titleOffsetX_1
 17771                        ;		}
 17772                        	.line	2669
 17773                        ;
 17774                        ;
 17775                        ;		if((style & FXWS_CAPTION) == FXWS_CAPTIO
                    N)
 17776                        L10359:
 17777                        	.line	2672
 17778                        ;		{
 17779 06:420B: A5 25        	lda	<L848+style_1
 17780 06:420D: 29 04 00     	and	#<$4
 17781 06:4210: 85 01        	sta	<R0
 17782 06:4212: 64 03        	stz	<R0+2
 17783 06:4214: A5 01        	lda	<R0
 17784 06:4216: C9 04 00     	cmp	#<$4
 17785 06:4219: D0 05        	bne	L866
 17786 06:421B: A5 03        	lda	<R0+2
 17787 06:421D: C9 00 00     	cmp	#^$4
 17788                        L866:
 17789 06:4220: F0 03        	beq	L867
 17790 06:4222: 82 40 00     	brl	L10360
 17791                        L867:
 17792                        	.line	2673
 17793                        ;			rect.x = titleOffsetX + SM_TITLE
                    _XGADGETGAP_DEFAULT;
 17794                        	.line	2674
 17795 06:4225: 18           	clc
 17796 06:4226: A9 04 00     	lda	#$4
 17797 06:4229: 65 37        	adc	<L848+titleOffsetX_1
 17798 06:422B: 85 29        	sta	<L848+rect_1
 17799                        ;			rect.y = titleOffsetY;
 17800                        	.line	2675
 17801 06:422D: A5 39        	lda	<L848+titleOffsetY_1
 17802 06:422F: 85 2B        	sta	<L848+rect_1+2
 17803                        ;			rect.width  = pwndRect->width - 
  Mon Aug  9 2021 16:52                                                Page 327


                    (titleOffsetX - pwndRect->x) - (SM_TITLE_XGADGETGAP_DEFAULT 
                    + SM_TITLE_XGADGETGAP_DEFAULT);
 17804                        	.line	2676
 17805 06:4231: 38           	sec
 17806 06:4232: A5 37        	lda	<L848+titleOffsetX_1
 17807 06:4234: E7 15        	sbc	[<L848+pwndRect_1]
 17808 06:4236: 85 01        	sta	<R0
 17809 06:4238: 38           	sec
 17810 06:4239: A0 08 00     	ldy	#$8
 17811 06:423C: B7 15        	lda	[<L848+pwndRect_1],Y
 17812 06:423E: E5 01        	sbc	<R0
 17813 06:4240: 85 05        	sta	<R1
 17814 06:4242: 18           	clc
 17815 06:4243: A9 F8 FF     	lda	#$fff8
 17816 06:4246: 65 05        	adc	<R1
 17817 06:4248: 85 31        	sta	<L848+rect_1+8
 17818                        ;			rect.height = 8;
 17819                        	.line	2677
 17820 06:424A: A9 08 00     	lda	#$8
 17821 06:424D: 85 33        	sta	<L848+rect_1+10
 17822                        ;			k_gui_get_image_cache(0,0x080000
                    ,&rect);
 17823                        	.line	2678
 17824 06:424F: F4 00 00     	pea	#0
 17825 06:4252: 18           	clc
 17826 06:4253: 7B           	tdc
 17827 06:4254: 69 29 00     	adc	#<L848+rect_1
 17828 06:4257: 48           	pha
 17829 06:4258: F4 08 00     	pea	#^$80000
 17830 06:425B: F4 00 00     	pea	#<$80000
 17831 06:425E: F4 00 00     	pea	#<$0
 17832 06:4261: 22 19 03 06  	jsl	~~k_gui_get_image_cache
 17833                        ;		}
 17834                        	.line	2679
 17835                        ;
 17836                        ;
 17837                        ;		if((style & FXWS_MINIMIZEBOX) && (style 
                    & FXWS_MAXIMIZEBOX))
 17838                        L10360:
 17839                        	.line	2682
 17840                        ;		{
 17841 06:4265: A5 25        	lda	<L848+style_1
 17842 06:4267: 29 20 00     	and	#<$20
 17843 06:426A: D0 03        	bne	L868
 17844 06:426C: 82 BC 01     	brl	L10361
 17845                        L868:
 17846 06:426F: A5 25        	lda	<L848+style_1
 17847 06:4271: 29 10 00     	and	#<$10
 17848 06:4274: D0 03        	bne	L869
 17849 06:4276: 82 B2 01     	brl	L10361
 17850                        L869:
 17851                        	.line	2683
 17852                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx));
 17853                        	.line	2684
 17854 06:4279: 18           	clc
 17855 06:427A: A9 04 00     	lda	#$4
 17856 06:427D: 65 3F        	adc	<L848+gx_1
  Mon Aug  9 2021 16:52                                                Page 328


 17857 06:427F: 85 01        	sta	<R0
 17858 06:4281: 18           	clc
 17859 06:4282: A7 15        	lda	[<L848+pwndRect_1]
 17860 06:4284: A0 08 00     	ldy	#$8
 17861 06:4287: 77 15        	adc	[<L848+pwndRect_1],Y
 17862 06:4289: 85 05        	sta	<R1
 17863 06:428B: 38           	sec
 17864 06:428C: A5 05        	lda	<R1
 17865 06:428E: E5 01        	sbc	<R0
 17866 06:4290: 85 3D        	sta	<L848+tx_1
 17867                        ;
 17868                        ;
 17869                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK     ,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin-
                    >nBitmapLayer);
 17870                        	.line	2687
 17871 06:4292: A0 9E 01     	ldy	#$19e
 17872 06:4295: B7 47        	lda	[<L848+pWin_1],Y
 17873 06:4297: 48           	pha
 17874 06:4298: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 17875 06:429C: 48           	pha
 17876 06:429D: D4 39        	pei	<L848+titleOffsetY_1
 17877 06:429F: D4 3D        	pei	<L848+tx_1
 17878 06:42A1: F4 00 00     	pea	#<$0
 17879 06:42A4: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 17880                        ;			k_put_wingadget_point_ex(WINICON
                    _TITLE_BACK,tx,titleOffsetY,k_getUIGadgetColor()      ,pWin-
                    >nBitmapLayer);
 17881                        	.line	2688
 17882 06:42A8: A0 9E 01     	ldy	#$19e
 17883 06:42AB: B7 47        	lda	[<L848+pWin_1],Y
 17884 06:42AD: 48           	pha
 17885 06:42AE: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 17886 06:42B2: 48           	pha
 17887 06:42B3: D4 39        	pei	<L848+titleOffsetY_1
 17888 06:42B5: D4 3D        	pei	<L848+tx_1
 17889 06:42B7: F4 04 00     	pea	#<$4
 17890 06:42BA: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 17891                        ;			pWin->nonclientGadgets[ncc].msgT
                    ype = FX_MIN_WINDOW;
 17892                        	.line	2689
 17893 06:42BE: A0 00 00     	ldy	#$0
 17894 06:42C1: A5 1D        	lda	<L848+ncc_1
 17895 06:42C3: 10 01        	bpl	L870
 17896 06:42C5: 88           	dey
 17897                        L870:
 17898 06:42C6: 85 01        	sta	<R0
 17899 06:42C8: 84 03        	sty	<R0+2
 17900 06:42CA: F4 00 00     	pea	#^$11
 17901 06:42CD: F4 11 00     	pea	#<$11
 17902 06:42D0: D4 03        	pei	<R0+2
 17903 06:42D2: D4 01        	pei	<R0
 17904                        	xref	~~~lmul
 17905 06:42D4: 22 xx xx xx  	jsl	~~~lmul
 17906 06:42D8: 85 01        	sta	<R0
 17907 06:42DA: 86 03        	stx	<R0+2
 17908 06:42DC: 18           	clc
 17909 06:42DD: A9 46 00     	lda	#$46
  Mon Aug  9 2021 16:52                                                Page 329


 17910 06:42E0: 65 47        	adc	<L848+pWin_1
 17911 06:42E2: 85 05        	sta	<R1
 17912 06:42E4: A9 00 00     	lda	#$0
 17913 06:42E7: 65 49        	adc	<L848+pWin_1+2
 17914 06:42E9: 85 07        	sta	<R1+2
 17915 06:42EB: 18           	clc
 17916 06:42EC: A5 05        	lda	<R1
 17917 06:42EE: 65 01        	adc	<R0
 17918 06:42F0: 85 09        	sta	<R2
 17919 06:42F2: A5 07        	lda	<R1+2
 17920 06:42F4: 65 03        	adc	<R0+2
 17921 06:42F6: 85 0B        	sta	<R2+2
 17922 06:42F8: A9 09 FB     	lda	#$fb09
 17923 06:42FB: 87 09        	sta	[<R2]
 17924                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 17925                        	.line	2690
 17926 06:42FD: D4 3F        	pei	<L848+gx_1
 17927 06:42FF: D4 3F        	pei	<L848+gx_1
 17928 06:4301: D4 39        	pei	<L848+titleOffsetY_1
 17929 06:4303: D4 3D        	pei	<L848+tx_1
 17930 06:4305: A0 00 00     	ldy	#$0
 17931 06:4308: A5 1D        	lda	<L848+ncc_1
 17932 06:430A: 10 01        	bpl	L871
 17933 06:430C: 88           	dey
 17934                        L871:
 17935 06:430D: 85 01        	sta	<R0
 17936 06:430F: 84 03        	sty	<R0+2
 17937 06:4311: F4 00 00     	pea	#^$11
 17938 06:4314: F4 11 00     	pea	#<$11
 17939 06:4317: D4 03        	pei	<R0+2
 17940 06:4319: D4 01        	pei	<R0
 17941                        	xref	~~~lmul
 17942 06:431B: 22 xx xx xx  	jsl	~~~lmul
 17943 06:431F: 85 01        	sta	<R0
 17944 06:4321: 86 03        	stx	<R0+2
 17945 06:4323: 18           	clc
 17946 06:4324: A9 38 00     	lda	#$38
 17947 06:4327: 65 01        	adc	<R0
 17948 06:4329: 85 05        	sta	<R1
 17949 06:432B: A9 00 00     	lda	#$0
 17950 06:432E: 65 03        	adc	<R0+2
 17951 06:4330: 85 07        	sta	<R1+2
 17952 06:4332: 18           	clc
 17953 06:4333: A5 47        	lda	<L848+pWin_1
 17954 06:4335: 65 05        	adc	<R1
 17955 06:4337: 85 01        	sta	<R0
 17956 06:4339: A5 49        	lda	<L848+pWin_1+2
 17957 06:433B: 65 07        	adc	<R1+2
 17958 06:433D: 85 03        	sta	<R0+2
 17959 06:433F: D4 03        	pei	<R0+2
 17960 06:4341: D4 01        	pei	<R0
 17961 06:4343: 22 06 06 06  	jsl	~~k_set_rect
 17962                        ;
 17963                        ;			ncc++;
 17964                        	.line	2692
 17965 06:4347: E6 1D        	inc	<L848+ncc_1
 17966                        ;
  Mon Aug  9 2021 16:52                                                Page 330


 17967                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx) - (SM_TITLE_X
                    GADGETGAP_DEFAULT + gx));
 17968                        	.line	2694
 17969 06:4349: 18           	clc
 17970 06:434A: A9 04 00     	lda	#$4
 17971 06:434D: 65 3F        	adc	<L848+gx_1
 17972 06:434F: 85 01        	sta	<R0
 17973 06:4351: 18           	clc
 17974 06:4352: A9 04 00     	lda	#$4
 17975 06:4355: 65 3F        	adc	<L848+gx_1
 17976 06:4357: 85 05        	sta	<R1
 17977 06:4359: 18           	clc
 17978 06:435A: A7 15        	lda	[<L848+pwndRect_1]
 17979 06:435C: A0 08 00     	ldy	#$8
 17980 06:435F: 77 15        	adc	[<L848+pwndRect_1],Y
 17981 06:4361: 85 09        	sta	<R2
 17982 06:4363: 38           	sec
 17983 06:4364: A5 09        	lda	<R2
 17984 06:4366: E5 05        	sbc	<R1
 17985 06:4368: 85 0D        	sta	<R3
 17986 06:436A: 38           	sec
 17987 06:436B: A5 0D        	lda	<R3
 17988 06:436D: E5 01        	sbc	<R0
 17989 06:436F: 85 3D        	sta	<L848+tx_1
 17990                        ;
 17991                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK      ,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin
                    ->nBitmapLayer);
 17992                        	.line	2696
 17993 06:4371: A0 9E 01     	ldy	#$19e
 17994 06:4374: B7 47        	lda	[<L848+pWin_1],Y
 17995 06:4376: 48           	pha
 17996 06:4377: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 17997 06:437B: 48           	pha
 17998 06:437C: D4 39        	pei	<L848+titleOffsetY_1
 17999 06:437E: D4 3D        	pei	<L848+tx_1
 18000 06:4380: F4 00 00     	pea	#<$0
 18001 06:4383: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 18002                        ;			k_put_wingadget_point_ex(WINICON
                    _TITLE_FRONT,tx,titleOffsetY,k_getUIGadgetColor()      ,pWin
                    ->nBitmapLayer);
 18003                        	.line	2697
 18004 06:4387: A0 9E 01     	ldy	#$19e
 18005 06:438A: B7 47        	lda	[<L848+pWin_1],Y
 18006 06:438C: 48           	pha
 18007 06:438D: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 18008 06:4391: 48           	pha
 18009 06:4392: D4 39        	pei	<L848+titleOffsetY_1
 18010 06:4394: D4 3D        	pei	<L848+tx_1
 18011 06:4396: F4 03 00     	pea	#<$3
 18012 06:4399: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 18013                        ;			pWin->nonclientGadgets[ncc].msgT
                    ype = FX_MAX_WINDOW;
 18014                        	.line	2698
 18015 06:439D: A0 00 00     	ldy	#$0
 18016 06:43A0: A5 1D        	lda	<L848+ncc_1
 18017 06:43A2: 10 01        	bpl	L872
  Mon Aug  9 2021 16:52                                                Page 331


 18018 06:43A4: 88           	dey
 18019                        L872:
 18020 06:43A5: 85 01        	sta	<R0
 18021 06:43A7: 84 03        	sty	<R0+2
 18022 06:43A9: F4 00 00     	pea	#^$11
 18023 06:43AC: F4 11 00     	pea	#<$11
 18024 06:43AF: D4 03        	pei	<R0+2
 18025 06:43B1: D4 01        	pei	<R0
 18026                        	xref	~~~lmul
 18027 06:43B3: 22 xx xx xx  	jsl	~~~lmul
 18028 06:43B7: 85 01        	sta	<R0
 18029 06:43B9: 86 03        	stx	<R0+2
 18030 06:43BB: 18           	clc
 18031 06:43BC: A9 46 00     	lda	#$46
 18032 06:43BF: 65 47        	adc	<L848+pWin_1
 18033 06:43C1: 85 05        	sta	<R1
 18034 06:43C3: A9 00 00     	lda	#$0
 18035 06:43C6: 65 49        	adc	<L848+pWin_1+2
 18036 06:43C8: 85 07        	sta	<R1+2
 18037 06:43CA: 18           	clc
 18038 06:43CB: A5 05        	lda	<R1
 18039 06:43CD: 65 01        	adc	<R0
 18040 06:43CF: 85 09        	sta	<R2
 18041 06:43D1: A5 07        	lda	<R1+2
 18042 06:43D3: 65 03        	adc	<R0+2
 18043 06:43D5: 85 0B        	sta	<R2+2
 18044 06:43D7: A9 0A FB     	lda	#$fb0a
 18045 06:43DA: 87 09        	sta	[<R2]
 18046                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 18047                        	.line	2699
 18048 06:43DC: D4 3F        	pei	<L848+gx_1
 18049 06:43DE: D4 3F        	pei	<L848+gx_1
 18050 06:43E0: D4 39        	pei	<L848+titleOffsetY_1
 18051 06:43E2: D4 3D        	pei	<L848+tx_1
 18052 06:43E4: A0 00 00     	ldy	#$0
 18053 06:43E7: A5 1D        	lda	<L848+ncc_1
 18054 06:43E9: 10 01        	bpl	L873
 18055 06:43EB: 88           	dey
 18056                        L873:
 18057 06:43EC: 85 01        	sta	<R0
 18058 06:43EE: 84 03        	sty	<R0+2
 18059 06:43F0: F4 00 00     	pea	#^$11
 18060 06:43F3: F4 11 00     	pea	#<$11
 18061 06:43F6: D4 03        	pei	<R0+2
 18062 06:43F8: D4 01        	pei	<R0
 18063                        	xref	~~~lmul
 18064 06:43FA: 22 xx xx xx  	jsl	~~~lmul
 18065 06:43FE: 85 01        	sta	<R0
 18066 06:4400: 86 03        	stx	<R0+2
 18067 06:4402: 18           	clc
 18068 06:4403: A9 38 00     	lda	#$38
 18069 06:4406: 65 01        	adc	<R0
 18070 06:4408: 85 05        	sta	<R1
 18071 06:440A: A9 00 00     	lda	#$0
 18072 06:440D: 65 03        	adc	<R0+2
 18073 06:440F: 85 07        	sta	<R1+2
 18074 06:4411: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 332


 18075 06:4412: A5 47        	lda	<L848+pWin_1
 18076 06:4414: 65 05        	adc	<R1
 18077 06:4416: 85 01        	sta	<R0
 18078 06:4418: A5 49        	lda	<L848+pWin_1+2
 18079 06:441A: 65 07        	adc	<R1+2
 18080 06:441C: 85 03        	sta	<R0+2
 18081 06:441E: D4 03        	pei	<R0+2
 18082 06:4420: D4 01        	pei	<R0
 18083 06:4422: 22 06 06 06  	jsl	~~k_set_rect
 18084                        ;
 18085                        ;			ncc++;
 18086                        	.line	2701
 18087 06:4426: E6 1D        	inc	<L848+ncc_1
 18088                        ;		}
 18089                        	.line	2702
 18090                        ;		else
 18091 06:4428: 82 3C 01     	brl	L10362
 18092                        L10361:
 18093                        ;		{
 18094                        	.line	2704
 18095                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx));
 18096                        	.line	2705
 18097 06:442B: 18           	clc
 18098 06:442C: A9 04 00     	lda	#$4
 18099 06:442F: 65 3F        	adc	<L848+gx_1
 18100 06:4431: 85 01        	sta	<R0
 18101 06:4433: 18           	clc
 18102 06:4434: A7 15        	lda	[<L848+pwndRect_1]
 18103 06:4436: A0 08 00     	ldy	#$8
 18104 06:4439: 77 15        	adc	[<L848+pwndRect_1],Y
 18105 06:443B: 85 05        	sta	<R1
 18106 06:443D: 38           	sec
 18107 06:443E: A5 05        	lda	<R1
 18108 06:4440: E5 01        	sbc	<R0
 18109 06:4442: 85 3D        	sta	<L848+tx_1
 18110                        ;
 18111                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin->nBit
                    mapLayer);
 18112                        	.line	2707
 18113 06:4444: A0 9E 01     	ldy	#$19e
 18114 06:4447: B7 47        	lda	[<L848+pWin_1],Y
 18115 06:4449: 48           	pha
 18116 06:444A: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 18117 06:444E: 48           	pha
 18118 06:444F: D4 39        	pei	<L848+titleOffsetY_1
 18119 06:4451: D4 3D        	pei	<L848+tx_1
 18120 06:4453: F4 00 00     	pea	#<$0
 18121 06:4456: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 18122                        ;			if(style & FXWS_MINIMIZEBOX)
 18123                        	.line	2708
 18124                        ;			{
 18125 06:445A: A5 25        	lda	<L848+style_1
 18126 06:445C: 29 20 00     	and	#<$20
 18127 06:445F: D0 03        	bne	L874
 18128 06:4461: 82 58 00     	brl	L10363
 18129                        L874:
  Mon Aug  9 2021 16:52                                                Page 333


 18130                        	.line	2709
 18131                        ;				k_put_wingadget_point_ex
                    (WINICON_TITLE_BACK,tx,titleOffsetY,k_getUIGadgetColor(),pWi
                    n->nBitmapLayer);
 18132                        	.line	2710
 18133 06:4464: A0 9E 01     	ldy	#$19e
 18134 06:4467: B7 47        	lda	[<L848+pWin_1],Y
 18135 06:4469: 48           	pha
 18136 06:446A: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 18137 06:446E: 48           	pha
 18138 06:446F: D4 39        	pei	<L848+titleOffsetY_1
 18139 06:4471: D4 3D        	pei	<L848+tx_1
 18140 06:4473: F4 04 00     	pea	#<$4
 18141 06:4476: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 18142                        ;				pWin->nonclientGadgets[n
                    cc].msgType = FX_MIN_WINDOW;
 18143                        	.line	2711
 18144 06:447A: A0 00 00     	ldy	#$0
 18145 06:447D: A5 1D        	lda	<L848+ncc_1
 18146 06:447F: 10 01        	bpl	L875
 18147 06:4481: 88           	dey
 18148                        L875:
 18149 06:4482: 85 01        	sta	<R0
 18150 06:4484: 84 03        	sty	<R0+2
 18151 06:4486: F4 00 00     	pea	#^$11
 18152 06:4489: F4 11 00     	pea	#<$11
 18153 06:448C: D4 03        	pei	<R0+2
 18154 06:448E: D4 01        	pei	<R0
 18155                        	xref	~~~lmul
 18156 06:4490: 22 xx xx xx  	jsl	~~~lmul
 18157 06:4494: 85 01        	sta	<R0
 18158 06:4496: 86 03        	stx	<R0+2
 18159 06:4498: 18           	clc
 18160 06:4499: A9 46 00     	lda	#$46
 18161 06:449C: 65 47        	adc	<L848+pWin_1
 18162 06:449E: 85 05        	sta	<R1
 18163 06:44A0: A9 00 00     	lda	#$0
 18164 06:44A3: 65 49        	adc	<L848+pWin_1+2
 18165 06:44A5: 85 07        	sta	<R1+2
 18166 06:44A7: 18           	clc
 18167 06:44A8: A5 05        	lda	<R1
 18168 06:44AA: 65 01        	adc	<R0
 18169 06:44AC: 85 09        	sta	<R2
 18170 06:44AE: A5 07        	lda	<R1+2
 18171 06:44B0: 65 03        	adc	<R0+2
 18172 06:44B2: 85 0B        	sta	<R2+2
 18173 06:44B4: A9 09 FB     	lda	#$fb09
 18174 06:44B7: 87 09        	sta	[<R2]
 18175                        ;			}
 18176                        	.line	2712
 18177                        ;			else if(style & FXWS_MAXIMIZEBOX
                    )
 18178 06:44B9: 82 5F 00     	brl	L10364
 18179                        L10363:
 18180                        	.line	2713
 18181                        ;			{
 18182 06:44BC: A5 25        	lda	<L848+style_1
 18183 06:44BE: 29 10 00     	and	#<$10
  Mon Aug  9 2021 16:52                                                Page 334


 18184 06:44C1: D0 03        	bne	L876
 18185 06:44C3: 82 55 00     	brl	L10365
 18186                        L876:
 18187                        	.line	2714
 18188                        ;				k_put_wingadget_point_ex
                    (WINICON_TITLE_FRONT,tx,titleOffsetY,k_getUIGadgetColor(),pW
                    in->nBitmapLayer);
 18189                        	.line	2715
 18190 06:44C6: A0 9E 01     	ldy	#$19e
 18191 06:44C9: B7 47        	lda	[<L848+pWin_1],Y
 18192 06:44CB: 48           	pha
 18193 06:44CC: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 18194 06:44D0: 48           	pha
 18195 06:44D1: D4 39        	pei	<L848+titleOffsetY_1
 18196 06:44D3: D4 3D        	pei	<L848+tx_1
 18197 06:44D5: F4 03 00     	pea	#<$3
 18198 06:44D8: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 18199                        ;				pWin->nonclientGadgets[n
                    cc].msgType = FX_MAX_WINDOW;
 18200                        	.line	2716
 18201 06:44DC: A0 00 00     	ldy	#$0
 18202 06:44DF: A5 1D        	lda	<L848+ncc_1
 18203 06:44E1: 10 01        	bpl	L877
 18204 06:44E3: 88           	dey
 18205                        L877:
 18206 06:44E4: 85 01        	sta	<R0
 18207 06:44E6: 84 03        	sty	<R0+2
 18208 06:44E8: F4 00 00     	pea	#^$11
 18209 06:44EB: F4 11 00     	pea	#<$11
 18210 06:44EE: D4 03        	pei	<R0+2
 18211 06:44F0: D4 01        	pei	<R0
 18212                        	xref	~~~lmul
 18213 06:44F2: 22 xx xx xx  	jsl	~~~lmul
 18214 06:44F6: 85 01        	sta	<R0
 18215 06:44F8: 86 03        	stx	<R0+2
 18216 06:44FA: 18           	clc
 18217 06:44FB: A9 46 00     	lda	#$46
 18218 06:44FE: 65 47        	adc	<L848+pWin_1
 18219 06:4500: 85 05        	sta	<R1
 18220 06:4502: A9 00 00     	lda	#$0
 18221 06:4505: 65 49        	adc	<L848+pWin_1+2
 18222 06:4507: 85 07        	sta	<R1+2
 18223 06:4509: 18           	clc
 18224 06:450A: A5 05        	lda	<R1
 18225 06:450C: 65 01        	adc	<R0
 18226 06:450E: 85 09        	sta	<R2
 18227 06:4510: A5 07        	lda	<R1+2
 18228 06:4512: 65 03        	adc	<R0+2
 18229 06:4514: 85 0B        	sta	<R2+2
 18230 06:4516: A9 0A FB     	lda	#$fb0a
 18231 06:4519: 87 09        	sta	[<R2]
 18232                        ;			}
 18233                        	.line	2717
 18234                        ;
 18235                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 18236                        L10365:
 18237                        L10364:
  Mon Aug  9 2021 16:52                                                Page 335


 18238                        	.line	2719
 18239 06:451B: D4 3F        	pei	<L848+gx_1
 18240 06:451D: D4 3F        	pei	<L848+gx_1
 18241 06:451F: D4 39        	pei	<L848+titleOffsetY_1
 18242 06:4521: D4 3D        	pei	<L848+tx_1
 18243 06:4523: A0 00 00     	ldy	#$0
 18244 06:4526: A5 1D        	lda	<L848+ncc_1
 18245 06:4528: 10 01        	bpl	L878
 18246 06:452A: 88           	dey
 18247                        L878:
 18248 06:452B: 85 01        	sta	<R0
 18249 06:452D: 84 03        	sty	<R0+2
 18250 06:452F: F4 00 00     	pea	#^$11
 18251 06:4532: F4 11 00     	pea	#<$11
 18252 06:4535: D4 03        	pei	<R0+2
 18253 06:4537: D4 01        	pei	<R0
 18254                        	xref	~~~lmul
 18255 06:4539: 22 xx xx xx  	jsl	~~~lmul
 18256 06:453D: 85 01        	sta	<R0
 18257 06:453F: 86 03        	stx	<R0+2
 18258 06:4541: 18           	clc
 18259 06:4542: A9 38 00     	lda	#$38
 18260 06:4545: 65 01        	adc	<R0
 18261 06:4547: 85 05        	sta	<R1
 18262 06:4549: A9 00 00     	lda	#$0
 18263 06:454C: 65 03        	adc	<R0+2
 18264 06:454E: 85 07        	sta	<R1+2
 18265 06:4550: 18           	clc
 18266 06:4551: A5 47        	lda	<L848+pWin_1
 18267 06:4553: 65 05        	adc	<R1
 18268 06:4555: 85 01        	sta	<R0
 18269 06:4557: A5 49        	lda	<L848+pWin_1+2
 18270 06:4559: 65 07        	adc	<R1+2
 18271 06:455B: 85 03        	sta	<R0+2
 18272 06:455D: D4 03        	pei	<R0+2
 18273 06:455F: D4 01        	pei	<R0
 18274 06:4561: 22 06 06 06  	jsl	~~k_set_rect
 18275                        ;
 18276                        ;			ncc++;
 18277                        	.line	2721
 18278 06:4565: E6 1D        	inc	<L848+ncc_1
 18279                        ;		}
 18280                        	.line	2722
 18281                        L10362:
 18282                        ;
 18283                        ;
 18284                        ;
 18285                        ;		if((style & FXWS_CAPTION) == FXWS_CAPTIO
                    N)
 18286                        	.line	2726
 18287                        ;		{
 18288 06:4567: A5 25        	lda	<L848+style_1
 18289 06:4569: 29 04 00     	and	#<$4
 18290 06:456C: 85 01        	sta	<R0
 18291 06:456E: 64 03        	stz	<R0+2
 18292 06:4570: A5 01        	lda	<R0
 18293 06:4572: C9 04 00     	cmp	#<$4
 18294 06:4575: D0 05        	bne	L879
  Mon Aug  9 2021 16:52                                                Page 336


 18295 06:4577: A5 03        	lda	<R0+2
 18296 06:4579: C9 00 00     	cmp	#^$4
 18297                        L879:
 18298 06:457C: F0 03        	beq	L880
 18299 06:457E: 82 CD 01     	brl	L10366
 18300                        L880:
 18301                        	.line	2727
 18302                        ;			k_user_SetRect(&rect,
 18303                        	.line	2728
 18304                        ;						   title
                    OffsetX + SM_TITLE_XGADGETGAP_DEFAULT,
 18305                        ;						   title
                    OffsetY,
 18306                        ;						   (strl
                    en(pWin->win_title)*metric.width) + SM_TITLE_XGADGETGAP_DEFA
                    ULT,
 18307                        ;						   metri
                    c.height);
 18308 06:4581: D4 13        	pei	<L848+metric_1+2
 18309 06:4583: 18           	clc
 18310 06:4584: A9 4C 01     	lda	#$14c
 18311 06:4587: 65 47        	adc	<L848+pWin_1
 18312 06:4589: 85 01        	sta	<R0
 18313 06:458B: A9 00 00     	lda	#$0
 18314 06:458E: 65 49        	adc	<L848+pWin_1+2
 18315 06:4590: 85 03        	sta	<R0+2
 18316 06:4592: D4 03        	pei	<R0+2
 18317 06:4594: D4 01        	pei	<R0
 18318 06:4596: 22 xx xx xx  	jsl	~~strlen
 18319 06:459A: 85 05        	sta	<R1
 18320 06:459C: A5 05        	lda	<R1
 18321 06:459E: A6 11        	ldx	<L848+metric_1
 18322                        	xref	~~~mul
 18323 06:45A0: 22 xx xx xx  	jsl	~~~mul
 18324 06:45A4: 85 05        	sta	<R1
 18325 06:45A6: 18           	clc
 18326 06:45A7: A9 04 00     	lda	#$4
 18327 06:45AA: 65 05        	adc	<R1
 18328 06:45AC: 48           	pha
 18329 06:45AD: D4 39        	pei	<L848+titleOffsetY_1
 18330 06:45AF: 18           	clc
 18331 06:45B0: A9 04 00     	lda	#$4
 18332 06:45B3: 65 37        	adc	<L848+titleOffsetX_1
 18333 06:45B5: 48           	pha
 18334 06:45B6: F4 00 00     	pea	#0
 18335 06:45B9: 18           	clc
 18336 06:45BA: 7B           	tdc
 18337 06:45BB: 69 29 00     	adc	#<L848+rect_1
 18338 06:45BE: 48           	pha
 18339 06:45BF: 22 xx xx xx  	jsl	~~k_user_SetRect
 18340                        ;
 18341                        ;
 18342                        ;			if(pWin->styleEx && pWin->client
                    Data[CLIENTDATA_TITLE])
 18343                        	.line	2735
 18344                        ;			{
 18345 06:45C3: A0 06 00     	ldy	#$6
 18346 06:45C6: B7 47        	lda	[<L848+pWin_1],Y
  Mon Aug  9 2021 16:52                                                Page 337


 18347 06:45C8: A0 08 00     	ldy	#$8
 18348 06:45CB: 17 47        	ora	[<L848+pWin_1],Y
 18349 06:45CD: D0 03        	bne	L881
 18350 06:45CF: 82 2B 00     	brl	L10367
 18351                        L881:
 18352 06:45D2: A0 DD 01     	ldy	#$1dd
 18353 06:45D5: B7 47        	lda	[<L848+pWin_1],Y
 18354 06:45D7: A0 DF 01     	ldy	#$1df
 18355 06:45DA: 17 47        	ora	[<L848+pWin_1],Y
 18356 06:45DC: D0 03        	bne	L882
 18357 06:45DE: 82 1C 00     	brl	L10367
 18358                        L882:
 18359                        	.line	2736
 18360                        ;				k_gui_get_image_cache((U
                    INT)((ULONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BA
                    CK,&rect);
 18361                        	.line	2737
 18362 06:45E1: F4 00 00     	pea	#0
 18363 06:45E4: 18           	clc
 18364 06:45E5: 7B           	tdc
 18365 06:45E6: 69 29 00     	adc	#<L848+rect_1
 18366 06:45E9: 48           	pha
 18367 06:45EA: F4 08 00     	pea	#^$80000
 18368 06:45ED: F4 00 00     	pea	#<$80000
 18369 06:45F0: A0 DD 01     	ldy	#$1dd
 18370 06:45F3: B7 47        	lda	[<L848+pWin_1],Y
 18371 06:45F5: 48           	pha
 18372 06:45F6: 22 19 03 06  	jsl	~~k_gui_get_image_cache
 18373                        ;			}
 18374                        	.line	2738
 18375                        ;			else
 18376 06:45FA: 82 B6 00     	brl	L10368
 18377                        L10367:
 18378                        ;			{
 18379                        	.line	2740
 18380                        ;				k_vdma_fill_rect_ex(rect
                    .x,
 18381                        	.line	2741
 18382                        ;							
                    		rect.y,
 18383                        ;							
                    		(strlen(pWin->win_title)*metric.width) + SM_TITL
                    E_XGADGETGAP_DEFAULT,
 18384                        ;							
                    		metric.height,
 18385                        ;							
                    		k_getUIWindowBorderColor(),
 18386                        ;							
                    		BITMAP_BACK);
 18387 06:45FD: F4 08 00     	pea	#<$8
 18388 06:4600: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 18389 06:4604: 48           	pha
 18390 06:4605: D4 13        	pei	<L848+metric_1+2
 18391 06:4607: 18           	clc
 18392 06:4608: A9 4C 01     	lda	#$14c
 18393 06:460B: 65 47        	adc	<L848+pWin_1
 18394 06:460D: 85 01        	sta	<R0
 18395 06:460F: A9 00 00     	lda	#$0
  Mon Aug  9 2021 16:52                                                Page 338


 18396 06:4612: 65 49        	adc	<L848+pWin_1+2
 18397 06:4614: 85 03        	sta	<R0+2
 18398 06:4616: D4 03        	pei	<R0+2
 18399 06:4618: D4 01        	pei	<R0
 18400 06:461A: 22 xx xx xx  	jsl	~~strlen
 18401 06:461E: 85 05        	sta	<R1
 18402 06:4620: A5 05        	lda	<R1
 18403 06:4622: A6 11        	ldx	<L848+metric_1
 18404                        	xref	~~~mul
 18405 06:4624: 22 xx xx xx  	jsl	~~~mul
 18406 06:4628: 85 05        	sta	<R1
 18407 06:462A: 18           	clc
 18408 06:462B: A9 04 00     	lda	#$4
 18409 06:462E: 65 05        	adc	<R1
 18410 06:4630: 48           	pha
 18411 06:4631: A0 00 00     	ldy	#$0
 18412 06:4634: A5 2B        	lda	<L848+rect_1+2
 18413 06:4636: 10 01        	bpl	L883
 18414 06:4638: 88           	dey
 18415                        L883:
 18416 06:4639: 85 05        	sta	<R1
 18417 06:463B: 84 07        	sty	<R1+2
 18418 06:463D: D4 07        	pei	<R1+2
 18419 06:463F: D4 05        	pei	<R1
 18420 06:4641: A0 00 00     	ldy	#$0
 18421 06:4644: A5 29        	lda	<L848+rect_1
 18422 06:4646: 10 01        	bpl	L884
 18423 06:4648: 88           	dey
 18424                        L884:
 18425 06:4649: 85 09        	sta	<R2
 18426 06:464B: 84 0B        	sty	<R2+2
 18427 06:464D: D4 0B        	pei	<R2+2
 18428 06:464F: D4 09        	pei	<R2
 18429 06:4651: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 18430                        ;
 18431                        ;				k_draw_text_point_ex(pWi
                    n->win_title,
 18432                        	.line	2748
 18433                        ;							
                    		 rect.x,
 18434                        ;							
                    		 rect.y,
 18435                        ;							
                    		 k_getUIGadgetColor(),
 18436                        ;							
                    		 pWin->nBitmapLayer);
 18437 06:4655: A0 9E 01     	ldy	#$19e
 18438 06:4658: B7 47        	lda	[<L848+pWin_1],Y
 18439 06:465A: 48           	pha
 18440 06:465B: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 18441 06:465F: 48           	pha
 18442 06:4660: D4 2B        	pei	<L848+rect_1+2
 18443 06:4662: D4 29        	pei	<L848+rect_1
 18444 06:4664: 18           	clc
 18445 06:4665: A9 4C 01     	lda	#$14c
 18446 06:4668: 65 47        	adc	<L848+pWin_1
 18447 06:466A: 85 01        	sta	<R0
 18448 06:466C: A9 00 00     	lda	#$0
  Mon Aug  9 2021 16:52                                                Page 339


 18449 06:466F: 65 49        	adc	<L848+pWin_1+2
 18450 06:4671: 85 03        	sta	<R0+2
 18451 06:4673: D4 03        	pei	<R0+2
 18452 06:4675: D4 01        	pei	<R0
 18453 06:4677: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 18454                        ;
 18455                        ;				if(pWin->styleEx)
 18456                        	.line	2754
 18457                        ;				{
 18458 06:467B: A0 06 00     	ldy	#$6
 18459 06:467E: B7 47        	lda	[<L848+pWin_1],Y
 18460 06:4680: A0 08 00     	ldy	#$8
 18461 06:4683: 17 47        	ora	[<L848+pWin_1],Y
 18462 06:4685: D0 03        	bne	L885
 18463 06:4687: 82 29 00     	brl	L10369
 18464                        L885:
 18465                        	.line	2755
 18466                        ;					pWin->clientData
                    [CLIENTDATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(G
                    UI_CACHE_BACK,&rect));
 18467                        	.line	2756
 18468 06:468A: F4 00 00     	pea	#0
 18469 06:468D: 18           	clc
 18470 06:468E: 7B           	tdc
 18471 06:468F: 69 29 00     	adc	#<L848+rect_1
 18472 06:4692: 48           	pha
 18473 06:4693: F4 08 00     	pea	#^$80000
 18474 06:4696: F4 00 00     	pea	#<$80000
 18475 06:4699: 22 08 02 06  	jsl	~~k_gui_set_image_cache
 18476 06:469D: 85 01        	sta	<R0
 18477 06:469F: A5 01        	lda	<R0
 18478 06:46A1: 85 01        	sta	<R0
 18479 06:46A3: 64 03        	stz	<R0+2
 18480 06:46A5: A5 01        	lda	<R0
 18481 06:46A7: A0 DD 01     	ldy	#$1dd
 18482 06:46AA: 97 47        	sta	[<L848+pWin_1],Y
 18483 06:46AC: A5 03        	lda	<R0+2
 18484 06:46AE: A0 DF 01     	ldy	#$1df
 18485 06:46B1: 97 47        	sta	[<L848+pWin_1],Y
 18486                        ;				}
 18487                        	.line	2757
 18488                        ;
 18489                        ;			}
 18490                        L10369:
 18491                        	.line	2759
 18492                        L10368:
 18493                        ;
 18494                        ;
 18495                        ;
 18496                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 18497                        	.line	2763
 18498                        ;					   pWin->win_x ,
 18499                        ;					   pWin->win_y,
 18500                        ;					   pWin->win_wid
                    th,
 18501                        ;					   SM_CYCAPTION_
                    DEFAULT);
  Mon Aug  9 2021 16:52                                                Page 340


 18502 06:46B3: F4 0C 00     	pea	#<$c
 18503 06:46B6: A0 10 00     	ldy	#$10
 18504 06:46B9: B7 47        	lda	[<L848+pWin_1],Y
 18505 06:46BB: 48           	pha
 18506 06:46BC: A0 0E 00     	ldy	#$e
 18507 06:46BF: B7 47        	lda	[<L848+pWin_1],Y
 18508 06:46C1: 48           	pha
 18509 06:46C2: A0 0C 00     	ldy	#$c
 18510 06:46C5: B7 47        	lda	[<L848+pWin_1],Y
 18511 06:46C7: 48           	pha
 18512 06:46C8: A0 00 00     	ldy	#$0
 18513 06:46CB: A5 1D        	lda	<L848+ncc_1
 18514 06:46CD: 10 01        	bpl	L886
 18515 06:46CF: 88           	dey
 18516                        L886:
 18517 06:46D0: 85 01        	sta	<R0
 18518 06:46D2: 84 03        	sty	<R0+2
 18519 06:46D4: F4 00 00     	pea	#^$11
 18520 06:46D7: F4 11 00     	pea	#<$11
 18521 06:46DA: D4 03        	pei	<R0+2
 18522 06:46DC: D4 01        	pei	<R0
 18523                        	xref	~~~lmul
 18524 06:46DE: 22 xx xx xx  	jsl	~~~lmul
 18525 06:46E2: 85 01        	sta	<R0
 18526 06:46E4: 86 03        	stx	<R0+2
 18527 06:46E6: 18           	clc
 18528 06:46E7: A9 38 00     	lda	#$38
 18529 06:46EA: 65 01        	adc	<R0
 18530 06:46EC: 85 05        	sta	<R1
 18531 06:46EE: A9 00 00     	lda	#$0
 18532 06:46F1: 65 03        	adc	<R0+2
 18533 06:46F3: 85 07        	sta	<R1+2
 18534 06:46F5: 18           	clc
 18535 06:46F6: A5 47        	lda	<L848+pWin_1
 18536 06:46F8: 65 05        	adc	<R1
 18537 06:46FA: 85 01        	sta	<R0
 18538 06:46FC: A5 49        	lda	<L848+pWin_1+2
 18539 06:46FE: 65 07        	adc	<R1+2
 18540 06:4700: 85 03        	sta	<R0+2
 18541 06:4702: D4 03        	pei	<R0+2
 18542 06:4704: D4 01        	pei	<R0
 18543 06:4706: 22 06 06 06  	jsl	~~k_set_rect
 18544                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_DRAG_WINDOW;
 18545                        	.line	2768
 18546 06:470A: A0 00 00     	ldy	#$0
 18547 06:470D: A5 1D        	lda	<L848+ncc_1
 18548 06:470F: 10 01        	bpl	L887
 18549 06:4711: 88           	dey
 18550                        L887:
 18551 06:4712: 85 01        	sta	<R0
 18552 06:4714: 84 03        	sty	<R0+2
 18553 06:4716: F4 00 00     	pea	#^$11
 18554 06:4719: F4 11 00     	pea	#<$11
 18555 06:471C: D4 03        	pei	<R0+2
 18556 06:471E: D4 01        	pei	<R0
 18557                        	xref	~~~lmul
 18558 06:4720: 22 xx xx xx  	jsl	~~~lmul
  Mon Aug  9 2021 16:52                                                Page 341


 18559 06:4724: 85 01        	sta	<R0
 18560 06:4726: 86 03        	stx	<R0+2
 18561 06:4728: 18           	clc
 18562 06:4729: A9 46 00     	lda	#$46
 18563 06:472C: 65 47        	adc	<L848+pWin_1
 18564 06:472E: 85 05        	sta	<R1
 18565 06:4730: A9 00 00     	lda	#$0
 18566 06:4733: 65 49        	adc	<L848+pWin_1+2
 18567 06:4735: 85 07        	sta	<R1+2
 18568 06:4737: 18           	clc
 18569 06:4738: A5 05        	lda	<R1
 18570 06:473A: 65 01        	adc	<R0
 18571 06:473C: 85 09        	sta	<R2
 18572 06:473E: A5 07        	lda	<R1+2
 18573 06:4740: 65 03        	adc	<R0+2
 18574 06:4742: 85 0B        	sta	<R2+2
 18575 06:4744: A9 10 FB     	lda	#$fb10
 18576 06:4747: 87 09        	sta	[<R2]
 18577 06:4749: E6 1D        	inc	<L848+ncc_1
 18578                        ;
 18579                        ;		}
 18580                        	.line	2770
 18581                        ;		else
 18582 06:474B: 82 9E 00     	brl	L10370
 18583                        L10366:
 18584                        ;		{
 18585                        	.line	2772
 18586                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 18587                        	.line	2773
 18588                        ;					   pWin->win_x +
                     gx,
 18589                        ;					   pWin->win_y,
 18590                        ;					   pWin->win_wid
                    th - gx,
 18591                        ;					   SM_CYCAPTION_
                    DEFAULT);
 18592 06:474E: F4 0C 00     	pea	#<$c
 18593 06:4751: 38           	sec
 18594 06:4752: A0 10 00     	ldy	#$10
 18595 06:4755: B7 47        	lda	[<L848+pWin_1],Y
 18596 06:4757: E5 3F        	sbc	<L848+gx_1
 18597 06:4759: 48           	pha
 18598 06:475A: A0 0E 00     	ldy	#$e
 18599 06:475D: B7 47        	lda	[<L848+pWin_1],Y
 18600 06:475F: 48           	pha
 18601 06:4760: 18           	clc
 18602 06:4761: A0 0C 00     	ldy	#$c
 18603 06:4764: B7 47        	lda	[<L848+pWin_1],Y
 18604 06:4766: 65 3F        	adc	<L848+gx_1
 18605 06:4768: 48           	pha
 18606 06:4769: A0 00 00     	ldy	#$0
 18607 06:476C: A5 1D        	lda	<L848+ncc_1
 18608 06:476E: 10 01        	bpl	L888
 18609 06:4770: 88           	dey
 18610                        L888:
 18611 06:4771: 85 01        	sta	<R0
 18612 06:4773: 84 03        	sty	<R0+2
  Mon Aug  9 2021 16:52                                                Page 342


 18613 06:4775: F4 00 00     	pea	#^$11
 18614 06:4778: F4 11 00     	pea	#<$11
 18615 06:477B: D4 03        	pei	<R0+2
 18616 06:477D: D4 01        	pei	<R0
 18617                        	xref	~~~lmul
 18618 06:477F: 22 xx xx xx  	jsl	~~~lmul
 18619 06:4783: 85 01        	sta	<R0
 18620 06:4785: 86 03        	stx	<R0+2
 18621 06:4787: 18           	clc
 18622 06:4788: A9 38 00     	lda	#$38
 18623 06:478B: 65 01        	adc	<R0
 18624 06:478D: 85 05        	sta	<R1
 18625 06:478F: A9 00 00     	lda	#$0
 18626 06:4792: 65 03        	adc	<R0+2
 18627 06:4794: 85 07        	sta	<R1+2
 18628 06:4796: 18           	clc
 18629 06:4797: A5 47        	lda	<L848+pWin_1
 18630 06:4799: 65 05        	adc	<R1
 18631 06:479B: 85 01        	sta	<R0
 18632 06:479D: A5 49        	lda	<L848+pWin_1+2
 18633 06:479F: 65 07        	adc	<R1+2
 18634 06:47A1: 85 03        	sta	<R0+2
 18635 06:47A3: D4 03        	pei	<R0+2
 18636 06:47A5: D4 01        	pei	<R0
 18637 06:47A7: 22 06 06 06  	jsl	~~k_set_rect
 18638                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_DRAG_WINDOW;
 18639                        	.line	2778
 18640 06:47AB: A0 00 00     	ldy	#$0
 18641 06:47AE: A5 1D        	lda	<L848+ncc_1
 18642 06:47B0: 10 01        	bpl	L889
 18643 06:47B2: 88           	dey
 18644                        L889:
 18645 06:47B3: 85 01        	sta	<R0
 18646 06:47B5: 84 03        	sty	<R0+2
 18647 06:47B7: F4 00 00     	pea	#^$11
 18648 06:47BA: F4 11 00     	pea	#<$11
 18649 06:47BD: D4 03        	pei	<R0+2
 18650 06:47BF: D4 01        	pei	<R0
 18651                        	xref	~~~lmul
 18652 06:47C1: 22 xx xx xx  	jsl	~~~lmul
 18653 06:47C5: 85 01        	sta	<R0
 18654 06:47C7: 86 03        	stx	<R0+2
 18655 06:47C9: 18           	clc
 18656 06:47CA: A9 46 00     	lda	#$46
 18657 06:47CD: 65 47        	adc	<L848+pWin_1
 18658 06:47CF: 85 05        	sta	<R1
 18659 06:47D1: A9 00 00     	lda	#$0
 18660 06:47D4: 65 49        	adc	<L848+pWin_1+2
 18661 06:47D6: 85 07        	sta	<R1+2
 18662 06:47D8: 18           	clc
 18663 06:47D9: A5 05        	lda	<R1
 18664 06:47DB: 65 01        	adc	<R0
 18665 06:47DD: 85 09        	sta	<R2
 18666 06:47DF: A5 07        	lda	<R1+2
 18667 06:47E1: 65 03        	adc	<R0+2
 18668 06:47E3: 85 0B        	sta	<R2+2
 18669 06:47E5: A9 10 FB     	lda	#$fb10
  Mon Aug  9 2021 16:52                                                Page 343


 18670 06:47E8: 87 09        	sta	[<R2]
 18671 06:47EA: E6 1D        	inc	<L848+ncc_1
 18672                        ;		}
 18673                        	.line	2779
 18674                        L10370:
 18675                        ;
 18676                        ;
 18677                        ;		if((style & FXWS_THICKFRAME) && (style &
                     FXWS_SIZEBOX))
 18678                        	.line	2782
 18679                        ;		{
 18680 06:47EC: A5 27        	lda	<L848+style_1+2
 18681 06:47EE: 29 02 00     	and	#^$20000
 18682 06:47F1: D0 03        	bne	L890
 18683 06:47F3: 82 23 02     	brl	L10371
 18684                        L890:
 18685 06:47F6: A5 25        	lda	<L848+style_1
 18686 06:47F8: 29 00 01     	and	#<$100
 18687 06:47FB: D0 03        	bne	L891
 18688 06:47FD: 82 19 02     	brl	L10371
 18689                        L891:
 18690                        	.line	2783
 18691                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 18692                        	.line	2784
 18693                        ;					   pWin->win_x +
                     pWin->win_width  - 4,
 18694                        ;					   pWin->win_y +
                     pWin->win_height - 4,
 18695                        ;					   4,
 18696                        ;					   4);
 18697 06:4800: F4 04 00     	pea	#<$4
 18698 06:4803: F4 04 00     	pea	#<$4
 18699 06:4806: 18           	clc
 18700 06:4807: A0 0E 00     	ldy	#$e
 18701 06:480A: B7 47        	lda	[<L848+pWin_1],Y
 18702 06:480C: A0 12 00     	ldy	#$12
 18703 06:480F: 77 47        	adc	[<L848+pWin_1],Y
 18704 06:4811: 85 01        	sta	<R0
 18705 06:4813: 18           	clc
 18706 06:4814: A9 FC FF     	lda	#$fffc
 18707 06:4817: 65 01        	adc	<R0
 18708 06:4819: 48           	pha
 18709 06:481A: 18           	clc
 18710 06:481B: A0 0C 00     	ldy	#$c
 18711 06:481E: B7 47        	lda	[<L848+pWin_1],Y
 18712 06:4820: A0 10 00     	ldy	#$10
 18713 06:4823: 77 47        	adc	[<L848+pWin_1],Y
 18714 06:4825: 85 01        	sta	<R0
 18715 06:4827: 18           	clc
 18716 06:4828: A9 FC FF     	lda	#$fffc
 18717 06:482B: 65 01        	adc	<R0
 18718 06:482D: 48           	pha
 18719 06:482E: A0 00 00     	ldy	#$0
 18720 06:4831: A5 1D        	lda	<L848+ncc_1
 18721 06:4833: 10 01        	bpl	L892
 18722 06:4835: 88           	dey
 18723                        L892:
  Mon Aug  9 2021 16:52                                                Page 344


 18724 06:4836: 85 01        	sta	<R0
 18725 06:4838: 84 03        	sty	<R0+2
 18726 06:483A: F4 00 00     	pea	#^$11
 18727 06:483D: F4 11 00     	pea	#<$11
 18728 06:4840: D4 03        	pei	<R0+2
 18729 06:4842: D4 01        	pei	<R0
 18730                        	xref	~~~lmul
 18731 06:4844: 22 xx xx xx  	jsl	~~~lmul
 18732 06:4848: 85 01        	sta	<R0
 18733 06:484A: 86 03        	stx	<R0+2
 18734 06:484C: 18           	clc
 18735 06:484D: A9 38 00     	lda	#$38
 18736 06:4850: 65 01        	adc	<R0
 18737 06:4852: 85 05        	sta	<R1
 18738 06:4854: A9 00 00     	lda	#$0
 18739 06:4857: 65 03        	adc	<R0+2
 18740 06:4859: 85 07        	sta	<R1+2
 18741 06:485B: 18           	clc
 18742 06:485C: A5 47        	lda	<L848+pWin_1
 18743 06:485E: 65 05        	adc	<R1
 18744 06:4860: 85 01        	sta	<R0
 18745 06:4862: A5 49        	lda	<L848+pWin_1+2
 18746 06:4864: 65 07        	adc	<R1+2
 18747 06:4866: 85 03        	sta	<R0+2
 18748 06:4868: D4 03        	pei	<R0+2
 18749 06:486A: D4 01        	pei	<R0
 18750 06:486C: 22 06 06 06  	jsl	~~k_set_rect
 18751                        ;
 18752                        ;			k_vdma_fill_rect_ex(pWin->noncli
                    entGadgets[ncc].area.x,
 18753                        	.line	2790
 18754                        ;					            pWin
                    ->nonclientGadgets[ncc].area.y,
 18755                        ;							
                    	pWin->nonclientGadgets[ncc].area.width,
 18756                        ;							
                    	pWin->nonclientGadgets[ncc].area.height,
 18757                        ;							
                    	k_getUIGadgetColor(),
 18758                        ;							
                    	BITMAP_BACK);
 18759 06:4870: F4 08 00     	pea	#<$8
 18760 06:4873: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 18761 06:4877: 48           	pha
 18762 06:4878: A0 00 00     	ldy	#$0
 18763 06:487B: A5 1D        	lda	<L848+ncc_1
 18764 06:487D: 10 01        	bpl	L893
 18765 06:487F: 88           	dey
 18766                        L893:
 18767 06:4880: 85 01        	sta	<R0
 18768 06:4882: 84 03        	sty	<R0+2
 18769 06:4884: F4 00 00     	pea	#^$11
 18770 06:4887: F4 11 00     	pea	#<$11
 18771 06:488A: D4 03        	pei	<R0+2
 18772 06:488C: D4 01        	pei	<R0
 18773                        	xref	~~~lmul
 18774 06:488E: 22 xx xx xx  	jsl	~~~lmul
 18775 06:4892: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 345


 18776 06:4894: 86 03        	stx	<R0+2
 18777 06:4896: 18           	clc
 18778 06:4897: A9 42 00     	lda	#$42
 18779 06:489A: 65 47        	adc	<L848+pWin_1
 18780 06:489C: 85 05        	sta	<R1
 18781 06:489E: A9 00 00     	lda	#$0
 18782 06:48A1: 65 49        	adc	<L848+pWin_1+2
 18783 06:48A3: 85 07        	sta	<R1+2
 18784 06:48A5: 18           	clc
 18785 06:48A6: A5 05        	lda	<R1
 18786 06:48A8: 65 01        	adc	<R0
 18787 06:48AA: 85 09        	sta	<R2
 18788 06:48AC: A5 07        	lda	<R1+2
 18789 06:48AE: 65 03        	adc	<R0+2
 18790 06:48B0: 85 0B        	sta	<R2+2
 18791 06:48B2: A7 09        	lda	[<R2]
 18792 06:48B4: 48           	pha
 18793 06:48B5: A0 00 00     	ldy	#$0
 18794 06:48B8: A5 1D        	lda	<L848+ncc_1
 18795 06:48BA: 10 01        	bpl	L894
 18796 06:48BC: 88           	dey
 18797                        L894:
 18798 06:48BD: 85 01        	sta	<R0
 18799 06:48BF: 84 03        	sty	<R0+2
 18800 06:48C1: F4 00 00     	pea	#^$11
 18801 06:48C4: F4 11 00     	pea	#<$11
 18802 06:48C7: D4 03        	pei	<R0+2
 18803 06:48C9: D4 01        	pei	<R0
 18804                        	xref	~~~lmul
 18805 06:48CB: 22 xx xx xx  	jsl	~~~lmul
 18806 06:48CF: 85 01        	sta	<R0
 18807 06:48D1: 86 03        	stx	<R0+2
 18808 06:48D3: 18           	clc
 18809 06:48D4: A9 40 00     	lda	#$40
 18810 06:48D7: 65 47        	adc	<L848+pWin_1
 18811 06:48D9: 85 05        	sta	<R1
 18812 06:48DB: A9 00 00     	lda	#$0
 18813 06:48DE: 65 49        	adc	<L848+pWin_1+2
 18814 06:48E0: 85 07        	sta	<R1+2
 18815 06:48E2: 18           	clc
 18816 06:48E3: A5 05        	lda	<R1
 18817 06:48E5: 65 01        	adc	<R0
 18818 06:48E7: 85 09        	sta	<R2
 18819 06:48E9: A5 07        	lda	<R1+2
 18820 06:48EB: 65 03        	adc	<R0+2
 18821 06:48ED: 85 0B        	sta	<R2+2
 18822 06:48EF: A7 09        	lda	[<R2]
 18823 06:48F1: 48           	pha
 18824 06:48F2: A0 00 00     	ldy	#$0
 18825 06:48F5: A5 1D        	lda	<L848+ncc_1
 18826 06:48F7: 10 01        	bpl	L895
 18827 06:48F9: 88           	dey
 18828                        L895:
 18829 06:48FA: 85 01        	sta	<R0
 18830 06:48FC: 84 03        	sty	<R0+2
 18831 06:48FE: F4 00 00     	pea	#^$11
 18832 06:4901: F4 11 00     	pea	#<$11
 18833 06:4904: D4 03        	pei	<R0+2
  Mon Aug  9 2021 16:52                                                Page 346


 18834 06:4906: D4 01        	pei	<R0
 18835                        	xref	~~~lmul
 18836 06:4908: 22 xx xx xx  	jsl	~~~lmul
 18837 06:490C: 85 01        	sta	<R0
 18838 06:490E: 86 03        	stx	<R0+2
 18839 06:4910: 18           	clc
 18840 06:4911: A9 3A 00     	lda	#$3a
 18841 06:4914: 65 47        	adc	<L848+pWin_1
 18842 06:4916: 85 05        	sta	<R1
 18843 06:4918: A9 00 00     	lda	#$0
 18844 06:491B: 65 49        	adc	<L848+pWin_1+2
 18845 06:491D: 85 07        	sta	<R1+2
 18846 06:491F: 18           	clc
 18847 06:4920: A5 05        	lda	<R1
 18848 06:4922: 65 01        	adc	<R0
 18849 06:4924: 85 09        	sta	<R2
 18850 06:4926: A5 07        	lda	<R1+2
 18851 06:4928: 65 03        	adc	<R0+2
 18852 06:492A: 85 0B        	sta	<R2+2
 18853 06:492C: A0 00 00     	ldy	#$0
 18854 06:492F: A7 09        	lda	[<R2]
 18855 06:4931: 10 01        	bpl	L896
 18856 06:4933: 88           	dey
 18857                        L896:
 18858 06:4934: 85 01        	sta	<R0
 18859 06:4936: 84 03        	sty	<R0+2
 18860 06:4938: D4 03        	pei	<R0+2
 18861 06:493A: D4 01        	pei	<R0
 18862 06:493C: A0 00 00     	ldy	#$0
 18863 06:493F: A5 1D        	lda	<L848+ncc_1
 18864 06:4941: 10 01        	bpl	L897
 18865 06:4943: 88           	dey
 18866                        L897:
 18867 06:4944: 85 05        	sta	<R1
 18868 06:4946: 84 07        	sty	<R1+2
 18869 06:4948: F4 00 00     	pea	#^$11
 18870 06:494B: F4 11 00     	pea	#<$11
 18871 06:494E: D4 07        	pei	<R1+2
 18872 06:4950: D4 05        	pei	<R1
 18873                        	xref	~~~lmul
 18874 06:4952: 22 xx xx xx  	jsl	~~~lmul
 18875 06:4956: 85 05        	sta	<R1
 18876 06:4958: 86 07        	stx	<R1+2
 18877 06:495A: 18           	clc
 18878 06:495B: A9 38 00     	lda	#$38
 18879 06:495E: 65 47        	adc	<L848+pWin_1
 18880 06:4960: 85 09        	sta	<R2
 18881 06:4962: A9 00 00     	lda	#$0
 18882 06:4965: 65 49        	adc	<L848+pWin_1+2
 18883 06:4967: 85 0B        	sta	<R2+2
 18884 06:4969: 18           	clc
 18885 06:496A: A5 09        	lda	<R2
 18886 06:496C: 65 05        	adc	<R1
 18887 06:496E: 85 0D        	sta	<R3
 18888 06:4970: A5 0B        	lda	<R2+2
 18889 06:4972: 65 07        	adc	<R1+2
 18890 06:4974: 85 0F        	sta	<R3+2
 18891 06:4976: A0 00 00     	ldy	#$0
  Mon Aug  9 2021 16:52                                                Page 347


 18892 06:4979: A7 0D        	lda	[<R3]
 18893 06:497B: 10 01        	bpl	L898
 18894 06:497D: 88           	dey
 18895                        L898:
 18896 06:497E: 85 05        	sta	<R1
 18897 06:4980: 84 07        	sty	<R1+2
 18898 06:4982: D4 07        	pei	<R1+2
 18899 06:4984: D4 05        	pei	<R1
 18900 06:4986: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 18901                        ;
 18902                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_RESIZE_WINDOW;
 18903                        	.line	2797
 18904 06:498A: A0 00 00     	ldy	#$0
 18905 06:498D: A5 1D        	lda	<L848+ncc_1
 18906 06:498F: 10 01        	bpl	L899
 18907 06:4991: 88           	dey
 18908                        L899:
 18909 06:4992: 85 01        	sta	<R0
 18910 06:4994: 84 03        	sty	<R0+2
 18911 06:4996: F4 00 00     	pea	#^$11
 18912 06:4999: F4 11 00     	pea	#<$11
 18913 06:499C: D4 03        	pei	<R0+2
 18914 06:499E: D4 01        	pei	<R0
 18915                        	xref	~~~lmul
 18916 06:49A0: 22 xx xx xx  	jsl	~~~lmul
 18917 06:49A4: 85 01        	sta	<R0
 18918 06:49A6: 86 03        	stx	<R0+2
 18919 06:49A8: 18           	clc
 18920 06:49A9: A9 46 00     	lda	#$46
 18921 06:49AC: 65 47        	adc	<L848+pWin_1
 18922 06:49AE: 85 05        	sta	<R1
 18923 06:49B0: A9 00 00     	lda	#$0
 18924 06:49B3: 65 49        	adc	<L848+pWin_1+2
 18925 06:49B5: 85 07        	sta	<R1+2
 18926 06:49B7: 18           	clc
 18927 06:49B8: A5 05        	lda	<R1
 18928 06:49BA: 65 01        	adc	<R0
 18929 06:49BC: 85 09        	sta	<R2
 18930 06:49BE: A5 07        	lda	<R1+2
 18931 06:49C0: 65 03        	adc	<R0+2
 18932 06:49C2: 85 0B        	sta	<R2+2
 18933 06:49C4: A9 0F FB     	lda	#$fb0f
 18934 06:49C7: 87 09        	sta	[<R2]
 18935 06:49C9: E6 1D        	inc	<L848+ncc_1
 18936                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),-1,-1,-1,-1);
 18937                        	.line	2798
 18938 06:49CB: F4 FF FF     	pea	#<$ffffffff
 18939 06:49CE: F4 FF FF     	pea	#<$ffffffff
 18940 06:49D1: F4 FF FF     	pea	#<$ffffffff
 18941 06:49D4: F4 FF FF     	pea	#<$ffffffff
 18942 06:49D7: A0 00 00     	ldy	#$0
 18943 06:49DA: A5 1D        	lda	<L848+ncc_1
 18944 06:49DC: 10 01        	bpl	L900
 18945 06:49DE: 88           	dey
 18946                        L900:
 18947 06:49DF: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 348


 18948 06:49E1: 84 03        	sty	<R0+2
 18949 06:49E3: F4 00 00     	pea	#^$11
 18950 06:49E6: F4 11 00     	pea	#<$11
 18951 06:49E9: D4 03        	pei	<R0+2
 18952 06:49EB: D4 01        	pei	<R0
 18953                        	xref	~~~lmul
 18954 06:49ED: 22 xx xx xx  	jsl	~~~lmul
 18955 06:49F1: 85 01        	sta	<R0
 18956 06:49F3: 86 03        	stx	<R0+2
 18957 06:49F5: 18           	clc
 18958 06:49F6: A9 38 00     	lda	#$38
 18959 06:49F9: 65 01        	adc	<R0
 18960 06:49FB: 85 05        	sta	<R1
 18961 06:49FD: A9 00 00     	lda	#$0
 18962 06:4A00: 65 03        	adc	<R0+2
 18963 06:4A02: 85 07        	sta	<R1+2
 18964 06:4A04: 18           	clc
 18965 06:4A05: A5 47        	lda	<L848+pWin_1
 18966 06:4A07: 65 05        	adc	<R1
 18967 06:4A09: 85 01        	sta	<R0
 18968 06:4A0B: A5 49        	lda	<L848+pWin_1+2
 18969 06:4A0D: 65 07        	adc	<R1+2
 18970 06:4A0F: 85 03        	sta	<R0+2
 18971 06:4A11: D4 03        	pei	<R0+2
 18972 06:4A13: D4 01        	pei	<R0
 18973 06:4A15: 22 06 06 06  	jsl	~~k_set_rect
 18974                        ;		}
 18975                        	.line	2799
 18976                        ;
 18977                        ;
 18978                        ;	}
 18979                        L10371:
 18980                        	.line	2802
 18981                        ;}
 18982                        L10347:
 18983                        	.line	2803
 18984 06:4A19: 82 89 F5     	brl	L851
 18985                        	.endblock	2803
 18986             0000004A   L847	equ	74
 18987             00000011   L848	equ	17
 18988 06:4A1C:              	ends
 18989                        	efunc
 18990                        	.endfunc	2803,17,74
 18991                        	.line	2803
 18992                        	data
 18993                        L842:
 18994 00:0850: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$44,$72,$61,$77,
                    $57,$69,$6E,$64,$6F
       00:0854: 69 5F 44 72 
       00:0858: 61 77 57 69 
       00:085C: 6E 64 6F 
 18995 00:085F: 77 3A 3A 4E  	db	$77,$3A,$3A,$4E,$4F,$54,$20,$52,$45,$4E,
                    $44,$45,$52,$49,$4E
       00:0863: 4F 54 20 52 
       00:0867: 45 4E 44 45 
       00:086B: 52 49 4E 
 18996 00:086E: 47 3A 00     	db	$47,$3A,$00
 18997 00:0871:              	ends
  Mon Aug  9 2021 16:52                                                Page 349


 18998                        ;
 18999                        ;#ifdef MOMMY
 19000                        ;void k_vdraw_ui_window_2(PWINDOW pWin,ULONG style
                    ,int cx,int cy,int height,int width,char FAR *title,int colo
                    r, int bgcolor,UINT page)
 19001                        ;{
 19002                        ;	FONTMETRIC metric;
 19003                        ;
 19004                        ;	int i = 0;
 19005                        ;	int odd = 1;
 19006                        ;	int borderColor = 0;
 19007                        ;	int borderTitle = 0;
 19008                        ;	int borderWidth = 0;
 19009                        ;
 19010                        ;	int titleOffsetX = 0;
 19011                        ;	int titleOffsetY = 0;
 19012                        ;	int titleScaler = 0;
 19013                        ;
 19014                        ;	int clientOffsetX = 0;
 19015                        ;	int clientOffsetY = 0;
 19016                        ;
 19017                        ;	int currX = 0;
 19018                        ;	int currY = 0;
 19019                        ;
 19020                        ;	int endX = 0;
 19021                        ;
 19022                        ;	int maxminPos = 0;
 19023                        ;
 19024                        ;	int ncc = 0;
 19025                        ;	int gx,gy,bx,by;
 19026                        ;
 19027                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 19028                        ;
 19029                        ;	RECT rect;
 19030                        ;
 19031                        ;	int extraStyle = (pWin->styleEx & FXWSX_CACHE_TI
                    TLE);
 19032                        ;	//k_debug_pointer("k_vdraw_ui_window:pWin:",pWin
                    );
 19033                        ;	/*
 19034                        ;	if(pWin->pParentWindow)
 19035                        ;	{
 19036                        ;		cx = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.x + cx;
 19037                        ;		cy = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.y + cy;
 19038                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 19039                        ;		k_debug_integer("k_vdraw_ui_window:cx:",
                    cx);
 19040                        ;		k_debug_integer("k_vdraw_ui_window:cy:",
                    cy);
 19041                        ;		k_debug_integer("k_vdraw_ui_window:width
                    :",width);
 19042                        ;		k_debug_integer("k_vdraw_ui_window:heigh
                    t:",height);
 19043                        ;	}
  Mon Aug  9 2021 16:52                                                Page 350


 19044                        ;	*/
 19045                        ;
 19046                        ;	/*
 19047                        ;	if(title)
 19048                        ;	{
 19049                        ;		title[32] = 0;
 19050                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 19051                        ;	}
 19052                        ;	else
 19053                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:","NULL");
 19054                        ;
 19055                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 19056                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 19057                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 19058                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 19059                        ;	k_debug_integer("k_vdraw_ui_window:page:",page);
 19060                        ;	k_debug_rect("k_vdraw_ui_window:client:",&pWin->
                    clientRect);
 19061                        ;	*/
 19062                        ;
 19063                        ;	//k_debug_rect("k_vdraw_ui_window:client:",&pWin
                    ->clientRect);
 19064                        ;
 19065                        ;
 19066                        ;	gx = k_user_getSystemMetric(SM_CXGADGET);
 19067                        ;	gy = k_user_getSystemMetric(SM_CYGADGET);
 19068                        ;	bx = k_user_getSystemMetric(SM_CXBORDER);
 19069                        ;	by = k_user_getSystemMetric(SM_CYBORDER);
 19070                        ;
 19071                        ;	titleOffsetX = cx+2;
 19072                        ;	titleOffsetY = cy+1;
 19073                        ;
 19074                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 19075                        ;
 19076                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 19077                        ;	{
 19078                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",title);
 19079                        ;		return;
 19080                        ;	}
 19081                        ;
 19082                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 19083                        ;
 19084                        ;	if(style & FXWS_THICKFRAME)
 19085                        ;	{
 19086                        ;		borderWidth = 2;
 19087                        ;	}
 19088                        ;	else if(style & FXWS_BORDER)
 19089                        ;	{
 19090                        ;		borderWidth = 1;
 19091                        ;	}
 19092                        ;	else if(style & FXWS_DLGFRAME)
 19093                        ;	{
  Mon Aug  9 2021 16:52                                                Page 351


 19094                        ;		borderWidth = 4;
 19095                        ;	}
 19096                        ;
 19097                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 19098                        ;	{
 19099                        ;		borderTitle = 10;
 19100                        ;	}
 19101                        ;
 19102                        ;	clientOffsetX = cx + borderWidth;
 19103                        ;
 19104                        ;	if(borderTitle)
 19105                        ;		clientOffsetY = cy + borderTitle;
 19106                        ;	else
 19107                        ;		clientOffsetY = cy + borderWidth;
 19108                        ;
 19109                        ;	currX = clientOffsetX;
 19110                        ;	currY = clientOffsetY;
 19111                        ;
 19112                        ;	endX = width + cx - borderWidth;
 19113                        ;	maxminPos = 0;
 19114                        ;
 19115                        ;	k_vdma_fill_rect_ex(cx,cy,width,height,bgcolor,p
                    age);
 19116                        ;
 19117                        ;
 19118                        ;	borderColor = color;
 19119                        ;	for(i=0;i<borderWidth;i++)
 19120                        ;	{
 19121                        ;		if(borderWidth > 2)
 19122                        ;		{
 19123                        ;			borderColor = color;
 19124                        ;			odd=!odd;
 19125                        ;			if(odd)
 19126                        ;			{
 19127                        ;				borderColor = 0;
 19128                        ;			}
 19129                        ;		}
 19130                        ;
 19131                        ;		k_draw_rect(cx + i + 0,
 19132                        ;					cy + i + 0,
 19133                        ;					cx + width  - 1 
                    - i,
 19134                        ;					cy + height - 1 
                    - i,
 19135                        ;					borderColor,
 19136                        ;					0,
 19137                        ;					page);
 19138                        ;
 19139                        ;	}
 19140                        ;
 19141                        ;
 19142                        ;
 19143                        ;	if(borderTitle)
 19144                        ;	{
 19145                        ;		k_vdma_fill_rect_ex(cx,cy,width,borderTi
                    tle,color,page);
  Mon Aug  9 2021 16:52                                                Page 352


 19146                        ;	}
 19147                        ;
 19148                        ;	k_get_font_metrics(&metric);
 19149                        ;
 19150                        ;
 19151                        ;	//title = strupr(title);
 19152                        ;
 19153                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 19154                        ;
 19155                        ;	if(style & FXWS_SYSMENU)
 19156                        ;	{
 19157                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),titleOffsetX,titleOffsetY,gx,gx);
 19158                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_WINDOW_CLOSE;
 19159                        ;
 19160                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 19161                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetC
                    olor(),page);
 19162                        ;
 19163                        ;	}
 19164                        ;
 19165                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 19166                        ;	{
 19167                        ;
 19168                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 19169                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 19170                        ;		titleScaler = (int)((width / metric.widt
                    h) - 1);
 19171                        ;
 19172                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler1:",titleScaler * 8);
 19173                        ;
 19174                        ;
 19175                        ;		//titleScaler = (width - (borderWidth * 
                    2));
 19176                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler2:",(width - (borderWidth * 2)));
 19177                        ;
 19178                        ;		/*
 19179                        ;		if(!k_gui_get_title_cache(NULL))
 19180                        ;		{
 19181                        ;			k_gui_build_title_cache(NULL);
 19182                        ;		}
 19183                        ;
 19184                        ;		if(k_gui_get_title_cache(NULL))
 19185                        ;		{
 19186                        ;			k_vdma_copy_address_ex((LPSTR)((
                    ULONG)0x080000 + k_gui_get_pixel_offset(titleOffsetX,titleOf
                    fsetY)),TITLE_LINES_640x480,titleScaler * 8,8);
 19187                        ;		}
 19188                        ;		else
 19189                        ;		{
  Mon Aug  9 2021 16:52                                                Page 353


 19190                        ;			k_gui_build_title_cache(NULL);
 19191                        ;			for(i=0;i<titleScaler;i++)
 19192                        ;			{
 19193                        ;				titleOffsetX+=k_put_wing
                    adget_point_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY
                    ,k_getUIGadgetColor(),page);
 19194                        ;			}
 19195                        ;		}
 19196                        ;
 19197                        ;		k_gui_build_title_cache(NULL);
 19198                        ;		*/
 19199                        ;
 19200                        ;		//
 19201                        ;		// set lines in title with blt
 19202                        ;		//
 19203                        ;		rect.x = titleOffsetX;
 19204                        ;		rect.y = titleOffsetY;
 19205                        ;		rect.width  = (titleScaler * 8)  - (bord
                    erWidth * 2);
 19206                        ;		rect.height = 8;
 19207                        ;		k_gui_get_image_cache(0,0x080000,&rect);
 19208                        ;		//
 19209                        ;		//
 19210                        ;		//
 19211                        ;
 19212                        ;
 19213                        ;		/*
 19214                        ;		for(i=0;i<titleScaler;i++)
 19215                        ;		{
 19216                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUI
                    GadgetColor(),page);
 19217                        ;		}
 19218                        ;		*/
 19219                        ;
 19220                        ;		//k_vdma_copy_address_ex((LPSTR)((ULONG)
                    0x080000 + k_gui_get_pixel_offset(0,440)),TITLE_LINES_640x48
                    0,titleScaler * 8,8);
 19221                        ;
 19222                        ;
 19223                        ;
 19224                        ;
 19225                        ;	}
 19226                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 19227                        ;	//titleOffsetX+=2;
 19228                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 19229                        ;
 19230                        ;	if(style & FXWS_MAXIMIZEBOX)
 19231                        ;	{
 19232                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 19233                        ;		maxminPos+=metric.width;
 19234                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 19235                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
  Mon Aug  9 2021 16:52                                                Page 354


                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 19236                        ;
 19237                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 19238                        ;		k_put_wingadget_point_ex(WINICON_TITLE_F
                    RONT,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page
                    );
 19239                        ;
 19240                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 19241                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MAX_WINDOW;
 19242                        ;
 19243                        ;		maxminPos+=2;
 19244                        ;	}
 19245                        ;
 19246                        ;	if(style & FXWS_MINIMIZEBOX)
 19247                        ;	{
 19248                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 19249                        ;		maxminPos+=metric.width;
 19250                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 19251                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 19252                        ;
 19253                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 19254                        ;		k_put_wingadget_point_ex(WINICON_TITLE_B
                    ACK,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 19255                        ;
 19256                        ;
 19257                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 19258                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MIN_WINDOW;
 19259                        ;
 19260                        ;		maxminPos+=2;
 19261                        ;	}
 19262                        ;
 19263                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 19264                        ;	{
 19265                        ;		/*
 19266                        ;		if(!k_gui_get_title_cache(NULL))
 19267                        ;		{
 19268                        ;			k_gui_build_title_cache(NULL);
 19269                        ;		}
 19270                        ;		*/
 19271                        ;		/*
 19272                        ;		for(i=0;i<=strlen(title);i++)
 19273                        ;		{
 19274                        ;			k_put_wingadget_point_ex(WINICON
  Mon Aug  9 2021 16:52                                                Page 355


                    _BLOCK,cx+borderWidth+metric.width+(metric.width*i),titleOff
                    setY,15,page);
 19275                        ;		}
 19276                        ;		*/
 19277                        ;		k_user_SetRect(&rect,cx+borderWidth+metr
                    ic.width,titleOffsetY,(strlen(title) + 1)*8,8);
 19278                        ;
 19279                        ;		if(extraStyle && pWin->clientData[CLIENT
                    DATA_TITLE])
 19280                        ;		{
 19281                        ;			//k_debug_strings("k_vdraw_ui_wi
                    ndow::CLIENTDATA_TITLE:","DRAW");
 19282                        ;			k_user_SetRect(&rect,cx+borderWi
                    dth+metric.width,titleOffsetY,(strlen(title) + 1)*8,8);
 19283                        ;			k_gui_get_image_cache((UINT)((UL
                    ONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BACK,&rect
                    );
 19284                        ;		}
 19285                        ;		else
 19286                        ;		{
 19287                        ;			k_debug_integer("k_vdraw_ui_wind
                    ow::CLIENTDATA_TITLE:",extraStyle);
 19288                        ;			k_vdma_fill_rect_ex(cx+borderWid
                    th+metric.width,titleOffsetY,
 19289                        ;							
                    	(strlen(title) + 1)*8,8,15,BITMAP_BACK);
 19290                        ;
 19291                        ;			k_draw_text_point_ex(title,cx+(b
                    orderWidth + 3)+metric.width,titleOffsetY,k_getUIGadgetColor
                    (),page);
 19292                        ;			if(extraStyle)
 19293                        ;			{
 19294                        ;				k_user_SetRect(&rect,cx+
                    borderWidth+metric.width,titleOffsetY,(strlen(title) + 1)*8,
                    8);
 19295                        ;				pWin->clientData[CLIENTD
                    ATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(GUI_CACHE
                    _BACK,&rect));
 19296                        ;
 19297                        ;				k_debug_pointer("k_vdraw
                    _ui_window::CLIENTDATA_TITLE:",pWin->clientData[CLIENTDATA_T
                    ITLE] );
 19298                        ;			}
 19299                        ;		}
 19300                        ;
 19301                        ;
 19302                        ;
 19303                        ;		/*
 19304                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,
                    640,8);
 19305                        ;
 19306                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    200000 + k_gui_get_pixel_offset(0,460)),
 19307                        ;							
                       (LPSTR)((ULONG)0x080000 + k_gui_get_pixel_offset(cx+(bord
                    erWidth + 3)+metric.width,titleOffsetY)),
 19308                        ;							
  Mon Aug  9 2021 16:52                                                Page 356


                       strlen(title)*8,8);
 19309                        ;
 19310                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(100,460)),
 19311                        ;							
                       (LPSTR)((ULONG)0x200000 + k_gui_get_pixel_offset(0,460)),
 19312                        ;							
                       strlen(title)*8,8);
 19313                        ;		*/
 19314                        ;
 19315                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 19316                        ;				   pWin->win_x + gx,
 19317                        ;				   pWin->win_y,
 19318                        ;				   pWin->win_width - gx,
 19319                        ;				   borderTitle);
 19320                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 19321                        ;
 19322                        ;	}
 19323                        ;	else
 19324                        ;	{
 19325                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 19326                        ;				   pWin->win_x + gx,
 19327                        ;				   pWin->win_y,
 19328                        ;				   pWin->win_width - gx,
 19329                        ;				   borderWidth);
 19330                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 19331                        ;	}
 19332                        ;
 19333                        ;	//k_debug_integer("k_vdraw_ui_window::(clientOff
                    setY - height):",(clientOffsetY - pWin->clientRect.y));
 19334                        ;	//k_debug_integer("k_vdraw_ui_window::((clientOf
                    fsetY - height) + borderWidth):",((clientOffsetY - pWin->cli
                    entRect.y) + borderWidth));
 19335                        ;
 19336                        ;	pWin->clientRect.width  = (width - (2*borderWidt
                    h));
 19337                        ;	pWin->clientRect.height = height - ((clientOffse
                    tY - pWin->clientRect.y) + borderWidth);
 19338                        ;
 19339                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.w
                    idth:", pWin->clientRect.width);
 19340                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.h
                    eight:",pWin->clientRect.height);
 19341                        ;
 19342                        ;
 19343                        ;	pWin->clientRect.x      = clientOffsetX;
 19344                        ;	pWin->clientRect.y      = clientOffsetY;
 19345                        ;
 19346                        ;	if(pWin->win_cxoffset == -1)
 19347                        ;	{
 19348                        ;		pWin->win_cxoffset 	= pWin->clientRe
                    ct.x - pWin->win_x;
 19349                        ;		pWin->win_cyoffset 	= pWin->clientRe
                    ct.y - pWin->win_y;
  Mon Aug  9 2021 16:52                                                Page 357


 19350                        ;	}
 19351                        ;
 19352                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),
 19353                        ;			   pWin->win_x + pWin->win_width
                      - 4,
 19354                        ;			   pWin->win_y + pWin->win_heigh
                    t - 4,
 19355                        ;			   4,
 19356                        ;			   4);
 19357                        ;	pWin->nonclientGadgets[ncc++].msgType = FX_RESIZ
                    E_WINDOW;
 19358                        ;
 19359                        ;
 19360                        ;	k_draw_rect(pWin->win_x - 1,
 19361                        ;				pWin->win_y - 1,
 19362                        ;				(pWin->win_x) + pWin->wi
                    n_width  ,
 19363                        ;				(pWin->win_y) + pWin->wi
                    n_height ,
 19364                        ;				k_getUIGadgetColor(),
 19365                        ;				0,
 19366                        ;				page);
 19367                        ;
 19368                        ;	k_draw_rect(pWin->clientRect.x - 1,
 19369                        ;				pWin->clientRect.y - 1,
 19370                        ;				pWin->clientRect.x + pWi
                    n->clientRect.width ,
 19371                        ;				pWin->clientRect.y + pWi
                    n->clientRect.height,
 19372                        ;				k_getUIGadgetColor(),
 19373                        ;				0,
 19374                        ;				page);
 19375                        ;	//k_debug_rect("k_vdraw_ui_window:client[resized
                    ]:",&pWin->clientRect);
 19376                        ;
 19377                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),-
                    1,-1,-1,-1);
 19378                        ;
 19379                        ;
 19380                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 19381                        ;}
 19382                        ;#endif
 19383                        ;
 19384                        ;void k_vdraw_ui_window_ex(PWINDOW pWin,ULONG styl
                    e,int cx,int cy,int height,int width,char FAR *title,int col
                    or, int bgcolor,UINT page)
 19385                        ;{
 19386                        	.line	3190
 19387                        	.line	3191
 19388                        	GFX
 19389                        	xdef	~~k_vdraw_ui_window_ex
 19390                        	func
 19391                        	.function	3191
 19392                        ~~k_vdraw_ui_window_ex:
 19393                        	longa	on
 19394                        	longi	on
 19395 06:4A1C: 3B           	tsc
 19396 06:4A1D: 38           	sec
  Mon Aug  9 2021 16:52                                                Page 358


 19397 06:4A1E: E9 48 00     	sbc	#L902
 19398 06:4A21: 1B           	tcs
 19399 06:4A22: 0B           	phd
 19400 06:4A23: 5B           	tcd
 19401             00000004   pWin_0	set	4
 19402             00000008   style_0	set	8
 19403             0000000C   cx_0	set	12
 19404             0000000E   cy_0	set	14
 19405             00000010   height_0	set	16
 19406             00000012   width_0	set	18
 19407             00000014   title_0	set	20
 19408             00000018   color_0	set	24
 19409             0000001A   bgcolor_0	set	26
 19410             0000001C   page_0	set	28
 19411                        	.block	3191
 19412                        ;
 19413                        ;	//TODO: FXWS_DLGFRAME is broken
 19414                        ;
 19415                        ;	FONTMETRIC metric;
 19416                        ;	
 19417                        ;	int i = 0;
 19418                        ;	int odd = 1;
 19419                        ;	int borderColor = 0;
 19420                        ;	int borderTitle = 0;
 19421                        ;	int borderWidth = 0;
 19422                        ;
 19423                        ;	int titleOffsetX = 0;
 19424                        ;	int titleOffsetY = 0;
 19425                        ;	int titleScaler = 0;
 19426                        ;	
 19427                        ;	int clientOffsetX = 0;
 19428                        ;	int clientOffsetY = 0;
 19429                        ;	
 19430                        ;	int currX = 0;
 19431                        ;	int currY = 0;
 19432                        ;	
 19433                        ;	int endX = 0;
 19434                        ;	
 19435                        ;	int maxminPos = 0;
 19436                        ;
 19437                        ;	int ncc = 0;
 19438                        ;	int gx,gy,bx,by;
 19439                        ;
 19440                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 19441                        ;
 19442                        ;	RECT rect;
 19443                        ;
 19444                        ;	int extraStyle = (pWin->styleEx & FXWSX_CACHE_TI
                    TLE);
 19445                        ;	//k_debug_pointer("k_vdraw_ui_window:pWin:",pWin
                    );
 19446                        ;	/*
 19447                        ;	if(pWin->pParentWindow)
 19448                        ;	{
 19449                        ;		cx = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.x + cx;
 19450                        ;		cy = k_getWindowFromHandle(pWin->pParent
  Mon Aug  9 2021 16:52                                                Page 359


                    Window)->clientRect.y + cy;
 19451                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 19452                        ;		k_debug_integer("k_vdraw_ui_window:cx:",
                    cx);
 19453                        ;		k_debug_integer("k_vdraw_ui_window:cy:",
                    cy);
 19454                        ;		k_debug_integer("k_vdraw_ui_window:width
                    :",width);
 19455                        ;		k_debug_integer("k_vdraw_ui_window:heigh
                    t:",height);
 19456                        ;	}
 19457                        ;	*/
 19458                        ;
 19459                        ;	/*
 19460                        ;	if(title)
 19461                        ;	{
 19462                        ;		title[32] = 0;
 19463                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 19464                        ;	}
 19465                        ;	else
 19466                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:","NULL");
 19467                        ;
 19468                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 19469                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 19470                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 19471                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 19472                        ;	k_debug_integer("k_vdraw_ui_window:page:",page);
 19473                        ;	k_debug_rect("k_vdraw_ui_window:client:",&pWin->
                    clientRect);
 19474                        ;	*/
 19475                        ;
 19476                        ;	//k_debug_rect("k_vdraw_ui_window:client:",&pWin
                    ->clientRect);
 19477                        ;
 19478                        ;
 19479                        ;	gx = k_user_getSystemMetric(SM_CXGADGET);
 19480             00000000   metric_1	set	0
 19481             00000004   i_1	set	4
 19482             00000006   odd_1	set	6
 19483             00000008   borderColor_1	set	8
 19484             0000000A   borderTitle_1	set	10
 19485             0000000C   borderWidth_1	set	12
 19486             0000000E   titleOffsetX_1	set	14
 19487             00000010   titleOffsetY_1	set	16
 19488             00000012   titleScaler_1	set	18
 19489             00000014   clientOffsetX_1	set	20
 19490             00000016   clientOffsetY_1	set	22
 19491             00000018   currX_1	set	24
 19492             0000001A   currY_1	set	26
 19493             0000001C   endX_1	set	28
 19494             0000001E   maxminPos_1	set	30
 19495             00000020   ncc_1	set	32
 19496             00000022   gx_1	set	34
  Mon Aug  9 2021 16:52                                                Page 360


 19497             00000024   gy_1	set	36
 19498             00000026   bx_1	set	38
 19499             00000028   by_1	set	40
 19500             0000002A   fillOffset_1	set	42
 19501             0000002C   rect_1	set	44
 19502             0000003A   extraStyle_1	set	58
 19503                        	.sym	metric,0,10,1,32,35
 19504                        	.sym	i,4,5,1,16
 19505                        	.sym	odd,6,5,1,16
 19506                        	.sym	borderColor,8,5,1,16
 19507                        	.sym	borderTitle,10,5,1,16
 19508                        	.sym	borderWidth,12,5,1,16
 19509                        	.sym	titleOffsetX,14,5,1,16
 19510                        	.sym	titleOffsetY,16,5,1,16
 19511                        	.sym	titleScaler,18,5,1,16
 19512                        	.sym	clientOffsetX,20,5,1,16
 19513                        	.sym	clientOffsetY,22,5,1,16
 19514                        	.sym	currX,24,5,1,16
 19515                        	.sym	currY,26,5,1,16
 19516                        	.sym	endX,28,5,1,16
 19517                        	.sym	maxminPos,30,5,1,16
 19518                        	.sym	ncc,32,5,1,16
 19519                        	.sym	gx,34,5,1,16
 19520                        	.sym	gy,36,5,1,16
 19521                        	.sym	bx,38,5,1,16
 19522                        	.sym	by,40,5,1,16
 19523                        	.sym	fillOffset,42,5,1,16
 19524                        	.sym	rect,44,10,1,112,26
 19525                        	.sym	extraStyle,58,5,1,16
 19526                        	.sym	pWin,4,138,6,32,33
 19527                        	.sym	style,8,18,6,32
 19528                        	.sym	cx,12,5,6,16
 19529                        	.sym	cy,14,5,6,16
 19530                        	.sym	height,16,5,6,16
 19531                        	.sym	width,18,5,6,16
 19532                        	.sym	title,20,142,6,32
 19533                        	.sym	color,24,5,6,16
 19534                        	.sym	bgcolor,26,5,6,16
 19535                        	.sym	page,28,16,6,16
 19536 06:4A24: 64 11        	stz	<L903+i_1
 19537 06:4A26: A9 01 00     	lda	#$1
 19538 06:4A29: 85 13        	sta	<L903+odd_1
 19539 06:4A2B: 64 15        	stz	<L903+borderColor_1
 19540 06:4A2D: 64 17        	stz	<L903+borderTitle_1
 19541 06:4A2F: 64 19        	stz	<L903+borderWidth_1
 19542 06:4A31: 64 1B        	stz	<L903+titleOffsetX_1
 19543 06:4A33: 64 1D        	stz	<L903+titleOffsetY_1
 19544 06:4A35: 64 1F        	stz	<L903+titleScaler_1
 19545 06:4A37: 64 21        	stz	<L903+clientOffsetX_1
 19546 06:4A39: 64 23        	stz	<L903+clientOffsetY_1
 19547 06:4A3B: 64 25        	stz	<L903+currX_1
 19548 06:4A3D: 64 27        	stz	<L903+currY_1
 19549 06:4A3F: 64 29        	stz	<L903+endX_1
 19550 06:4A41: 64 2B        	stz	<L903+maxminPos_1
 19551 06:4A43: 64 2D        	stz	<L903+ncc_1
 19552 06:4A45: A9 02 00     	lda	#$2
 19553 06:4A48: 85 37        	sta	<L903+fillOffset_1
 19554 06:4A4A: A0 06 00     	ldy	#$6
  Mon Aug  9 2021 16:52                                                Page 361


 19555 06:4A4D: B7 4C        	lda	[<L902+pWin_0],Y
 19556 06:4A4F: 29 02 00     	and	#<$2
 19557 06:4A52: 85 01        	sta	<R0
 19558 06:4A54: 64 03        	stz	<R0+2
 19559 06:4A56: A5 01        	lda	<R0
 19560 06:4A58: 85 47        	sta	<L903+extraStyle_1
 19561                        	.line	3259
 19562 06:4A5A: F4 18 00     	pea	#<$18
 19563 06:4A5D: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 19564 06:4A61: 85 2F        	sta	<L903+gx_1
 19565                        ;	gy = k_user_getSystemMetric(SM_CYGADGET);
 19566                        	.line	3260
 19567 06:4A63: F4 19 00     	pea	#<$19
 19568 06:4A66: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 19569 06:4A6A: 85 31        	sta	<L903+gy_1
 19570                        ;	bx = k_user_getSystemMetric(SM_CXBORDER);
 19571                        	.line	3261
 19572 06:4A6C: F4 05 00     	pea	#<$5
 19573 06:4A6F: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 19574 06:4A73: 85 33        	sta	<L903+bx_1
 19575                        ;	by = k_user_getSystemMetric(SM_CYBORDER);
 19576                        	.line	3262
 19577 06:4A75: F4 06 00     	pea	#<$6
 19578 06:4A78: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 19579 06:4A7C: 85 35        	sta	<L903+by_1
 19580                        ;
 19581                        ;	titleOffsetX = cx+2;
 19582                        	.line	3264
 19583 06:4A7E: 18           	clc
 19584 06:4A7F: A9 02 00     	lda	#$2
 19585 06:4A82: 65 54        	adc	<L902+cx_0
 19586 06:4A84: 85 1B        	sta	<L903+titleOffsetX_1
 19587                        ;	titleOffsetY = cy+1;
 19588                        	.line	3265
 19589 06:4A86: A5 56        	lda	<L902+cy_0
 19590 06:4A88: 1A           	ina
 19591 06:4A89: 85 1D        	sta	<L903+titleOffsetY_1
 19592                        ;
 19593                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 19594                        ;
 19595                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 19596                        	.line	3269
 19597                        ;	{
 19598 06:4A8B: 82 1E 00     	brl	L10372
 19599                        	.line	3270
 19600                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",title);
 19601                        	.line	3271
 19602 06:4A8E: D4 5E        	pei	<L902+title_0+2
 19603 06:4A90: D4 5C        	pei	<L902+title_0
 19604 06:4A92: F4 xx xx     	pea	#^L901
 19605 06:4A95: F4 xx xx     	pea	#<L901
 19606 06:4A98: 22 xx xx xx  	jsl	~~k_debug_strings
 19607                        ;		return;
 19608                        	.line	3272
 19609                        L905:
 19610 06:4A9C: A5 4A        	lda	<L902+2
 19611 06:4A9E: 85 64        	sta	<L902+2+26
  Mon Aug  9 2021 16:52                                                Page 362


 19612 06:4AA0: A5 49        	lda	<L902+1
 19613 06:4AA2: 85 63        	sta	<L902+1+26
 19614 06:4AA4: 2B           	pld
 19615 06:4AA5: 3B           	tsc
 19616 06:4AA6: 18           	clc
 19617 06:4AA7: 69 62 00     	adc	#L902+26
 19618 06:4AAA: 1B           	tcs
 19619 06:4AAB: 6B           	rtl
 19620                        ;	}
 19621                        	.line	3273
 19622                        ;
 19623                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 19624                        ;
 19625                        ;	if(style & FXWS_THICKFRAME)
 19626                        L10372:
 19627                        	.line	3277
 19628                        ;	{
 19629 06:4AAC: A5 52        	lda	<L902+style_0+2
 19630 06:4AAE: 29 02 00     	and	#^$20000
 19631 06:4AB1: D0 03        	bne	L906
 19632 06:4AB3: 82 08 00     	brl	L10373
 19633                        L906:
 19634                        	.line	3278
 19635                        ;		borderWidth = 2;
 19636                        	.line	3279
 19637 06:4AB6: A9 02 00     	lda	#$2
 19638 06:4AB9: 85 19        	sta	<L903+borderWidth_1
 19639                        ;	}
 19640                        	.line	3280
 19641                        ;	else if(style & FXWS_BORDER)
 19642 06:4ABB: 82 21 00     	brl	L10374
 19643                        L10373:
 19644                        	.line	3281
 19645                        ;	{
 19646 06:4ABE: A5 52        	lda	<L902+style_0+2
 19647 06:4AC0: 29 01 00     	and	#^$10000
 19648 06:4AC3: D0 03        	bne	L907
 19649 06:4AC5: 82 08 00     	brl	L10375
 19650                        L907:
 19651                        	.line	3282
 19652                        ;		borderWidth = 1;
 19653                        	.line	3283
 19654 06:4AC8: A9 01 00     	lda	#$1
 19655 06:4ACB: 85 19        	sta	<L903+borderWidth_1
 19656                        ;	}
 19657                        	.line	3284
 19658                        ;	else if(style & FXWS_DLGFRAME)
 19659 06:4ACD: 82 0F 00     	brl	L10376
 19660                        L10375:
 19661                        	.line	3285
 19662                        ;	{
 19663 06:4AD0: A5 52        	lda	<L902+style_0+2
 19664 06:4AD2: 29 04 00     	and	#^$40000
 19665 06:4AD5: D0 03        	bne	L908
 19666 06:4AD7: 82 05 00     	brl	L10377
 19667                        L908:
 19668                        	.line	3286
  Mon Aug  9 2021 16:52                                                Page 363


 19669                        ;		borderWidth = 4;
 19670                        	.line	3287
 19671 06:4ADA: A9 04 00     	lda	#$4
 19672 06:4ADD: 85 19        	sta	<L903+borderWidth_1
 19673                        ;	}
 19674                        	.line	3288
 19675                        ;
 19676                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 19677                        L10377:
 19678                        L10376:
 19679                        L10374:
 19680                        	.line	3290
 19681                        ;	{
 19682 06:4ADF: A5 50        	lda	<L902+style_0
 19683 06:4AE1: 29 04 00     	and	#<$4
 19684 06:4AE4: 85 01        	sta	<R0
 19685 06:4AE6: 64 03        	stz	<R0+2
 19686 06:4AE8: A5 01        	lda	<R0
 19687 06:4AEA: C9 04 00     	cmp	#<$4
 19688 06:4AED: D0 05        	bne	L910
 19689 06:4AEF: A5 03        	lda	<R0+2
 19690 06:4AF1: C9 00 00     	cmp	#^$4
 19691                        L910:
 19692 06:4AF4: D0 03        	bne	L911
 19693 06:4AF6: 82 1E 00     	brl	L909
 19694                        L911:
 19695 06:4AF9: A5 50        	lda	<L902+style_0
 19696 06:4AFB: 29 08 00     	and	#<$8
 19697 06:4AFE: F0 03        	beq	L912
 19698 06:4B00: 82 14 00     	brl	L909
 19699                        L912:
 19700 06:4B03: A5 50        	lda	<L902+style_0
 19701 06:4B05: 29 20 00     	and	#<$20
 19702 06:4B08: F0 03        	beq	L913
 19703 06:4B0A: 82 0A 00     	brl	L909
 19704                        L913:
 19705 06:4B0D: A5 50        	lda	<L902+style_0
 19706 06:4B0F: 29 10 00     	and	#<$10
 19707 06:4B12: D0 03        	bne	L914
 19708 06:4B14: 82 05 00     	brl	L10378
 19709                        L914:
 19710                        L909:
 19711                        	.line	3291
 19712                        ;		borderTitle = 10;
 19713                        	.line	3292
 19714 06:4B17: A9 0A 00     	lda	#$a
 19715 06:4B1A: 85 17        	sta	<L903+borderTitle_1
 19716                        ;	}
 19717                        	.line	3293
 19718                        ;
 19719                        ;	clientOffsetX = cx + borderWidth;
 19720                        L10378:
 19721                        	.line	3295
 19722 06:4B1C: 18           	clc
 19723 06:4B1D: A5 54        	lda	<L902+cx_0
 19724 06:4B1F: 65 19        	adc	<L903+borderWidth_1
  Mon Aug  9 2021 16:52                                                Page 364


 19725 06:4B21: 85 21        	sta	<L903+clientOffsetX_1
 19726                        ;
 19727                        ;	if(borderTitle)
 19728                        	.line	3297
 19729                        ;		clientOffsetY = cy + borderTitle;
 19730 06:4B23: A5 17        	lda	<L903+borderTitle_1
 19731 06:4B25: D0 03        	bne	L915
 19732 06:4B27: 82 0A 00     	brl	L10379
 19733                        L915:
 19734                        	.line	3298
 19735 06:4B2A: 18           	clc
 19736 06:4B2B: A5 56        	lda	<L902+cy_0
 19737 06:4B2D: 65 17        	adc	<L903+borderTitle_1
 19738 06:4B2F: 85 23        	sta	<L903+clientOffsetY_1
 19739                        ;	else
 19740 06:4B31: 82 07 00     	brl	L10380
 19741                        L10379:
 19742                        ;		clientOffsetY = cy + borderWidth;
 19743                        	.line	3300
 19744 06:4B34: 18           	clc
 19745 06:4B35: A5 56        	lda	<L902+cy_0
 19746 06:4B37: 65 19        	adc	<L903+borderWidth_1
 19747 06:4B39: 85 23        	sta	<L903+clientOffsetY_1
 19748                        L10380:
 19749                        ;
 19750                        ;	currX = clientOffsetX;
 19751                        	.line	3302
 19752 06:4B3B: A5 21        	lda	<L903+clientOffsetX_1
 19753 06:4B3D: 85 25        	sta	<L903+currX_1
 19754                        ;	currY = clientOffsetY;
 19755                        	.line	3303
 19756 06:4B3F: A5 23        	lda	<L903+clientOffsetY_1
 19757 06:4B41: 85 27        	sta	<L903+currY_1
 19758                        ;
 19759                        ;	endX = width + cx - borderWidth;
 19760                        	.line	3305
 19761 06:4B43: 18           	clc
 19762 06:4B44: A5 5A        	lda	<L902+width_0
 19763 06:4B46: 65 54        	adc	<L902+cx_0
 19764 06:4B48: 85 01        	sta	<R0
 19765 06:4B4A: 38           	sec
 19766 06:4B4B: A5 01        	lda	<R0
 19767 06:4B4D: E5 19        	sbc	<L903+borderWidth_1
 19768 06:4B4F: 85 29        	sta	<L903+endX_1
 19769                        ;	maxminPos = 0;
 19770                        	.line	3306
 19771 06:4B51: 64 2B        	stz	<L903+maxminPos_1
 19772                        ;
 19773                        ;	k_vdma_fill_rect_ex(cx,cy,width,height,bgcolor,p
                    age);
 19774                        	.line	3308
 19775 06:4B53: D4 64        	pei	<L902+page_0
 19776 06:4B55: D4 62        	pei	<L902+bgcolor_0
 19777 06:4B57: D4 58        	pei	<L902+height_0
 19778 06:4B59: D4 5A        	pei	<L902+width_0
 19779 06:4B5B: A0 00 00     	ldy	#$0
 19780 06:4B5E: A5 56        	lda	<L902+cy_0
 19781 06:4B60: 10 01        	bpl	L916
  Mon Aug  9 2021 16:52                                                Page 365


 19782 06:4B62: 88           	dey
 19783                        L916:
 19784 06:4B63: 85 01        	sta	<R0
 19785 06:4B65: 84 03        	sty	<R0+2
 19786 06:4B67: D4 03        	pei	<R0+2
 19787 06:4B69: D4 01        	pei	<R0
 19788 06:4B6B: A0 00 00     	ldy	#$0
 19789 06:4B6E: A5 54        	lda	<L902+cx_0
 19790 06:4B70: 10 01        	bpl	L917
 19791 06:4B72: 88           	dey
 19792                        L917:
 19793 06:4B73: 85 05        	sta	<R1
 19794 06:4B75: 84 07        	sty	<R1+2
 19795 06:4B77: D4 07        	pei	<R1+2
 19796 06:4B79: D4 05        	pei	<R1
 19797 06:4B7B: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 19798                        ;
 19799                        ;
 19800                        ;	borderColor = color;
 19801                        	.line	3311
 19802 06:4B7F: A5 60        	lda	<L902+color_0
 19803 06:4B81: 85 15        	sta	<L903+borderColor_1
 19804                        ;	for(i=0;i<borderWidth;i++)
 19805                        	.line	3312
 19806 06:4B83: 64 11        	stz	<L903+i_1
 19807 06:4B85: 82 6F 00     	brl	L10384
 19808                        L10383:
 19809                        ;	{
 19810                        	.line	3313
 19811                        ;		if(borderWidth > 2)
 19812                        	.line	3314
 19813                        ;		{
 19814 06:4B88: 38           	sec
 19815 06:4B89: A9 02 00     	lda	#$2
 19816 06:4B8C: E5 19        	sbc	<L903+borderWidth_1
 19817 06:4B8E: 70 03        	bvs	L918
 19818 06:4B90: 49 00 80     	eor	#$8000
 19819                        L918:
 19820 06:4B93: 10 03        	bpl	L919
 19821 06:4B95: 82 1C 00     	brl	L10385
 19822                        L919:
 19823                        	.line	3315
 19824                        ;			borderColor = color;
 19825                        	.line	3316
 19826 06:4B98: A5 60        	lda	<L902+color_0
 19827 06:4B9A: 85 15        	sta	<L903+borderColor_1
 19828                        ;			odd=!odd;
 19829                        	.line	3317
 19830 06:4B9C: 64 01        	stz	<R0
 19831 06:4B9E: A5 13        	lda	<L903+odd_1
 19832 06:4BA0: F0 03        	beq	L921
 19833 06:4BA2: 82 02 00     	brl	L920
 19834                        L921:
 19835 06:4BA5: E6 01        	inc	<R0
 19836                        L920:
 19837 06:4BA7: A5 01        	lda	<R0
 19838 06:4BA9: 85 13        	sta	<L903+odd_1
 19839                        ;			if(odd)
  Mon Aug  9 2021 16:52                                                Page 366


 19840                        	.line	3318
 19841                        ;			{
 19842 06:4BAB: A5 13        	lda	<L903+odd_1
 19843 06:4BAD: D0 03        	bne	L922
 19844 06:4BAF: 82 02 00     	brl	L10386
 19845                        L922:
 19846                        	.line	3319
 19847                        ;				borderColor = 0;
 19848                        	.line	3320
 19849 06:4BB2: 64 15        	stz	<L903+borderColor_1
 19850                        ;			}
 19851                        	.line	3321
 19852                        ;		}
 19853                        L10386:
 19854                        	.line	3322
 19855                        ;
 19856                        ;		k_draw_rect(cx + i + 0,
 19857                        L10385:
 19858                        	.line	3324
 19859                        ;					cy + i + 0,
 19860                        ;					cx + width  - 1 
                    - i,
 19861                        ;					cy + height - 1 
                    - i,
 19862                        ;					borderColor,
 19863                        ;					0,
 19864                        ;					page);
 19865 06:4BB4: D4 64        	pei	<L902+page_0
 19866 06:4BB6: F4 00 00     	pea	#<$0
 19867 06:4BB9: D4 15        	pei	<L903+borderColor_1
 19868 06:4BBB: 18           	clc
 19869 06:4BBC: A5 56        	lda	<L902+cy_0
 19870 06:4BBE: 65 58        	adc	<L902+height_0
 19871 06:4BC0: 85 01        	sta	<R0
 19872 06:4BC2: 18           	clc
 19873 06:4BC3: A9 FF FF     	lda	#$ffff
 19874 06:4BC6: 65 01        	adc	<R0
 19875 06:4BC8: 85 05        	sta	<R1
 19876 06:4BCA: 38           	sec
 19877 06:4BCB: A5 05        	lda	<R1
 19878 06:4BCD: E5 11        	sbc	<L903+i_1
 19879 06:4BCF: 48           	pha
 19880 06:4BD0: 18           	clc
 19881 06:4BD1: A5 54        	lda	<L902+cx_0
 19882 06:4BD3: 65 5A        	adc	<L902+width_0
 19883 06:4BD5: 85 01        	sta	<R0
 19884 06:4BD7: 18           	clc
 19885 06:4BD8: A9 FF FF     	lda	#$ffff
 19886 06:4BDB: 65 01        	adc	<R0
 19887 06:4BDD: 85 05        	sta	<R1
 19888 06:4BDF: 38           	sec
 19889 06:4BE0: A5 05        	lda	<R1
 19890 06:4BE2: E5 11        	sbc	<L903+i_1
 19891 06:4BE4: 48           	pha
 19892 06:4BE5: 18           	clc
 19893 06:4BE6: A5 56        	lda	<L902+cy_0
 19894 06:4BE8: 65 11        	adc	<L903+i_1
 19895 06:4BEA: 48           	pha
  Mon Aug  9 2021 16:52                                                Page 367


 19896 06:4BEB: 18           	clc
 19897 06:4BEC: A5 54        	lda	<L902+cx_0
 19898 06:4BEE: 65 11        	adc	<L903+i_1
 19899 06:4BF0: 48           	pha
 19900 06:4BF1: 22 D8 1D 06  	jsl	~~k_draw_rect
 19901                        ;
 19902                        ;	}
 19903                        	.line	3332
 19904                        L10381:
 19905 06:4BF5: E6 11        	inc	<L903+i_1
 19906                        L10384:
 19907 06:4BF7: 38           	sec
 19908 06:4BF8: A5 11        	lda	<L903+i_1
 19909 06:4BFA: E5 19        	sbc	<L903+borderWidth_1
 19910 06:4BFC: 70 03        	bvs	L923
 19911 06:4BFE: 49 00 80     	eor	#$8000
 19912                        L923:
 19913 06:4C01: 30 03        	bmi	L924
 19914 06:4C03: 82 82 FF     	brl	L10383
 19915                        L924:
 19916                        L10382:
 19917                        ;
 19918                        ;
 19919                        ;
 19920                        ;	if(borderTitle)
 19921                        	.line	3336
 19922                        ;	{
 19923 06:4C06: A5 17        	lda	<L903+borderTitle_1
 19924 06:4C08: D0 03        	bne	L925
 19925 06:4C0A: 82 2C 00     	brl	L10387
 19926                        L925:
 19927                        	.line	3337
 19928                        ;		k_vdma_fill_rect_ex(cx,cy,width,borderTi
                    tle,color,page);
 19929                        	.line	3338
 19930 06:4C0D: D4 64        	pei	<L902+page_0
 19931 06:4C0F: D4 60        	pei	<L902+color_0
 19932 06:4C11: D4 17        	pei	<L903+borderTitle_1
 19933 06:4C13: D4 5A        	pei	<L902+width_0
 19934 06:4C15: A0 00 00     	ldy	#$0
 19935 06:4C18: A5 56        	lda	<L902+cy_0
 19936 06:4C1A: 10 01        	bpl	L926
 19937 06:4C1C: 88           	dey
 19938                        L926:
 19939 06:4C1D: 85 01        	sta	<R0
 19940 06:4C1F: 84 03        	sty	<R0+2
 19941 06:4C21: D4 03        	pei	<R0+2
 19942 06:4C23: D4 01        	pei	<R0
 19943 06:4C25: A0 00 00     	ldy	#$0
 19944 06:4C28: A5 54        	lda	<L902+cx_0
 19945 06:4C2A: 10 01        	bpl	L927
 19946 06:4C2C: 88           	dey
 19947                        L927:
 19948 06:4C2D: 85 05        	sta	<R1
 19949 06:4C2F: 84 07        	sty	<R1+2
 19950 06:4C31: D4 07        	pei	<R1+2
 19951 06:4C33: D4 05        	pei	<R1
 19952 06:4C35: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
  Mon Aug  9 2021 16:52                                                Page 368


 19953                        ;	}
 19954                        	.line	3339
 19955                        ;
 19956                        ;	k_get_font_metrics(&metric);
 19957                        L10387:
 19958                        	.line	3341
 19959 06:4C39: F4 00 00     	pea	#0
 19960 06:4C3C: 18           	clc
 19961 06:4C3D: 7B           	tdc
 19962 06:4C3E: 69 0D 00     	adc	#<L903+metric_1
 19963 06:4C41: 48           	pha
 19964 06:4C42: 22 B8 23 06  	jsl	~~k_get_font_metrics
 19965                        ;	
 19966                        ;	
 19967                        ;	//title = strupr(title);
 19968                        ;	
 19969                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 19970                        ;
 19971                        ;	if(style & FXWS_SYSMENU)
 19972                        	.line	3348
 19973                        ;	{
 19974 06:4C46: A5 50        	lda	<L902+style_0
 19975 06:4C48: 29 08 00     	and	#<$8
 19976 06:4C4B: D0 03        	bne	L928
 19977 06:4C4D: 82 A6 00     	brl	L10388
 19978                        L928:
 19979                        	.line	3349
 19980                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),titleOffsetX,titleOffsetY,gx,gx);
 19981                        	.line	3350
 19982 06:4C50: D4 2F        	pei	<L903+gx_1
 19983 06:4C52: D4 2F        	pei	<L903+gx_1
 19984 06:4C54: D4 1D        	pei	<L903+titleOffsetY_1
 19985 06:4C56: D4 1B        	pei	<L903+titleOffsetX_1
 19986 06:4C58: A0 00 00     	ldy	#$0
 19987 06:4C5B: A5 2D        	lda	<L903+ncc_1
 19988 06:4C5D: 10 01        	bpl	L929
 19989 06:4C5F: 88           	dey
 19990                        L929:
 19991 06:4C60: 85 01        	sta	<R0
 19992 06:4C62: 84 03        	sty	<R0+2
 19993 06:4C64: F4 00 00     	pea	#^$11
 19994 06:4C67: F4 11 00     	pea	#<$11
 19995 06:4C6A: D4 03        	pei	<R0+2
 19996 06:4C6C: D4 01        	pei	<R0
 19997                        	xref	~~~lmul
 19998 06:4C6E: 22 xx xx xx  	jsl	~~~lmul
 19999 06:4C72: 85 01        	sta	<R0
 20000 06:4C74: 86 03        	stx	<R0+2
 20001 06:4C76: 18           	clc
 20002 06:4C77: A9 38 00     	lda	#$38
 20003 06:4C7A: 65 01        	adc	<R0
 20004 06:4C7C: 85 05        	sta	<R1
 20005 06:4C7E: A9 00 00     	lda	#$0
 20006 06:4C81: 65 03        	adc	<R0+2
 20007 06:4C83: 85 07        	sta	<R1+2
 20008 06:4C85: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 369


 20009 06:4C86: A5 4C        	lda	<L902+pWin_0
 20010 06:4C88: 65 05        	adc	<R1
 20011 06:4C8A: 85 01        	sta	<R0
 20012 06:4C8C: A5 4E        	lda	<L902+pWin_0+2
 20013 06:4C8E: 65 07        	adc	<R1+2
 20014 06:4C90: 85 03        	sta	<R0+2
 20015 06:4C92: D4 03        	pei	<R0+2
 20016 06:4C94: D4 01        	pei	<R0
 20017 06:4C96: 22 06 06 06  	jsl	~~k_set_rect
 20018                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_WINDOW_CLOSE;
 20019                        	.line	3351
 20020 06:4C9A: A0 00 00     	ldy	#$0
 20021 06:4C9D: A5 2D        	lda	<L903+ncc_1
 20022 06:4C9F: 10 01        	bpl	L930
 20023 06:4CA1: 88           	dey
 20024                        L930:
 20025 06:4CA2: 85 01        	sta	<R0
 20026 06:4CA4: 84 03        	sty	<R0+2
 20027 06:4CA6: F4 00 00     	pea	#^$11
 20028 06:4CA9: F4 11 00     	pea	#<$11
 20029 06:4CAC: D4 03        	pei	<R0+2
 20030 06:4CAE: D4 01        	pei	<R0
 20031                        	xref	~~~lmul
 20032 06:4CB0: 22 xx xx xx  	jsl	~~~lmul
 20033 06:4CB4: 85 01        	sta	<R0
 20034 06:4CB6: 86 03        	stx	<R0+2
 20035 06:4CB8: 18           	clc
 20036 06:4CB9: A9 46 00     	lda	#$46
 20037 06:4CBC: 65 4C        	adc	<L902+pWin_0
 20038 06:4CBE: 85 05        	sta	<R1
 20039 06:4CC0: A9 00 00     	lda	#$0
 20040 06:4CC3: 65 4E        	adc	<L902+pWin_0+2
 20041 06:4CC5: 85 07        	sta	<R1+2
 20042 06:4CC7: 18           	clc
 20043 06:4CC8: A5 05        	lda	<R1
 20044 06:4CCA: 65 01        	adc	<R0
 20045 06:4CCC: 85 09        	sta	<R2
 20046 06:4CCE: A5 07        	lda	<R1+2
 20047 06:4CD0: 65 03        	adc	<R0+2
 20048 06:4CD2: 85 0B        	sta	<R2+2
 20049 06:4CD4: A9 FF FB     	lda	#$fbff
 20050 06:4CD7: 87 09        	sta	[<R2]
 20051 06:4CD9: E6 2D        	inc	<L903+ncc_1
 20052                        ;
 20053                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 20054                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetC
                    olor(),page);
 20055                        	.line	3354
 20056 06:4CDB: D4 64        	pei	<L902+page_0
 20057 06:4CDD: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 20058 06:4CE1: 48           	pha
 20059 06:4CE2: D4 1D        	pei	<L903+titleOffsetY_1
 20060 06:4CE4: D4 1B        	pei	<L903+titleOffsetX_1
 20061 06:4CE6: F4 06 00     	pea	#<$6
 20062 06:4CE9: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
  Mon Aug  9 2021 16:52                                                Page 370


 20063 06:4CED: 85 01        	sta	<R0
 20064 06:4CEF: 18           	clc
 20065 06:4CF0: A5 01        	lda	<R0
 20066 06:4CF2: 65 1B        	adc	<L903+titleOffsetX_1
 20067 06:4CF4: 85 1B        	sta	<L903+titleOffsetX_1
 20068                        ;
 20069                        ;	}
 20070                        	.line	3356
 20071                        ;	
 20072                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 20073                        L10388:
 20074                        	.line	3358
 20075                        ;	{
 20076 06:4CF6: A5 50        	lda	<L902+style_0
 20077 06:4CF8: 29 04 00     	and	#<$4
 20078 06:4CFB: 85 01        	sta	<R0
 20079 06:4CFD: 64 03        	stz	<R0+2
 20080 06:4CFF: A5 01        	lda	<R0
 20081 06:4D01: C9 04 00     	cmp	#<$4
 20082 06:4D04: D0 05        	bne	L931
 20083 06:4D06: A5 03        	lda	<R0+2
 20084 06:4D08: C9 00 00     	cmp	#^$4
 20085                        L931:
 20086 06:4D0B: F0 03        	beq	L932
 20087 06:4D0D: 82 48 00     	brl	L10389
 20088                        L932:
 20089                        	.line	3359
 20090                        ;
 20091                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 20092                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 20093                        ;		titleScaler = (int)((width / metric.widt
                    h) - 1);
 20094                        	.line	3363
 20095 06:4D10: A5 5A        	lda	<L902+width_0
 20096 06:4D12: A6 0D        	ldx	<L903+metric_1
 20097                        	xref	~~~div
 20098 06:4D14: 22 xx xx xx  	jsl	~~~div
 20099 06:4D18: 85 01        	sta	<R0
 20100 06:4D1A: 18           	clc
 20101 06:4D1B: A9 FF FF     	lda	#$ffff
 20102 06:4D1E: 65 01        	adc	<R0
 20103 06:4D20: 85 1F        	sta	<L903+titleScaler_1
 20104                        ;
 20105                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler1:",titleScaler * 8);
 20106                        ;
 20107                        ;
 20108                        ;		//titleScaler = (width - (borderWidth * 
                    2));
 20109                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler2:",(width - (borderWidth * 2)));
 20110                        ;
 20111                        ;		/*
 20112                        ;		if(!k_gui_get_title_cache(NULL))
 20113                        ;		{
 20114                        ;			k_gui_build_title_cache(NULL);
  Mon Aug  9 2021 16:52                                                Page 371


 20115                        ;		}
 20116                        ;
 20117                        ;		if(k_gui_get_title_cache(NULL))
 20118                        ;		{
 20119                        ;			k_vdma_copy_address_ex((LPSTR)((
                    ULONG)0x080000 + k_gui_get_pixel_offset(titleOffsetX,titleOf
                    fsetY)),TITLE_LINES_640x480,titleScaler * 8,8);
 20120                        ;		}
 20121                        ;		else
 20122                        ;		{
 20123                        ;			k_gui_build_title_cache(NULL);
 20124                        ;			for(i=0;i<titleScaler;i++)
 20125                        ;			{
 20126                        ;				titleOffsetX+=k_put_wing
                    adget_point_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY
                    ,k_getUIGadgetColor(),page);
 20127                        ;			}
 20128                        ;		}
 20129                        ;
 20130                        ;		k_gui_build_title_cache(NULL);
 20131                        ;		*/
 20132                        ;
 20133                        ;		//
 20134                        ;		// set lines in title with blt
 20135                        ;		//
 20136                        ;		rect.x = titleOffsetX;
 20137                        	.line	3396
 20138 06:4D22: A5 1B        	lda	<L903+titleOffsetX_1
 20139 06:4D24: 85 39        	sta	<L903+rect_1
 20140                        ;		rect.y = titleOffsetY;
 20141                        	.line	3397
 20142 06:4D26: A5 1D        	lda	<L903+titleOffsetY_1
 20143 06:4D28: 85 3B        	sta	<L903+rect_1+2
 20144                        ;		rect.width  = (titleScaler * 8)  - (bord
                    erWidth * 2);
 20145                        	.line	3398
 20146 06:4D2A: A5 19        	lda	<L903+borderWidth_1
 20147 06:4D2C: 0A           	asl	A
 20148 06:4D2D: 85 01        	sta	<R0
 20149 06:4D2F: A5 1F        	lda	<L903+titleScaler_1
 20150 06:4D31: 0A           	asl	A
 20151 06:4D32: 0A           	asl	A
 20152 06:4D33: 0A           	asl	A
 20153 06:4D34: 85 05        	sta	<R1
 20154 06:4D36: 38           	sec
 20155 06:4D37: A5 05        	lda	<R1
 20156 06:4D39: E5 01        	sbc	<R0
 20157 06:4D3B: 85 41        	sta	<L903+rect_1+8
 20158                        ;		rect.height = 8;
 20159                        	.line	3399
 20160 06:4D3D: A9 08 00     	lda	#$8
 20161 06:4D40: 85 43        	sta	<L903+rect_1+10
 20162                        ;		k_gui_get_image_cache(0,0x080000,&rect);
 20163                        	.line	3400
 20164 06:4D42: F4 00 00     	pea	#0
 20165 06:4D45: 18           	clc
 20166 06:4D46: 7B           	tdc
 20167 06:4D47: 69 39 00     	adc	#<L903+rect_1
  Mon Aug  9 2021 16:52                                                Page 372


 20168 06:4D4A: 48           	pha
 20169 06:4D4B: F4 08 00     	pea	#^$80000
 20170 06:4D4E: F4 00 00     	pea	#<$80000
 20171 06:4D51: F4 00 00     	pea	#<$0
 20172 06:4D54: 22 19 03 06  	jsl	~~k_gui_get_image_cache
 20173                        ;		//
 20174                        ;		//
 20175                        ;		//
 20176                        ;
 20177                        ;
 20178                        ;		/*
 20179                        ;		for(i=0;i<titleScaler;i++)
 20180                        ;		{
 20181                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUI
                    GadgetColor(),page);
 20182                        ;		}
 20183                        ;		*/
 20184                        ;
 20185                        ;		//k_vdma_copy_address_ex((LPSTR)((ULONG)
                    0x080000 + k_gui_get_pixel_offset(0,440)),TITLE_LINES_640x48
                    0,titleScaler * 8,8);
 20186                        ;
 20187                        ;
 20188                        ;
 20189                        ;
 20190                        ;	}
 20191                        	.line	3418
 20192                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 20193                        ;	//titleOffsetX+=2;
 20194                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 20195                        ;	
 20196                        ;	if(style & FXWS_MAXIMIZEBOX)
 20197                        L10389:
 20198                        	.line	3423
 20199                        ;	{
 20200 06:4D58: A5 50        	lda	<L902+style_0
 20201 06:4D5A: 29 10 00     	and	#<$10
 20202 06:4D5D: D0 03        	bne	L933
 20203 06:4D5F: 82 C6 00     	brl	L10390
 20204                        L933:
 20205                        	.line	3424
 20206                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 20207                        ;		maxminPos+=metric.width;
 20208                        	.line	3426
 20209 06:4D62: 18           	clc
 20210 06:4D63: A5 2B        	lda	<L903+maxminPos_1
 20211 06:4D65: 65 0D        	adc	<L903+metric_1
 20212 06:4D67: 85 2B        	sta	<L903+maxminPos_1
 20213                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 20214                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
  Mon Aug  9 2021 16:52                                                Page 373


 20215                        ;
 20216                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 20217                        	.line	3430
 20218 06:4D69: D4 64        	pei	<L902+page_0
 20219 06:4D6B: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 20220 06:4D6F: 48           	pha
 20221 06:4D70: D4 1D        	pei	<L903+titleOffsetY_1
 20222 06:4D72: 38           	sec
 20223 06:4D73: A5 29        	lda	<L903+endX_1
 20224 06:4D75: E5 2B        	sbc	<L903+maxminPos_1
 20225 06:4D77: 48           	pha
 20226 06:4D78: F4 00 00     	pea	#<$0
 20227 06:4D7B: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 20228                        ;		k_put_wingadget_point_ex(WINICON_TITLE_F
                    RONT,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page
                    );
 20229                        	.line	3431
 20230 06:4D7F: D4 64        	pei	<L902+page_0
 20231 06:4D81: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 20232 06:4D85: 48           	pha
 20233 06:4D86: D4 1D        	pei	<L903+titleOffsetY_1
 20234 06:4D88: 38           	sec
 20235 06:4D89: A5 29        	lda	<L903+endX_1
 20236 06:4D8B: E5 2B        	sbc	<L903+maxminPos_1
 20237 06:4D8D: 48           	pha
 20238 06:4D8E: F4 03 00     	pea	#<$3
 20239 06:4D91: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 20240                        ;
 20241                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 20242                        	.line	3433
 20243 06:4D95: D4 2F        	pei	<L903+gx_1
 20244 06:4D97: D4 2F        	pei	<L903+gx_1
 20245 06:4D99: D4 1D        	pei	<L903+titleOffsetY_1
 20246 06:4D9B: 38           	sec
 20247 06:4D9C: A5 29        	lda	<L903+endX_1
 20248 06:4D9E: E5 2B        	sbc	<L903+maxminPos_1
 20249 06:4DA0: 48           	pha
 20250 06:4DA1: A0 00 00     	ldy	#$0
 20251 06:4DA4: A5 2D        	lda	<L903+ncc_1
 20252 06:4DA6: 10 01        	bpl	L934
 20253 06:4DA8: 88           	dey
 20254                        L934:
 20255 06:4DA9: 85 01        	sta	<R0
 20256 06:4DAB: 84 03        	sty	<R0+2
 20257 06:4DAD: F4 00 00     	pea	#^$11
 20258 06:4DB0: F4 11 00     	pea	#<$11
 20259 06:4DB3: D4 03        	pei	<R0+2
 20260 06:4DB5: D4 01        	pei	<R0
 20261                        	xref	~~~lmul
 20262 06:4DB7: 22 xx xx xx  	jsl	~~~lmul
 20263 06:4DBB: 85 01        	sta	<R0
 20264 06:4DBD: 86 03        	stx	<R0+2
 20265 06:4DBF: 18           	clc
 20266 06:4DC0: A9 38 00     	lda	#$38
 20267 06:4DC3: 65 01        	adc	<R0
  Mon Aug  9 2021 16:52                                                Page 374


 20268 06:4DC5: 85 05        	sta	<R1
 20269 06:4DC7: A9 00 00     	lda	#$0
 20270 06:4DCA: 65 03        	adc	<R0+2
 20271 06:4DCC: 85 07        	sta	<R1+2
 20272 06:4DCE: 18           	clc
 20273 06:4DCF: A5 4C        	lda	<L902+pWin_0
 20274 06:4DD1: 65 05        	adc	<R1
 20275 06:4DD3: 85 01        	sta	<R0
 20276 06:4DD5: A5 4E        	lda	<L902+pWin_0+2
 20277 06:4DD7: 65 07        	adc	<R1+2
 20278 06:4DD9: 85 03        	sta	<R0+2
 20279 06:4DDB: D4 03        	pei	<R0+2
 20280 06:4DDD: D4 01        	pei	<R0
 20281 06:4DDF: 22 06 06 06  	jsl	~~k_set_rect
 20282                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MAX_WINDOW;
 20283                        	.line	3434
 20284 06:4DE3: A0 00 00     	ldy	#$0
 20285 06:4DE6: A5 2D        	lda	<L903+ncc_1
 20286 06:4DE8: 10 01        	bpl	L935
 20287 06:4DEA: 88           	dey
 20288                        L935:
 20289 06:4DEB: 85 01        	sta	<R0
 20290 06:4DED: 84 03        	sty	<R0+2
 20291 06:4DEF: F4 00 00     	pea	#^$11
 20292 06:4DF2: F4 11 00     	pea	#<$11
 20293 06:4DF5: D4 03        	pei	<R0+2
 20294 06:4DF7: D4 01        	pei	<R0
 20295                        	xref	~~~lmul
 20296 06:4DF9: 22 xx xx xx  	jsl	~~~lmul
 20297 06:4DFD: 85 01        	sta	<R0
 20298 06:4DFF: 86 03        	stx	<R0+2
 20299 06:4E01: 18           	clc
 20300 06:4E02: A9 46 00     	lda	#$46
 20301 06:4E05: 65 4C        	adc	<L902+pWin_0
 20302 06:4E07: 85 05        	sta	<R1
 20303 06:4E09: A9 00 00     	lda	#$0
 20304 06:4E0C: 65 4E        	adc	<L902+pWin_0+2
 20305 06:4E0E: 85 07        	sta	<R1+2
 20306 06:4E10: 18           	clc
 20307 06:4E11: A5 05        	lda	<R1
 20308 06:4E13: 65 01        	adc	<R0
 20309 06:4E15: 85 09        	sta	<R2
 20310 06:4E17: A5 07        	lda	<R1+2
 20311 06:4E19: 65 03        	adc	<R0+2
 20312 06:4E1B: 85 0B        	sta	<R2+2
 20313 06:4E1D: A9 0A FB     	lda	#$fb0a
 20314 06:4E20: 87 09        	sta	[<R2]
 20315 06:4E22: E6 2D        	inc	<L903+ncc_1
 20316                        ;
 20317                        ;		maxminPos+=2;
 20318                        	.line	3436
 20319 06:4E24: E6 2B        	inc	<L903+maxminPos_1
 20320 06:4E26: E6 2B        	inc	<L903+maxminPos_1
 20321                        ;	}
 20322                        	.line	3437
 20323                        ;
 20324                        ;	if(style & FXWS_MINIMIZEBOX)
  Mon Aug  9 2021 16:52                                                Page 375


 20325                        L10390:
 20326                        	.line	3439
 20327                        ;	{
 20328 06:4E28: A5 50        	lda	<L902+style_0
 20329 06:4E2A: 29 20 00     	and	#<$20
 20330 06:4E2D: D0 03        	bne	L936
 20331 06:4E2F: 82 C6 00     	brl	L10391
 20332                        L936:
 20333                        	.line	3440
 20334                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 20335                        ;		maxminPos+=metric.width;
 20336                        	.line	3442
 20337 06:4E32: 18           	clc
 20338 06:4E33: A5 2B        	lda	<L903+maxminPos_1
 20339 06:4E35: 65 0D        	adc	<L903+metric_1
 20340 06:4E37: 85 2B        	sta	<L903+maxminPos_1
 20341                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 20342                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 20343                        ;
 20344                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 20345                        	.line	3446
 20346 06:4E39: D4 64        	pei	<L902+page_0
 20347 06:4E3B: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 20348 06:4E3F: 48           	pha
 20349 06:4E40: D4 1D        	pei	<L903+titleOffsetY_1
 20350 06:4E42: 38           	sec
 20351 06:4E43: A5 29        	lda	<L903+endX_1
 20352 06:4E45: E5 2B        	sbc	<L903+maxminPos_1
 20353 06:4E47: 48           	pha
 20354 06:4E48: F4 00 00     	pea	#<$0
 20355 06:4E4B: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 20356                        ;		k_put_wingadget_point_ex(WINICON_TITLE_B
                    ACK,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 20357                        	.line	3447
 20358 06:4E4F: D4 64        	pei	<L902+page_0
 20359 06:4E51: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 20360 06:4E55: 48           	pha
 20361 06:4E56: D4 1D        	pei	<L903+titleOffsetY_1
 20362 06:4E58: 38           	sec
 20363 06:4E59: A5 29        	lda	<L903+endX_1
 20364 06:4E5B: E5 2B        	sbc	<L903+maxminPos_1
 20365 06:4E5D: 48           	pha
 20366 06:4E5E: F4 04 00     	pea	#<$4
 20367 06:4E61: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 20368                        ;
 20369                        ;
 20370                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 20371                        	.line	3450
 20372 06:4E65: D4 2F        	pei	<L903+gx_1
  Mon Aug  9 2021 16:52                                                Page 376


 20373 06:4E67: D4 2F        	pei	<L903+gx_1
 20374 06:4E69: D4 1D        	pei	<L903+titleOffsetY_1
 20375 06:4E6B: 38           	sec
 20376 06:4E6C: A5 29        	lda	<L903+endX_1
 20377 06:4E6E: E5 2B        	sbc	<L903+maxminPos_1
 20378 06:4E70: 48           	pha
 20379 06:4E71: A0 00 00     	ldy	#$0
 20380 06:4E74: A5 2D        	lda	<L903+ncc_1
 20381 06:4E76: 10 01        	bpl	L937
 20382 06:4E78: 88           	dey
 20383                        L937:
 20384 06:4E79: 85 01        	sta	<R0
 20385 06:4E7B: 84 03        	sty	<R0+2
 20386 06:4E7D: F4 00 00     	pea	#^$11
 20387 06:4E80: F4 11 00     	pea	#<$11
 20388 06:4E83: D4 03        	pei	<R0+2
 20389 06:4E85: D4 01        	pei	<R0
 20390                        	xref	~~~lmul
 20391 06:4E87: 22 xx xx xx  	jsl	~~~lmul
 20392 06:4E8B: 85 01        	sta	<R0
 20393 06:4E8D: 86 03        	stx	<R0+2
 20394 06:4E8F: 18           	clc
 20395 06:4E90: A9 38 00     	lda	#$38
 20396 06:4E93: 65 01        	adc	<R0
 20397 06:4E95: 85 05        	sta	<R1
 20398 06:4E97: A9 00 00     	lda	#$0
 20399 06:4E9A: 65 03        	adc	<R0+2
 20400 06:4E9C: 85 07        	sta	<R1+2
 20401 06:4E9E: 18           	clc
 20402 06:4E9F: A5 4C        	lda	<L902+pWin_0
 20403 06:4EA1: 65 05        	adc	<R1
 20404 06:4EA3: 85 01        	sta	<R0
 20405 06:4EA5: A5 4E        	lda	<L902+pWin_0+2
 20406 06:4EA7: 65 07        	adc	<R1+2
 20407 06:4EA9: 85 03        	sta	<R0+2
 20408 06:4EAB: D4 03        	pei	<R0+2
 20409 06:4EAD: D4 01        	pei	<R0
 20410 06:4EAF: 22 06 06 06  	jsl	~~k_set_rect
 20411                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MIN_WINDOW;
 20412                        	.line	3451
 20413 06:4EB3: A0 00 00     	ldy	#$0
 20414 06:4EB6: A5 2D        	lda	<L903+ncc_1
 20415 06:4EB8: 10 01        	bpl	L938
 20416 06:4EBA: 88           	dey
 20417                        L938:
 20418 06:4EBB: 85 01        	sta	<R0
 20419 06:4EBD: 84 03        	sty	<R0+2
 20420 06:4EBF: F4 00 00     	pea	#^$11
 20421 06:4EC2: F4 11 00     	pea	#<$11
 20422 06:4EC5: D4 03        	pei	<R0+2
 20423 06:4EC7: D4 01        	pei	<R0
 20424                        	xref	~~~lmul
 20425 06:4EC9: 22 xx xx xx  	jsl	~~~lmul
 20426 06:4ECD: 85 01        	sta	<R0
 20427 06:4ECF: 86 03        	stx	<R0+2
 20428 06:4ED1: 18           	clc
 20429 06:4ED2: A9 46 00     	lda	#$46
  Mon Aug  9 2021 16:52                                                Page 377


 20430 06:4ED5: 65 4C        	adc	<L902+pWin_0
 20431 06:4ED7: 85 05        	sta	<R1
 20432 06:4ED9: A9 00 00     	lda	#$0
 20433 06:4EDC: 65 4E        	adc	<L902+pWin_0+2
 20434 06:4EDE: 85 07        	sta	<R1+2
 20435 06:4EE0: 18           	clc
 20436 06:4EE1: A5 05        	lda	<R1
 20437 06:4EE3: 65 01        	adc	<R0
 20438 06:4EE5: 85 09        	sta	<R2
 20439 06:4EE7: A5 07        	lda	<R1+2
 20440 06:4EE9: 65 03        	adc	<R0+2
 20441 06:4EEB: 85 0B        	sta	<R2+2
 20442 06:4EED: A9 09 FB     	lda	#$fb09
 20443 06:4EF0: 87 09        	sta	[<R2]
 20444 06:4EF2: E6 2D        	inc	<L903+ncc_1
 20445                        ;
 20446                        ;		maxminPos+=2;
 20447                        	.line	3453
 20448 06:4EF4: E6 2B        	inc	<L903+maxminPos_1
 20449 06:4EF6: E6 2B        	inc	<L903+maxminPos_1
 20450                        ;	}
 20451                        	.line	3454
 20452                        ;
 20453                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 20454                        L10391:
 20455                        	.line	3456
 20456                        ;	{
 20457 06:4EF8: A5 50        	lda	<L902+style_0
 20458 06:4EFA: 29 04 00     	and	#<$4
 20459 06:4EFD: 85 01        	sta	<R0
 20460 06:4EFF: 64 03        	stz	<R0+2
 20461 06:4F01: A5 01        	lda	<R0
 20462 06:4F03: C9 04 00     	cmp	#<$4
 20463 06:4F06: D0 05        	bne	L939
 20464 06:4F08: A5 03        	lda	<R0+2
 20465 06:4F0A: C9 00 00     	cmp	#^$4
 20466                        L939:
 20467 06:4F0D: F0 03        	beq	L940
 20468 06:4F0F: 82 42 02     	brl	L10392
 20469                        L940:
 20470                        	.line	3457
 20471                        ;		/*
 20472                        ;		if(!k_gui_get_title_cache(NULL))
 20473                        ;		{
 20474                        ;			k_gui_build_title_cache(NULL);
 20475                        ;		}
 20476                        ;		*/
 20477                        ;		/*
 20478                        ;		for(i=0;i<=strlen(title);i++)
 20479                        ;		{
 20480                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,cx+borderWidth+metric.width+(metric.width*i),titleOff
                    setY,15,page);
 20481                        ;		}
 20482                        ;		*/
 20483                        ;		k_user_SetRect(&rect,cx+borderWidth+metr
                    ic.width,titleOffsetY,(strlen(title) + 1)*8,8);
 20484                        	.line	3470
  Mon Aug  9 2021 16:52                                                Page 378


 20485 06:4F12: F4 08 00     	pea	#<$8
 20486 06:4F15: D4 5E        	pei	<L902+title_0+2
 20487 06:4F17: D4 5C        	pei	<L902+title_0
 20488 06:4F19: 22 xx xx xx  	jsl	~~strlen
 20489 06:4F1D: 85 05        	sta	<R1
 20490 06:4F1F: A5 05        	lda	<R1
 20491 06:4F21: 0A           	asl	A
 20492 06:4F22: 0A           	asl	A
 20493 06:4F23: 0A           	asl	A
 20494 06:4F24: 85 01        	sta	<R0
 20495 06:4F26: 18           	clc
 20496 06:4F27: A9 08 00     	lda	#$8
 20497 06:4F2A: 65 01        	adc	<R0
 20498 06:4F2C: 48           	pha
 20499 06:4F2D: D4 1D        	pei	<L903+titleOffsetY_1
 20500 06:4F2F: 18           	clc
 20501 06:4F30: A5 54        	lda	<L902+cx_0
 20502 06:4F32: 65 19        	adc	<L903+borderWidth_1
 20503 06:4F34: 85 01        	sta	<R0
 20504 06:4F36: 18           	clc
 20505 06:4F37: A5 01        	lda	<R0
 20506 06:4F39: 65 0D        	adc	<L903+metric_1
 20507 06:4F3B: 48           	pha
 20508 06:4F3C: F4 00 00     	pea	#0
 20509 06:4F3F: 18           	clc
 20510 06:4F40: 7B           	tdc
 20511 06:4F41: 69 39 00     	adc	#<L903+rect_1
 20512 06:4F44: 48           	pha
 20513 06:4F45: 22 xx xx xx  	jsl	~~k_user_SetRect
 20514                        ;
 20515                        ;		if(extraStyle && pWin->clientData[CLIENT
                    DATA_TITLE])
 20516                        	.line	3472
 20517                        ;		{
 20518 06:4F49: A5 47        	lda	<L903+extraStyle_1
 20519 06:4F4B: D0 03        	bne	L941
 20520 06:4F4D: 82 62 00     	brl	L10393
 20521                        L941:
 20522 06:4F50: A0 DD 01     	ldy	#$1dd
 20523 06:4F53: B7 4C        	lda	[<L902+pWin_0],Y
 20524 06:4F55: A0 DF 01     	ldy	#$1df
 20525 06:4F58: 17 4C        	ora	[<L902+pWin_0],Y
 20526 06:4F5A: D0 03        	bne	L942
 20527 06:4F5C: 82 53 00     	brl	L10393
 20528                        L942:
 20529                        	.line	3473
 20530                        ;			//k_debug_strings("k_vdraw_ui_wi
                    ndow::CLIENTDATA_TITLE:","DRAW");
 20531                        ;			k_user_SetRect(&rect,cx+borderWi
                    dth+metric.width,titleOffsetY,(strlen(title) + 1)*8,8);
 20532                        	.line	3475
 20533 06:4F5F: F4 08 00     	pea	#<$8
 20534 06:4F62: D4 5E        	pei	<L902+title_0+2
 20535 06:4F64: D4 5C        	pei	<L902+title_0
 20536 06:4F66: 22 xx xx xx  	jsl	~~strlen
 20537 06:4F6A: 85 05        	sta	<R1
 20538 06:4F6C: A5 05        	lda	<R1
 20539 06:4F6E: 0A           	asl	A
  Mon Aug  9 2021 16:52                                                Page 379


 20540 06:4F6F: 0A           	asl	A
 20541 06:4F70: 0A           	asl	A
 20542 06:4F71: 85 01        	sta	<R0
 20543 06:4F73: 18           	clc
 20544 06:4F74: A9 08 00     	lda	#$8
 20545 06:4F77: 65 01        	adc	<R0
 20546 06:4F79: 48           	pha
 20547 06:4F7A: D4 1D        	pei	<L903+titleOffsetY_1
 20548 06:4F7C: 18           	clc
 20549 06:4F7D: A5 54        	lda	<L902+cx_0
 20550 06:4F7F: 65 19        	adc	<L903+borderWidth_1
 20551 06:4F81: 85 01        	sta	<R0
 20552 06:4F83: 18           	clc
 20553 06:4F84: A5 01        	lda	<R0
 20554 06:4F86: 65 0D        	adc	<L903+metric_1
 20555 06:4F88: 48           	pha
 20556 06:4F89: F4 00 00     	pea	#0
 20557 06:4F8C: 18           	clc
 20558 06:4F8D: 7B           	tdc
 20559 06:4F8E: 69 39 00     	adc	#<L903+rect_1
 20560 06:4F91: 48           	pha
 20561 06:4F92: 22 xx xx xx  	jsl	~~k_user_SetRect
 20562                        ;			k_gui_get_image_cache((UINT)((UL
                    ONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BACK,&rect
                    );
 20563                        	.line	3476
 20564 06:4F96: F4 00 00     	pea	#0
 20565 06:4F99: 18           	clc
 20566 06:4F9A: 7B           	tdc
 20567 06:4F9B: 69 39 00     	adc	#<L903+rect_1
 20568 06:4F9E: 48           	pha
 20569 06:4F9F: F4 08 00     	pea	#^$80000
 20570 06:4FA2: F4 00 00     	pea	#<$80000
 20571 06:4FA5: A0 DD 01     	ldy	#$1dd
 20572 06:4FA8: B7 4C        	lda	[<L902+pWin_0],Y
 20573 06:4FAA: 48           	pha
 20574 06:4FAB: 22 19 03 06  	jsl	~~k_gui_get_image_cache
 20575                        ;		}
 20576                        	.line	3477
 20577                        ;		else
 20578 06:4FAF: 82 02 01     	brl	L10394
 20579                        L10393:
 20580                        ;		{
 20581                        	.line	3479
 20582                        ;			k_debug_integer("k_vdraw_ui_wind
                    ow::CLIENTDATA_TITLE:",extraStyle);
 20583                        	.line	3480
 20584 06:4FB2: D4 47        	pei	<L903+extraStyle_1
 20585 06:4FB4: F4 xx xx     	pea	#^L901+34
 20586 06:4FB7: F4 xx xx     	pea	#<L901+34
 20587 06:4FBA: 22 xx xx xx  	jsl	~~k_debug_integer
 20588                        ;			k_vdma_fill_rect_ex(cx+borderWid
                    th+metric.width,titleOffsetY,
 20589                        	.line	3481
 20590                        ;							
                    	(strlen(title) + 1)*8,8,15,BITMAP_BACK);
 20591 06:4FBE: F4 08 00     	pea	#<$8
 20592 06:4FC1: F4 0F 00     	pea	#<$f
  Mon Aug  9 2021 16:52                                                Page 380


 20593 06:4FC4: F4 08 00     	pea	#<$8
 20594 06:4FC7: D4 5E        	pei	<L902+title_0+2
 20595 06:4FC9: D4 5C        	pei	<L902+title_0
 20596 06:4FCB: 22 xx xx xx  	jsl	~~strlen
 20597 06:4FCF: 85 05        	sta	<R1
 20598 06:4FD1: A5 05        	lda	<R1
 20599 06:4FD3: 0A           	asl	A
 20600 06:4FD4: 0A           	asl	A
 20601 06:4FD5: 0A           	asl	A
 20602 06:4FD6: 85 01        	sta	<R0
 20603 06:4FD8: 18           	clc
 20604 06:4FD9: A9 08 00     	lda	#$8
 20605 06:4FDC: 65 01        	adc	<R0
 20606 06:4FDE: 48           	pha
 20607 06:4FDF: A0 00 00     	ldy	#$0
 20608 06:4FE2: A5 1D        	lda	<L903+titleOffsetY_1
 20609 06:4FE4: 10 01        	bpl	L943
 20610 06:4FE6: 88           	dey
 20611                        L943:
 20612 06:4FE7: 85 01        	sta	<R0
 20613 06:4FE9: 84 03        	sty	<R0+2
 20614 06:4FEB: D4 03        	pei	<R0+2
 20615 06:4FED: D4 01        	pei	<R0
 20616 06:4FEF: 18           	clc
 20617 06:4FF0: A5 54        	lda	<L902+cx_0
 20618 06:4FF2: 65 19        	adc	<L903+borderWidth_1
 20619 06:4FF4: 85 05        	sta	<R1
 20620 06:4FF6: 18           	clc
 20621 06:4FF7: A5 05        	lda	<R1
 20622 06:4FF9: 65 0D        	adc	<L903+metric_1
 20623 06:4FFB: 85 09        	sta	<R2
 20624 06:4FFD: A0 00 00     	ldy	#$0
 20625 06:5000: A5 09        	lda	<R2
 20626 06:5002: 10 01        	bpl	L944
 20627 06:5004: 88           	dey
 20628                        L944:
 20629 06:5005: 85 05        	sta	<R1
 20630 06:5007: 84 07        	sty	<R1+2
 20631 06:5009: D4 07        	pei	<R1+2
 20632 06:500B: D4 05        	pei	<R1
 20633 06:500D: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 20634                        ;
 20635                        ;			k_draw_text_point_ex(title,cx+(b
                    orderWidth + 3)+metric.width,titleOffsetY,k_getUIGadgetColor
                    (),page);
 20636                        	.line	3484
 20637 06:5011: D4 64        	pei	<L902+page_0
 20638 06:5013: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 20639 06:5017: 48           	pha
 20640 06:5018: D4 1D        	pei	<L903+titleOffsetY_1
 20641 06:501A: 18           	clc
 20642 06:501B: A5 54        	lda	<L902+cx_0
 20643 06:501D: 65 19        	adc	<L903+borderWidth_1
 20644 06:501F: 85 01        	sta	<R0
 20645 06:5021: 18           	clc
 20646 06:5022: A5 01        	lda	<R0
 20647 06:5024: 65 0D        	adc	<L903+metric_1
 20648 06:5026: 85 05        	sta	<R1
  Mon Aug  9 2021 16:52                                                Page 381


 20649 06:5028: 18           	clc
 20650 06:5029: A9 03 00     	lda	#$3
 20651 06:502C: 65 05        	adc	<R1
 20652 06:502E: 48           	pha
 20653 06:502F: D4 5E        	pei	<L902+title_0+2
 20654 06:5031: D4 5C        	pei	<L902+title_0
 20655 06:5033: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 20656                        ;			if(extraStyle)
 20657                        	.line	3485
 20658                        ;			{
 20659 06:5037: A5 47        	lda	<L903+extraStyle_1
 20660 06:5039: D0 03        	bne	L945
 20661 06:503B: 82 76 00     	brl	L10395
 20662                        L945:
 20663                        	.line	3486
 20664                        ;				k_user_SetRect(&rect,cx+
                    borderWidth+metric.width,titleOffsetY,(strlen(title) + 1)*8,
                    8);
 20665                        	.line	3487
 20666 06:503E: F4 08 00     	pea	#<$8
 20667 06:5041: D4 5E        	pei	<L902+title_0+2
 20668 06:5043: D4 5C        	pei	<L902+title_0
 20669 06:5045: 22 xx xx xx  	jsl	~~strlen
 20670 06:5049: 85 05        	sta	<R1
 20671 06:504B: A5 05        	lda	<R1
 20672 06:504D: 0A           	asl	A
 20673 06:504E: 0A           	asl	A
 20674 06:504F: 0A           	asl	A
 20675 06:5050: 85 01        	sta	<R0
 20676 06:5052: 18           	clc
 20677 06:5053: A9 08 00     	lda	#$8
 20678 06:5056: 65 01        	adc	<R0
 20679 06:5058: 48           	pha
 20680 06:5059: D4 1D        	pei	<L903+titleOffsetY_1
 20681 06:505B: 18           	clc
 20682 06:505C: A5 54        	lda	<L902+cx_0
 20683 06:505E: 65 19        	adc	<L903+borderWidth_1
 20684 06:5060: 85 01        	sta	<R0
 20685 06:5062: 18           	clc
 20686 06:5063: A5 01        	lda	<R0
 20687 06:5065: 65 0D        	adc	<L903+metric_1
 20688 06:5067: 48           	pha
 20689 06:5068: F4 00 00     	pea	#0
 20690 06:506B: 18           	clc
 20691 06:506C: 7B           	tdc
 20692 06:506D: 69 39 00     	adc	#<L903+rect_1
 20693 06:5070: 48           	pha
 20694 06:5071: 22 xx xx xx  	jsl	~~k_user_SetRect
 20695                        ;				pWin->clientData[CLIENTD
                    ATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(GUI_CACHE
                    _BACK,&rect));
 20696                        	.line	3488
 20697 06:5075: F4 00 00     	pea	#0
 20698 06:5078: 18           	clc
 20699 06:5079: 7B           	tdc
 20700 06:507A: 69 39 00     	adc	#<L903+rect_1
 20701 06:507D: 48           	pha
 20702 06:507E: F4 08 00     	pea	#^$80000
  Mon Aug  9 2021 16:52                                                Page 382


 20703 06:5081: F4 00 00     	pea	#<$80000
 20704 06:5084: 22 08 02 06  	jsl	~~k_gui_set_image_cache
 20705 06:5088: 85 01        	sta	<R0
 20706 06:508A: A5 01        	lda	<R0
 20707 06:508C: 85 01        	sta	<R0
 20708 06:508E: 64 03        	stz	<R0+2
 20709 06:5090: A5 01        	lda	<R0
 20710 06:5092: A0 DD 01     	ldy	#$1dd
 20711 06:5095: 97 4C        	sta	[<L902+pWin_0],Y
 20712 06:5097: A5 03        	lda	<R0+2
 20713 06:5099: A0 DF 01     	ldy	#$1df
 20714 06:509C: 97 4C        	sta	[<L902+pWin_0],Y
 20715                        ;
 20716                        ;				k_debug_pointer("k_vdraw
                    _ui_window::CLIENTDATA_TITLE:",pWin->clientData[CLIENTDATA_T
                    ITLE] );
 20717                        	.line	3490
 20718 06:509E: A0 DF 01     	ldy	#$1df
 20719 06:50A1: B7 4C        	lda	[<L902+pWin_0],Y
 20720 06:50A3: 48           	pha
 20721 06:50A4: A0 DD 01     	ldy	#$1dd
 20722 06:50A7: B7 4C        	lda	[<L902+pWin_0],Y
 20723 06:50A9: 48           	pha
 20724 06:50AA: F4 xx xx     	pea	#^L901+71
 20725 06:50AD: F4 xx xx     	pea	#<L901+71
 20726 06:50B0: 22 xx xx xx  	jsl	~~k_debug_pointer
 20727                        ;			}
 20728                        	.line	3491
 20729                        ;		}
 20730                        L10395:
 20731                        	.line	3492
 20732                        L10394:
 20733                        ;
 20734                        ;
 20735                        ;
 20736                        ;		/*
 20737                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,
                    640,8);
 20738                        ;
 20739                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    200000 + k_gui_get_pixel_offset(0,460)),
 20740                        ;							
                       (LPSTR)((ULONG)0x080000 + k_gui_get_pixel_offset(cx+(bord
                    erWidth + 3)+metric.width,titleOffsetY)),
 20741                        ;							
                       strlen(title)*8,8);
 20742                        ;
 20743                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(100,460)),
 20744                        ;							
                       (LPSTR)((ULONG)0x200000 + k_gui_get_pixel_offset(0,460)),
 20745                        ;							
                       strlen(title)*8,8);
 20746                        ;		*/
 20747                        ;
 20748                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
  Mon Aug  9 2021 16:52                                                Page 383


 20749                        	.line	3508
 20750                        ;				   pWin->win_x + gx,
 20751                        ;				   pWin->win_y,
 20752                        ;				   pWin->win_width - gx,
 20753                        ;				   borderTitle);
 20754 06:50B4: D4 17        	pei	<L903+borderTitle_1
 20755 06:50B6: 38           	sec
 20756 06:50B7: A0 10 00     	ldy	#$10
 20757 06:50BA: B7 4C        	lda	[<L902+pWin_0],Y
 20758 06:50BC: E5 2F        	sbc	<L903+gx_1
 20759 06:50BE: 48           	pha
 20760 06:50BF: A0 0E 00     	ldy	#$e
 20761 06:50C2: B7 4C        	lda	[<L902+pWin_0],Y
 20762 06:50C4: 48           	pha
 20763 06:50C5: 18           	clc
 20764 06:50C6: A0 0C 00     	ldy	#$c
 20765 06:50C9: B7 4C        	lda	[<L902+pWin_0],Y
 20766 06:50CB: 65 2F        	adc	<L903+gx_1
 20767 06:50CD: 48           	pha
 20768 06:50CE: A0 00 00     	ldy	#$0
 20769 06:50D1: A5 2D        	lda	<L903+ncc_1
 20770 06:50D3: 10 01        	bpl	L946
 20771 06:50D5: 88           	dey
 20772                        L946:
 20773 06:50D6: 85 01        	sta	<R0
 20774 06:50D8: 84 03        	sty	<R0+2
 20775 06:50DA: F4 00 00     	pea	#^$11
 20776 06:50DD: F4 11 00     	pea	#<$11
 20777 06:50E0: D4 03        	pei	<R0+2
 20778 06:50E2: D4 01        	pei	<R0
 20779                        	xref	~~~lmul
 20780 06:50E4: 22 xx xx xx  	jsl	~~~lmul
 20781 06:50E8: 85 01        	sta	<R0
 20782 06:50EA: 86 03        	stx	<R0+2
 20783 06:50EC: 18           	clc
 20784 06:50ED: A9 38 00     	lda	#$38
 20785 06:50F0: 65 01        	adc	<R0
 20786 06:50F2: 85 05        	sta	<R1
 20787 06:50F4: A9 00 00     	lda	#$0
 20788 06:50F7: 65 03        	adc	<R0+2
 20789 06:50F9: 85 07        	sta	<R1+2
 20790 06:50FB: 18           	clc
 20791 06:50FC: A5 4C        	lda	<L902+pWin_0
 20792 06:50FE: 65 05        	adc	<R1
 20793 06:5100: 85 01        	sta	<R0
 20794 06:5102: A5 4E        	lda	<L902+pWin_0+2
 20795 06:5104: 65 07        	adc	<R1+2
 20796 06:5106: 85 03        	sta	<R0+2
 20797 06:5108: D4 03        	pei	<R0+2
 20798 06:510A: D4 01        	pei	<R0
 20799 06:510C: 22 06 06 06  	jsl	~~k_set_rect
 20800                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 20801                        	.line	3513
 20802 06:5110: A0 00 00     	ldy	#$0
 20803 06:5113: A5 2D        	lda	<L903+ncc_1
 20804 06:5115: 10 01        	bpl	L947
 20805 06:5117: 88           	dey
  Mon Aug  9 2021 16:52                                                Page 384


 20806                        L947:
 20807 06:5118: 85 01        	sta	<R0
 20808 06:511A: 84 03        	sty	<R0+2
 20809 06:511C: F4 00 00     	pea	#^$11
 20810 06:511F: F4 11 00     	pea	#<$11
 20811 06:5122: D4 03        	pei	<R0+2
 20812 06:5124: D4 01        	pei	<R0
 20813                        	xref	~~~lmul
 20814 06:5126: 22 xx xx xx  	jsl	~~~lmul
 20815 06:512A: 85 01        	sta	<R0
 20816 06:512C: 86 03        	stx	<R0+2
 20817 06:512E: 18           	clc
 20818 06:512F: A9 46 00     	lda	#$46
 20819 06:5132: 65 4C        	adc	<L902+pWin_0
 20820 06:5134: 85 05        	sta	<R1
 20821 06:5136: A9 00 00     	lda	#$0
 20822 06:5139: 65 4E        	adc	<L902+pWin_0+2
 20823 06:513B: 85 07        	sta	<R1+2
 20824 06:513D: 18           	clc
 20825 06:513E: A5 05        	lda	<R1
 20826 06:5140: 65 01        	adc	<R0
 20827 06:5142: 85 09        	sta	<R2
 20828 06:5144: A5 07        	lda	<R1+2
 20829 06:5146: 65 03        	adc	<R0+2
 20830 06:5148: 85 0B        	sta	<R2+2
 20831 06:514A: A9 10 FB     	lda	#$fb10
 20832 06:514D: 87 09        	sta	[<R2]
 20833 06:514F: E6 2D        	inc	<L903+ncc_1
 20834                        ;
 20835                        ;	}
 20836                        	.line	3515
 20837                        ;	else
 20838 06:5151: 82 9D 00     	brl	L10396
 20839                        L10392:
 20840                        ;	{
 20841                        	.line	3517
 20842                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 20843                        	.line	3518
 20844                        ;				   pWin->win_x + gx,
 20845                        ;				   pWin->win_y,
 20846                        ;				   pWin->win_width - gx,
 20847                        ;				   borderWidth);
 20848 06:5154: D4 19        	pei	<L903+borderWidth_1
 20849 06:5156: 38           	sec
 20850 06:5157: A0 10 00     	ldy	#$10
 20851 06:515A: B7 4C        	lda	[<L902+pWin_0],Y
 20852 06:515C: E5 2F        	sbc	<L903+gx_1
 20853 06:515E: 48           	pha
 20854 06:515F: A0 0E 00     	ldy	#$e
 20855 06:5162: B7 4C        	lda	[<L902+pWin_0],Y
 20856 06:5164: 48           	pha
 20857 06:5165: 18           	clc
 20858 06:5166: A0 0C 00     	ldy	#$c
 20859 06:5169: B7 4C        	lda	[<L902+pWin_0],Y
 20860 06:516B: 65 2F        	adc	<L903+gx_1
 20861 06:516D: 48           	pha
 20862 06:516E: A0 00 00     	ldy	#$0
  Mon Aug  9 2021 16:52                                                Page 385


 20863 06:5171: A5 2D        	lda	<L903+ncc_1
 20864 06:5173: 10 01        	bpl	L948
 20865 06:5175: 88           	dey
 20866                        L948:
 20867 06:5176: 85 01        	sta	<R0
 20868 06:5178: 84 03        	sty	<R0+2
 20869 06:517A: F4 00 00     	pea	#^$11
 20870 06:517D: F4 11 00     	pea	#<$11
 20871 06:5180: D4 03        	pei	<R0+2
 20872 06:5182: D4 01        	pei	<R0
 20873                        	xref	~~~lmul
 20874 06:5184: 22 xx xx xx  	jsl	~~~lmul
 20875 06:5188: 85 01        	sta	<R0
 20876 06:518A: 86 03        	stx	<R0+2
 20877 06:518C: 18           	clc
 20878 06:518D: A9 38 00     	lda	#$38
 20879 06:5190: 65 01        	adc	<R0
 20880 06:5192: 85 05        	sta	<R1
 20881 06:5194: A9 00 00     	lda	#$0
 20882 06:5197: 65 03        	adc	<R0+2
 20883 06:5199: 85 07        	sta	<R1+2
 20884 06:519B: 18           	clc
 20885 06:519C: A5 4C        	lda	<L902+pWin_0
 20886 06:519E: 65 05        	adc	<R1
 20887 06:51A0: 85 01        	sta	<R0
 20888 06:51A2: A5 4E        	lda	<L902+pWin_0+2
 20889 06:51A4: 65 07        	adc	<R1+2
 20890 06:51A6: 85 03        	sta	<R0+2
 20891 06:51A8: D4 03        	pei	<R0+2
 20892 06:51AA: D4 01        	pei	<R0
 20893 06:51AC: 22 06 06 06  	jsl	~~k_set_rect
 20894                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 20895                        	.line	3523
 20896 06:51B0: A0 00 00     	ldy	#$0
 20897 06:51B3: A5 2D        	lda	<L903+ncc_1
 20898 06:51B5: 10 01        	bpl	L949
 20899 06:51B7: 88           	dey
 20900                        L949:
 20901 06:51B8: 85 01        	sta	<R0
 20902 06:51BA: 84 03        	sty	<R0+2
 20903 06:51BC: F4 00 00     	pea	#^$11
 20904 06:51BF: F4 11 00     	pea	#<$11
 20905 06:51C2: D4 03        	pei	<R0+2
 20906 06:51C4: D4 01        	pei	<R0
 20907                        	xref	~~~lmul
 20908 06:51C6: 22 xx xx xx  	jsl	~~~lmul
 20909 06:51CA: 85 01        	sta	<R0
 20910 06:51CC: 86 03        	stx	<R0+2
 20911 06:51CE: 18           	clc
 20912 06:51CF: A9 46 00     	lda	#$46
 20913 06:51D2: 65 4C        	adc	<L902+pWin_0
 20914 06:51D4: 85 05        	sta	<R1
 20915 06:51D6: A9 00 00     	lda	#$0
 20916 06:51D9: 65 4E        	adc	<L902+pWin_0+2
 20917 06:51DB: 85 07        	sta	<R1+2
 20918 06:51DD: 18           	clc
 20919 06:51DE: A5 05        	lda	<R1
  Mon Aug  9 2021 16:52                                                Page 386


 20920 06:51E0: 65 01        	adc	<R0
 20921 06:51E2: 85 09        	sta	<R2
 20922 06:51E4: A5 07        	lda	<R1+2
 20923 06:51E6: 65 03        	adc	<R0+2
 20924 06:51E8: 85 0B        	sta	<R2+2
 20925 06:51EA: A9 10 FB     	lda	#$fb10
 20926 06:51ED: 87 09        	sta	[<R2]
 20927 06:51EF: E6 2D        	inc	<L903+ncc_1
 20928                        ;	}
 20929                        	.line	3524
 20930                        L10396:
 20931                        ;
 20932                        ;	//k_debug_integer("k_vdraw_ui_window::(clientOff
                    setY - height):",(clientOffsetY - pWin->clientRect.y));
 20933                        ;	//k_debug_integer("k_vdraw_ui_window::((clientOf
                    fsetY - height) + borderWidth):",((clientOffsetY - pWin->cli
                    entRect.y) + borderWidth));
 20934                        ;
 20935                        ;	pWin->clientRect.width  = (width - (2*borderWidt
                    h));
 20936                        	.line	3529
 20937 06:51F1: A5 19        	lda	<L903+borderWidth_1
 20938 06:51F3: 0A           	asl	A
 20939 06:51F4: 85 01        	sta	<R0
 20940 06:51F6: 38           	sec
 20941 06:51F7: A5 5A        	lda	<L902+width_0
 20942 06:51F9: E5 01        	sbc	<R0
 20943 06:51FB: A0 32 00     	ldy	#$32
 20944 06:51FE: 97 4C        	sta	[<L902+pWin_0],Y
 20945                        ;	pWin->clientRect.height = height - ((clientOffse
                    tY - pWin->clientRect.y) + borderWidth);
 20946                        	.line	3530
 20947 06:5200: 38           	sec
 20948 06:5201: A5 23        	lda	<L903+clientOffsetY_1
 20949 06:5203: A0 2C 00     	ldy	#$2c
 20950 06:5206: F7 4C        	sbc	[<L902+pWin_0],Y
 20951 06:5208: 85 01        	sta	<R0
 20952 06:520A: 18           	clc
 20953 06:520B: A5 01        	lda	<R0
 20954 06:520D: 65 19        	adc	<L903+borderWidth_1
 20955 06:520F: 85 05        	sta	<R1
 20956 06:5211: 38           	sec
 20957 06:5212: A5 58        	lda	<L902+height_0
 20958 06:5214: E5 05        	sbc	<R1
 20959 06:5216: A0 34 00     	ldy	#$34
 20960 06:5219: 97 4C        	sta	[<L902+pWin_0],Y
 20961                        ;
 20962                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.w
                    idth:", pWin->clientRect.width);
 20963                        	.line	3532
 20964 06:521B: A0 32 00     	ldy	#$32
 20965 06:521E: B7 4C        	lda	[<L902+pWin_0],Y
 20966 06:5220: 48           	pha
 20967 06:5221: F4 xx xx     	pea	#^L901+108
 20968 06:5224: F4 xx xx     	pea	#<L901+108
 20969 06:5227: 22 xx xx xx  	jsl	~~k_debug_integer
 20970                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.h
                    eight:",pWin->clientRect.height);
  Mon Aug  9 2021 16:52                                                Page 387


 20971                        	.line	3533
 20972 06:522B: A0 34 00     	ldy	#$34
 20973 06:522E: B7 4C        	lda	[<L902+pWin_0],Y
 20974 06:5230: 48           	pha
 20975 06:5231: F4 xx xx     	pea	#^L901+145
 20976 06:5234: F4 xx xx     	pea	#<L901+145
 20977 06:5237: 22 xx xx xx  	jsl	~~k_debug_integer
 20978                        ;
 20979                        ;
 20980                        ;	pWin->clientRect.x      = clientOffsetX;
 20981                        	.line	3536
 20982 06:523B: A5 21        	lda	<L903+clientOffsetX_1
 20983 06:523D: A0 2A 00     	ldy	#$2a
 20984 06:5240: 97 4C        	sta	[<L902+pWin_0],Y
 20985                        ;	pWin->clientRect.y      = clientOffsetY;
 20986                        	.line	3537
 20987 06:5242: A5 23        	lda	<L903+clientOffsetY_1
 20988 06:5244: A0 2C 00     	ldy	#$2c
 20989 06:5247: 97 4C        	sta	[<L902+pWin_0],Y
 20990                        ;
 20991                        ;	if(pWin->win_cxoffset == -1)
 20992                        	.line	3539
 20993                        ;	{
 20994 06:5249: A0 18 00     	ldy	#$18
 20995 06:524C: B7 4C        	lda	[<L902+pWin_0],Y
 20996 06:524E: C9 FF FF     	cmp	#<$ffffffff
 20997 06:5251: F0 03        	beq	L950
 20998 06:5253: 82 20 00     	brl	L10397
 20999                        L950:
 21000                        	.line	3540
 21001                        ;		pWin->win_cxoffset 	= pWin->clientRe
                    ct.x - pWin->win_x;
 21002                        	.line	3541
 21003 06:5256: 38           	sec
 21004 06:5257: A0 2A 00     	ldy	#$2a
 21005 06:525A: B7 4C        	lda	[<L902+pWin_0],Y
 21006 06:525C: A0 0C 00     	ldy	#$c
 21007 06:525F: F7 4C        	sbc	[<L902+pWin_0],Y
 21008 06:5261: A0 18 00     	ldy	#$18
 21009 06:5264: 97 4C        	sta	[<L902+pWin_0],Y
 21010                        ;		pWin->win_cyoffset 	= pWin->clientRe
                    ct.y - pWin->win_y;
 21011                        	.line	3542
 21012 06:5266: 38           	sec
 21013 06:5267: A0 2C 00     	ldy	#$2c
 21014 06:526A: B7 4C        	lda	[<L902+pWin_0],Y
 21015 06:526C: A0 0E 00     	ldy	#$e
 21016 06:526F: F7 4C        	sbc	[<L902+pWin_0],Y
 21017 06:5271: A0 1A 00     	ldy	#$1a
 21018 06:5274: 97 4C        	sta	[<L902+pWin_0],Y
 21019                        ;		//k_debug_strings("k_vdraw_ui_window::pW
                    in->title:",pWin->win_title);
 21020                        ;		//k_debug_integer("k_vdraw_ui_window::pW
                    in->win_cxoffset:",pWin->win_cxoffset);
 21021                        ;		//k_debug_integer("k_vdraw_ui_window::pW
                    in->win_cyoffset:",pWin->win_cyoffset);
 21022                        ;	}
 21023                        	.line	3546
  Mon Aug  9 2021 16:52                                                Page 388


 21024                        ;
 21025                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),
 21026                        L10397:
 21027                        	.line	3548
 21028                        ;			   pWin->win_x + pWin->win_width
                      - 4,
 21029                        ;			   pWin->win_y + pWin->win_heigh
                    t - 4,
 21030                        ;			   4,
 21031                        ;			   4);
 21032 06:5276: F4 04 00     	pea	#<$4
 21033 06:5279: F4 04 00     	pea	#<$4
 21034 06:527C: 18           	clc
 21035 06:527D: A0 0E 00     	ldy	#$e
 21036 06:5280: B7 4C        	lda	[<L902+pWin_0],Y
 21037 06:5282: A0 12 00     	ldy	#$12
 21038 06:5285: 77 4C        	adc	[<L902+pWin_0],Y
 21039 06:5287: 85 01        	sta	<R0
 21040 06:5289: 18           	clc
 21041 06:528A: A9 FC FF     	lda	#$fffc
 21042 06:528D: 65 01        	adc	<R0
 21043 06:528F: 48           	pha
 21044 06:5290: 18           	clc
 21045 06:5291: A0 0C 00     	ldy	#$c
 21046 06:5294: B7 4C        	lda	[<L902+pWin_0],Y
 21047 06:5296: A0 10 00     	ldy	#$10
 21048 06:5299: 77 4C        	adc	[<L902+pWin_0],Y
 21049 06:529B: 85 01        	sta	<R0
 21050 06:529D: 18           	clc
 21051 06:529E: A9 FC FF     	lda	#$fffc
 21052 06:52A1: 65 01        	adc	<R0
 21053 06:52A3: 48           	pha
 21054 06:52A4: A0 00 00     	ldy	#$0
 21055 06:52A7: A5 2D        	lda	<L903+ncc_1
 21056 06:52A9: 10 01        	bpl	L951
 21057 06:52AB: 88           	dey
 21058                        L951:
 21059 06:52AC: 85 01        	sta	<R0
 21060 06:52AE: 84 03        	sty	<R0+2
 21061 06:52B0: F4 00 00     	pea	#^$11
 21062 06:52B3: F4 11 00     	pea	#<$11
 21063 06:52B6: D4 03        	pei	<R0+2
 21064 06:52B8: D4 01        	pei	<R0
 21065                        	xref	~~~lmul
 21066 06:52BA: 22 xx xx xx  	jsl	~~~lmul
 21067 06:52BE: 85 01        	sta	<R0
 21068 06:52C0: 86 03        	stx	<R0+2
 21069 06:52C2: 18           	clc
 21070 06:52C3: A9 38 00     	lda	#$38
 21071 06:52C6: 65 01        	adc	<R0
 21072 06:52C8: 85 05        	sta	<R1
 21073 06:52CA: A9 00 00     	lda	#$0
 21074 06:52CD: 65 03        	adc	<R0+2
 21075 06:52CF: 85 07        	sta	<R1+2
 21076 06:52D1: 18           	clc
 21077 06:52D2: A5 4C        	lda	<L902+pWin_0
 21078 06:52D4: 65 05        	adc	<R1
 21079 06:52D6: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 389


 21080 06:52D8: A5 4E        	lda	<L902+pWin_0+2
 21081 06:52DA: 65 07        	adc	<R1+2
 21082 06:52DC: 85 03        	sta	<R0+2
 21083 06:52DE: D4 03        	pei	<R0+2
 21084 06:52E0: D4 01        	pei	<R0
 21085 06:52E2: 22 06 06 06  	jsl	~~k_set_rect
 21086                        ;	pWin->nonclientGadgets[ncc++].msgType = FX_RESIZ
                    E_WINDOW;
 21087                        	.line	3553
 21088 06:52E6: A0 00 00     	ldy	#$0
 21089 06:52E9: A5 2D        	lda	<L903+ncc_1
 21090 06:52EB: 10 01        	bpl	L952
 21091 06:52ED: 88           	dey
 21092                        L952:
 21093 06:52EE: 85 01        	sta	<R0
 21094 06:52F0: 84 03        	sty	<R0+2
 21095 06:52F2: F4 00 00     	pea	#^$11
 21096 06:52F5: F4 11 00     	pea	#<$11
 21097 06:52F8: D4 03        	pei	<R0+2
 21098 06:52FA: D4 01        	pei	<R0
 21099                        	xref	~~~lmul
 21100 06:52FC: 22 xx xx xx  	jsl	~~~lmul
 21101 06:5300: 85 01        	sta	<R0
 21102 06:5302: 86 03        	stx	<R0+2
 21103 06:5304: 18           	clc
 21104 06:5305: A9 46 00     	lda	#$46
 21105 06:5308: 65 4C        	adc	<L902+pWin_0
 21106 06:530A: 85 05        	sta	<R1
 21107 06:530C: A9 00 00     	lda	#$0
 21108 06:530F: 65 4E        	adc	<L902+pWin_0+2
 21109 06:5311: 85 07        	sta	<R1+2
 21110 06:5313: 18           	clc
 21111 06:5314: A5 05        	lda	<R1
 21112 06:5316: 65 01        	adc	<R0
 21113 06:5318: 85 09        	sta	<R2
 21114 06:531A: A5 07        	lda	<R1+2
 21115 06:531C: 65 03        	adc	<R0+2
 21116 06:531E: 85 0B        	sta	<R2+2
 21117 06:5320: A9 0F FB     	lda	#$fb0f
 21118 06:5323: 87 09        	sta	[<R2]
 21119 06:5325: E6 2D        	inc	<L903+ncc_1
 21120                        ;
 21121                        ;
 21122                        ;	k_draw_rect(pWin->win_x - 1,
 21123                        	.line	3556
 21124                        ;				pWin->win_y - 1,
 21125                        ;				(pWin->win_x) + pWin->wi
                    n_width  ,
 21126                        ;				(pWin->win_y) + pWin->wi
                    n_height ,
 21127                        ;				k_getUIGadgetColor(),
 21128                        ;				0,
 21129                        ;				page);
 21130 06:5327: D4 64        	pei	<L902+page_0
 21131 06:5329: F4 00 00     	pea	#<$0
 21132 06:532C: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 21133 06:5330: 48           	pha
 21134 06:5331: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 390


 21135 06:5332: A0 0E 00     	ldy	#$e
 21136 06:5335: B7 4C        	lda	[<L902+pWin_0],Y
 21137 06:5337: A0 12 00     	ldy	#$12
 21138 06:533A: 77 4C        	adc	[<L902+pWin_0],Y
 21139 06:533C: 48           	pha
 21140 06:533D: 18           	clc
 21141 06:533E: A0 0C 00     	ldy	#$c
 21142 06:5341: B7 4C        	lda	[<L902+pWin_0],Y
 21143 06:5343: A0 10 00     	ldy	#$10
 21144 06:5346: 77 4C        	adc	[<L902+pWin_0],Y
 21145 06:5348: 48           	pha
 21146 06:5349: 18           	clc
 21147 06:534A: A9 FF FF     	lda	#$ffff
 21148 06:534D: A0 0E 00     	ldy	#$e
 21149 06:5350: 77 4C        	adc	[<L902+pWin_0],Y
 21150 06:5352: 48           	pha
 21151 06:5353: 18           	clc
 21152 06:5354: A9 FF FF     	lda	#$ffff
 21153 06:5357: A0 0C 00     	ldy	#$c
 21154 06:535A: 77 4C        	adc	[<L902+pWin_0],Y
 21155 06:535C: 48           	pha
 21156 06:535D: 22 D8 1D 06  	jsl	~~k_draw_rect
 21157                        ;
 21158                        ;	k_draw_rect(pWin->clientRect.x - 1,
 21159                        	.line	3564
 21160                        ;				pWin->clientRect.y - 1,
 21161                        ;				pWin->clientRect.x + pWi
                    n->clientRect.width ,
 21162                        ;				pWin->clientRect.y + pWi
                    n->clientRect.height,
 21163                        ;				k_getUIGadgetColor(),
 21164                        ;				0,
 21165                        ;				page);
 21166 06:5361: D4 64        	pei	<L902+page_0
 21167 06:5363: F4 00 00     	pea	#<$0
 21168 06:5366: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 21169 06:536A: 48           	pha
 21170 06:536B: 18           	clc
 21171 06:536C: A0 2C 00     	ldy	#$2c
 21172 06:536F: B7 4C        	lda	[<L902+pWin_0],Y
 21173 06:5371: A0 34 00     	ldy	#$34
 21174 06:5374: 77 4C        	adc	[<L902+pWin_0],Y
 21175 06:5376: 48           	pha
 21176 06:5377: 18           	clc
 21177 06:5378: A0 2A 00     	ldy	#$2a
 21178 06:537B: B7 4C        	lda	[<L902+pWin_0],Y
 21179 06:537D: A0 32 00     	ldy	#$32
 21180 06:5380: 77 4C        	adc	[<L902+pWin_0],Y
 21181 06:5382: 48           	pha
 21182 06:5383: 18           	clc
 21183 06:5384: A9 FF FF     	lda	#$ffff
 21184 06:5387: A0 2C 00     	ldy	#$2c
 21185 06:538A: 77 4C        	adc	[<L902+pWin_0],Y
 21186 06:538C: 48           	pha
 21187 06:538D: 18           	clc
 21188 06:538E: A9 FF FF     	lda	#$ffff
 21189 06:5391: A0 2A 00     	ldy	#$2a
 21190 06:5394: 77 4C        	adc	[<L902+pWin_0],Y
  Mon Aug  9 2021 16:52                                                Page 391


 21191 06:5396: 48           	pha
 21192 06:5397: 22 D8 1D 06  	jsl	~~k_draw_rect
 21193                        ;	//k_debug_rect("k_vdraw_ui_window:client[resized
                    ]:",&pWin->clientRect);
 21194                        ;
 21195                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),-
                    1,-1,-1,-1);
 21196                        	.line	3573
 21197 06:539B: F4 FF FF     	pea	#<$ffffffff
 21198 06:539E: F4 FF FF     	pea	#<$ffffffff
 21199 06:53A1: F4 FF FF     	pea	#<$ffffffff
 21200 06:53A4: F4 FF FF     	pea	#<$ffffffff
 21201 06:53A7: A0 00 00     	ldy	#$0
 21202 06:53AA: A5 2D        	lda	<L903+ncc_1
 21203 06:53AC: 10 01        	bpl	L953
 21204 06:53AE: 88           	dey
 21205                        L953:
 21206 06:53AF: 85 01        	sta	<R0
 21207 06:53B1: 84 03        	sty	<R0+2
 21208 06:53B3: F4 00 00     	pea	#^$11
 21209 06:53B6: F4 11 00     	pea	#<$11
 21210 06:53B9: D4 03        	pei	<R0+2
 21211 06:53BB: D4 01        	pei	<R0
 21212                        	xref	~~~lmul
 21213 06:53BD: 22 xx xx xx  	jsl	~~~lmul
 21214 06:53C1: 85 01        	sta	<R0
 21215 06:53C3: 86 03        	stx	<R0+2
 21216 06:53C5: 18           	clc
 21217 06:53C6: A9 38 00     	lda	#$38
 21218 06:53C9: 65 01        	adc	<R0
 21219 06:53CB: 85 05        	sta	<R1
 21220 06:53CD: A9 00 00     	lda	#$0
 21221 06:53D0: 65 03        	adc	<R0+2
 21222 06:53D2: 85 07        	sta	<R1+2
 21223 06:53D4: 18           	clc
 21224 06:53D5: A5 4C        	lda	<L902+pWin_0
 21225 06:53D7: 65 05        	adc	<R1
 21226 06:53D9: 85 01        	sta	<R0
 21227 06:53DB: A5 4E        	lda	<L902+pWin_0+2
 21228 06:53DD: 65 07        	adc	<R1+2
 21229 06:53DF: 85 03        	sta	<R0+2
 21230 06:53E1: D4 03        	pei	<R0+2
 21231 06:53E3: D4 01        	pei	<R0
 21232 06:53E5: 22 06 06 06  	jsl	~~k_set_rect
 21233                        ;
 21234                        ;
 21235                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 21236                        ;}
 21237                        	.line	3577
 21238 06:53E9: 82 B0 F6     	brl	L905
 21239                        	.endblock	3577
 21240             00000048   L902	equ	72
 21241             0000000D   L903	equ	13
 21242 06:53EC:              	ends
 21243                        	efunc
 21244                        	.endfunc	3577,13,72
 21245                        	.line	3577
 21246                        	data
  Mon Aug  9 2021 16:52                                                Page 392


 21247                        L901:
 21248 00:0871: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
       00:0875: 72 61 77 5F 
       00:0879: 75 69 5F 77 
       00:087D: 69 6E 64 
 21249 00:0880: 6F 77 3A 3A  	db	$6F,$77,$3A,$3A,$4E,$4F,$54,$20,$52,$45,
                    $4E,$44,$45,$52,$49
       00:0884: 4E 4F 54 20 
       00:0888: 52 45 4E 44 
       00:088C: 45 52 49 
 21250 00:088F: 4E 47 3A 00  	db	$4E,$47,$3A,$00,$6B,$5F,$76,$64,$72,$61,
                    $77,$5F,$75,$69,$5F
       00:0893: 6B 5F 76 64 
       00:0897: 72 61 77 5F 
       00:089B: 75 69 5F 
 21251 00:089E: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$3A,$3A,$43,$4C,
                    $49,$45,$4E,$54,$44
       00:08A2: 6F 77 3A 3A 
       00:08A6: 43 4C 49 45 
       00:08AA: 4E 54 44 
 21252 00:08AD: 41 54 41 5F  	db	$41,$54,$41,$5F,$54,$49,$54,$4C,$45,$3A,
                    $00,$6B,$5F,$76,$64
       00:08B1: 54 49 54 4C 
       00:08B5: 45 3A 00 6B 
       00:08B9: 5F 76 64 
 21253 00:08BC: 72 61 77 5F  	db	$72,$61,$77,$5F,$75,$69,$5F,$77,$69,$6E,
                    $64,$6F,$77,$3A,$3A
       00:08C0: 75 69 5F 77 
       00:08C4: 69 6E 64 6F 
       00:08C8: 77 3A 3A 
 21254 00:08CB: 43 4C 49 45  	db	$43,$4C,$49,$45,$4E,$54,$44,$41,$54,$41,
                    $5F,$54,$49,$54,$4C
       00:08CF: 4E 54 44 41 
       00:08D3: 54 41 5F 54 
       00:08D7: 49 54 4C 
 21255 00:08DA: 45 3A 00 6B  	db	$45,$3A,$00,$6B,$5F,$76,$64,$72,$61,$77,
                    $5F,$75,$69,$5F,$77
       00:08DE: 5F 76 64 72 
       00:08E2: 61 77 5F 75 
       00:08E6: 69 5F 77 
 21256 00:08E9: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$3A,$3A,$63,$6C,$69,
                    $65,$6E,$74,$52,$65
       00:08ED: 77 3A 3A 63 
       00:08F1: 6C 69 65 6E 
       00:08F5: 74 52 65 
 21257 00:08F8: 63 74 2E 77  	db	$63,$74,$2E,$77,$69,$64,$74,$68,$3A,$00,
                    $6B,$5F,$76,$64,$72
       00:08FC: 69 64 74 68 
       00:0900: 3A 00 6B 5F 
       00:0904: 76 64 72 
 21258 00:0907: 61 77 5F 75  	db	$61,$77,$5F,$75,$69,$5F,$77,$69,$6E,$64,
                    $6F,$77,$3A,$3A,$63
       00:090B: 69 5F 77 69 
       00:090F: 6E 64 6F 77 
       00:0913: 3A 3A 63 
 21259 00:0916: 6C 69 65 6E  	db	$6C,$69,$65,$6E,$74,$52,$65,$63,$74,$2E,
                    $68,$65,$69,$67,$68
  Mon Aug  9 2021 16:52                                                Page 393


       00:091A: 74 52 65 63 
       00:091E: 74 2E 68 65 
       00:0922: 69 67 68 
 21260 00:0925: 74 3A 00     	db	$74,$3A,$00
 21261 00:0928:              	ends
 21262                        ;
 21263                        ;PMENU k_draw_menu(HMENU hMenu,int color, int bgco
                    lor)
 21264                        ;{
 21265                        	.line	3579
 21266                        	.line	3580
 21267                        	GFX
 21268                        	xdef	~~k_draw_menu
 21269                        	func
 21270                        	.function	3580
 21271                        ~~k_draw_menu:
 21272                        	longa	on
 21273                        	longi	on
 21274 06:53EC: 3B           	tsc
 21275 06:53ED: 38           	sec
 21276 06:53EE: E9 1E 00     	sbc	#L955
 21277 06:53F1: 1B           	tcs
 21278 06:53F2: 0B           	phd
 21279 06:53F3: 5B           	tcd
 21280             00000004   hMenu_0	set	4
 21281             00000008   color_0	set	8
 21282             0000000A   bgcolor_0	set	10
 21283                        	.block	3580
 21284                        ;	FONTMETRIC metric;
 21285                        ;
 21286                        ;	int i = 0;
 21287                        ;
 21288                        ;	int borderTitle = 10;
 21289                        ;	int borderWidth = 3;
 21290                        ;
 21291                        ;	int titleOffsetX = ((PMENU)hMenu)->cx+2;
 21292                        ;	int titleOffsetY = ((PMENU)hMenu)->cy+2;
 21293                        ;	int titleScaler = 0;
 21294                        ;
 21295                        ;	int clientOffsetX = ((PMENU)hMenu)->cx+borderWid
                    th+2;
 21296                        ;	int clientOffsetY = ((PMENU)hMenu)->cy+borderTit
                    le+1;
 21297                        ;
 21298                        ;	int endX = ((PMENU)hMenu)->width + ((PMENU)hMenu
                    )->cx - borderWidth;
 21299                        ;
 21300                        ;
 21301                        ;	k_get_font_metrics(&metric);
 21302             00000000   metric_1	set	0
 21303             00000004   i_1	set	4
 21304             00000006   borderTitle_1	set	6
 21305             00000008   borderWidth_1	set	8
 21306             0000000A   titleOffsetX_1	set	10
 21307             0000000C   titleOffsetY_1	set	12
 21308             0000000E   titleScaler_1	set	14
 21309             00000010   clientOffsetX_1	set	16
 21310             00000012   clientOffsetY_1	set	18
  Mon Aug  9 2021 16:52                                                Page 394


 21311             00000014   endX_1	set	20
 21312                        	.sym	metric,0,10,1,32,35
 21313                        	.sym	i,4,5,1,16
 21314                        	.sym	borderTitle,6,5,1,16
 21315                        	.sym	borderWidth,8,5,1,16
 21316                        	.sym	titleOffsetX,10,5,1,16
 21317                        	.sym	titleOffsetY,12,5,1,16
 21318                        	.sym	titleScaler,14,5,1,16
 21319                        	.sym	clientOffsetX,16,5,1,16
 21320                        	.sym	clientOffsetY,18,5,1,16
 21321                        	.sym	endX,20,5,1,16
 21322                        	.sym	hMenu,4,129,6,32
 21323                        	.sym	color,8,5,6,16
 21324                        	.sym	bgcolor,10,5,6,16
 21325 06:53F4: 64 0D        	stz	<L956+i_1
 21326 06:53F6: A9 0A 00     	lda	#$a
 21327 06:53F9: 85 0F        	sta	<L956+borderTitle_1
 21328 06:53FB: A9 03 00     	lda	#$3
 21329 06:53FE: 85 11        	sta	<L956+borderWidth_1
 21330 06:5400: 18           	clc
 21331 06:5401: A9 02 00     	lda	#$2
 21332 06:5404: 67 22        	adc	[<L955+hMenu_0]
 21333 06:5406: 85 13        	sta	<L956+titleOffsetX_1
 21334 06:5408: 18           	clc
 21335 06:5409: A9 02 00     	lda	#$2
 21336 06:540C: A0 02 00     	ldy	#$2
 21337 06:540F: 77 22        	adc	[<L955+hMenu_0],Y
 21338 06:5411: 85 15        	sta	<L956+titleOffsetY_1
 21339 06:5413: 64 17        	stz	<L956+titleScaler_1
 21340 06:5415: 18           	clc
 21341 06:5416: A7 22        	lda	[<L955+hMenu_0]
 21342 06:5418: 65 11        	adc	<L956+borderWidth_1
 21343 06:541A: 85 01        	sta	<R0
 21344 06:541C: 18           	clc
 21345 06:541D: A9 02 00     	lda	#$2
 21346 06:5420: 65 01        	adc	<R0
 21347 06:5422: 85 19        	sta	<L956+clientOffsetX_1
 21348 06:5424: 18           	clc
 21349 06:5425: A0 02 00     	ldy	#$2
 21350 06:5428: B7 22        	lda	[<L955+hMenu_0],Y
 21351 06:542A: 65 0F        	adc	<L956+borderTitle_1
 21352 06:542C: 85 01        	sta	<R0
 21353 06:542E: A5 01        	lda	<R0
 21354 06:5430: 1A           	ina
 21355 06:5431: 85 1B        	sta	<L956+clientOffsetY_1
 21356 06:5433: 18           	clc
 21357 06:5434: A0 04 00     	ldy	#$4
 21358 06:5437: B7 22        	lda	[<L955+hMenu_0],Y
 21359 06:5439: 67 22        	adc	[<L955+hMenu_0]
 21360 06:543B: 85 01        	sta	<R0
 21361 06:543D: 38           	sec
 21362 06:543E: A5 01        	lda	<R0
 21363 06:5440: E5 11        	sbc	<L956+borderWidth_1
 21364 06:5442: 85 1D        	sta	<L956+endX_1
 21365                        	.line	3598
 21366 06:5444: F4 00 00     	pea	#0
 21367 06:5447: 18           	clc
 21368 06:5448: 7B           	tdc
  Mon Aug  9 2021 16:52                                                Page 395


 21369 06:5449: 69 09 00     	adc	#<L956+metric_1
 21370 06:544C: 48           	pha
 21371 06:544D: 22 B8 23 06  	jsl	~~k_get_font_metrics
 21372                        ;
 21373                        ;
 21374                        ;	//int height = 0;
 21375                        ;	/*
 21376                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 21377                        ;	memset(menu,0,sizeof(MENU));
 21378                        ;
 21379                        ;	menu->cx = cx;
 21380                        ;	menu->cy = cy;
 21381                        ;	menu->fcolor = color;
 21382                        ;	menu->bcolor = bgcolor;
 21383                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 21384                        ;
 21385                        ;	k_get_font_metrics(&metric);
 21386                        ;
 21387                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 21388                        ;
 21389                        ;	menu->height = height;
 21390                        ;	menu->width  = width;
 21391                        ;
 21392                        ;
 21393                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 21394                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 21395                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 21396                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 21397                        ;	*/
 21398                        ;
 21399                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 21400                        ;
 21401                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 21402                        ;	k_vdma_fill_rect(((PMENU)hMenu)->cx,((PMENU)hMen
                    u)->cy,((PMENU)hMenu)->width,((PMENU)hMenu)->height,color);
 21403                        	.line	3629
 21404 06:5451: D4 26        	pei	<L955+color_0
 21405 06:5453: A0 06 00     	ldy	#$6
 21406 06:5456: B7 22        	lda	[<L955+hMenu_0],Y
 21407 06:5458: 48           	pha
 21408 06:5459: A0 04 00     	ldy	#$4
 21409 06:545C: B7 22        	lda	[<L955+hMenu_0],Y
 21410 06:545E: 48           	pha
 21411 06:545F: A0 00 00     	ldy	#$0
 21412 06:5462: 5A           	phy
 21413 06:5463: A0 02 00     	ldy	#$2
 21414 06:5466: B7 22        	lda	[<L955+hMenu_0],Y
 21415 06:5468: 7A           	ply
 21416 06:5469: 2A           	rol	A
 21417 06:546A: 6A           	ror	A
  Mon Aug  9 2021 16:52                                                Page 396


 21418 06:546B: 10 01        	bpl	L958
 21419 06:546D: 88           	dey
 21420                        L958:
 21421 06:546E: 85 01        	sta	<R0
 21422 06:5470: 84 03        	sty	<R0+2
 21423 06:5472: D4 03        	pei	<R0+2
 21424 06:5474: D4 01        	pei	<R0
 21425 06:5476: A0 00 00     	ldy	#$0
 21426 06:5479: A7 22        	lda	[<L955+hMenu_0]
 21427 06:547B: 10 01        	bpl	L959
 21428 06:547D: 88           	dey
 21429                        L959:
 21430 06:547E: 85 05        	sta	<R1
 21431 06:5480: 84 07        	sty	<R1+2
 21432 06:5482: D4 07        	pei	<R1+2
 21433 06:5484: D4 05        	pei	<R1
 21434 06:5486: 22 C6 5F 06  	jsl	~~k_vdma_fill_rect
 21435                        ;
 21436                        ;	//k_delay(15);
 21437                        ;
 21438                        ;	//title = strupr(title);
 21439                        ;
 21440                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 21441                        ;	/*
 21442                        ;	titleScaler = (int)(width / metric.width - 4);
 21443                        ;	for(i=0;i<titleScaler;i++)
 21444                        ;	{
 21445                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 21446                        ;	}*/
 21447                        ;
 21448                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 21449                        	.line	3643
 21450 06:548A: F4 0E 00     	pea	#<$e
 21451 06:548D: D4 15        	pei	<L956+titleOffsetY_1
 21452 06:548F: A5 09        	lda	<L956+metric_1
 21453 06:5491: 0A           	asl	A
 21454 06:5492: 85 01        	sta	<R0
 21455 06:5494: 18           	clc
 21456 06:5495: A9 02 00     	lda	#$2
 21457 06:5498: 65 01        	adc	<R0
 21458 06:549A: 85 05        	sta	<R1
 21459 06:549C: 38           	sec
 21460 06:549D: A5 1D        	lda	<L956+endX_1
 21461 06:549F: E5 05        	sbc	<R1
 21462 06:54A1: 48           	pha
 21463 06:54A2: F4 04 00     	pea	#<$4
 21464 06:54A5: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 21465                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 21466                        	.line	3644
 21467 06:54A9: F4 0E 00     	pea	#<$e
 21468 06:54AC: D4 15        	pei	<L956+titleOffsetY_1
 21469 06:54AE: 38           	sec
 21470 06:54AF: A5 1D        	lda	<L956+endX_1
 21471 06:54B1: E5 09        	sbc	<L956+metric_1
  Mon Aug  9 2021 16:52                                                Page 397


 21472 06:54B3: 48           	pha
 21473 06:54B4: F4 03 00     	pea	#<$3
 21474 06:54B7: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 21475                        ;
 21476                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 21477                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 21478                        ;
 21479                        ;	i = k_draw_text_point(((PMENU)hMenu)->pCaption,(
                    (PMENU)hMenu)->cx+2+metric.width,titleOffsetY,bgcolor);
 21480                        	.line	3649
 21481 06:54BB: D4 28        	pei	<L955+bgcolor_0
 21482 06:54BD: D4 15        	pei	<L956+titleOffsetY_1
 21483 06:54BF: 18           	clc
 21484 06:54C0: A7 22        	lda	[<L955+hMenu_0]
 21485 06:54C2: 65 09        	adc	<L956+metric_1
 21486 06:54C4: 85 01        	sta	<R0
 21487 06:54C6: 18           	clc
 21488 06:54C7: A9 02 00     	lda	#$2
 21489 06:54CA: 65 01        	adc	<R0
 21490 06:54CC: 48           	pha
 21491 06:54CD: A0 15 00     	ldy	#$15
 21492 06:54D0: B7 22        	lda	[<L955+hMenu_0],Y
 21493 06:54D2: 48           	pha
 21494 06:54D3: A0 13 00     	ldy	#$13
 21495 06:54D6: B7 22        	lda	[<L955+hMenu_0],Y
 21496 06:54D8: 48           	pha
 21497 06:54D9: 22 E1 1F 06  	jsl	~~k_draw_text_point
 21498 06:54DD: 85 0D        	sta	<L956+i_1
 21499                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 21500                        ;
 21501                        ;
 21502                        ;	return NULL;
 21503                        	.line	3653
 21504 06:54DF: A9 00 00     	lda	#$0
 21505 06:54E2: AA           	tax
 21506 06:54E3: A9 00 00     	lda	#$0
 21507                        L960:
 21508 06:54E6: A8           	tay
 21509 06:54E7: A5 20        	lda	<L955+2
 21510 06:54E9: 85 28        	sta	<L955+2+8
 21511 06:54EB: A5 1F        	lda	<L955+1
 21512 06:54ED: 85 27        	sta	<L955+1+8
 21513 06:54EF: 2B           	pld
 21514 06:54F0: 3B           	tsc
 21515 06:54F1: 18           	clc
 21516 06:54F2: 69 26 00     	adc	#L955+8
 21517 06:54F5: 1B           	tcs
 21518 06:54F6: 98           	tya
 21519 06:54F7: 6B           	rtl
 21520                        ;}
 21521                        	.line	3654
 21522                        	.endblock	3654
 21523             0000001E   L955	equ	30
  Mon Aug  9 2021 16:52                                                Page 398


 21524             00000009   L956	equ	9
 21525 06:54F8:              	ends
 21526                        	efunc
 21527                        	.endfunc	3654,9,30
 21528                        	.line	3654
 21529                        ;
 21530                        ;PMENU k_vdraw_ui_menu(int cx,int cy,int width,int
                     height,LPCSTR title,int color, int bgcolor)
 21531                        ;{
 21532                        	.line	3656
 21533                        	.line	3657
 21534                        	GFX
 21535                        	xdef	~~k_vdraw_ui_menu
 21536                        	func
 21537                        	.function	3657
 21538                        ~~k_vdraw_ui_menu:
 21539                        	longa	on
 21540                        	longi	on
 21541 06:54F8: 3B           	tsc
 21542 06:54F9: 38           	sec
 21543 06:54FA: E9 04 00     	sbc	#L961
 21544 06:54FD: 1B           	tcs
 21545 06:54FE: 0B           	phd
 21546 06:54FF: 5B           	tcd
 21547             00000004   cx_0	set	4
 21548             00000006   cy_0	set	6
 21549             00000008   width_0	set	8
 21550             0000000A   height_0	set	10
 21551             0000000C   title_0	set	12
 21552             00000010   color_0	set	16
 21553             00000012   bgcolor_0	set	18
 21554                        	.block	3657
 21555                        ;	return k_vdraw_ui_menu_ex(cx,cy,width,height,tit
                    le,color,bgcolor,BITMAP_BACK);
 21556                        	.sym	cx,4,5,6,16
 21557                        	.sym	cy,6,5,6,16
 21558                        	.sym	width,8,5,6,16
 21559                        	.sym	height,10,5,6,16
 21560                        	.sym	title,12,142,6,32
 21561                        	.sym	color,16,5,6,16
 21562                        	.sym	bgcolor,18,5,6,16
 21563                        	.line	3658
 21564 06:5500: F4 08 00     	pea	#<$8
 21565 06:5503: D4 16        	pei	<L961+bgcolor_0
 21566 06:5505: D4 14        	pei	<L961+color_0
 21567 06:5507: D4 12        	pei	<L961+title_0+2
 21568 06:5509: D4 10        	pei	<L961+title_0
 21569 06:550B: D4 0E        	pei	<L961+height_0
 21570 06:550D: D4 0C        	pei	<L961+width_0
 21571 06:550F: D4 0A        	pei	<L961+cy_0
 21572 06:5511: D4 08        	pei	<L961+cx_0
 21573 06:5513: 22 31 55 06  	jsl	~~k_vdraw_ui_menu_ex
 21574 06:5517: 85 01        	sta	<R0
 21575 06:5519: 86 03        	stx	<R0+2
 21576 06:551B: A6 03        	ldx	<R0+2
 21577 06:551D: A5 01        	lda	<R0
 21578                        L964:
 21579 06:551F: A8           	tay
  Mon Aug  9 2021 16:52                                                Page 399


 21580 06:5520: A5 06        	lda	<L961+2
 21581 06:5522: 85 16        	sta	<L961+2+16
 21582 06:5524: A5 05        	lda	<L961+1
 21583 06:5526: 85 15        	sta	<L961+1+16
 21584 06:5528: 2B           	pld
 21585 06:5529: 3B           	tsc
 21586 06:552A: 18           	clc
 21587 06:552B: 69 14 00     	adc	#L961+16
 21588 06:552E: 1B           	tcs
 21589 06:552F: 98           	tya
 21590 06:5530: 6B           	rtl
 21591                        ;}
 21592                        	.line	3659
 21593                        	.endblock	3659
 21594             00000004   L961	equ	4
 21595             00000005   L962	equ	5
 21596 06:5531:              	ends
 21597                        	efunc
 21598                        	.endfunc	3659,5,4
 21599                        	.line	3659
 21600                        ;
 21601                        ;PMENU k_vdraw_ui_menu_ex(int cx,int cy,int width,
                    int height,LPCSTR title,int color, int bgcolor,UINT page)
 21602                        ;{
 21603                        	.line	3661
 21604                        	.line	3662
 21605                        	GFX
 21606                        	xdef	~~k_vdraw_ui_menu_ex
 21607                        	func
 21608                        	.function	3662
 21609                        ~~k_vdraw_ui_menu_ex:
 21610                        	longa	on
 21611                        	longi	on
 21612 06:5531: 3B           	tsc
 21613 06:5532: 38           	sec
 21614 06:5533: E9 1E 00     	sbc	#L965
 21615 06:5536: 1B           	tcs
 21616 06:5537: 0B           	phd
 21617 06:5538: 5B           	tcd
 21618             00000004   cx_0	set	4
 21619             00000006   cy_0	set	6
 21620             00000008   width_0	set	8
 21621             0000000A   height_0	set	10
 21622             0000000C   title_0	set	12
 21623             00000010   color_0	set	16
 21624             00000012   bgcolor_0	set	18
 21625             00000014   page_0	set	20
 21626                        	.block	3662
 21627                        ;	FONTMETRIC metric;
 21628                        ;	
 21629                        ;	int i = 0;
 21630                        ;	
 21631                        ;	int borderTitle = 10;
 21632                        ;	int borderWidth = 3;
 21633                        ;
 21634                        ;	int titleOffsetX = cx+2;
 21635                        ;	int titleOffsetY = cy+2;
 21636                        ;	int titleScaler = 0;
  Mon Aug  9 2021 16:52                                                Page 400


 21637                        ;	
 21638                        ;	int clientOffsetX = cx+borderWidth+2;
 21639                        ;	int clientOffsetY = cy+borderTitle+1;
 21640                        ;	
 21641                        ;	int endX = width + cx - borderWidth;
 21642                        ;	
 21643                        ;
 21644                        ;	k_get_font_metrics(&metric);
 21645             00000000   metric_1	set	0
 21646             00000004   i_1	set	4
 21647             00000006   borderTitle_1	set	6
 21648             00000008   borderWidth_1	set	8
 21649             0000000A   titleOffsetX_1	set	10
 21650             0000000C   titleOffsetY_1	set	12
 21651             0000000E   titleScaler_1	set	14
 21652             00000010   clientOffsetX_1	set	16
 21653             00000012   clientOffsetY_1	set	18
 21654             00000014   endX_1	set	20
 21655                        	.sym	metric,0,10,1,32,35
 21656                        	.sym	i,4,5,1,16
 21657                        	.sym	borderTitle,6,5,1,16
 21658                        	.sym	borderWidth,8,5,1,16
 21659                        	.sym	titleOffsetX,10,5,1,16
 21660                        	.sym	titleOffsetY,12,5,1,16
 21661                        	.sym	titleScaler,14,5,1,16
 21662                        	.sym	clientOffsetX,16,5,1,16
 21663                        	.sym	clientOffsetY,18,5,1,16
 21664                        	.sym	endX,20,5,1,16
 21665                        	.sym	cx,4,5,6,16
 21666                        	.sym	cy,6,5,6,16
 21667                        	.sym	width,8,5,6,16
 21668                        	.sym	height,10,5,6,16
 21669                        	.sym	title,12,142,6,32
 21670                        	.sym	color,16,5,6,16
 21671                        	.sym	bgcolor,18,5,6,16
 21672                        	.sym	page,20,16,6,16
 21673 06:5539: 64 0D        	stz	<L966+i_1
 21674 06:553B: A9 0A 00     	lda	#$a
 21675 06:553E: 85 0F        	sta	<L966+borderTitle_1
 21676 06:5540: A9 03 00     	lda	#$3
 21677 06:5543: 85 11        	sta	<L966+borderWidth_1
 21678 06:5545: 18           	clc
 21679 06:5546: A9 02 00     	lda	#$2
 21680 06:5549: 65 22        	adc	<L965+cx_0
 21681 06:554B: 85 13        	sta	<L966+titleOffsetX_1
 21682 06:554D: 18           	clc
 21683 06:554E: A9 02 00     	lda	#$2
 21684 06:5551: 65 24        	adc	<L965+cy_0
 21685 06:5553: 85 15        	sta	<L966+titleOffsetY_1
 21686 06:5555: 64 17        	stz	<L966+titleScaler_1
 21687 06:5557: 18           	clc
 21688 06:5558: A5 22        	lda	<L965+cx_0
 21689 06:555A: 65 11        	adc	<L966+borderWidth_1
 21690 06:555C: 85 01        	sta	<R0
 21691 06:555E: 18           	clc
 21692 06:555F: A9 02 00     	lda	#$2
 21693 06:5562: 65 01        	adc	<R0
 21694 06:5564: 85 19        	sta	<L966+clientOffsetX_1
  Mon Aug  9 2021 16:52                                                Page 401


 21695 06:5566: 18           	clc
 21696 06:5567: A5 24        	lda	<L965+cy_0
 21697 06:5569: 65 0F        	adc	<L966+borderTitle_1
 21698 06:556B: 85 01        	sta	<R0
 21699 06:556D: A5 01        	lda	<R0
 21700 06:556F: 1A           	ina
 21701 06:5570: 85 1B        	sta	<L966+clientOffsetY_1
 21702 06:5572: 18           	clc
 21703 06:5573: A5 26        	lda	<L965+width_0
 21704 06:5575: 65 22        	adc	<L965+cx_0
 21705 06:5577: 85 01        	sta	<R0
 21706 06:5579: 38           	sec
 21707 06:557A: A5 01        	lda	<R0
 21708 06:557C: E5 11        	sbc	<L966+borderWidth_1
 21709 06:557E: 85 1D        	sta	<L966+endX_1
 21710                        	.line	3680
 21711 06:5580: F4 00 00     	pea	#0
 21712 06:5583: 18           	clc
 21713 06:5584: 7B           	tdc
 21714 06:5585: 69 09 00     	adc	#<L966+metric_1
 21715 06:5588: 48           	pha
 21716 06:5589: 22 B8 23 06  	jsl	~~k_get_font_metrics
 21717                        ;
 21718                        ;	//k_debug_integer("k_vdraw_ui_menu::width:",widt
                    h);
 21719                        ;	//k_debug_integer("k_vdraw_ui_menu::height:",hei
                    ght);
 21720                        ;	//k_debug_strings("k_vdraw_ui_menu::title:",(LPS
                    TR)title);
 21721                        ;	//k_debug_integer("k_vdraw_ui_menu::bgcolor:",bg
                    color);
 21722                        ;
 21723                        ;	//int height = 0;
 21724                        ;	/*
 21725                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 21726                        ;	memset(menu,0,sizeof(MENU));
 21727                        ;
 21728                        ;	menu->cx = cx;
 21729                        ;	menu->cy = cy;
 21730                        ;	menu->fcolor = color;
 21731                        ;	menu->bcolor = bgcolor;
 21732                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 21733                        ;
 21734                        ;	k_get_font_metrics(&metric);
 21735                        ;	
 21736                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 21737                        ;
 21738                        ;	menu->height = height;
 21739                        ;	menu->width  = width;
 21740                        ;
 21741                        ;
 21742                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 21743                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
  Mon Aug  9 2021 16:52                                                Page 402


 21744                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 21745                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 21746                        ;	*/
 21747                        ;
 21748                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 21749                        ;
 21750                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 21751                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,0,BITMAP
                    _FRONT);//k_getUIMenuColor());
 21752                        	.line	3715
 21753 06:558D: F4 00 00     	pea	#<$0
 21754 06:5590: F4 00 00     	pea	#<$0
 21755 06:5593: D4 28        	pei	<L965+height_0
 21756 06:5595: D4 26        	pei	<L965+width_0
 21757 06:5597: A0 00 00     	ldy	#$0
 21758 06:559A: A5 24        	lda	<L965+cy_0
 21759 06:559C: 10 01        	bpl	L968
 21760 06:559E: 88           	dey
 21761                        L968:
 21762 06:559F: 85 01        	sta	<R0
 21763 06:55A1: 84 03        	sty	<R0+2
 21764 06:55A3: D4 03        	pei	<R0+2
 21765 06:55A5: D4 01        	pei	<R0
 21766 06:55A7: A0 00 00     	ldy	#$0
 21767 06:55AA: A5 22        	lda	<L965+cx_0
 21768 06:55AC: 10 01        	bpl	L969
 21769 06:55AE: 88           	dey
 21770                        L969:
 21771 06:55AF: 85 05        	sta	<R1
 21772 06:55B1: 84 07        	sty	<R1+2
 21773 06:55B3: D4 07        	pei	<R1+2
 21774 06:55B5: D4 05        	pei	<R1
 21775 06:55B7: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 21776                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,bgcolor,
                    BITMAP_BACK);
 21777                        	.line	3716
 21778 06:55BB: F4 08 00     	pea	#<$8
 21779 06:55BE: D4 30        	pei	<L965+bgcolor_0
 21780 06:55C0: D4 28        	pei	<L965+height_0
 21781 06:55C2: D4 26        	pei	<L965+width_0
 21782 06:55C4: A0 00 00     	ldy	#$0
 21783 06:55C7: A5 24        	lda	<L965+cy_0
 21784 06:55C9: 10 01        	bpl	L970
 21785 06:55CB: 88           	dey
 21786                        L970:
 21787 06:55CC: 85 01        	sta	<R0
 21788 06:55CE: 84 03        	sty	<R0+2
 21789 06:55D0: D4 03        	pei	<R0+2
 21790 06:55D2: D4 01        	pei	<R0
 21791 06:55D4: A0 00 00     	ldy	#$0
 21792 06:55D7: A5 22        	lda	<L965+cx_0
 21793 06:55D9: 10 01        	bpl	L971
 21794 06:55DB: 88           	dey
 21795                        L971:
 21796 06:55DC: 85 05        	sta	<R1
  Mon Aug  9 2021 16:52                                                Page 403


 21797 06:55DE: 84 07        	sty	<R1+2
 21798 06:55E0: D4 07        	pei	<R1+2
 21799 06:55E2: D4 05        	pei	<R1
 21800 06:55E4: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 21801                        ;	//k_delay(15);
 21802                        ;	
 21803                        ;	//title = strupr(title);
 21804                        ;	
 21805                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);	
 21806                        ;	/*
 21807                        ;	titleScaler = (int)(width / metric.width - 4);
 21808                        ;	for(i=0;i<titleScaler;i++)
 21809                        ;	{
 21810                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 21811                        ;	}*/
 21812                        ;
 21813                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,color);//k_getUIGadgetColo
                    r());
 21814                        	.line	3729
 21815 06:55E8: D4 2E        	pei	<L965+color_0
 21816 06:55EA: D4 15        	pei	<L966+titleOffsetY_1
 21817 06:55EC: A5 09        	lda	<L966+metric_1
 21818 06:55EE: 0A           	asl	A
 21819 06:55EF: 85 01        	sta	<R0
 21820 06:55F1: 18           	clc
 21821 06:55F2: A9 02 00     	lda	#$2
 21822 06:55F5: 65 01        	adc	<R0
 21823 06:55F7: 85 05        	sta	<R1
 21824 06:55F9: 38           	sec
 21825 06:55FA: A5 1D        	lda	<L966+endX_1
 21826 06:55FC: E5 05        	sbc	<R1
 21827 06:55FE: 48           	pha
 21828 06:55FF: F4 04 00     	pea	#<$4
 21829 06:5602: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 21830                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,color);//k_getUIGadgetColor());
 21831                        	.line	3730
 21832 06:5606: D4 2E        	pei	<L965+color_0
 21833 06:5608: D4 15        	pei	<L966+titleOffsetY_1
 21834 06:560A: 38           	sec
 21835 06:560B: A5 1D        	lda	<L966+endX_1
 21836 06:560D: E5 09        	sbc	<L966+metric_1
 21837 06:560F: 48           	pha
 21838 06:5610: F4 03 00     	pea	#<$3
 21839 06:5613: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 21840                        ;
 21841                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 21842                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 21843                        ;
 21844                        ;	if(title)
 21845                        	.line	3735
  Mon Aug  9 2021 16:52                                                Page 404


 21846                        ;		i = k_draw_text_point(title,cx+2+metric.
                    width,titleOffsetY,color);//k_getUIGadgetColor());
 21847 06:5617: A5 2A        	lda	<L965+title_0
 21848 06:5619: 05 2C        	ora	<L965+title_0+2
 21849 06:561B: D0 03        	bne	L972
 21850 06:561D: 82 1C 00     	brl	L10398
 21851                        L972:
 21852                        	.line	3736
 21853 06:5620: D4 2E        	pei	<L965+color_0
 21854 06:5622: D4 15        	pei	<L966+titleOffsetY_1
 21855 06:5624: 18           	clc
 21856 06:5625: A5 22        	lda	<L965+cx_0
 21857 06:5627: 65 09        	adc	<L966+metric_1
 21858 06:5629: 85 01        	sta	<R0
 21859 06:562B: 18           	clc
 21860 06:562C: A9 02 00     	lda	#$2
 21861 06:562F: 65 01        	adc	<R0
 21862 06:5631: 48           	pha
 21863 06:5632: D4 2C        	pei	<L965+title_0+2
 21864 06:5634: D4 2A        	pei	<L965+title_0
 21865 06:5636: 22 E1 1F 06  	jsl	~~k_draw_text_point
 21866 06:563A: 85 0D        	sta	<L966+i_1
 21867                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 21868                        ;
 21869                        ;	
 21870                        ;	return NULL;
 21871                        L10398:
 21872                        	.line	3740
 21873 06:563C: A9 00 00     	lda	#$0
 21874 06:563F: AA           	tax
 21875 06:5640: A9 00 00     	lda	#$0
 21876                        L973:
 21877 06:5643: A8           	tay
 21878 06:5644: A5 20        	lda	<L965+2
 21879 06:5646: 85 32        	sta	<L965+2+18
 21880 06:5648: A5 1F        	lda	<L965+1
 21881 06:564A: 85 31        	sta	<L965+1+18
 21882 06:564C: 2B           	pld
 21883 06:564D: 3B           	tsc
 21884 06:564E: 18           	clc
 21885 06:564F: 69 30 00     	adc	#L965+18
 21886 06:5652: 1B           	tcs
 21887 06:5653: 98           	tya
 21888 06:5654: 6B           	rtl
 21889                        ;}
 21890                        	.line	3741
 21891                        	.endblock	3741
 21892             0000001E   L965	equ	30
 21893             00000009   L966	equ	9
 21894 06:5655:              	ends
 21895                        	efunc
 21896                        	.endfunc	3741,9,30
 21897                        	.line	3741
 21898                        ;
 21899                        ;
 21900                        ;PMENU k_vdraw_ui_menu_with_rect(int cx,int cy,int
                     width,int height,LPCSTR title,int color, int bgcolor,LPVOID
  Mon Aug  9 2021 16:52                                                Page 405


                     *prects)
 21901                        ;{
 21902                        	.line	3744
 21903                        	.line	3745
 21904                        	GFX
 21905                        	xdef	~~k_vdraw_ui_menu_with_rect
 21906                        	func
 21907                        	.function	3745
 21908                        ~~k_vdraw_ui_menu_with_rect:
 21909                        	longa	on
 21910                        	longi	on
 21911 06:5655: 3B           	tsc
 21912 06:5656: 38           	sec
 21913 06:5657: E9 1E 00     	sbc	#L974
 21914 06:565A: 1B           	tcs
 21915 06:565B: 0B           	phd
 21916 06:565C: 5B           	tcd
 21917             00000004   cx_0	set	4
 21918             00000006   cy_0	set	6
 21919             00000008   width_0	set	8
 21920             0000000A   height_0	set	10
 21921             0000000C   title_0	set	12
 21922             00000010   color_0	set	16
 21923             00000012   bgcolor_0	set	18
 21924             00000014   prects_0	set	20
 21925                        	.block	3745
 21926                        ;	FONTMETRIC metric;
 21927                        ;
 21928                        ;	int i = 0;
 21929                        ;
 21930                        ;	int borderTitle = 10;
 21931                        ;	int borderWidth = 3;
 21932                        ;
 21933                        ;	int titleOffsetX = cx+2;
 21934                        ;	int titleOffsetY = cy+2;
 21935                        ;	int titleScaler = 0;
 21936                        ;
 21937                        ;	int clientOffsetX = cx+borderWidth+2;
 21938                        ;	int clientOffsetY = cy+borderTitle+1;
 21939                        ;
 21940                        ;	int endX = width + cx - borderWidth;
 21941                        ;
 21942                        ;
 21943                        ;	k_get_font_metrics(&metric);
 21944             00000000   metric_1	set	0
 21945             00000004   i_1	set	4
 21946             00000006   borderTitle_1	set	6
 21947             00000008   borderWidth_1	set	8
 21948             0000000A   titleOffsetX_1	set	10
 21949             0000000C   titleOffsetY_1	set	12
 21950             0000000E   titleScaler_1	set	14
 21951             00000010   clientOffsetX_1	set	16
 21952             00000012   clientOffsetY_1	set	18
 21953             00000014   endX_1	set	20
 21954                        	.sym	metric,0,10,1,32,35
 21955                        	.sym	i,4,5,1,16
 21956                        	.sym	borderTitle,6,5,1,16
 21957                        	.sym	borderWidth,8,5,1,16
  Mon Aug  9 2021 16:52                                                Page 406


 21958                        	.sym	titleOffsetX,10,5,1,16
 21959                        	.sym	titleOffsetY,12,5,1,16
 21960                        	.sym	titleScaler,14,5,1,16
 21961                        	.sym	clientOffsetX,16,5,1,16
 21962                        	.sym	clientOffsetY,18,5,1,16
 21963                        	.sym	endX,20,5,1,16
 21964                        	.sym	cx,4,5,6,16
 21965                        	.sym	cy,6,5,6,16
 21966                        	.sym	width,8,5,6,16
 21967                        	.sym	height,10,5,6,16
 21968                        	.sym	title,12,142,6,32
 21969                        	.sym	color,16,5,6,16
 21970                        	.sym	bgcolor,18,5,6,16
 21971                        	.sym	prects,20,1153,6,32
 21972 06:565D: 64 0D        	stz	<L975+i_1
 21973 06:565F: A9 0A 00     	lda	#$a
 21974 06:5662: 85 0F        	sta	<L975+borderTitle_1
 21975 06:5664: A9 03 00     	lda	#$3
 21976 06:5667: 85 11        	sta	<L975+borderWidth_1
 21977 06:5669: 18           	clc
 21978 06:566A: A9 02 00     	lda	#$2
 21979 06:566D: 65 22        	adc	<L974+cx_0
 21980 06:566F: 85 13        	sta	<L975+titleOffsetX_1
 21981 06:5671: 18           	clc
 21982 06:5672: A9 02 00     	lda	#$2
 21983 06:5675: 65 24        	adc	<L974+cy_0
 21984 06:5677: 85 15        	sta	<L975+titleOffsetY_1
 21985 06:5679: 64 17        	stz	<L975+titleScaler_1
 21986 06:567B: 18           	clc
 21987 06:567C: A5 22        	lda	<L974+cx_0
 21988 06:567E: 65 11        	adc	<L975+borderWidth_1
 21989 06:5680: 85 01        	sta	<R0
 21990 06:5682: 18           	clc
 21991 06:5683: A9 02 00     	lda	#$2
 21992 06:5686: 65 01        	adc	<R0
 21993 06:5688: 85 19        	sta	<L975+clientOffsetX_1
 21994 06:568A: 18           	clc
 21995 06:568B: A5 24        	lda	<L974+cy_0
 21996 06:568D: 65 0F        	adc	<L975+borderTitle_1
 21997 06:568F: 85 01        	sta	<R0
 21998 06:5691: A5 01        	lda	<R0
 21999 06:5693: 1A           	ina
 22000 06:5694: 85 1B        	sta	<L975+clientOffsetY_1
 22001 06:5696: 18           	clc
 22002 06:5697: A5 26        	lda	<L974+width_0
 22003 06:5699: 65 22        	adc	<L974+cx_0
 22004 06:569B: 85 01        	sta	<R0
 22005 06:569D: 38           	sec
 22006 06:569E: A5 01        	lda	<R0
 22007 06:56A0: E5 11        	sbc	<L975+borderWidth_1
 22008 06:56A2: 85 1D        	sta	<L975+endX_1
 22009                        	.line	3763
 22010 06:56A4: F4 00 00     	pea	#0
 22011 06:56A7: 18           	clc
 22012 06:56A8: 7B           	tdc
 22013 06:56A9: 69 09 00     	adc	#<L975+metric_1
 22014 06:56AC: 48           	pha
 22015 06:56AD: 22 B8 23 06  	jsl	~~k_get_font_metrics
  Mon Aug  9 2021 16:52                                                Page 407


 22016                        ;
 22017                        ;
 22018                        ;	//int height = 0;
 22019                        ;	/*
 22020                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 22021                        ;	memset(menu,0,sizeof(MENU));
 22022                        ;
 22023                        ;	menu->cx = cx;
 22024                        ;	menu->cy = cy;
 22025                        ;	menu->fcolor = color;
 22026                        ;	menu->bcolor = bgcolor;
 22027                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 22028                        ;
 22029                        ;	k_get_font_metrics(&metric);
 22030                        ;
 22031                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 22032                        ;
 22033                        ;	menu->height = height;
 22034                        ;	menu->width  = width;
 22035                        ;
 22036                        ;
 22037                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 22038                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 22039                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 22040                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 22041                        ;	*/
 22042                        ;
 22043                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 22044                        ;
 22045                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 22046                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 22047                        	.line	3794
 22048 06:56B1: D4 2E        	pei	<L974+color_0
 22049 06:56B3: D4 28        	pei	<L974+height_0
 22050 06:56B5: D4 26        	pei	<L974+width_0
 22051 06:56B7: A0 00 00     	ldy	#$0
 22052 06:56BA: A5 24        	lda	<L974+cy_0
 22053 06:56BC: 10 01        	bpl	L977
 22054 06:56BE: 88           	dey
 22055                        L977:
 22056 06:56BF: 85 01        	sta	<R0
 22057 06:56C1: 84 03        	sty	<R0+2
 22058 06:56C3: D4 03        	pei	<R0+2
 22059 06:56C5: D4 01        	pei	<R0
 22060 06:56C7: A0 00 00     	ldy	#$0
 22061 06:56CA: A5 22        	lda	<L974+cx_0
 22062 06:56CC: 10 01        	bpl	L978
 22063 06:56CE: 88           	dey
 22064                        L978:
 22065 06:56CF: 85 05        	sta	<R1
  Mon Aug  9 2021 16:52                                                Page 408


 22066 06:56D1: 84 07        	sty	<R1+2
 22067 06:56D3: D4 07        	pei	<R1+2
 22068 06:56D5: D4 05        	pei	<R1
 22069 06:56D7: 22 C6 5F 06  	jsl	~~k_vdma_fill_rect
 22070                        ;
 22071                        ;	//k_delay(15);
 22072                        ;
 22073                        ;	//title = strupr(title);
 22074                        ;
 22075                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 22076                        ;	/*
 22077                        ;	titleScaler = (int)(width / metric.width - 4);
 22078                        ;	for(i=0;i<titleScaler;i++)
 22079                        ;	{
 22080                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 22081                        ;	}*/
 22082                        ;
 22083                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 22084                        	.line	3808
 22085 06:56DB: F4 0E 00     	pea	#<$e
 22086 06:56DE: D4 15        	pei	<L975+titleOffsetY_1
 22087 06:56E0: A5 09        	lda	<L975+metric_1
 22088 06:56E2: 0A           	asl	A
 22089 06:56E3: 85 01        	sta	<R0
 22090 06:56E5: 18           	clc
 22091 06:56E6: A9 02 00     	lda	#$2
 22092 06:56E9: 65 01        	adc	<R0
 22093 06:56EB: 85 05        	sta	<R1
 22094 06:56ED: 38           	sec
 22095 06:56EE: A5 1D        	lda	<L975+endX_1
 22096 06:56F0: E5 05        	sbc	<R1
 22097 06:56F2: 48           	pha
 22098 06:56F3: F4 04 00     	pea	#<$4
 22099 06:56F6: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 22100                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 22101                        	.line	3809
 22102 06:56FA: F4 0E 00     	pea	#<$e
 22103 06:56FD: D4 15        	pei	<L975+titleOffsetY_1
 22104 06:56FF: 38           	sec
 22105 06:5700: A5 1D        	lda	<L975+endX_1
 22106 06:5702: E5 09        	sbc	<L975+metric_1
 22107 06:5704: 48           	pha
 22108 06:5705: F4 03 00     	pea	#<$3
 22109 06:5708: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 22110                        ;
 22111                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 22112                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 22113                        ;
 22114                        ;	//i = k_draw_text_point(title,cx+2+metric.width,
                    titleOffsetY,bgcolor);
  Mon Aug  9 2021 16:52                                                Page 409


 22115                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 22116                        ;
 22117                        ;
 22118                        ;	return NULL;
 22119                        	.line	3818
 22120 06:570C: A9 00 00     	lda	#$0
 22121 06:570F: AA           	tax
 22122 06:5710: A9 00 00     	lda	#$0
 22123                        L979:
 22124 06:5713: A8           	tay
 22125 06:5714: A5 20        	lda	<L974+2
 22126 06:5716: 85 34        	sta	<L974+2+20
 22127 06:5718: A5 1F        	lda	<L974+1
 22128 06:571A: 85 33        	sta	<L974+1+20
 22129 06:571C: 2B           	pld
 22130 06:571D: 3B           	tsc
 22131 06:571E: 18           	clc
 22132 06:571F: 69 32 00     	adc	#L974+20
 22133 06:5722: 1B           	tcs
 22134 06:5723: 98           	tya
 22135 06:5724: 6B           	rtl
 22136                        ;}
 22137                        	.line	3819
 22138                        	.endblock	3819
 22139             0000001E   L974	equ	30
 22140             00000009   L975	equ	9
 22141 06:5725:              	ends
 22142                        	efunc
 22143                        	.endfunc	3819,9,30
 22144                        	.line	3819
 22145                        ;
 22146                        ;
 22147                        ;
 22148                        ;void k_gadget_title_front_callback(PWINDOW gadget
                    Window)
 22149                        ;{
 22150                        	.line	3823
 22151                        	.line	3824
 22152                        	GFX
 22153                        	xdef	~~k_gadget_title_front_callback
 22154                        	func
 22155                        	.function	3824
 22156                        ~~k_gadget_title_front_callback:
 22157                        	longa	on
 22158                        	longi	on
 22159 06:5725: 3B           	tsc
 22160 06:5726: 38           	sec
 22161 06:5727: E9 04 00     	sbc	#L980
 22162 06:572A: 1B           	tcs
 22163 06:572B: 0B           	phd
 22164 06:572C: 5B           	tcd
 22165             00000004   gadgetWindow_0	set	4
 22166                        	.block	3824
 22167                        ;	k_debug_message("k_gadget_title_front_callback:c
                    licked:",gadgetWindow->win_class);
 22168                        	.sym	gadgetWindow,4,138,6,32,33
 22169                        	.line	3825
  Mon Aug  9 2021 16:52                                                Page 410


 22170 06:572D: 18           	clc
 22171 06:572E: A9 6E 01     	lda	#$16e
 22172 06:5731: 65 08        	adc	<L980+gadgetWindow_0
 22173 06:5733: 85 01        	sta	<R0
 22174 06:5735: A9 00 00     	lda	#$0
 22175 06:5738: 65 0A        	adc	<L980+gadgetWindow_0+2
 22176 06:573A: 85 03        	sta	<R0+2
 22177 06:573C: D4 03        	pei	<R0+2
 22178 06:573E: D4 01        	pei	<R0
 22179 06:5740: F4 xx xx     	pea	#^L954
 22180 06:5743: F4 xx xx     	pea	#<L954
 22181 06:5746: 22 xx xx xx  	jsl	~~k_debug_message
 22182                        ;	k_send_message(NULL,FX_WINDOW_TOFRONT,NULL,0);
 22183                        	.line	3826
 22184 06:574A: F4 00 00     	pea	#<$0
 22185 06:574D: F4 00 00     	pea	#^$0
 22186 06:5750: F4 00 00     	pea	#<$0
 22187 06:5753: F4 30 0F     	pea	#<$f30
 22188 06:5756: F4 00 00     	pea	#^$0
 22189 06:5759: F4 00 00     	pea	#<$0
 22190 06:575C: 22 xx xx xx  	jsl	~~k_send_message
 22191                        ;	return;
 22192                        	.line	3827
 22193                        L983:
 22194 06:5760: A5 06        	lda	<L980+2
 22195 06:5762: 85 0A        	sta	<L980+2+4
 22196 06:5764: A5 05        	lda	<L980+1
 22197 06:5766: 85 09        	sta	<L980+1+4
 22198 06:5768: 2B           	pld
 22199 06:5769: 3B           	tsc
 22200 06:576A: 18           	clc
 22201 06:576B: 69 08 00     	adc	#L980+4
 22202 06:576E: 1B           	tcs
 22203 06:576F: 6B           	rtl
 22204                        ;}
 22205                        	.line	3828
 22206                        	.endblock	3828
 22207             00000004   L980	equ	4
 22208             00000005   L981	equ	5
 22209 06:5770:              	ends
 22210                        	efunc
 22211                        	.endfunc	3828,5,4
 22212                        	.line	3828
 22213                        	data
 22214                        L954:
 22215 00:0928: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:092C: 64 67 65 74 
       00:0930: 5F 74 69 74 
       00:0934: 6C 65 5F 
 22216 00:0937: 66 72 6F 6E  	db	$66,$72,$6F,$6E,$74,$5F,$63,$61,$6C,$6C,
                    $62,$61,$63,$6B,$3A
       00:093B: 74 5F 63 61 
       00:093F: 6C 6C 62 61 
       00:0943: 63 6B 3A 
 22217 00:0946: 63 6C 69 63  	db	$63,$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:094A: 6B 65 64 3A 
       00:094E: 00 
  Mon Aug  9 2021 16:52                                                Page 411


 22218 00:094F:              	ends
 22219                        ;
 22220                        ;void k_gadget_title_back_callback(PWINDOW gadgetW
                    indow)
 22221                        ;{
 22222                        	.line	3830
 22223                        	.line	3831
 22224                        	GFX
 22225                        	xdef	~~k_gadget_title_back_callback
 22226                        	func
 22227                        	.function	3831
 22228                        ~~k_gadget_title_back_callback:
 22229                        	longa	on
 22230                        	longi	on
 22231 06:5770: 3B           	tsc
 22232 06:5771: 38           	sec
 22233 06:5772: E9 04 00     	sbc	#L985
 22234 06:5775: 1B           	tcs
 22235 06:5776: 0B           	phd
 22236 06:5777: 5B           	tcd
 22237             00000004   gadgetWindow_0	set	4
 22238                        	.block	3831
 22239                        ;	k_debug_message("k_gadget_title_back_callback:cl
                    icked:",gadgetWindow->win_class);
 22240                        	.sym	gadgetWindow,4,138,6,32,33
 22241                        	.line	3832
 22242 06:5778: 18           	clc
 22243 06:5779: A9 6E 01     	lda	#$16e
 22244 06:577C: 65 08        	adc	<L985+gadgetWindow_0
 22245 06:577E: 85 01        	sta	<R0
 22246 06:5780: A9 00 00     	lda	#$0
 22247 06:5783: 65 0A        	adc	<L985+gadgetWindow_0+2
 22248 06:5785: 85 03        	sta	<R0+2
 22249 06:5787: D4 03        	pei	<R0+2
 22250 06:5789: D4 01        	pei	<R0
 22251 06:578B: F4 xx xx     	pea	#^L984
 22252 06:578E: F4 xx xx     	pea	#<L984
 22253 06:5791: 22 xx xx xx  	jsl	~~k_debug_message
 22254                        ;	k_send_message(NULL,FX_WINDOW_TOBACK,NULL,0);
 22255                        	.line	3833
 22256 06:5795: F4 00 00     	pea	#<$0
 22257 06:5798: F4 00 00     	pea	#^$0
 22258 06:579B: F4 00 00     	pea	#<$0
 22259 06:579E: F4 31 0F     	pea	#<$f31
 22260 06:57A1: F4 00 00     	pea	#^$0
 22261 06:57A4: F4 00 00     	pea	#<$0
 22262 06:57A7: 22 xx xx xx  	jsl	~~k_send_message
 22263                        ;	return;
 22264                        	.line	3834
 22265                        L988:
 22266 06:57AB: A5 06        	lda	<L985+2
 22267 06:57AD: 85 0A        	sta	<L985+2+4
 22268 06:57AF: A5 05        	lda	<L985+1
 22269 06:57B1: 85 09        	sta	<L985+1+4
 22270 06:57B3: 2B           	pld
 22271 06:57B4: 3B           	tsc
 22272 06:57B5: 18           	clc
 22273 06:57B6: 69 08 00     	adc	#L985+4
  Mon Aug  9 2021 16:52                                                Page 412


 22274 06:57B9: 1B           	tcs
 22275 06:57BA: 6B           	rtl
 22276                        ;}
 22277                        	.line	3835
 22278                        	.endblock	3835
 22279             00000004   L985	equ	4
 22280             00000005   L986	equ	5
 22281 06:57BB:              	ends
 22282                        	efunc
 22283                        	.endfunc	3835,5,4
 22284                        	.line	3835
 22285                        	data
 22286                        L984:
 22287 00:094F: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:0953: 64 67 65 74 
       00:0957: 5F 74 69 74 
       00:095B: 6C 65 5F 
 22288 00:095E: 62 61 63 6B  	db	$62,$61,$63,$6B,$5F,$63,$61,$6C,$6C,$62,
                    $61,$63,$6B,$3A,$63
       00:0962: 5F 63 61 6C 
       00:0966: 6C 62 61 63 
       00:096A: 6B 3A 63 
 22289 00:096D: 6C 69 63 6B  	db	$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0971: 65 64 3A 00 
 22290 00:0975:              	ends
 22291                        ;
 22292                        ;
 22293                        ;
 22294                        ;PMENU k_render_menu(PMENU menu)
 22295                        ;{
 22296                        	.line	3839
 22297                        	.line	3840
 22298                        	GFX
 22299                        	xdef	~~k_render_menu
 22300                        	func
 22301                        	.function	3840
 22302                        ~~k_render_menu:
 22303                        	longa	on
 22304                        	longi	on
 22305 06:57BB: 3B           	tsc
 22306 06:57BC: 38           	sec
 22307 06:57BD: E9 22 00     	sbc	#L990
 22308 06:57C0: 1B           	tcs
 22309 06:57C1: 0B           	phd
 22310 06:57C2: 5B           	tcd
 22311             00000004   menu_0	set	4
 22312                        	.block	3840
 22313                        ;	FONTMETRIC metric;
 22314                        ;
 22315                        ;	int i = 0;
 22316                        ;
 22317                        ;	int cx = menu->cx;
 22318                        ;	int cy = menu->cy;
 22319                        ;
 22320                        ;	int borderTitle = 10;
 22321                        ;	int borderWidth = 3;
 22322                        ;
  Mon Aug  9 2021 16:52                                                Page 413


 22323                        ;	int titleOffsetX = cx+2;
 22324                        ;	int titleOffsetY = cy+2;
 22325                        ;	int titleScaler = 0;
 22326                        ;
 22327                        ;	int clientOffsetX = cx+borderWidth+2;
 22328                        ;	int clientOffsetY = cy+borderTitle+1;
 22329                        ;
 22330                        ;	int endX = menu->width + cx - borderWidth;
 22331                        ;
 22332                        ;	k_get_font_metrics(&metric);
 22333             00000000   metric_1	set	0
 22334             00000004   i_1	set	4
 22335             00000006   cx_1	set	6
 22336             00000008   cy_1	set	8
 22337             0000000A   borderTitle_1	set	10
 22338             0000000C   borderWidth_1	set	12
 22339             0000000E   titleOffsetX_1	set	14
 22340             00000010   titleOffsetY_1	set	16
 22341             00000012   titleScaler_1	set	18
 22342             00000014   clientOffsetX_1	set	20
 22343             00000016   clientOffsetY_1	set	22
 22344             00000018   endX_1	set	24
 22345                        	.sym	metric,0,10,1,32,35
 22346                        	.sym	i,4,5,1,16
 22347                        	.sym	cx,6,5,1,16
 22348                        	.sym	cy,8,5,1,16
 22349                        	.sym	borderTitle,10,5,1,16
 22350                        	.sym	borderWidth,12,5,1,16
 22351                        	.sym	titleOffsetX,14,5,1,16
 22352                        	.sym	titleOffsetY,16,5,1,16
 22353                        	.sym	titleScaler,18,5,1,16
 22354                        	.sym	clientOffsetX,20,5,1,16
 22355                        	.sym	clientOffsetY,22,5,1,16
 22356                        	.sym	endX,24,5,1,16
 22357                        	.sym	menu,4,138,6,32,36
 22358 06:57C3: 64 0D        	stz	<L991+i_1
 22359 06:57C5: A7 26        	lda	[<L990+menu_0]
 22360 06:57C7: 85 0F        	sta	<L991+cx_1
 22361 06:57C9: A0 02 00     	ldy	#$2
 22362 06:57CC: B7 26        	lda	[<L990+menu_0],Y
 22363 06:57CE: 85 11        	sta	<L991+cy_1
 22364 06:57D0: A9 0A 00     	lda	#$a
 22365 06:57D3: 85 13        	sta	<L991+borderTitle_1
 22366 06:57D5: A9 03 00     	lda	#$3
 22367 06:57D8: 85 15        	sta	<L991+borderWidth_1
 22368 06:57DA: 18           	clc
 22369 06:57DB: A9 02 00     	lda	#$2
 22370 06:57DE: 65 0F        	adc	<L991+cx_1
 22371 06:57E0: 85 17        	sta	<L991+titleOffsetX_1
 22372 06:57E2: 18           	clc
 22373 06:57E3: A9 02 00     	lda	#$2
 22374 06:57E6: 65 11        	adc	<L991+cy_1
 22375 06:57E8: 85 19        	sta	<L991+titleOffsetY_1
 22376 06:57EA: 64 1B        	stz	<L991+titleScaler_1
 22377 06:57EC: 18           	clc
 22378 06:57ED: A5 0F        	lda	<L991+cx_1
 22379 06:57EF: 65 15        	adc	<L991+borderWidth_1
 22380 06:57F1: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 414


 22381 06:57F3: 18           	clc
 22382 06:57F4: A9 02 00     	lda	#$2
 22383 06:57F7: 65 01        	adc	<R0
 22384 06:57F9: 85 1D        	sta	<L991+clientOffsetX_1
 22385 06:57FB: 18           	clc
 22386 06:57FC: A5 11        	lda	<L991+cy_1
 22387 06:57FE: 65 13        	adc	<L991+borderTitle_1
 22388 06:5800: 85 01        	sta	<R0
 22389 06:5802: A5 01        	lda	<R0
 22390 06:5804: 1A           	ina
 22391 06:5805: 85 1F        	sta	<L991+clientOffsetY_1
 22392 06:5807: 18           	clc
 22393 06:5808: A0 04 00     	ldy	#$4
 22394 06:580B: B7 26        	lda	[<L990+menu_0],Y
 22395 06:580D: 65 0F        	adc	<L991+cx_1
 22396 06:580F: 85 01        	sta	<R0
 22397 06:5811: 38           	sec
 22398 06:5812: A5 01        	lda	<R0
 22399 06:5814: E5 15        	sbc	<L991+borderWidth_1
 22400 06:5816: 85 21        	sta	<L991+endX_1
 22401                        	.line	3860
 22402 06:5818: F4 00 00     	pea	#0
 22403 06:581B: 18           	clc
 22404 06:581C: 7B           	tdc
 22405 06:581D: 69 09 00     	adc	#<L991+metric_1
 22406 06:5820: 48           	pha
 22407 06:5821: 22 B8 23 06  	jsl	~~k_get_font_metrics
 22408                        ;
 22409                        ;
 22410                        ;	k_debug_integer("k_render_menu:menu->cx:",menu->
                    cx);
 22411                        	.line	3863
 22412 06:5825: A7 26        	lda	[<L990+menu_0]
 22413 06:5827: 48           	pha
 22414 06:5828: F4 xx xx     	pea	#^L989
 22415 06:582B: F4 xx xx     	pea	#<L989
 22416 06:582E: 22 xx xx xx  	jsl	~~k_debug_integer
 22417                        ;	k_debug_integer("k_render_menu:menu->cy:",menu->
                    cy);
 22418                        	.line	3864
 22419 06:5832: A0 02 00     	ldy	#$2
 22420 06:5835: B7 26        	lda	[<L990+menu_0],Y
 22421 06:5837: 48           	pha
 22422 06:5838: F4 xx xx     	pea	#^L989+24
 22423 06:583B: F4 xx xx     	pea	#<L989+24
 22424 06:583E: 22 xx xx xx  	jsl	~~k_debug_integer
 22425                        ;	k_debug_integer("k_render_menu:menu->height:",me
                    nu->height);
 22426                        	.line	3865
 22427 06:5842: A0 06 00     	ldy	#$6
 22428 06:5845: B7 26        	lda	[<L990+menu_0],Y
 22429 06:5847: 48           	pha
 22430 06:5848: F4 xx xx     	pea	#^L989+48
 22431 06:584B: F4 xx xx     	pea	#<L989+48
 22432 06:584E: 22 xx xx xx  	jsl	~~k_debug_integer
 22433                        ;	k_debug_integer("k_render_menu:menu->width:",men
                    u->width);
 22434                        	.line	3866
  Mon Aug  9 2021 16:52                                                Page 415


 22435 06:5852: A0 04 00     	ldy	#$4
 22436 06:5855: B7 26        	lda	[<L990+menu_0],Y
 22437 06:5857: 48           	pha
 22438 06:5858: F4 xx xx     	pea	#^L989+76
 22439 06:585B: F4 xx xx     	pea	#<L989+76
 22440 06:585E: 22 xx xx xx  	jsl	~~k_debug_integer
 22441                        ;
 22442                        ;
 22443                        ;	k_vdma_fill_rect(cx-1,cy,menu->width+1,menu->hei
                    ght+1,0);
 22444                        	.line	3869
 22445 06:5862: F4 00 00     	pea	#<$0
 22446 06:5865: A0 06 00     	ldy	#$6
 22447 06:5868: B7 26        	lda	[<L990+menu_0],Y
 22448 06:586A: 1A           	ina
 22449 06:586B: 48           	pha
 22450 06:586C: A0 04 00     	ldy	#$4
 22451 06:586F: B7 26        	lda	[<L990+menu_0],Y
 22452 06:5871: 1A           	ina
 22453 06:5872: 48           	pha
 22454 06:5873: A0 00 00     	ldy	#$0
 22455 06:5876: A5 11        	lda	<L991+cy_1
 22456 06:5878: 10 01        	bpl	L993
 22457 06:587A: 88           	dey
 22458                        L993:
 22459 06:587B: 85 01        	sta	<R0
 22460 06:587D: 84 03        	sty	<R0+2
 22461 06:587F: D4 03        	pei	<R0+2
 22462 06:5881: D4 01        	pei	<R0
 22463 06:5883: 18           	clc
 22464 06:5884: A9 FF FF     	lda	#$ffff
 22465 06:5887: 65 0F        	adc	<L991+cx_1
 22466 06:5889: 85 05        	sta	<R1
 22467 06:588B: A0 00 00     	ldy	#$0
 22468 06:588E: A5 05        	lda	<R1
 22469 06:5890: 10 01        	bpl	L994
 22470 06:5892: 88           	dey
 22471                        L994:
 22472 06:5893: 85 05        	sta	<R1
 22473 06:5895: 84 07        	sty	<R1+2
 22474 06:5897: D4 07        	pei	<R1+2
 22475 06:5899: D4 05        	pei	<R1
 22476 06:589B: 22 C6 5F 06  	jsl	~~k_vdma_fill_rect
 22477                        ;	k_vdma_fill_rect(cx,cy,menu->width,menu->height,
                    menu->fcolor);
 22478                        	.line	3870
 22479 06:589F: A0 08 00     	ldy	#$8
 22480 06:58A2: B7 26        	lda	[<L990+menu_0],Y
 22481 06:58A4: 48           	pha
 22482 06:58A5: A0 06 00     	ldy	#$6
 22483 06:58A8: B7 26        	lda	[<L990+menu_0],Y
 22484 06:58AA: 48           	pha
 22485 06:58AB: A0 04 00     	ldy	#$4
 22486 06:58AE: B7 26        	lda	[<L990+menu_0],Y
 22487 06:58B0: 48           	pha
 22488 06:58B1: A0 00 00     	ldy	#$0
 22489 06:58B4: A5 11        	lda	<L991+cy_1
 22490 06:58B6: 10 01        	bpl	L995
  Mon Aug  9 2021 16:52                                                Page 416


 22491 06:58B8: 88           	dey
 22492                        L995:
 22493 06:58B9: 85 01        	sta	<R0
 22494 06:58BB: 84 03        	sty	<R0+2
 22495 06:58BD: D4 03        	pei	<R0+2
 22496 06:58BF: D4 01        	pei	<R0
 22497 06:58C1: A0 00 00     	ldy	#$0
 22498 06:58C4: A5 0F        	lda	<L991+cx_1
 22499 06:58C6: 10 01        	bpl	L996
 22500 06:58C8: 88           	dey
 22501                        L996:
 22502 06:58C9: 85 05        	sta	<R1
 22503 06:58CB: 84 07        	sty	<R1+2
 22504 06:58CD: D4 07        	pei	<R1+2
 22505 06:58CF: D4 05        	pei	<R1
 22506 06:58D1: 22 C6 5F 06  	jsl	~~k_vdma_fill_rect
 22507                        ;
 22508                        ;	//k_vdma_fill_rect(cx,cy,menu->width,menu->heigh
                    t,menu->fcolor);
 22509                        ;
 22510                        ;
 22511                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 22512                        	.line	3875
 22513 06:58D5: F4 0E 00     	pea	#<$e
 22514 06:58D8: D4 19        	pei	<L991+titleOffsetY_1
 22515 06:58DA: A5 09        	lda	<L991+metric_1
 22516 06:58DC: 0A           	asl	A
 22517 06:58DD: 85 01        	sta	<R0
 22518 06:58DF: 18           	clc
 22519 06:58E0: A9 02 00     	lda	#$2
 22520 06:58E3: 65 01        	adc	<R0
 22521 06:58E5: 85 05        	sta	<R1
 22522 06:58E7: 38           	sec
 22523 06:58E8: A5 21        	lda	<L991+endX_1
 22524 06:58EA: E5 05        	sbc	<R1
 22525 06:58EC: 48           	pha
 22526 06:58ED: F4 04 00     	pea	#<$4
 22527 06:58F0: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 22528                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 22529                        	.line	3876
 22530 06:58F4: F4 0E 00     	pea	#<$e
 22531 06:58F7: D4 19        	pei	<L991+titleOffsetY_1
 22532 06:58F9: 38           	sec
 22533 06:58FA: A5 21        	lda	<L991+endX_1
 22534 06:58FC: E5 09        	sbc	<L991+metric_1
 22535 06:58FE: 48           	pha
 22536 06:58FF: F4 03 00     	pea	#<$3
 22537 06:5902: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 22538                        ;
 22539                        ;	k_draw_text_point((LPCHAR)menu->pCaption,cx+2+me
                    tric.width,titleOffsetY,0);
 22540                        	.line	3878
 22541 06:5906: F4 00 00     	pea	#<$0
 22542 06:5909: D4 19        	pei	<L991+titleOffsetY_1
 22543 06:590B: 18           	clc
 22544 06:590C: A5 0F        	lda	<L991+cx_1
  Mon Aug  9 2021 16:52                                                Page 417


 22545 06:590E: 65 09        	adc	<L991+metric_1
 22546 06:5910: 85 01        	sta	<R0
 22547 06:5912: 18           	clc
 22548 06:5913: A9 02 00     	lda	#$2
 22549 06:5916: 65 01        	adc	<R0
 22550 06:5918: 48           	pha
 22551 06:5919: A0 15 00     	ldy	#$15
 22552 06:591C: B7 26        	lda	[<L990+menu_0],Y
 22553 06:591E: 48           	pha
 22554 06:591F: A0 13 00     	ldy	#$13
 22555 06:5922: B7 26        	lda	[<L990+menu_0],Y
 22556 06:5924: 48           	pha
 22557 06:5925: 22 E1 1F 06  	jsl	~~k_draw_text_point
 22558                        ;
 22559                        ;	return menu;
 22560                        	.line	3880
 22561 06:5929: A6 28        	ldx	<L990+menu_0+2
 22562 06:592B: A5 26        	lda	<L990+menu_0
 22563                        L997:
 22564 06:592D: A8           	tay
 22565 06:592E: A5 24        	lda	<L990+2
 22566 06:5930: 85 28        	sta	<L990+2+4
 22567 06:5932: A5 23        	lda	<L990+1
 22568 06:5934: 85 27        	sta	<L990+1+4
 22569 06:5936: 2B           	pld
 22570 06:5937: 3B           	tsc
 22571 06:5938: 18           	clc
 22572 06:5939: 69 26 00     	adc	#L990+4
 22573 06:593C: 1B           	tcs
 22574 06:593D: 98           	tya
 22575 06:593E: 6B           	rtl
 22576                        ;}
 22577                        	.line	3881
 22578                        	.endblock	3881
 22579             00000022   L990	equ	34
 22580             00000009   L991	equ	9
 22581 06:593F:              	ends
 22582                        	efunc
 22583                        	.endfunc	3881,9,34
 22584                        	.line	3881
 22585                        	data
 22586                        L989:
 22587 00:0975: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,$6D,
                    $65,$6E,$75,$3A,$6D
       00:0979: 6E 64 65 72 
       00:097D: 5F 6D 65 6E 
       00:0981: 75 3A 6D 
 22588 00:0984: 65 6E 75 2D  	db	$65,$6E,$75,$2D,$3E,$63,$78,$3A,$00,$6B,
                    $5F,$72,$65,$6E,$64
       00:0988: 3E 63 78 3A 
       00:098C: 00 6B 5F 72 
       00:0990: 65 6E 64 
 22589 00:0993: 65 72 5F 6D  	db	$65,$72,$5F,$6D,$65,$6E,$75,$3A,$6D,$65,
                    $6E,$75,$2D,$3E,$63
       00:0997: 65 6E 75 3A 
       00:099B: 6D 65 6E 75 
       00:099F: 2D 3E 63 
 22590 00:09A2: 79 3A 00 6B  	db	$79,$3A,$00,$6B,$5F,$72,$65,$6E,$64,$65,
  Mon Aug  9 2021 16:52                                                Page 418


                    $72,$5F,$6D,$65,$6E
       00:09A6: 5F 72 65 6E 
       00:09AA: 64 65 72 5F 
       00:09AE: 6D 65 6E 
 22591 00:09B1: 75 3A 6D 65  	db	$75,$3A,$6D,$65,$6E,$75,$2D,$3E,$68,$65,
                    $69,$67,$68,$74,$3A
       00:09B5: 6E 75 2D 3E 
       00:09B9: 68 65 69 67 
       00:09BD: 68 74 3A 
 22592 00:09C0: 00 6B 5F 72  	db	$00,$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,
                    $6D,$65,$6E,$75,$3A
       00:09C4: 65 6E 64 65 
       00:09C8: 72 5F 6D 65 
       00:09CC: 6E 75 3A 
 22593 00:09CF: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$2D,$3E,$77,$69,$64,$74,
                    $68,$3A,$00
       00:09D3: 2D 3E 77 69 
       00:09D7: 64 74 68 3A 
       00:09DB: 00 
 22594 00:09DC:              	ends
 22595                        ;
 22596                        ;void k_draw_ui_window(int cx,int cy,int height,in
                    t width,char FAR *title,int color, int bgcolor)
 22597                        ;{
 22598                        	.line	3883
 22599                        	.line	3884
 22600                        	GFX
 22601                        	xdef	~~k_draw_ui_window
 22602                        	func
 22603                        	.function	3884
 22604                        ~~k_draw_ui_window:
 22605                        	longa	on
 22606                        	longi	on
 22607 06:593F: 3B           	tsc
 22608 06:5940: 38           	sec
 22609 06:5941: E9 22 00     	sbc	#L999
 22610 06:5944: 1B           	tcs
 22611 06:5945: 0B           	phd
 22612 06:5946: 5B           	tcd
 22613             00000004   cx_0	set	4
 22614             00000006   cy_0	set	6
 22615             00000008   height_0	set	8
 22616             0000000A   width_0	set	10
 22617             0000000C   title_0	set	12
 22618             00000010   color_0	set	16
 22619             00000012   bgcolor_0	set	18
 22620                        	.block	3884
 22621                        ;	FONTMETRIC metric;
 22622                        ;	
 22623                        ;	int i = 0;
 22624                        ;	
 22625                        ;	int borderTitle = 10;
 22626                        ;	int borderWidth = 2;
 22627                        ;
 22628                        ;	int titleOffsetX = cx+2;
 22629                        ;	int titleOffsetY = cy+2;
 22630                        ;	int titleScaler = 0;
 22631                        ;	
  Mon Aug  9 2021 16:52                                                Page 419


 22632                        ;	int clientOffsetX = cx+borderWidth+2;
 22633                        ;	int clientOffsetY = cy+borderTitle+1;
 22634                        ;	
 22635                        ;	int currX = clientOffsetX;
 22636                        ;	int currY = clientOffsetY;
 22637                        ;	
 22638                        ;	int endX = width + cx - borderWidth;
 22639                        ;	
 22640                        ;	k_draw_filled_rect(cx,cy,height,width,color);	
 22641             00000000   metric_1	set	0
 22642             00000004   i_1	set	4
 22643             00000006   borderTitle_1	set	6
 22644             00000008   borderWidth_1	set	8
 22645             0000000A   titleOffsetX_1	set	10
 22646             0000000C   titleOffsetY_1	set	12
 22647             0000000E   titleScaler_1	set	14
 22648             00000010   clientOffsetX_1	set	16
 22649             00000012   clientOffsetY_1	set	18
 22650             00000014   currX_1	set	20
 22651             00000016   currY_1	set	22
 22652             00000018   endX_1	set	24
 22653                        	.sym	metric,0,10,1,32,35
 22654                        	.sym	i,4,5,1,16
 22655                        	.sym	borderTitle,6,5,1,16
 22656                        	.sym	borderWidth,8,5,1,16
 22657                        	.sym	titleOffsetX,10,5,1,16
 22658                        	.sym	titleOffsetY,12,5,1,16
 22659                        	.sym	titleScaler,14,5,1,16
 22660                        	.sym	clientOffsetX,16,5,1,16
 22661                        	.sym	clientOffsetY,18,5,1,16
 22662                        	.sym	currX,20,5,1,16
 22663                        	.sym	currY,22,5,1,16
 22664                        	.sym	endX,24,5,1,16
 22665                        	.sym	cx,4,5,6,16
 22666                        	.sym	cy,6,5,6,16
 22667                        	.sym	height,8,5,6,16
 22668                        	.sym	width,10,5,6,16
 22669                        	.sym	title,12,142,6,32
 22670                        	.sym	color,16,5,6,16
 22671                        	.sym	bgcolor,18,5,6,16
 22672 06:5947: 64 0D        	stz	<L1000+i_1
 22673 06:5949: A9 0A 00     	lda	#$a
 22674 06:594C: 85 0F        	sta	<L1000+borderTitle_1
 22675 06:594E: A9 02 00     	lda	#$2
 22676 06:5951: 85 11        	sta	<L1000+borderWidth_1
 22677 06:5953: 18           	clc
 22678 06:5954: A9 02 00     	lda	#$2
 22679 06:5957: 65 26        	adc	<L999+cx_0
 22680 06:5959: 85 13        	sta	<L1000+titleOffsetX_1
 22681 06:595B: 18           	clc
 22682 06:595C: A9 02 00     	lda	#$2
 22683 06:595F: 65 28        	adc	<L999+cy_0
 22684 06:5961: 85 15        	sta	<L1000+titleOffsetY_1
 22685 06:5963: 64 17        	stz	<L1000+titleScaler_1
 22686 06:5965: 18           	clc
 22687 06:5966: A5 26        	lda	<L999+cx_0
 22688 06:5968: 65 11        	adc	<L1000+borderWidth_1
 22689 06:596A: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 420


 22690 06:596C: 18           	clc
 22691 06:596D: A9 02 00     	lda	#$2
 22692 06:5970: 65 01        	adc	<R0
 22693 06:5972: 85 19        	sta	<L1000+clientOffsetX_1
 22694 06:5974: 18           	clc
 22695 06:5975: A5 28        	lda	<L999+cy_0
 22696 06:5977: 65 0F        	adc	<L1000+borderTitle_1
 22697 06:5979: 85 01        	sta	<R0
 22698 06:597B: A5 01        	lda	<R0
 22699 06:597D: 1A           	ina
 22700 06:597E: 85 1B        	sta	<L1000+clientOffsetY_1
 22701 06:5980: A5 19        	lda	<L1000+clientOffsetX_1
 22702 06:5982: 85 1D        	sta	<L1000+currX_1
 22703 06:5984: A5 1B        	lda	<L1000+clientOffsetY_1
 22704 06:5986: 85 1F        	sta	<L1000+currY_1
 22705 06:5988: 18           	clc
 22706 06:5989: A5 2C        	lda	<L999+width_0
 22707 06:598B: 65 26        	adc	<L999+cx_0
 22708 06:598D: 85 01        	sta	<R0
 22709 06:598F: 38           	sec
 22710 06:5990: A5 01        	lda	<R0
 22711 06:5992: E5 11        	sbc	<L1000+borderWidth_1
 22712 06:5994: 85 21        	sta	<L1000+endX_1
 22713                        	.line	3904
 22714 06:5996: D4 32        	pei	<L999+color_0
 22715 06:5998: D4 2C        	pei	<L999+width_0
 22716 06:599A: D4 2A        	pei	<L999+height_0
 22717 06:599C: D4 28        	pei	<L999+cy_0
 22718 06:599E: D4 26        	pei	<L999+cx_0
 22719 06:59A0: 22 6E 3B 06  	jsl	~~k_draw_filled_rect
 22720                        ;	k_draw_filled_rect(cx+borderWidth,cy+borderTitle
                    ,
 22721                        	.line	3905
 22722                        ;	                   height - borderTitle - border
                    Width,
 22723                        ;					   width - borde
                    rWidth - borderWidth,
 22724                        ;					   bgcolor);
 22725 06:59A4: D4 34        	pei	<L999+bgcolor_0
 22726 06:59A6: 38           	sec
 22727 06:59A7: A5 2C        	lda	<L999+width_0
 22728 06:59A9: E5 11        	sbc	<L1000+borderWidth_1
 22729 06:59AB: 85 01        	sta	<R0
 22730 06:59AD: 38           	sec
 22731 06:59AE: A5 01        	lda	<R0
 22732 06:59B0: E5 11        	sbc	<L1000+borderWidth_1
 22733 06:59B2: 48           	pha
 22734 06:59B3: 38           	sec
 22735 06:59B4: A5 2A        	lda	<L999+height_0
 22736 06:59B6: E5 0F        	sbc	<L1000+borderTitle_1
 22737 06:59B8: 85 01        	sta	<R0
 22738 06:59BA: 38           	sec
 22739 06:59BB: A5 01        	lda	<R0
 22740 06:59BD: E5 11        	sbc	<L1000+borderWidth_1
 22741 06:59BF: 48           	pha
 22742 06:59C0: 18           	clc
 22743 06:59C1: A5 28        	lda	<L999+cy_0
 22744 06:59C3: 65 0F        	adc	<L1000+borderTitle_1
  Mon Aug  9 2021 16:52                                                Page 421


 22745 06:59C5: 48           	pha
 22746 06:59C6: 18           	clc
 22747 06:59C7: A5 26        	lda	<L999+cx_0
 22748 06:59C9: 65 11        	adc	<L1000+borderWidth_1
 22749 06:59CB: 48           	pha
 22750 06:59CC: 22 6E 3B 06  	jsl	~~k_draw_filled_rect
 22751                        ;	
 22752                        ;	k_get_font_metrics(&metric);
 22753                        	.line	3910
 22754 06:59D0: F4 00 00     	pea	#0
 22755 06:59D3: 18           	clc
 22756 06:59D4: 7B           	tdc
 22757 06:59D5: 69 09 00     	adc	#<L1000+metric_1
 22758 06:59D8: 48           	pha
 22759 06:59D9: 22 B8 23 06  	jsl	~~k_get_font_metrics
 22760                        ;	
 22761                        ;	
 22762                        ;	title = strupr(title);
 22763                        	.line	3913
 22764 06:59DD: D4 30        	pei	<L999+title_0+2
 22765 06:59DF: D4 2E        	pei	<L999+title_0
 22766 06:59E1: 22 xx xx xx  	jsl	~~strupr
 22767 06:59E5: 85 2E        	sta	<L999+title_0
 22768 06:59E7: 86 30        	stx	<L999+title_0+2
 22769                        ;	
 22770                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_ACLOSE,titleOffsetX,titleOffsetY,14);	
 22771                        	.line	3915
 22772 06:59E9: F4 0E 00     	pea	#<$e
 22773 06:59EC: D4 15        	pei	<L1000+titleOffsetY_1
 22774 06:59EE: D4 13        	pei	<L1000+titleOffsetX_1
 22775 06:59F0: F4 05 00     	pea	#<$5
 22776 06:59F3: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 22777 06:59F7: 85 01        	sta	<R0
 22778 06:59F9: 18           	clc
 22779 06:59FA: A5 01        	lda	<R0
 22780 06:59FC: 65 13        	adc	<L1000+titleOffsetX_1
 22781 06:59FE: 85 13        	sta	<L1000+titleOffsetX_1
 22782                        ;	
 22783                        ;	titleScaler = (int)(width / metric.width - 4);
 22784                        	.line	3917
 22785 06:5A00: A5 2C        	lda	<L999+width_0
 22786 06:5A02: A6 09        	ldx	<L1000+metric_1
 22787                        	xref	~~~div
 22788 06:5A04: 22 xx xx xx  	jsl	~~~div
 22789 06:5A08: 85 01        	sta	<R0
 22790 06:5A0A: 18           	clc
 22791 06:5A0B: A9 FC FF     	lda	#$fffc
 22792 06:5A0E: 65 01        	adc	<R0
 22793 06:5A10: 85 17        	sta	<L1000+titleScaler_1
 22794                        ;	for(i=0;i<titleScaler;i++)
 22795                        	.line	3918
 22796 06:5A12: 64 0D        	stz	<L1000+i_1
 22797 06:5A14: 82 19 00     	brl	L10402
 22798                        L10401:
 22799                        ;	{
 22800                        	.line	3919
 22801                        ;		titleOffsetX+=k_put_wingadget_point(WINI
  Mon Aug  9 2021 16:52                                                Page 422


                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 22802                        	.line	3920
 22803 06:5A17: F4 0E 00     	pea	#<$e
 22804 06:5A1A: D4 15        	pei	<L1000+titleOffsetY_1
 22805 06:5A1C: D4 13        	pei	<L1000+titleOffsetX_1
 22806 06:5A1E: F4 01 00     	pea	#<$1
 22807 06:5A21: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 22808 06:5A25: 85 01        	sta	<R0
 22809 06:5A27: 18           	clc
 22810 06:5A28: A5 01        	lda	<R0
 22811 06:5A2A: 65 13        	adc	<L1000+titleOffsetX_1
 22812 06:5A2C: 85 13        	sta	<L1000+titleOffsetX_1
 22813                        ;	}
 22814                        	.line	3921
 22815                        L10399:
 22816 06:5A2E: E6 0D        	inc	<L1000+i_1
 22817                        L10402:
 22818 06:5A30: 38           	sec
 22819 06:5A31: A5 0D        	lda	<L1000+i_1
 22820 06:5A33: E5 17        	sbc	<L1000+titleScaler_1
 22821 06:5A35: 70 03        	bvs	L1002
 22822 06:5A37: 49 00 80     	eor	#$8000
 22823                        L1002:
 22824 06:5A3A: 30 03        	bmi	L1003
 22825 06:5A3C: 82 D8 FF     	brl	L10401
 22826                        L1003:
 22827                        L10400:
 22828                        ;	/*
 22829                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_BACK,titleOffsetX,titleOffsetY,14);
 22830                        ;	titleOffsetX+=2;
 22831                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_FRONT,titleOffsetX,titleOffsetY,14);
 22832                        ;	*/
 22833                        ;	
 22834                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 22835                        	.line	3928
 22836 06:5A3F: F4 0E 00     	pea	#<$e
 22837 06:5A42: D4 15        	pei	<L1000+titleOffsetY_1
 22838 06:5A44: A5 09        	lda	<L1000+metric_1
 22839 06:5A46: 0A           	asl	A
 22840 06:5A47: 85 01        	sta	<R0
 22841 06:5A49: 18           	clc
 22842 06:5A4A: A9 02 00     	lda	#$2
 22843 06:5A4D: 65 01        	adc	<R0
 22844 06:5A4F: 85 05        	sta	<R1
 22845 06:5A51: 38           	sec
 22846 06:5A52: A5 21        	lda	<L1000+endX_1
 22847 06:5A54: E5 05        	sbc	<R1
 22848 06:5A56: 48           	pha
 22849 06:5A57: F4 04 00     	pea	#<$4
 22850 06:5A5A: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 22851                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 22852                        	.line	3929
 22853 06:5A5E: F4 0E 00     	pea	#<$e
 22854 06:5A61: D4 15        	pei	<L1000+titleOffsetY_1
  Mon Aug  9 2021 16:52                                                Page 423


 22855 06:5A63: 38           	sec
 22856 06:5A64: A5 21        	lda	<L1000+endX_1
 22857 06:5A66: E5 09        	sbc	<L1000+metric_1
 22858 06:5A68: 48           	pha
 22859 06:5A69: F4 03 00     	pea	#<$3
 22860 06:5A6C: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 22861                        ;	
 22862                        ;	
 22863                        ;	for(i=0;i<=strlen(title);i++)
 22864                        	.line	3932
 22865 06:5A70: 64 0D        	stz	<L1000+i_1
 22866 06:5A72: 82 2D 00     	brl	L10406
 22867                        L10405:
 22868                        ;	{
 22869                        	.line	3933
 22870                        ;		k_put_wingadget_point(WINICON_BLOCK,cx+2
                    +metric.width+(metric.width*i),titleOffsetY,15);	
 22871                        	.line	3934
 22872 06:5A75: F4 0F 00     	pea	#<$f
 22873 06:5A78: D4 15        	pei	<L1000+titleOffsetY_1
 22874 06:5A7A: A5 09        	lda	<L1000+metric_1
 22875 06:5A7C: A6 0D        	ldx	<L1000+i_1
 22876                        	xref	~~~mul
 22877 06:5A7E: 22 xx xx xx  	jsl	~~~mul
 22878 06:5A82: 85 01        	sta	<R0
 22879 06:5A84: 18           	clc
 22880 06:5A85: A5 01        	lda	<R0
 22881 06:5A87: 65 26        	adc	<L999+cx_0
 22882 06:5A89: 85 05        	sta	<R1
 22883 06:5A8B: 18           	clc
 22884 06:5A8C: A5 05        	lda	<R1
 22885 06:5A8E: 65 09        	adc	<L1000+metric_1
 22886 06:5A90: 85 01        	sta	<R0
 22887 06:5A92: 18           	clc
 22888 06:5A93: A9 02 00     	lda	#$2
 22889 06:5A96: 65 01        	adc	<R0
 22890 06:5A98: 48           	pha
 22891 06:5A99: F4 00 00     	pea	#<$0
 22892 06:5A9C: 22 FE 2A 06  	jsl	~~k_put_wingadget_point
 22893                        ;	}
 22894                        	.line	3935
 22895                        L10403:
 22896 06:5AA0: E6 0D        	inc	<L1000+i_1
 22897                        L10406:
 22898 06:5AA2: D4 30        	pei	<L999+title_0+2
 22899 06:5AA4: D4 2E        	pei	<L999+title_0
 22900 06:5AA6: 22 xx xx xx  	jsl	~~strlen
 22901 06:5AAA: 85 01        	sta	<R0
 22902 06:5AAC: A5 01        	lda	<R0
 22903 06:5AAE: C5 0D        	cmp	<L1000+i_1
 22904 06:5AB0: 90 03        	bcc	L1004
 22905 06:5AB2: 82 C0 FF     	brl	L10405
 22906                        L1004:
 22907                        L10404:
 22908                        ;	k_draw_text_point(title,cx+2+metric.width,titleO
                    ffsetY,0);
 22909                        	.line	3936
 22910 06:5AB5: F4 00 00     	pea	#<$0
  Mon Aug  9 2021 16:52                                                Page 424


 22911 06:5AB8: D4 15        	pei	<L1000+titleOffsetY_1
 22912 06:5ABA: 18           	clc
 22913 06:5ABB: A5 26        	lda	<L999+cx_0
 22914 06:5ABD: 65 09        	adc	<L1000+metric_1
 22915 06:5ABF: 85 01        	sta	<R0
 22916 06:5AC1: 18           	clc
 22917 06:5AC2: A9 02 00     	lda	#$2
 22918 06:5AC5: 65 01        	adc	<R0
 22919 06:5AC7: 48           	pha
 22920 06:5AC8: D4 30        	pei	<L999+title_0+2
 22921 06:5ACA: D4 2E        	pei	<L999+title_0
 22922 06:5ACC: 22 E1 1F 06  	jsl	~~k_draw_text_point
 22923                        ;	
 22924                        ;	/*
 22925                        ;	k_put_wingadget_point(0x01,titleOffsetX,titleOff
                    setY,14);	
 22926                        ;	titleOffsetX+=metric.width;
 22927                        ;	
 22928                        ;	titleOffsetX+=k_draw_text_point(title,titleOffse
                    tX,titleOffsetY,0);
 22929                        ;	titleOffsetX+=metric.width;
 22930                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 22931                        ;	titleOffsetX+=metric.width;
 22932                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 22933                        ;	titleOffsetX+=metric.width;
 22934                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 22935                        ;	*/
 22936                        ;	
 22937                        ;	k_draw_text_point("READY.",currX,currY,15);
 22938                        	.line	3951
 22939 06:5AD0: F4 0F 00     	pea	#<$f
 22940 06:5AD3: D4 1F        	pei	<L1000+currY_1
 22941 06:5AD5: D4 1D        	pei	<L1000+currX_1
 22942 06:5AD7: F4 xx xx     	pea	#^L998
 22943 06:5ADA: F4 xx xx     	pea	#<L998
 22944 06:5ADD: 22 E1 1F 06  	jsl	~~k_draw_text_point
 22945                        ;	currY+=metric.height;	
 22946                        	.line	3952
 22947 06:5AE1: 18           	clc
 22948 06:5AE2: A5 1F        	lda	<L1000+currY_1
 22949 06:5AE4: 65 0B        	adc	<L1000+metric_1+2
 22950 06:5AE6: 85 1F        	sta	<L1000+currY_1
 22951                        ;	k_draw_text_point("10 PRINT \"HELLO WORLD!\"",cu
                    rrX,currY,15);
 22952                        	.line	3953
 22953 06:5AE8: F4 0F 00     	pea	#<$f
 22954 06:5AEB: D4 1F        	pei	<L1000+currY_1
 22955 06:5AED: D4 1D        	pei	<L1000+currX_1
 22956 06:5AEF: F4 xx xx     	pea	#^L998+7
 22957 06:5AF2: F4 xx xx     	pea	#<L998+7
 22958 06:5AF5: 22 E1 1F 06  	jsl	~~k_draw_text_point
 22959                        ;	currY+=metric.height;
 22960                        	.line	3954
 22961 06:5AF9: 18           	clc
 22962 06:5AFA: A5 1F        	lda	<L1000+currY_1
  Mon Aug  9 2021 16:52                                                Page 425


 22963 06:5AFC: 65 0B        	adc	<L1000+metric_1+2
 22964 06:5AFE: 85 1F        	sta	<L1000+currY_1
 22965                        ;	k_draw_text_point("RUN",currX,currY,15);
 22966                        	.line	3955
 22967 06:5B00: F4 0F 00     	pea	#<$f
 22968 06:5B03: D4 1F        	pei	<L1000+currY_1
 22969 06:5B05: D4 1D        	pei	<L1000+currX_1
 22970 06:5B07: F4 xx xx     	pea	#^L998+31
 22971 06:5B0A: F4 xx xx     	pea	#<L998+31
 22972 06:5B0D: 22 E1 1F 06  	jsl	~~k_draw_text_point
 22973                        ;	currY+=metric.height;
 22974                        	.line	3956
 22975 06:5B11: 18           	clc
 22976 06:5B12: A5 1F        	lda	<L1000+currY_1
 22977 06:5B14: 65 0B        	adc	<L1000+metric_1+2
 22978 06:5B16: 85 1F        	sta	<L1000+currY_1
 22979                        ;	k_draw_text_point("HELLO WORLD!",currX,currY,15)
                    ;
 22980                        	.line	3957
 22981 06:5B18: F4 0F 00     	pea	#<$f
 22982 06:5B1B: D4 1F        	pei	<L1000+currY_1
 22983 06:5B1D: D4 1D        	pei	<L1000+currX_1
 22984 06:5B1F: F4 xx xx     	pea	#^L998+35
 22985 06:5B22: F4 xx xx     	pea	#<L998+35
 22986 06:5B25: 22 E1 1F 06  	jsl	~~k_draw_text_point
 22987                        ;}
 22988                        	.line	3958
 22989                        L1005:
 22990 06:5B29: A5 24        	lda	<L999+2
 22991 06:5B2B: 85 34        	sta	<L999+2+16
 22992 06:5B2D: A5 23        	lda	<L999+1
 22993 06:5B2F: 85 33        	sta	<L999+1+16
 22994 06:5B31: 2B           	pld
 22995 06:5B32: 3B           	tsc
 22996 06:5B33: 18           	clc
 22997 06:5B34: 69 32 00     	adc	#L999+16
 22998 06:5B37: 1B           	tcs
 22999 06:5B38: 6B           	rtl
 23000                        	.endblock	3958
 23001             00000022   L999	equ	34
 23002             00000009   L1000	equ	9
 23003 06:5B39:              	ends
 23004                        	efunc
 23005                        	.endfunc	3958,9,34
 23006                        	.line	3958
 23007                        	data
 23008                        L998:
 23009 00:09DC: 52 45 41 44  	db	$52,$45,$41,$44,$59,$2E,$00,$31,$30,$20,
                    $50,$52,$49,$4E,$54
       00:09E0: 59 2E 00 31 
       00:09E4: 30 20 50 52 
       00:09E8: 49 4E 54 
 23010 00:09EB: 20 22 48 45  	db	$20,$22,$48,$45,$4C,$4C,$4F,$20,$57,$4F,
                    $52,$4C,$44,$21,$22
       00:09EF: 4C 4C 4F 20 
       00:09F3: 57 4F 52 4C 
       00:09F7: 44 21 22 
 23011 00:09FA: 00 52 55 4E  	db	$00,$52,$55,$4E,$00,$48,$45,$4C,$4C,$4F,
  Mon Aug  9 2021 16:52                                                Page 426


                    $20,$57,$4F,$52,$4C
       00:09FE: 00 48 45 4C 
       00:0A02: 4C 4F 20 57 
       00:0A06: 4F 52 4C 
 23012 00:0A09: 44 21 00     	db	$44,$21,$00
 23013 00:0A0C:              	ends
 23014                        ;
 23015                        ;
 23016                        ;void k_paint_brush_rect(long x,long y,int width,i
                    nt height,BYTE pattern)
 23017                        ;{
 23018                        	.line	3961
 23019                        	.line	3962
 23020                        	GFX
 23021                        	xdef	~~k_paint_brush_rect
 23022                        	func
 23023                        	.function	3962
 23024                        ~~k_paint_brush_rect:
 23025                        	longa	on
 23026                        	longi	on
 23027 06:5B39: 3B           	tsc
 23028 06:5B3A: 38           	sec
 23029 06:5B3B: E9 19 00     	sbc	#L1007
 23030 06:5B3E: 1B           	tcs
 23031 06:5B3F: 0B           	phd
 23032 06:5B40: 5B           	tcd
 23033             00000004   x_0	set	4
 23034             00000008   y_0	set	8
 23035             0000000C   width_0	set	12
 23036             0000000E   height_0	set	14
 23037             00000010   pattern_0	set	16
 23038                        	.block	3962
 23039                        ;	ULONG pos = 0L;
 23040                        ;	BOOL odd = FALSE;
 23041                        ;	long startLocation = (long)(( ((long)y) * 640L) 
                    + ((long)x) );
 23042                        ;	long endLocation   = (long)(( ((long)479) * 640L
                    ) + ((long)639) );
 23043                        ;
 23044                        ;	///k_paint_brush_at_address((char FAR * )pixelLo
                    cation, width, height,pattern);
 23045                        ;
 23046                        ;	for(pos=0;pos<479;pos++)
 23047             00000000   pos_1	set	0
 23048             00000004   odd_1	set	4
 23049             00000005   startLocation_1	set	5
 23050             00000009   endLocation_1	set	9
 23051                        	.sym	pos,0,18,1,32
 23052                        	.sym	odd,4,14,1,8
 23053                        	.sym	startLocation,5,7,1,32
 23054                        	.sym	endLocation,9,7,1,32
 23055                        	.sym	x,4,7,6,32
 23056                        	.sym	y,8,7,6,32
 23057                        	.sym	width,12,5,6,16
 23058                        	.sym	height,14,5,6,16
 23059                        	.sym	pattern,16,14,6,8
 23060 06:5B41: 64 0D        	stz	<L1008+pos_1
 23061 06:5B43: 64 0F        	stz	<L1008+pos_1+2
  Mon Aug  9 2021 16:52                                                Page 427


 23062 06:5B45: E2 20        	sep	#$20
 23063                        	longa	off
 23064 06:5B47: 64 11        	stz	<L1008+odd_1
 23065 06:5B49: C2 20        	rep	#$20
 23066                        	longa	on
 23067 06:5B4B: F4 00 00     	pea	#^$280
 23068 06:5B4E: F4 80 02     	pea	#<$280
 23069 06:5B51: D4 23        	pei	<L1007+y_0+2
 23070 06:5B53: D4 21        	pei	<L1007+y_0
 23071                        	xref	~~~lmul
 23072 06:5B55: 22 xx xx xx  	jsl	~~~lmul
 23073 06:5B59: 85 01        	sta	<R0
 23074 06:5B5B: 86 03        	stx	<R0+2
 23075 06:5B5D: 18           	clc
 23076 06:5B5E: A5 01        	lda	<R0
 23077 06:5B60: 65 1D        	adc	<L1007+x_0
 23078 06:5B62: 85 12        	sta	<L1008+startLocation_1
 23079 06:5B64: A5 03        	lda	<R0+2
 23080 06:5B66: 65 1F        	adc	<L1007+x_0+2
 23081 06:5B68: 85 14        	sta	<L1008+startLocation_1+2
 23082 06:5B6A: A9 FF AF     	lda	#$afff
 23083 06:5B6D: 85 16        	sta	<L1008+endLocation_1
 23084 06:5B6F: A9 04 00     	lda	#$4
 23085 06:5B72: 85 18        	sta	<L1008+endLocation_1+2
 23086                        	.line	3970
 23087 06:5B74: 64 0D        	stz	<L1008+pos_1
 23088 06:5B76: 64 0F        	stz	<L1008+pos_1+2
 23089                        L10409:
 23090                        ;	{
 23091                        	.line	3971
 23092                        ;		if(odd)
 23093                        	.line	3972
 23094                        ;		{
 23095 06:5B78: A5 11        	lda	<L1008+odd_1
 23096 06:5B7A: 29 FF 00     	and	#$ff
 23097 06:5B7D: D0 03        	bne	L1010
 23098 06:5B7F: 82 3D 00     	brl	L10410
 23099                        L1010:
 23100                        	.line	3973
 23101                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L)   ,BG_FILL_LINE_ODD,80);
 23102                        	.line	3974
 23103 06:5B82: F4 50 00     	pea	#<$50
 23104 06:5B85: A9 xx xx     	lda	#<~~BG_FILL_LINE_ODD
 23105 06:5B88: 85 01        	sta	<R0
 23106                        	xref	_BEG_DATA
 23107 06:5B8A: A9 xx xx     	lda	#_BEG_DATA>>16
 23108 06:5B8D: 85 03        	sta	<R0+2
 23109 06:5B8F: D4 03        	pei	<R0+2
 23110 06:5B91: D4 01        	pei	<R0
 23111 06:5B93: F4 00 00     	pea	#^$280
 23112 06:5B96: F4 80 02     	pea	#<$280
 23113 06:5B99: D4 0F        	pei	<L1008+pos_1+2
 23114 06:5B9B: D4 0D        	pei	<L1008+pos_1
 23115                        	xref	~~~lmul
 23116 06:5B9D: 22 xx xx xx  	jsl	~~~lmul
 23117 06:5BA1: 85 05        	sta	<R1
 23118 06:5BA3: 86 07        	stx	<R1+2
  Mon Aug  9 2021 16:52                                                Page 428


 23119 06:5BA5: 18           	clc
 23120 06:5BA6: A9 00 00     	lda	#$0
 23121 06:5BA9: 65 05        	adc	<R1
 23122 06:5BAB: 85 09        	sta	<R2
 23123 06:5BAD: A9 B0 00     	lda	#$b0
 23124 06:5BB0: 65 07        	adc	<R1+2
 23125 06:5BB2: 85 0B        	sta	<R2+2
 23126 06:5BB4: D4 0B        	pei	<R2+2
 23127 06:5BB6: D4 09        	pei	<R2
 23128 06:5BB8: 22 xx xx xx  	jsl	~~memcpy
 23129                        ;		}
 23130                        	.line	3975
 23131                        ;		else
 23132 06:5BBC: 82 3A 00     	brl	L10411
 23133                        L10410:
 23134                        ;		{
 23135                        	.line	3977
 23136                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L) ,BG_FILL_LINE_EVEN,80);
 23137                        	.line	3978
 23138 06:5BBF: F4 50 00     	pea	#<$50
 23139 06:5BC2: A9 xx xx     	lda	#<~~BG_FILL_LINE_EVEN
 23140 06:5BC5: 85 01        	sta	<R0
 23141                        	xref	_BEG_DATA
 23142 06:5BC7: A9 xx xx     	lda	#_BEG_DATA>>16
 23143 06:5BCA: 85 03        	sta	<R0+2
 23144 06:5BCC: D4 03        	pei	<R0+2
 23145 06:5BCE: D4 01        	pei	<R0
 23146 06:5BD0: F4 00 00     	pea	#^$280
 23147 06:5BD3: F4 80 02     	pea	#<$280
 23148 06:5BD6: D4 0F        	pei	<L1008+pos_1+2
 23149 06:5BD8: D4 0D        	pei	<L1008+pos_1
 23150                        	xref	~~~lmul
 23151 06:5BDA: 22 xx xx xx  	jsl	~~~lmul
 23152 06:5BDE: 85 05        	sta	<R1
 23153 06:5BE0: 86 07        	stx	<R1+2
 23154 06:5BE2: 18           	clc
 23155 06:5BE3: A9 00 00     	lda	#$0
 23156 06:5BE6: 65 05        	adc	<R1
 23157 06:5BE8: 85 09        	sta	<R2
 23158 06:5BEA: A9 B0 00     	lda	#$b0
 23159 06:5BED: 65 07        	adc	<R1+2
 23160 06:5BEF: 85 0B        	sta	<R2+2
 23161 06:5BF1: D4 0B        	pei	<R2+2
 23162 06:5BF3: D4 09        	pei	<R2
 23163 06:5BF5: 22 xx xx xx  	jsl	~~memcpy
 23164                        ;
 23165                        ;		}
 23166                        	.line	3980
 23167                        L10411:
 23168                        ;		odd=!odd;
 23169                        	.line	3981
 23170 06:5BF9: 64 01        	stz	<R0
 23171 06:5BFB: A5 11        	lda	<L1008+odd_1
 23172 06:5BFD: 29 FF 00     	and	#$ff
 23173 06:5C00: F0 03        	beq	L1012
 23174 06:5C02: 82 02 00     	brl	L1011
 23175                        L1012:
  Mon Aug  9 2021 16:52                                                Page 429


 23176 06:5C05: E6 01        	inc	<R0
 23177                        L1011:
 23178 06:5C07: E2 20        	sep	#$20
 23179                        	longa	off
 23180 06:5C09: A5 01        	lda	<R0
 23181 06:5C0B: 85 11        	sta	<L1008+odd_1
 23182 06:5C0D: C2 20        	rep	#$20
 23183                        	longa	on
 23184                        ;	}
 23185                        	.line	3982
 23186                        L10407:
 23187 06:5C0F: E6 0D        	inc	<L1008+pos_1
 23188 06:5C11: D0 02        	bne	L1013
 23189 06:5C13: E6 0F        	inc	<L1008+pos_1+2
 23190                        L1013:
 23191 06:5C15: A5 0D        	lda	<L1008+pos_1
 23192 06:5C17: C9 DF 01     	cmp	#<$1df
 23193 06:5C1A: A5 0F        	lda	<L1008+pos_1+2
 23194 06:5C1C: E9 00 00     	sbc	#^$1df
 23195 06:5C1F: B0 03        	bcs	L1014
 23196 06:5C21: 82 54 FF     	brl	L10409
 23197                        L1014:
 23198                        L10408:
 23199                        ;
 23200                        ;
 23201                        ;
 23202                        ;	return;
 23203                        	.line	3986
 23204                        L1015:
 23205 06:5C24: A5 1B        	lda	<L1007+2
 23206 06:5C26: 85 29        	sta	<L1007+2+14
 23207 06:5C28: A5 1A        	lda	<L1007+1
 23208 06:5C2A: 85 28        	sta	<L1007+1+14
 23209 06:5C2C: 2B           	pld
 23210 06:5C2D: 3B           	tsc
 23211 06:5C2E: 18           	clc
 23212 06:5C2F: 69 27 00     	adc	#L1007+14
 23213 06:5C32: 1B           	tcs
 23214 06:5C33: 6B           	rtl
 23215                        ;}
 23216                        	.line	3987
 23217                        	.endblock	3987
 23218             00000019   L1007	equ	25
 23219             0000000D   L1008	equ	13
 23220 06:5C34:              	ends
 23221                        	efunc
 23222                        	.endfunc	3987,13,25
 23223                        	.line	3987
 23224                        ;
 23225                        ;void k_paint_brush_at_address(char FAR * pdst,int
                     width,int height,BYTE pattern)
 23226                        ;{
 23227                        	.line	3989
 23228                        	.line	3990
 23229                        	GFX
 23230                        	xdef	~~k_paint_brush_at_address
 23231                        	func
 23232                        	.function	3990
  Mon Aug  9 2021 16:52                                                Page 430


 23233                        ~~k_paint_brush_at_address:
 23234                        	longa	on
 23235                        	longi	on
 23236 06:5C34: 3B           	tsc
 23237 06:5C35: 38           	sec
 23238 06:5C36: E9 0D 00     	sbc	#L1016
 23239 06:5C39: 1B           	tcs
 23240 06:5C3A: 0B           	phd
 23241 06:5C3B: 5B           	tcd
 23242             00000004   pdst_0	set	4
 23243             00000008   width_0	set	8
 23244             0000000A   height_0	set	10
 23245             0000000C   pattern_0	set	12
 23246                        	.block	3990
 23247                        ;	int pos = 0;
 23248                        ;	int spinLock = 0;
 23249                        ;	char status = VDMA_STAT_VDMA_IPS;
 23250                        ;
 23251                        ;
 23252                        ;	while(status == VDMA_STAT_VDMA_IPS)
 23253             00000000   pos_1	set	0
 23254             00000002   spinLock_1	set	2
 23255             00000004   status_1	set	4
 23256                        	.sym	pos,0,5,1,16
 23257                        	.sym	spinLock,2,5,1,16
 23258                        	.sym	status,4,14,1,8
 23259                        	.sym	pdst,4,142,6,32
 23260                        	.sym	width,8,5,6,16
 23261                        	.sym	height,10,5,6,16
 23262                        	.sym	pattern,12,14,6,8
 23263 06:5C3C: 64 09        	stz	<L1017+pos_1
 23264 06:5C3E: 64 0B        	stz	<L1017+spinLock_1
 23265 06:5C40: E2 20        	sep	#$20
 23266                        	longa	off
 23267 06:5C42: A9 80        	lda	#$80
 23268 06:5C44: 85 0D        	sta	<L1017+status_1
 23269 06:5C46: C2 20        	rep	#$20
 23270                        	longa	on
 23271                        	.line	3996
 23272                        L10412:
 23273 06:5C48: E2 20        	sep	#$20
 23274                        	longa	off
 23275 06:5C4A: A5 0D        	lda	<L1017+status_1
 23276 06:5C4C: C9 80        	cmp	#<$80
 23277 06:5C4E: C2 20        	rep	#$20
 23278                        	longa	on
 23279 06:5C50: F0 03        	beq	L1019
 23280 06:5C52: 82 0F 00     	brl	L10413
 23281                        L1019:
 23282                        ;	{
 23283                        	.line	3997
 23284                        ;		status = (VDMA_STATUS_REG[0] & VDMA_STAT
                    _VDMA_IPS);
 23285                        	.line	3998
 23286 06:5C55: E2 20        	sep	#$20
 23287                        	longa	off
 23288 06:5C57: AF 01 04 AF  	lda	>11469825
 23289 06:5C5B: 29 80        	and	#<$80
  Mon Aug  9 2021 16:52                                                Page 431


 23290 06:5C5D: 85 0D        	sta	<L1017+status_1
 23291 06:5C5F: C2 20        	rep	#$20
 23292                        	longa	on
 23293                        ;	}
 23294                        	.line	3999
 23295 06:5C61: 82 E4 FF     	brl	L10412
 23296                        L10413:
 23297                        ;
 23298                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_TRF_FILL;
 23299                        	.line	4001
 23300 06:5C64: E2 20        	sep	#$20
 23301                        	longa	off
 23302 06:5C66: A9 05        	lda	#$5
 23303 06:5C68: 8F 00 04 AF  	sta	>11469824
 23304 06:5C6C: C2 20        	rep	#$20
 23305                        	longa	on
 23306                        ;
 23307                        ;	*BM_START_ADDY_L = 0x00;
 23308                        	.line	4003
 23309 06:5C6E: E2 20        	sep	#$20
 23310                        	longa	off
 23311 06:5C70: A9 00        	lda	#$0
 23312 06:5C72: 8F 41 01 AF  	sta	>11469121
 23313 06:5C76: C2 20        	rep	#$20
 23314                        	longa	on
 23315                        ;	*BM_START_ADDY_M = 0x00;
 23316                        	.line	4004
 23317 06:5C78: E2 20        	sep	#$20
 23318                        	longa	off
 23319 06:5C7A: A9 00        	lda	#$0
 23320 06:5C7C: 8F 42 01 AF  	sta	>11469122
 23321 06:5C80: C2 20        	rep	#$20
 23322                        	longa	on
 23323                        ;	*BM_START_ADDY_H = 0x00;
 23324                        	.line	4005
 23325 06:5C82: E2 20        	sep	#$20
 23326                        	longa	off
 23327 06:5C84: A9 00        	lda	#$0
 23328 06:5C86: 8F 43 01 AF  	sta	>11469123
 23329 06:5C8A: C2 20        	rep	#$20
 23330                        	longa	on
 23331                        ;	*((char FAR*)0xAF1F80) = 0x02;
 23332                        	.line	4006
 23333 06:5C8C: E2 20        	sep	#$20
 23334                        	longa	off
 23335 06:5C8E: A9 02        	lda	#$2
 23336 06:5C90: 8F 80 1F AF  	sta	>11476864
 23337 06:5C94: C2 20        	rep	#$20
 23338                        	longa	on
 23339                        ;
 23340                        ;	*BM_X_SIZE_L = 0x80;
 23341                        	.line	4008
 23342 06:5C96: E2 20        	sep	#$20
 23343                        	longa	off
 23344 06:5C98: A9 80        	lda	#$80
 23345 06:5C9A: 8F 44 01 AF  	sta	>11469124
 23346 06:5C9E: C2 20        	rep	#$20
  Mon Aug  9 2021 16:52                                                Page 432


 23347                        	longa	on
 23348                        ;	*BM_X_SIZE_H = 0x02;
 23349                        	.line	4009
 23350 06:5CA0: E2 20        	sep	#$20
 23351                        	longa	off
 23352 06:5CA2: A9 02        	lda	#$2
 23353 06:5CA4: 8F 45 01 AF  	sta	>11469125
 23354 06:5CA8: C2 20        	rep	#$20
 23355                        	longa	on
 23356                        ;	*BM_Y_SIZE_L = 0xE0;
 23357                        	.line	4010
 23358 06:5CAA: E2 20        	sep	#$20
 23359                        	longa	off
 23360 06:5CAC: A9 E0        	lda	#$e0
 23361 06:5CAE: 8F 46 01 AF  	sta	>11469126
 23362 06:5CB2: C2 20        	rep	#$20
 23363                        	longa	on
 23364                        ;	*BM_Y_SIZE_H = 0x01;
 23365                        	.line	4011
 23366 06:5CB4: E2 20        	sep	#$20
 23367                        	longa	off
 23368 06:5CB6: A9 01        	lda	#$1
 23369 06:5CB8: 8F 47 01 AF  	sta	>11469127
 23370 06:5CBC: C2 20        	rep	#$20
 23371                        	longa	on
 23372                        ;
 23373                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 23374                        	.line	4013
 23375 06:5CBE: E2 20        	sep	#$20
 23376                        	longa	off
 23377 06:5CC0: A5 15        	lda	<L1016+width_0
 23378 06:5CC2: 8F 08 04 AF  	sta	>11469832
 23379 06:5CC6: C2 20        	rep	#$20
 23380                        	longa	on
 23381                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 23382                        	.line	4014
 23383 06:5CC8: A5 15        	lda	<L1016+width_0
 23384 06:5CCA: A2 08 00     	ldx	#<$8
 23385                        	xref	~~~asr
 23386 06:5CCD: 22 xx xx xx  	jsl	~~~asr
 23387 06:5CD1: 29 FF 00     	and	#<$ff
 23388 06:5CD4: 85 01        	sta	<R0
 23389 06:5CD6: E2 20        	sep	#$20
 23390                        	longa	off
 23391 06:5CD8: A5 01        	lda	<R0
 23392 06:5CDA: 8F 09 04 AF  	sta	>11469833
 23393 06:5CDE: C2 20        	rep	#$20
 23394                        	longa	on
 23395                        ;
 23396                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 23397                        	.line	4016
 23398 06:5CE0: E2 20        	sep	#$20
 23399                        	longa	off
 23400 06:5CE2: A5 17        	lda	<L1016+height_0
 23401 06:5CE4: 8F 0A 04 AF  	sta	>11469834
 23402 06:5CE8: C2 20        	rep	#$20
 23403                        	longa	on
 23404                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
  Mon Aug  9 2021 16:52                                                Page 433


 23405                        	.line	4017
 23406 06:5CEA: A5 17        	lda	<L1016+height_0
 23407 06:5CEC: A2 08 00     	ldx	#<$8
 23408                        	xref	~~~asr
 23409 06:5CEF: 22 xx xx xx  	jsl	~~~asr
 23410 06:5CF3: 29 FF 00     	and	#<$ff
 23411 06:5CF6: 85 01        	sta	<R0
 23412 06:5CF8: E2 20        	sep	#$20
 23413                        	longa	off
 23414 06:5CFA: A5 01        	lda	<R0
 23415 06:5CFC: 8F 0B 04 AF  	sta	>11469835
 23416 06:5D00: C2 20        	rep	#$20
 23417                        	longa	on
 23418                        ;
 23419                        ;	*VDMA_DST_STRIDE_L = 0x80;
 23420                        	.line	4019
 23421 06:5D02: E2 20        	sep	#$20
 23422                        	longa	off
 23423 06:5D04: A9 80        	lda	#$80
 23424 06:5D06: 8F 0E 04 AF  	sta	>11469838
 23425 06:5D0A: C2 20        	rep	#$20
 23426                        	longa	on
 23427                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 23428                        	.line	4020
 23429 06:5D0C: E2 20        	sep	#$20
 23430                        	longa	off
 23431 06:5D0E: A9 02        	lda	#$2
 23432 06:5D10: 8F 0F 04 AF  	sta	>11469839
 23433 06:5D14: C2 20        	rep	#$20
 23434                        	longa	on
 23435                        ;
 23436                        ;
 23437                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 23438                        	.line	4023
 23439 06:5D16: E2 20        	sep	#$20
 23440                        	longa	off
 23441 06:5D18: A5 11        	lda	<L1016+pdst_0
 23442 06:5D1A: 8F 05 04 AF  	sta	>11469829
 23443 06:5D1E: C2 20        	rep	#$20
 23444                        	longa	on
 23445                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 23446                        	.line	4024
 23447 06:5D20: D4 13        	pei	<L1016+pdst_0+2
 23448 06:5D22: D4 11        	pei	<L1016+pdst_0
 23449 06:5D24: A9 08 00     	lda	#$8
 23450                        	xref	~~~llsr
 23451 06:5D27: 22 xx xx xx  	jsl	~~~llsr
 23452 06:5D2B: 85 01        	sta	<R0
 23453 06:5D2D: 86 03        	stx	<R0+2
 23454 06:5D2F: A5 01        	lda	<R0
 23455 06:5D31: 29 FF 00     	and	#<$ff
 23456 06:5D34: 85 05        	sta	<R1
 23457 06:5D36: 64 07        	stz	<R1+2
 23458 06:5D38: E2 20        	sep	#$20
 23459                        	longa	off
 23460 06:5D3A: A5 05        	lda	<R1
 23461 06:5D3C: 8F 06 04 AF  	sta	>11469830
 23462 06:5D40: C2 20        	rep	#$20
  Mon Aug  9 2021 16:52                                                Page 434


 23463                        	longa	on
 23464                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 23465                        	.line	4025
 23466 06:5D42: D4 13        	pei	<L1016+pdst_0+2
 23467 06:5D44: D4 11        	pei	<L1016+pdst_0
 23468 06:5D46: A9 10 00     	lda	#$10
 23469                        	xref	~~~llsr
 23470 06:5D49: 22 xx xx xx  	jsl	~~~llsr
 23471 06:5D4D: 85 01        	sta	<R0
 23472 06:5D4F: 86 03        	stx	<R0+2
 23473 06:5D51: A5 01        	lda	<R0
 23474 06:5D53: 29 FF 00     	and	#<$ff
 23475 06:5D56: 85 05        	sta	<R1
 23476 06:5D58: 64 07        	stz	<R1+2
 23477 06:5D5A: E2 20        	sep	#$20
 23478                        	longa	off
 23479 06:5D5C: A5 05        	lda	<R1
 23480 06:5D5E: 8F 07 04 AF  	sta	>11469831
 23481 06:5D62: C2 20        	rep	#$20
 23482                        	longa	on
 23483                        ;
 23484                        ;	VDMA_BYTE_2_WRITE[0] = pattern;
 23485                        	.line	4027
 23486 06:5D64: E2 20        	sep	#$20
 23487                        	longa	off
 23488 06:5D66: A5 19        	lda	<L1016+pattern_0
 23489 06:5D68: 8F 01 04 AF  	sta	>11469825
 23490 06:5D6C: C2 20        	rep	#$20
 23491                        	longa	on
 23492                        ;
 23493                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 23494                        	.line	4029
 23495 06:5D6E: E2 20        	sep	#$20
 23496                        	longa	off
 23497 06:5D70: A9 85        	lda	#$85
 23498 06:5D72: 8F 00 04 AF  	sta	>11469824
 23499 06:5D76: C2 20        	rep	#$20
 23500                        	longa	on
 23501                        ;
 23502                        ;
 23503                        ;   return ;
 23504                        	.line	4032
 23505                        L1020:
 23506 06:5D78: A5 0F        	lda	<L1016+2
 23507 06:5D7A: 85 19        	sta	<L1016+2+10
 23508 06:5D7C: A5 0E        	lda	<L1016+1
 23509 06:5D7E: 85 18        	sta	<L1016+1+10
 23510 06:5D80: 2B           	pld
 23511 06:5D81: 3B           	tsc
 23512 06:5D82: 18           	clc
 23513 06:5D83: 69 17 00     	adc	#L1016+10
 23514 06:5D86: 1B           	tcs
 23515 06:5D87: 6B           	rtl
 23516                        ;}
 23517                        	.line	4033
 23518                        	.endblock	4033
 23519             0000000D   L1016	equ	13
  Mon Aug  9 2021 16:52                                                Page 435


 23520             00000009   L1017	equ	9
 23521 06:5D88:              	ends
 23522                        	efunc
 23523                        	.endfunc	4033,9,13
 23524                        	.line	4033
 23525                        ;
 23526                        ;void k_vdma_move_rect(long x,long y,int width,int
                     height,int dx,int dy,unsigned char pcolor,UINT page)
 23527                        ;{
 23528                        	.line	4035
 23529                        	.line	4036
 23530                        	GFX
 23531                        	xdef	~~k_vdma_move_rect
 23532                        	func
 23533                        	.function	4036
 23534                        ~~k_vdma_move_rect:
 23535                        	longa	on
 23536                        	longi	on
 23537 06:5D88: 3B           	tsc
 23538 06:5D89: 38           	sec
 23539 06:5D8A: E9 0E 00     	sbc	#L1021
 23540 06:5D8D: 1B           	tcs
 23541 06:5D8E: 0B           	phd
 23542 06:5D8F: 5B           	tcd
 23543             00000004   x_0	set	4
 23544             00000008   y_0	set	8
 23545             0000000C   width_0	set	12
 23546             0000000E   height_0	set	14
 23547             00000010   dx_0	set	16
 23548             00000012   dy_0	set	18
 23549             00000014   pcolor_0	set	20
 23550             00000016   page_0	set	22
 23551                        	.block	4036
 23552                        ;	int slice = 0;
 23553                        ;
 23554                        ;
 23555                        ;
 23556                        ;
 23557                        ;	if(dx > 0)
 23558             00000000   slice_1	set	0
 23559                        	.sym	slice,0,5,1,16
 23560                        	.sym	x,4,7,6,32
 23561                        	.sym	y,8,7,6,32
 23562                        	.sym	width,12,5,6,16
 23563                        	.sym	height,14,5,6,16
 23564                        	.sym	dx,16,5,6,16
 23565                        	.sym	dy,18,5,6,16
 23566                        	.sym	pcolor,20,14,6,8
 23567                        	.sym	page,22,16,6,16
 23568 06:5D90: 64 0D        	stz	<L1022+slice_1
 23569                        	.line	4042
 23570                        ;	{
 23571 06:5D92: 38           	sec
 23572 06:5D93: A9 00 00     	lda	#$0
 23573 06:5D96: E5 1E        	sbc	<L1021+dx_0
 23574 06:5D98: 70 03        	bvs	L1024
 23575 06:5D9A: 49 00 80     	eor	#$8000
 23576                        L1024:
  Mon Aug  9 2021 16:52                                                Page 436


 23577 06:5D9D: 10 03        	bpl	L1025
 23578 06:5D9F: 82 62 00     	brl	L10414
 23579                        L1025:
 23580                        	.line	4043
 23581                        ;		slice = dx;
 23582                        	.line	4044
 23583 06:5DA2: A5 1E        	lda	<L1021+dx_0
 23584 06:5DA4: 85 0D        	sta	<L1022+slice_1
 23585                        ;		k_vdma_fill_rect_ex(x+width,y,slice,heig
                    ht,pcolor,page);
 23586                        	.line	4045
 23587 06:5DA6: D4 24        	pei	<L1021+page_0
 23588 06:5DA8: D4 22        	pei	<L1021+pcolor_0
 23589 06:5DAA: D4 1C        	pei	<L1021+height_0
 23590 06:5DAC: D4 0D        	pei	<L1022+slice_1
 23591 06:5DAE: D4 18        	pei	<L1021+y_0+2
 23592 06:5DB0: D4 16        	pei	<L1021+y_0
 23593 06:5DB2: A0 00 00     	ldy	#$0
 23594 06:5DB5: A5 1A        	lda	<L1021+width_0
 23595 06:5DB7: 10 01        	bpl	L1026
 23596 06:5DB9: 88           	dey
 23597                        L1026:
 23598 06:5DBA: 85 01        	sta	<R0
 23599 06:5DBC: 84 03        	sty	<R0+2
 23600 06:5DBE: 18           	clc
 23601 06:5DBF: A5 01        	lda	<R0
 23602 06:5DC1: 65 12        	adc	<L1021+x_0
 23603 06:5DC3: 85 05        	sta	<R1
 23604 06:5DC5: A5 03        	lda	<R0+2
 23605 06:5DC7: 65 14        	adc	<L1021+x_0+2
 23606 06:5DC9: 85 07        	sta	<R1+2
 23607 06:5DCB: D4 07        	pei	<R1+2
 23608 06:5DCD: D4 05        	pei	<R1
 23609 06:5DCF: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 23610                        ;		k_vdma_fill_rect_ex(x-dx,y,slice,height,
                    FILLCOLOR_TRANSPARENT,page);
 23611                        	.line	4046
 23612 06:5DD3: D4 24        	pei	<L1021+page_0
 23613 06:5DD5: F4 00 00     	pea	#<$0
 23614 06:5DD8: D4 1C        	pei	<L1021+height_0
 23615 06:5DDA: D4 0D        	pei	<L1022+slice_1
 23616 06:5DDC: D4 18        	pei	<L1021+y_0+2
 23617 06:5DDE: D4 16        	pei	<L1021+y_0
 23618 06:5DE0: A0 00 00     	ldy	#$0
 23619 06:5DE3: A5 1E        	lda	<L1021+dx_0
 23620 06:5DE5: 10 01        	bpl	L1027
 23621 06:5DE7: 88           	dey
 23622                        L1027:
 23623 06:5DE8: 85 01        	sta	<R0
 23624 06:5DEA: 84 03        	sty	<R0+2
 23625 06:5DEC: 38           	sec
 23626 06:5DED: A5 12        	lda	<L1021+x_0
 23627 06:5DEF: E5 01        	sbc	<R0
 23628 06:5DF1: 85 05        	sta	<R1
 23629 06:5DF3: A5 14        	lda	<L1021+x_0+2
 23630 06:5DF5: E5 03        	sbc	<R0+2
 23631 06:5DF7: 85 07        	sta	<R1+2
 23632 06:5DF9: D4 07        	pei	<R1+2
  Mon Aug  9 2021 16:52                                                Page 437


 23633 06:5DFB: D4 05        	pei	<R1
 23634 06:5DFD: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 23635                        ;	}
 23636                        	.line	4047
 23637                        ;	else if (dx < 0)
 23638 06:5E01: 82 83 00     	brl	L10415
 23639                        L10414:
 23640                        	.line	4048
 23641                        ;	{
 23642 06:5E04: A5 1E        	lda	<L1021+dx_0
 23643 06:5E06: 30 03        	bmi	L1028
 23644 06:5E08: 82 7C 00     	brl	L10416
 23645                        L1028:
 23646                        	.line	4049
 23647                        ;		slice = (-1*dx);
 23648                        	.line	4050
 23649 06:5E0B: 38           	sec
 23650 06:5E0C: A9 00 00     	lda	#$0
 23651 06:5E0F: E5 1E        	sbc	<L1021+dx_0
 23652 06:5E11: 85 0D        	sta	<L1022+slice_1
 23653                        ;		k_vdma_fill_rect_ex(x+dx,y,slice,height,
                    pcolor,page);
 23654                        	.line	4051
 23655 06:5E13: D4 24        	pei	<L1021+page_0
 23656 06:5E15: D4 22        	pei	<L1021+pcolor_0
 23657 06:5E17: D4 1C        	pei	<L1021+height_0
 23658 06:5E19: D4 0D        	pei	<L1022+slice_1
 23659 06:5E1B: D4 18        	pei	<L1021+y_0+2
 23660 06:5E1D: D4 16        	pei	<L1021+y_0
 23661 06:5E1F: A0 00 00     	ldy	#$0
 23662 06:5E22: A5 1E        	lda	<L1021+dx_0
 23663 06:5E24: 10 01        	bpl	L1029
 23664 06:5E26: 88           	dey
 23665                        L1029:
 23666 06:5E27: 85 01        	sta	<R0
 23667 06:5E29: 84 03        	sty	<R0+2
 23668 06:5E2B: 18           	clc
 23669 06:5E2C: A5 01        	lda	<R0
 23670 06:5E2E: 65 12        	adc	<L1021+x_0
 23671 06:5E30: 85 05        	sta	<R1
 23672 06:5E32: A5 03        	lda	<R0+2
 23673 06:5E34: 65 14        	adc	<L1021+x_0+2
 23674 06:5E36: 85 07        	sta	<R1+2
 23675 06:5E38: D4 07        	pei	<R1+2
 23676 06:5E3A: D4 05        	pei	<R1
 23677 06:5E3C: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 23678                        ;		k_vdma_fill_rect_ex(x+width-slice,y,slic
                    e,height,FILLCOLOR_TRANSPARENT,page);
 23679                        	.line	4052
 23680 06:5E40: D4 24        	pei	<L1021+page_0
 23681 06:5E42: F4 00 00     	pea	#<$0
 23682 06:5E45: D4 1C        	pei	<L1021+height_0
 23683 06:5E47: D4 0D        	pei	<L1022+slice_1
 23684 06:5E49: D4 18        	pei	<L1021+y_0+2
 23685 06:5E4B: D4 16        	pei	<L1021+y_0
 23686 06:5E4D: A0 00 00     	ldy	#$0
 23687 06:5E50: A5 0D        	lda	<L1022+slice_1
 23688 06:5E52: 10 01        	bpl	L1030
  Mon Aug  9 2021 16:52                                                Page 438


 23689 06:5E54: 88           	dey
 23690                        L1030:
 23691 06:5E55: 85 01        	sta	<R0
 23692 06:5E57: 84 03        	sty	<R0+2
 23693 06:5E59: A0 00 00     	ldy	#$0
 23694 06:5E5C: A5 1A        	lda	<L1021+width_0
 23695 06:5E5E: 10 01        	bpl	L1031
 23696 06:5E60: 88           	dey
 23697                        L1031:
 23698 06:5E61: 85 05        	sta	<R1
 23699 06:5E63: 84 07        	sty	<R1+2
 23700 06:5E65: 18           	clc
 23701 06:5E66: A5 05        	lda	<R1
 23702 06:5E68: 65 12        	adc	<L1021+x_0
 23703 06:5E6A: 85 09        	sta	<R2
 23704 06:5E6C: A5 07        	lda	<R1+2
 23705 06:5E6E: 65 14        	adc	<L1021+x_0+2
 23706 06:5E70: 85 0B        	sta	<R2+2
 23707 06:5E72: 38           	sec
 23708 06:5E73: A5 09        	lda	<R2
 23709 06:5E75: E5 01        	sbc	<R0
 23710 06:5E77: 85 05        	sta	<R1
 23711 06:5E79: A5 0B        	lda	<R2+2
 23712 06:5E7B: E5 03        	sbc	<R0+2
 23713 06:5E7D: 85 07        	sta	<R1+2
 23714 06:5E7F: D4 07        	pei	<R1+2
 23715 06:5E81: D4 05        	pei	<R1
 23716 06:5E83: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 23717                        ;	}
 23718                        	.line	4053
 23719                        ;}
 23720                        L10416:
 23721                        L10415:
 23722                        	.line	4054
 23723                        L1032:
 23724 06:5E87: A5 10        	lda	<L1021+2
 23725 06:5E89: 85 24        	sta	<L1021+2+20
 23726 06:5E8B: A5 0F        	lda	<L1021+1
 23727 06:5E8D: 85 23        	sta	<L1021+1+20
 23728 06:5E8F: 2B           	pld
 23729 06:5E90: 3B           	tsc
 23730 06:5E91: 18           	clc
 23731 06:5E92: 69 22 00     	adc	#L1021+20
 23732 06:5E95: 1B           	tcs
 23733 06:5E96: 6B           	rtl
 23734                        	.endblock	4054
 23735             0000000E   L1021	equ	14
 23736             0000000D   L1022	equ	13
 23737 06:5E97:              	ends
 23738                        	efunc
 23739                        	.endfunc	4054,13,14
 23740                        	.line	4054
 23741                        ;
 23742                        ;void k_vdma_fill_rect_ex(long x,long y,int width,
                    int height,unsigned char pcolor,UINT page)
 23743                        ;{
 23744                        	.line	4056
 23745                        	.line	4057
  Mon Aug  9 2021 16:52                                                Page 439


 23746                        	GFX
 23747                        	xdef	~~k_vdma_fill_rect_ex
 23748                        	func
 23749                        	.function	4057
 23750                        ~~k_vdma_fill_rect_ex:
 23751                        	longa	on
 23752                        	longi	on
 23753 06:5E97: 3B           	tsc
 23754 06:5E98: 38           	sec
 23755 06:5E99: E9 0C 00     	sbc	#L1033
 23756 06:5E9C: 1B           	tcs
 23757 06:5E9D: 0B           	phd
 23758 06:5E9E: 5B           	tcd
 23759             00000004   x_0	set	4
 23760             00000008   y_0	set	8
 23761             0000000C   width_0	set	12
 23762             0000000E   height_0	set	14
 23763             00000010   pcolor_0	set	16
 23764             00000012   page_0	set	18
 23765                        	.block	4057
 23766                        ;	long pixelLocation = 0L;
 23767                        ;
 23768                        ;	if(x < GUI_POINT_LIMIT_X_LO)
 23769             00000000   pixelLocation_1	set	0
 23770                        	.sym	pixelLocation,0,7,1,32
 23771                        	.sym	x,4,7,6,32
 23772                        	.sym	y,8,7,6,32
 23773                        	.sym	width,12,5,6,16
 23774                        	.sym	height,14,5,6,16
 23775                        	.sym	pcolor,16,14,6,8
 23776                        	.sym	page,18,16,6,16
 23777 06:5E9F: 64 09        	stz	<L1034+pixelLocation_1
 23778 06:5EA1: 64 0B        	stz	<L1034+pixelLocation_1+2
 23779                        	.line	4060
 23780                        ;	{
 23781 06:5EA3: A5 12        	lda	<L1033+x_0+2
 23782 06:5EA5: 30 03        	bmi	L1036
 23783 06:5EA7: 82 21 00     	brl	L10417
 23784                        L1036:
 23785                        	.line	4061
 23786                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:-x:",(int)x);
 23787                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:-width:",(int)width);
 23788                        ;		width = (width + x);
 23789                        	.line	4064
 23790 06:5EAA: A0 00 00     	ldy	#$0
 23791 06:5EAD: A5 18        	lda	<L1033+width_0
 23792 06:5EAF: 10 01        	bpl	L1037
 23793 06:5EB1: 88           	dey
 23794                        L1037:
 23795 06:5EB2: 85 01        	sta	<R0
 23796 06:5EB4: 84 03        	sty	<R0+2
 23797 06:5EB6: 18           	clc
 23798 06:5EB7: A5 01        	lda	<R0
 23799 06:5EB9: 65 10        	adc	<L1033+x_0
 23800 06:5EBB: 85 05        	sta	<R1
 23801 06:5EBD: A5 03        	lda	<R0+2
  Mon Aug  9 2021 16:52                                                Page 440


 23802 06:5EBF: 65 12        	adc	<L1033+x_0+2
 23803 06:5EC1: 85 07        	sta	<R1+2
 23804 06:5EC3: A5 05        	lda	<R1
 23805 06:5EC5: 85 18        	sta	<L1033+width_0
 23806                        ;		x = GUI_POINT_LIMIT_X_LO;
 23807                        	.line	4065
 23808 06:5EC7: 64 10        	stz	<L1033+x_0
 23809 06:5EC9: 64 12        	stz	<L1033+x_0+2
 23810                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:width:",(int)width);
 23811                        ;	}
 23812                        	.line	4067
 23813                        ;
 23814                        ;	if(y < GUI_POINT_LIMIT_Y_LO)
 23815                        L10417:
 23816                        	.line	4069
 23817                        ;	{
 23818 06:5ECB: A5 16        	lda	<L1033+y_0+2
 23819 06:5ECD: 30 03        	bmi	L1038
 23820 06:5ECF: 82 21 00     	brl	L10418
 23821                        L1038:
 23822                        	.line	4070
 23823                        ;		height = (height + y);
 23824                        	.line	4071
 23825 06:5ED2: A0 00 00     	ldy	#$0
 23826 06:5ED5: A5 1A        	lda	<L1033+height_0
 23827 06:5ED7: 10 01        	bpl	L1039
 23828 06:5ED9: 88           	dey
 23829                        L1039:
 23830 06:5EDA: 85 01        	sta	<R0
 23831 06:5EDC: 84 03        	sty	<R0+2
 23832 06:5EDE: 18           	clc
 23833 06:5EDF: A5 01        	lda	<R0
 23834 06:5EE1: 65 14        	adc	<L1033+y_0
 23835 06:5EE3: 85 05        	sta	<R1
 23836 06:5EE5: A5 03        	lda	<R0+2
 23837 06:5EE7: 65 16        	adc	<L1033+y_0+2
 23838 06:5EE9: 85 07        	sta	<R1+2
 23839 06:5EEB: A5 05        	lda	<R1
 23840 06:5EED: 85 1A        	sta	<L1033+height_0
 23841                        ;		y = GUI_POINT_LIMIT_Y_LO;
 23842                        	.line	4072
 23843 06:5EEF: 64 14        	stz	<L1033+y_0
 23844 06:5EF1: 64 16        	stz	<L1033+y_0+2
 23845                        ;	}
 23846                        	.line	4073
 23847                        ;
 23848                        ;	if(x > GUI_POINT_LIMIT_X_HI)
 23849                        L10418:
 23850                        	.line	4075
 23851                        ;		x = GUI_POINT_LIMIT_X_HI - 1;
 23852 06:5EF3: 38           	sec
 23853 06:5EF4: A9 80 02     	lda	#$280
 23854 06:5EF7: E5 10        	sbc	<L1033+x_0
 23855 06:5EF9: A9 00 00     	lda	#$0
 23856 06:5EFC: E5 12        	sbc	<L1033+x_0+2
 23857 06:5EFE: 70 03        	bvs	L1040
 23858 06:5F00: 49 00 80     	eor	#$8000
  Mon Aug  9 2021 16:52                                                Page 441


 23859                        L1040:
 23860 06:5F03: 10 03        	bpl	L1041
 23861 06:5F05: 82 0A 00     	brl	L10419
 23862                        L1041:
 23863                        	.line	4076
 23864 06:5F08: A9 7F 02     	lda	#$27f
 23865 06:5F0B: 85 10        	sta	<L1033+x_0
 23866 06:5F0D: A9 00 00     	lda	#$0
 23867 06:5F10: 85 12        	sta	<L1033+x_0+2
 23868                        ;
 23869                        ;	if(y > GUI_POINT_LIMIT_Y_HI)
 23870                        L10419:
 23871                        	.line	4078
 23872                        ;		y = GUI_POINT_LIMIT_Y_HI - 1;
 23873 06:5F12: 38           	sec
 23874 06:5F13: A9 E0 01     	lda	#$1e0
 23875 06:5F16: E5 14        	sbc	<L1033+y_0
 23876 06:5F18: A9 00 00     	lda	#$0
 23877 06:5F1B: E5 16        	sbc	<L1033+y_0+2
 23878 06:5F1D: 70 03        	bvs	L1042
 23879 06:5F1F: 49 00 80     	eor	#$8000
 23880                        L1042:
 23881 06:5F22: 10 03        	bpl	L1043
 23882 06:5F24: 82 0A 00     	brl	L10420
 23883                        L1043:
 23884                        	.line	4079
 23885 06:5F27: A9 DF 01     	lda	#$1df
 23886 06:5F2A: 85 14        	sta	<L1033+y_0
 23887 06:5F2C: A9 00 00     	lda	#$0
 23888 06:5F2F: 85 16        	sta	<L1033+y_0+2
 23889                        ;
 23890                        ;	if((int)x + width > GUI_POINT_LIMIT_X_HI)
 23891                        L10420:
 23892                        	.line	4081
 23893                        ;	{
 23894 06:5F31: 18           	clc
 23895 06:5F32: A5 10        	lda	<L1033+x_0
 23896 06:5F34: 65 18        	adc	<L1033+width_0
 23897 06:5F36: 85 01        	sta	<R0
 23898 06:5F38: 38           	sec
 23899 06:5F39: A9 80 02     	lda	#$280
 23900 06:5F3C: E5 01        	sbc	<R0
 23901 06:5F3E: 70 03        	bvs	L1044
 23902 06:5F40: 49 00 80     	eor	#$8000
 23903                        L1044:
 23904 06:5F43: 10 03        	bpl	L1045
 23905 06:5F45: 82 14 00     	brl	L10421
 23906                        L1045:
 23907                        	.line	4082
 23908                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:x:",(int)x);
 23909                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:width:",(int)width);
 23910                        ;
 23911                        ;		width = GUI_POINT_LIMIT_X_HI - (int)x;
 23912                        	.line	4086
 23913 06:5F48: 38           	sec
 23914 06:5F49: A9 80 02     	lda	#$280
  Mon Aug  9 2021 16:52                                                Page 442


 23915 06:5F4C: E5 10        	sbc	<L1033+x_0
 23916 06:5F4E: 85 18        	sta	<L1033+width_0
 23917                        ;
 23918                        ;		k_debug_integer("k_vdma_fill_rect_ex::x-
                    over:width:adjusted:",(int)width);
 23919                        	.line	4088
 23920 06:5F50: D4 18        	pei	<L1033+width_0
 23921 06:5F52: F4 xx xx     	pea	#^L1006
 23922 06:5F55: F4 xx xx     	pea	#<L1006
 23923 06:5F58: 22 xx xx xx  	jsl	~~k_debug_integer
 23924                        ;	}
 23925                        	.line	4089
 23926                        ;
 23927                        ;	if((int)y + height > GUI_POINT_LIMIT_Y_HI)
 23928                        L10421:
 23929                        	.line	4091
 23930                        ;	{
 23931 06:5F5C: 18           	clc
 23932 06:5F5D: A5 14        	lda	<L1033+y_0
 23933 06:5F5F: 65 1A        	adc	<L1033+height_0
 23934 06:5F61: 85 01        	sta	<R0
 23935 06:5F63: 38           	sec
 23936 06:5F64: A9 E0 01     	lda	#$1e0
 23937 06:5F67: E5 01        	sbc	<R0
 23938 06:5F69: 70 03        	bvs	L1046
 23939 06:5F6B: 49 00 80     	eor	#$8000
 23940                        L1046:
 23941 06:5F6E: 10 03        	bpl	L1047
 23942 06:5F70: 82 14 00     	brl	L10422
 23943                        L1047:
 23944                        	.line	4092
 23945                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    y-over:y:",y);
 23946                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    y-over:height:",height);
 23947                        ;
 23948                        ;		height = GUI_POINT_LIMIT_Y_HI - (int)y;
 23949                        	.line	4096
 23950 06:5F73: 38           	sec
 23951 06:5F74: A9 E0 01     	lda	#$1e0
 23952 06:5F77: E5 14        	sbc	<L1033+y_0
 23953 06:5F79: 85 1A        	sta	<L1033+height_0
 23954                        ;
 23955                        ;		k_debug_integer("k_vdma_fill_rect_ex::y-
                    over:height:adjusted:",height);
 23956                        	.line	4098
 23957 06:5F7B: D4 1A        	pei	<L1033+height_0
 23958 06:5F7D: F4 xx xx     	pea	#^L1006+44
 23959 06:5F80: F4 xx xx     	pea	#<L1006+44
 23960 06:5F83: 22 xx xx xx  	jsl	~~k_debug_integer
 23961                        ;	}
 23962                        	.line	4099
 23963                        ;	pixelLocation = (long)(( ((long)y) * (640L)) + (
                    (long)x) );
 23964                        L10422:
 23965                        	.line	4100
 23966 06:5F87: F4 00 00     	pea	#^$280
 23967 06:5F8A: F4 80 02     	pea	#<$280
  Mon Aug  9 2021 16:52                                                Page 443


 23968 06:5F8D: D4 16        	pei	<L1033+y_0+2
 23969 06:5F8F: D4 14        	pei	<L1033+y_0
 23970                        	xref	~~~lmul
 23971 06:5F91: 22 xx xx xx  	jsl	~~~lmul
 23972 06:5F95: 85 01        	sta	<R0
 23973 06:5F97: 86 03        	stx	<R0+2
 23974 06:5F99: 18           	clc
 23975 06:5F9A: A5 01        	lda	<R0
 23976 06:5F9C: 65 10        	adc	<L1033+x_0
 23977 06:5F9E: 85 09        	sta	<L1034+pixelLocation_1
 23978 06:5FA0: A5 03        	lda	<R0+2
 23979 06:5FA2: 65 12        	adc	<L1033+x_0+2
 23980 06:5FA4: 85 0B        	sta	<L1034+pixelLocation_1+2
 23981                        ;
 23982                        ;	//k_debug_integer("k_vdma_fill_rect:",page);
 23983                        ;	//k_debug_integer("k_vdma_fill_width:",width);
 23984                        ;	//k_debug_integer("k_vdma_fill_height:",height);
 23985                        ;
 23986                        ;	k_vdma_fill_address_ex((char FAR * )pixelLocatio
                    n, width, height,pcolor,page);
 23987                        	.line	4106
 23988 06:5FA6: D4 1E        	pei	<L1033+page_0
 23989 06:5FA8: D4 1C        	pei	<L1033+pcolor_0
 23990 06:5FAA: D4 1A        	pei	<L1033+height_0
 23991 06:5FAC: D4 18        	pei	<L1033+width_0
 23992 06:5FAE: D4 0B        	pei	<L1034+pixelLocation_1+2
 23993 06:5FB0: D4 09        	pei	<L1034+pixelLocation_1
 23994 06:5FB2: 22 11 63 06  	jsl	~~k_vdma_fill_address_ex
 23995                        ;
 23996                        ;	return;
 23997                        	.line	4108
 23998                        L1048:
 23999 06:5FB6: A5 0E        	lda	<L1033+2
 24000 06:5FB8: 85 1E        	sta	<L1033+2+16
 24001 06:5FBA: A5 0D        	lda	<L1033+1
 24002 06:5FBC: 85 1D        	sta	<L1033+1+16
 24003 06:5FBE: 2B           	pld
 24004 06:5FBF: 3B           	tsc
 24005 06:5FC0: 18           	clc
 24006 06:5FC1: 69 1C 00     	adc	#L1033+16
 24007 06:5FC4: 1B           	tcs
 24008 06:5FC5: 6B           	rtl
 24009                        ;}
 24010                        	.line	4109
 24011                        	.endblock	4109
 24012             0000000C   L1033	equ	12
 24013             00000009   L1034	equ	9
 24014 06:5FC6:              	ends
 24015                        	efunc
 24016                        	.endfunc	4109,9,12
 24017                        	.line	4109
 24018                        	data
 24019                        L1006:
 24020 00:0A0C: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$72,$65,$63
       00:0A10: 6D 61 5F 66 
       00:0A14: 69 6C 6C 5F 
       00:0A18: 72 65 63 
  Mon Aug  9 2021 16:52                                                Page 444


 24021 00:0A1B: 74 5F 65 78  	db	$74,$5F,$65,$78,$3A,$3A,$78,$2D,$6F,$76,
                    $65,$72,$3A,$77,$69
       00:0A1F: 3A 3A 78 2D 
       00:0A23: 6F 76 65 72 
       00:0A27: 3A 77 69 
 24022 00:0A2A: 64 74 68 3A  	db	$64,$74,$68,$3A,$61,$64,$6A,$75,$73,$74,
                    $65,$64,$3A,$00,$6B
       00:0A2E: 61 64 6A 75 
       00:0A32: 73 74 65 64 
       00:0A36: 3A 00 6B 
 24023 00:0A39: 5F 76 64 6D  	db	$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,$6C,
                    $5F,$72,$65,$63,$74
       00:0A3D: 61 5F 66 69 
       00:0A41: 6C 6C 5F 72 
       00:0A45: 65 63 74 
 24024 00:0A48: 5F 65 78 3A  	db	$5F,$65,$78,$3A,$3A,$79,$2D,$6F,$76,$65,
                    $72,$3A,$68,$65,$69
       00:0A4C: 3A 79 2D 6F 
       00:0A50: 76 65 72 3A 
       00:0A54: 68 65 69 
 24025 00:0A57: 67 68 74 3A  	db	$67,$68,$74,$3A,$61,$64,$6A,$75,$73,$74,
                    $65,$64,$3A,$00
       00:0A5B: 61 64 6A 75 
       00:0A5F: 73 74 65 64 
       00:0A63: 3A 00 
 24026 00:0A65:              	ends
 24027                        ;
 24028                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 24029                        ;{
 24030                        	.line	4111
 24031                        	.line	4112
 24032                        	GFX
 24033                        	xdef	~~k_vdma_fill_rect
 24034                        	func
 24035                        	.function	4112
 24036                        ~~k_vdma_fill_rect:
 24037                        	longa	on
 24038                        	longi	on
 24039 06:5FC6: 3B           	tsc
 24040 06:5FC7: 38           	sec
 24041 06:5FC8: E9 00 00     	sbc	#L1050
 24042 06:5FCB: 1B           	tcs
 24043 06:5FCC: 0B           	phd
 24044 06:5FCD: 5B           	tcd
 24045             00000004   x_0	set	4
 24046             00000008   y_0	set	8
 24047             0000000C   width_0	set	12
 24048             0000000E   height_0	set	14
 24049             00000010   pcolor_0	set	16
 24050                        	.block	4112
 24051                        ;	k_vdma_fill_rect_ex(x,y,width,height,pcolor,BITM
                    AP_BACK);
 24052                        	.sym	x,4,7,6,32
 24053                        	.sym	y,8,7,6,32
 24054                        	.sym	width,12,5,6,16
 24055                        	.sym	height,14,5,6,16
 24056                        	.sym	pcolor,16,14,6,8
  Mon Aug  9 2021 16:52                                                Page 445


 24057                        	.line	4113
 24058 06:5FCE: F4 08 00     	pea	#<$8
 24059 06:5FD1: D4 10        	pei	<L1050+pcolor_0
 24060 06:5FD3: D4 0E        	pei	<L1050+height_0
 24061 06:5FD5: D4 0C        	pei	<L1050+width_0
 24062 06:5FD7: D4 0A        	pei	<L1050+y_0+2
 24063 06:5FD9: D4 08        	pei	<L1050+y_0
 24064 06:5FDB: D4 06        	pei	<L1050+x_0+2
 24065 06:5FDD: D4 04        	pei	<L1050+x_0
 24066 06:5FDF: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 24067                        ;}
 24068                        	.line	4114
 24069                        L1053:
 24070 06:5FE3: A5 02        	lda	<L1050+2
 24071 06:5FE5: 85 10        	sta	<L1050+2+14
 24072 06:5FE7: A5 01        	lda	<L1050+1
 24073 06:5FE9: 85 0F        	sta	<L1050+1+14
 24074 06:5FEB: 2B           	pld
 24075 06:5FEC: 3B           	tsc
 24076 06:5FED: 18           	clc
 24077 06:5FEE: 69 0E 00     	adc	#L1050+14
 24078 06:5FF1: 1B           	tcs
 24079 06:5FF2: 6B           	rtl
 24080                        	.endblock	4114
 24081             00000000   L1050	equ	0
 24082             00000001   L1051	equ	1
 24083 06:5FF3:              	ends
 24084                        	efunc
 24085                        	.endfunc	4114,1,0
 24086                        	.line	4114
 24087                        ;
 24088                        ;/*
 24089                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 24090                        ;{
 24091                        ;	long pixelLocation = (long)(( ((long)y) * (640L)
                    ) + ((long)x) );
 24092                        ;
 24093                        ;	//k_debug_string("k_vdma_fill_rect V2\r\n");
 24094                        ;
 24095                        ;	//k_vdma_fill_address((char FAR * )pixelLocation
                    , width - 2, height - 1,pcolor);
 24096                        ;	k_vdma_fill_address((char FAR * )pixelLocation, 
                    width, height,pcolor);
 24097                        ;#ifdef FX_C256_USESHADOW
 24098                        ;	k_shadow_fill_rect(x,y, width, height, pcolor);
 24099                        ;#endif
 24100                        ;	//k_shadow_bitblt(x,y,width,height,x,y);
 24101                        ;
 24102                        ;	return;
 24103                        ;}
 24104                        ;*/
 24105                        ;
 24106                        ;void k_vdma_fill_address_old(char FAR * pdst,int 
                    width,int height,unsigned char data)
 24107                        ;{
 24108                        	.line	4134
 24109                        	.line	4135
  Mon Aug  9 2021 16:52                                                Page 446


 24110                        	GFX
 24111                        	xdef	~~k_vdma_fill_address_old
 24112                        	func
 24113                        	.function	4135
 24114                        ~~k_vdma_fill_address_old:
 24115                        	longa	on
 24116                        	longi	on
 24117 06:5FF3: 3B           	tsc
 24118 06:5FF4: 38           	sec
 24119 06:5FF5: E9 0D 00     	sbc	#L1054
 24120 06:5FF8: 1B           	tcs
 24121 06:5FF9: 0B           	phd
 24122 06:5FFA: 5B           	tcd
 24123             00000004   pdst_0	set	4
 24124             00000008   width_0	set	8
 24125             0000000A   height_0	set	10
 24126             0000000C   data_0	set	12
 24127                        	.block	4135
 24128                        ;	int pos = 0;
 24129                        ;	UINT spinLock = 0;
 24130                        ;	char status = VDMA_STAT_VDMA_IPS;
 24131                        ;
 24132                        ;	/*
 24133                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24134                        ;	{
 24135                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 24136                        ;		spinLock++;
 24137                        ;
 24138                        ;		if(spinLock > 32000)
 24139                        ;		{
 24140                        ;			break;
 24141                        ;		}
 24142                        ;	}
 24143                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 24144                        ;	*/
 24145                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_1D_2D | VDMA_CTRL_TRF_FILL;
 24146             00000000   pos_1	set	0
 24147             00000002   spinLock_1	set	2
 24148             00000004   status_1	set	4
 24149                        	.sym	pos,0,5,1,16
 24150                        	.sym	spinLock,2,16,1,16
 24151                        	.sym	status,4,14,1,8
 24152                        	.sym	pdst,4,142,6,32
 24153                        	.sym	width,8,5,6,16
 24154                        	.sym	height,10,5,6,16
 24155                        	.sym	data,12,14,6,8
 24156 06:5FFB: 64 09        	stz	<L1055+pos_1
 24157 06:5FFD: 64 0B        	stz	<L1055+spinLock_1
 24158 06:5FFF: E2 20        	sep	#$20
 24159                        	longa	off
 24160 06:6001: A9 80        	lda	#$80
 24161 06:6003: 85 0D        	sta	<L1055+status_1
 24162 06:6005: C2 20        	rep	#$20
 24163                        	longa	on
 24164                        	.line	4153
  Mon Aug  9 2021 16:52                                                Page 447


 24165 06:6007: E2 20        	sep	#$20
 24166                        	longa	off
 24167 06:6009: A9 07        	lda	#$7
 24168 06:600B: 8F 00 04 AF  	sta	>11469824
 24169 06:600F: C2 20        	rep	#$20
 24170                        	longa	on
 24171                        ;
 24172                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24173                        	.line	4155
 24174 06:6011: E2 20        	sep	#$20
 24175                        	longa	off
 24176 06:6013: A5 11        	lda	<L1054+pdst_0
 24177 06:6015: 8F 05 04 AF  	sta	>11469829
 24178 06:6019: C2 20        	rep	#$20
 24179                        	longa	on
 24180                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24181                        	.line	4156
 24182 06:601B: D4 13        	pei	<L1054+pdst_0+2
 24183 06:601D: D4 11        	pei	<L1054+pdst_0
 24184 06:601F: A9 08 00     	lda	#$8
 24185                        	xref	~~~llsr
 24186 06:6022: 22 xx xx xx  	jsl	~~~llsr
 24187 06:6026: 85 01        	sta	<R0
 24188 06:6028: 86 03        	stx	<R0+2
 24189 06:602A: A5 01        	lda	<R0
 24190 06:602C: 29 FF 00     	and	#<$ff
 24191 06:602F: 85 05        	sta	<R1
 24192 06:6031: 64 07        	stz	<R1+2
 24193 06:6033: E2 20        	sep	#$20
 24194                        	longa	off
 24195 06:6035: A5 05        	lda	<R1
 24196 06:6037: 8F 06 04 AF  	sta	>11469830
 24197 06:603B: C2 20        	rep	#$20
 24198                        	longa	on
 24199                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 24200                        	.line	4157
 24201 06:603D: D4 13        	pei	<L1054+pdst_0+2
 24202 06:603F: D4 11        	pei	<L1054+pdst_0
 24203 06:6041: A9 10 00     	lda	#$10
 24204                        	xref	~~~llsr
 24205 06:6044: 22 xx xx xx  	jsl	~~~llsr
 24206 06:6048: 85 01        	sta	<R0
 24207 06:604A: 86 03        	stx	<R0+2
 24208 06:604C: A5 01        	lda	<R0
 24209 06:604E: 29 FF 00     	and	#<$ff
 24210 06:6051: 85 05        	sta	<R1
 24211 06:6053: 64 07        	stz	<R1+2
 24212 06:6055: E2 20        	sep	#$20
 24213                        	longa	off
 24214 06:6057: A5 05        	lda	<R1
 24215 06:6059: 8F 07 04 AF  	sta	>11469831
 24216 06:605D: C2 20        	rep	#$20
 24217                        	longa	on
 24218                        ;
 24219                        ;	*BM_START_ADDY_L = 0x00;
 24220                        	.line	4159
 24221 06:605F: E2 20        	sep	#$20
 24222                        	longa	off
  Mon Aug  9 2021 16:52                                                Page 448


 24223 06:6061: A9 00        	lda	#$0
 24224 06:6063: 8F 41 01 AF  	sta	>11469121
 24225 06:6067: C2 20        	rep	#$20
 24226                        	longa	on
 24227                        ;	*BM_START_ADDY_M = 0x00;
 24228                        	.line	4160
 24229 06:6069: E2 20        	sep	#$20
 24230                        	longa	off
 24231 06:606B: A9 00        	lda	#$0
 24232 06:606D: 8F 42 01 AF  	sta	>11469122
 24233 06:6071: C2 20        	rep	#$20
 24234                        	longa	on
 24235                        ;	*BM_START_ADDY_H = 0x00;
 24236                        	.line	4161
 24237 06:6073: E2 20        	sep	#$20
 24238                        	longa	off
 24239 06:6075: A9 00        	lda	#$0
 24240 06:6077: 8F 43 01 AF  	sta	>11469123
 24241 06:607B: C2 20        	rep	#$20
 24242                        	longa	on
 24243                        ;	*((char FAR*)0xAF1F80) = 0x02;
 24244                        	.line	4162
 24245 06:607D: E2 20        	sep	#$20
 24246                        	longa	off
 24247 06:607F: A9 02        	lda	#$2
 24248 06:6081: 8F 80 1F AF  	sta	>11476864
 24249 06:6085: C2 20        	rep	#$20
 24250                        	longa	on
 24251                        ;	
 24252                        ;	*BM_X_SIZE_L = 0x80;
 24253                        	.line	4164
 24254 06:6087: E2 20        	sep	#$20
 24255                        	longa	off
 24256 06:6089: A9 80        	lda	#$80
 24257 06:608B: 8F 44 01 AF  	sta	>11469124
 24258 06:608F: C2 20        	rep	#$20
 24259                        	longa	on
 24260                        ;	*BM_X_SIZE_H = 0x02;	
 24261                        	.line	4165
 24262 06:6091: E2 20        	sep	#$20
 24263                        	longa	off
 24264 06:6093: A9 02        	lda	#$2
 24265 06:6095: 8F 45 01 AF  	sta	>11469125
 24266 06:6099: C2 20        	rep	#$20
 24267                        	longa	on
 24268                        ;	*BM_Y_SIZE_L = 0xE0;
 24269                        	.line	4166
 24270 06:609B: E2 20        	sep	#$20
 24271                        	longa	off
 24272 06:609D: A9 E0        	lda	#$e0
 24273 06:609F: 8F 46 01 AF  	sta	>11469126
 24274 06:60A3: C2 20        	rep	#$20
 24275                        	longa	on
 24276                        ;	*BM_Y_SIZE_H = 0x01;
 24277                        	.line	4167
 24278 06:60A5: E2 20        	sep	#$20
 24279                        	longa	off
 24280 06:60A7: A9 01        	lda	#$1
  Mon Aug  9 2021 16:52                                                Page 449


 24281 06:60A9: 8F 47 01 AF  	sta	>11469127
 24282 06:60AD: C2 20        	rep	#$20
 24283                        	longa	on
 24284                        ;
 24285                        ;	width+=(width & 0x0001);
 24286                        	.line	4169
 24287 06:60AF: A5 15        	lda	<L1054+width_0
 24288 06:60B1: 29 01 00     	and	#<$1
 24289 06:60B4: 85 01        	sta	<R0
 24290 06:60B6: 18           	clc
 24291 06:60B7: A5 15        	lda	<L1054+width_0
 24292 06:60B9: 65 01        	adc	<R0
 24293 06:60BB: 85 15        	sta	<L1054+width_0
 24294                        ;
 24295                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 24296                        	.line	4171
 24297 06:60BD: E2 20        	sep	#$20
 24298                        	longa	off
 24299 06:60BF: A5 15        	lda	<L1054+width_0
 24300 06:60C1: 8F 08 04 AF  	sta	>11469832
 24301 06:60C5: C2 20        	rep	#$20
 24302                        	longa	on
 24303                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 24304                        	.line	4172
 24305 06:60C7: A5 15        	lda	<L1054+width_0
 24306 06:60C9: A2 08 00     	ldx	#<$8
 24307                        	xref	~~~asr
 24308 06:60CC: 22 xx xx xx  	jsl	~~~asr
 24309 06:60D0: 29 FF 00     	and	#<$ff
 24310 06:60D3: 85 01        	sta	<R0
 24311 06:60D5: E2 20        	sep	#$20
 24312                        	longa	off
 24313 06:60D7: A5 01        	lda	<R0
 24314 06:60D9: 8F 09 04 AF  	sta	>11469833
 24315 06:60DD: C2 20        	rep	#$20
 24316                        	longa	on
 24317                        ;
 24318                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 24319                        	.line	4174
 24320 06:60DF: E2 20        	sep	#$20
 24321                        	longa	off
 24322 06:60E1: A5 17        	lda	<L1054+height_0
 24323 06:60E3: 8F 0A 04 AF  	sta	>11469834
 24324 06:60E7: C2 20        	rep	#$20
 24325                        	longa	on
 24326                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 24327                        	.line	4175
 24328 06:60E9: A5 17        	lda	<L1054+height_0
 24329 06:60EB: A2 08 00     	ldx	#<$8
 24330                        	xref	~~~asr
 24331 06:60EE: 22 xx xx xx  	jsl	~~~asr
 24332 06:60F2: 29 FF 00     	and	#<$ff
 24333 06:60F5: 85 01        	sta	<R0
 24334 06:60F7: E2 20        	sep	#$20
 24335                        	longa	off
 24336 06:60F9: A5 01        	lda	<R0
 24337 06:60FB: 8F 0B 04 AF  	sta	>11469835
 24338 06:60FF: C2 20        	rep	#$20
  Mon Aug  9 2021 16:52                                                Page 450


 24339                        	longa	on
 24340                        ;
 24341                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 24342                        	.line	4177
 24343 06:6101: E2 20        	sep	#$20
 24344                        	longa	off
 24345 06:6103: A9 80        	lda	#$80
 24346 06:6105: 8F 0E 04 AF  	sta	>11469838
 24347 06:6109: C2 20        	rep	#$20
 24348                        	longa	on
 24349                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 24350                        	.line	4178
 24351 06:610B: E2 20        	sep	#$20
 24352                        	longa	off
 24353 06:610D: A9 02        	lda	#$2
 24354 06:610F: 8F 0F 04 AF  	sta	>11469839
 24355 06:6113: C2 20        	rep	#$20
 24356                        	longa	on
 24357                        ;	
 24358                        ;
 24359                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24360                        	.line	4181
 24361 06:6115: E2 20        	sep	#$20
 24362                        	longa	off
 24363 06:6117: A5 11        	lda	<L1054+pdst_0
 24364 06:6119: 8F 05 04 AF  	sta	>11469829
 24365 06:611D: C2 20        	rep	#$20
 24366                        	longa	on
 24367                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24368                        	.line	4182
 24369 06:611F: D4 13        	pei	<L1054+pdst_0+2
 24370 06:6121: D4 11        	pei	<L1054+pdst_0
 24371 06:6123: A9 08 00     	lda	#$8
 24372                        	xref	~~~llsr
 24373 06:6126: 22 xx xx xx  	jsl	~~~llsr
 24374 06:612A: 85 01        	sta	<R0
 24375 06:612C: 86 03        	stx	<R0+2
 24376 06:612E: A5 01        	lda	<R0
 24377 06:6130: 29 FF 00     	and	#<$ff
 24378 06:6133: 85 05        	sta	<R1
 24379 06:6135: 64 07        	stz	<R1+2
 24380 06:6137: E2 20        	sep	#$20
 24381                        	longa	off
 24382 06:6139: A5 05        	lda	<R1
 24383 06:613B: 8F 06 04 AF  	sta	>11469830
 24384 06:613F: C2 20        	rep	#$20
 24385                        	longa	on
 24386                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 24387                        	.line	4183
 24388 06:6141: D4 13        	pei	<L1054+pdst_0+2
 24389 06:6143: D4 11        	pei	<L1054+pdst_0
 24390 06:6145: A9 10 00     	lda	#$10
 24391                        	xref	~~~llsr
 24392 06:6148: 22 xx xx xx  	jsl	~~~llsr
 24393 06:614C: 85 01        	sta	<R0
 24394 06:614E: 86 03        	stx	<R0+2
 24395 06:6150: A5 01        	lda	<R0
 24396 06:6152: 29 FF 00     	and	#<$ff
  Mon Aug  9 2021 16:52                                                Page 451


 24397 06:6155: 85 05        	sta	<R1
 24398 06:6157: 64 07        	stz	<R1+2
 24399 06:6159: E2 20        	sep	#$20
 24400                        	longa	off
 24401 06:615B: A5 05        	lda	<R1
 24402 06:615D: 8F 07 04 AF  	sta	>11469831
 24403 06:6161: C2 20        	rep	#$20
 24404                        	longa	on
 24405                        ;
 24406                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 24407                        	.line	4185
 24408 06:6163: E2 20        	sep	#$20
 24409                        	longa	off
 24410 06:6165: A5 19        	lda	<L1054+data_0
 24411 06:6167: 8F 01 04 AF  	sta	>11469825
 24412 06:616B: C2 20        	rep	#$20
 24413                        	longa	on
 24414                        ;	
 24415                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x8
                    7;
 24416                        	.line	4187
 24417 06:616D: E2 20        	sep	#$20
 24418                        	longa	off
 24419 06:616F: A9 87        	lda	#$87
 24420 06:6171: 8F 00 04 AF  	sta	>11469824
 24421 06:6175: C2 20        	rep	#$20
 24422                        	longa	on
 24423                        ;
 24424                        ;
 24425                        ;	status = VDMA_STAT_VDMA_IPS;
 24426                        	.line	4190
 24427 06:6177: E2 20        	sep	#$20
 24428                        	longa	off
 24429 06:6179: A9 80        	lda	#$80
 24430 06:617B: 85 0D        	sta	<L1055+status_1
 24431 06:617D: C2 20        	rep	#$20
 24432                        	longa	on
 24433                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24434                        	.line	4191
 24435                        L10423:
 24436 06:617F: E2 20        	sep	#$20
 24437                        	longa	off
 24438 06:6181: A5 0D        	lda	<L1055+status_1
 24439 06:6183: C9 80        	cmp	#<$80
 24440 06:6185: C2 20        	rep	#$20
 24441                        	longa	on
 24442 06:6187: F0 03        	beq	L1057
 24443 06:6189: 82 1E 00     	brl	L10424
 24444                        L1057:
 24445                        ;	{
 24446                        	.line	4192
 24447                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 24448                        	.line	4193
 24449 06:618C: E2 20        	sep	#$20
 24450                        	longa	off
 24451 06:618E: AF 01 04 AF  	lda	>11469825
  Mon Aug  9 2021 16:52                                                Page 452


 24452 06:6192: 29 80        	and	#<$80
 24453 06:6194: 85 0D        	sta	<L1055+status_1
 24454 06:6196: C2 20        	rep	#$20
 24455                        	longa	on
 24456                        ;		spinLock++;
 24457                        	.line	4194
 24458 06:6198: E6 0B        	inc	<L1055+spinLock_1
 24459                        ;
 24460                        ;		if(spinLock > 32000)
 24461                        	.line	4196
 24462                        ;		{
 24463 06:619A: A9 00 7D     	lda	#$7d00
 24464 06:619D: C5 0B        	cmp	<L1055+spinLock_1
 24465 06:619F: 90 03        	bcc	L1058
 24466 06:61A1: 82 03 00     	brl	L10425
 24467                        L1058:
 24468                        	.line	4197
 24469                        ;			break;
 24470                        	.line	4198
 24471 06:61A4: 82 03 00     	brl	L10424
 24472                        ;		}
 24473                        	.line	4199
 24474                        ;	}
 24475                        L10425:
 24476                        	.line	4200
 24477 06:61A7: 82 D5 FF     	brl	L10423
 24478                        L10424:
 24479                        ;	k_debug_integer("k_vdma_fill_address2::spinLock:
                    ",spinLock);
 24480                        	.line	4201
 24481 06:61AA: D4 0B        	pei	<L1055+spinLock_1
 24482 06:61AC: F4 xx xx     	pea	#^L1049
 24483 06:61AF: F4 xx xx     	pea	#<L1049
 24484 06:61B2: 22 xx xx xx  	jsl	~~k_debug_integer
 24485                        ;
 24486                        ;
 24487                        ;
 24488                        ;	/*
 24489                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24490                        ;	{
 24491                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 24492                        ;	}
 24493                        ;	
 24494                        ;	
 24495                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24496                        ;	{
 24497                        ;		#asm
 24498                        ;		PHA 
 24499                        ;        LDA $AF0401
 24500                        ;        AND #$80
 24501                        ;        CMP #$80
 24502                        ;        STA %%status
 24503                        ;		PLA
 24504                        ;		#endasm
 24505                        ;	}
 24506                        ;	*/
 24507                        ;	
  Mon Aug  9 2021 16:52                                                Page 453


 24508                        ;   //return *VDMA_STATUS_REG;
 24509                        ;   //return VDMA_STATUS_REG[0];
 24510                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 24511                        ;   
 24512                        ;   return ;
 24513                        	.line	4229
 24514                        L1059:
 24515 06:61B6: A5 0F        	lda	<L1054+2
 24516 06:61B8: 85 19        	sta	<L1054+2+10
 24517 06:61BA: A5 0E        	lda	<L1054+1
 24518 06:61BC: 85 18        	sta	<L1054+1+10
 24519 06:61BE: 2B           	pld
 24520 06:61BF: 3B           	tsc
 24521 06:61C0: 18           	clc
 24522 06:61C1: 69 17 00     	adc	#L1054+10
 24523 06:61C4: 1B           	tcs
 24524 06:61C5: 6B           	rtl
 24525                        ;}
 24526                        	.line	4230
 24527                        	.endblock	4230
 24528             0000000D   L1054	equ	13
 24529             00000009   L1055	equ	9
 24530 06:61C6:              	ends
 24531                        	efunc
 24532                        	.endfunc	4230,9,13
 24533                        	.line	4230
 24534                        	data
 24535                        L1049:
 24536 00:0A65: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$61,$64,$64
       00:0A69: 6D 61 5F 66 
       00:0A6D: 69 6C 6C 5F 
       00:0A71: 61 64 64 
 24537 00:0A74: 72 65 73 73  	db	$72,$65,$73,$73,$32,$3A,$3A,$73,$70,$69,
                    $6E,$4C,$6F,$63,$6B
       00:0A78: 32 3A 3A 73 
       00:0A7C: 70 69 6E 4C 
       00:0A80: 6F 63 6B 
 24538 00:0A83: 3A 00        	db	$3A,$00
 24539 00:0A85:              	ends
 24540                        ;
 24541                        ;void k_vdma_fill_address(char FAR * pdst,int widt
                    h,int height,unsigned char data)
 24542                        ;{
 24543                        	.line	4232
 24544                        	.line	4233
 24545                        	GFX
 24546                        	xdef	~~k_vdma_fill_address
 24547                        	func
 24548                        	.function	4233
 24549                        ~~k_vdma_fill_address:
 24550                        	longa	on
 24551                        	longi	on
 24552 06:61C6: 3B           	tsc
 24553 06:61C7: 38           	sec
 24554 06:61C8: E9 0D 00     	sbc	#L1061
 24555 06:61CB: 1B           	tcs
 24556 06:61CC: 0B           	phd
  Mon Aug  9 2021 16:52                                                Page 454


 24557 06:61CD: 5B           	tcd
 24558             00000004   pdst_0	set	4
 24559             00000008   width_0	set	8
 24560             0000000A   height_0	set	10
 24561             0000000C   data_0	set	12
 24562                        	.block	4233
 24563                        ;	int pos = 0;
 24564                        ;	UINT spinLock = 0;
 24565                        ;	char status = VDMA_STAT_VDMA_IPS;
 24566                        ;
 24567                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 24568             00000000   pos_1	set	0
 24569             00000002   spinLock_1	set	2
 24570             00000004   status_1	set	4
 24571                        	.sym	pos,0,5,1,16
 24572                        	.sym	spinLock,2,16,1,16
 24573                        	.sym	status,4,14,1,8
 24574                        	.sym	pdst,4,142,6,32
 24575                        	.sym	width,8,5,6,16
 24576                        	.sym	height,10,5,6,16
 24577                        	.sym	data,12,14,6,8
 24578 06:61CE: 64 09        	stz	<L1062+pos_1
 24579 06:61D0: 64 0B        	stz	<L1062+spinLock_1
 24580 06:61D2: E2 20        	sep	#$20
 24581                        	longa	off
 24582 06:61D4: A9 80        	lda	#$80
 24583 06:61D6: 85 0D        	sta	<L1062+status_1
 24584 06:61D8: C2 20        	rep	#$20
 24585                        	longa	on
 24586                        	.line	4238
 24587 06:61DA: E2 20        	sep	#$20
 24588                        	longa	off
 24589 06:61DC: A9 07        	lda	#$7
 24590 06:61DE: 8F 00 04 AF  	sta	>11469824
 24591 06:61E2: C2 20        	rep	#$20
 24592                        	longa	on
 24593                        ;
 24594                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 24595                        	.line	4240
 24596 06:61E4: E2 20        	sep	#$20
 24597                        	longa	off
 24598 06:61E6: A5 19        	lda	<L1061+data_0
 24599 06:61E8: 8F 01 04 AF  	sta	>11469825
 24600 06:61EC: C2 20        	rep	#$20
 24601                        	longa	on
 24602                        ;
 24603                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24604                        	.line	4242
 24605 06:61EE: E2 20        	sep	#$20
 24606                        	longa	off
 24607 06:61F0: A5 11        	lda	<L1061+pdst_0
 24608 06:61F2: 8F 05 04 AF  	sta	>11469829
 24609 06:61F6: C2 20        	rep	#$20
 24610                        	longa	on
 24611                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24612                        	.line	4243
 24613 06:61F8: D4 13        	pei	<L1061+pdst_0+2
  Mon Aug  9 2021 16:52                                                Page 455


 24614 06:61FA: D4 11        	pei	<L1061+pdst_0
 24615 06:61FC: A9 08 00     	lda	#$8
 24616                        	xref	~~~llsr
 24617 06:61FF: 22 xx xx xx  	jsl	~~~llsr
 24618 06:6203: 85 01        	sta	<R0
 24619 06:6205: 86 03        	stx	<R0+2
 24620 06:6207: A5 01        	lda	<R0
 24621 06:6209: 29 FF 00     	and	#<$ff
 24622 06:620C: 85 05        	sta	<R1
 24623 06:620E: 64 07        	stz	<R1+2
 24624 06:6210: E2 20        	sep	#$20
 24625                        	longa	off
 24626 06:6212: A5 05        	lda	<R1
 24627 06:6214: 8F 06 04 AF  	sta	>11469830
 24628 06:6218: C2 20        	rep	#$20
 24629                        	longa	on
 24630                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 24631                        	.line	4244
 24632 06:621A: D4 13        	pei	<L1061+pdst_0+2
 24633 06:621C: D4 11        	pei	<L1061+pdst_0
 24634 06:621E: A9 10 00     	lda	#$10
 24635                        	xref	~~~llsr
 24636 06:6221: 22 xx xx xx  	jsl	~~~llsr
 24637 06:6225: 85 01        	sta	<R0
 24638 06:6227: 86 03        	stx	<R0+2
 24639 06:6229: A5 01        	lda	<R0
 24640 06:622B: 29 FF 00     	and	#<$ff
 24641 06:622E: 85 05        	sta	<R1
 24642 06:6230: 64 07        	stz	<R1+2
 24643 06:6232: E2 20        	sep	#$20
 24644                        	longa	off
 24645 06:6234: A5 05        	lda	<R1
 24646 06:6236: 8F 07 04 AF  	sta	>11469831
 24647 06:623A: C2 20        	rep	#$20
 24648                        	longa	on
 24649                        ;
 24650                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 24651                        	.line	4246
 24652 06:623C: A5 15        	lda	<L1061+width_0
 24653 06:623E: 1A           	ina
 24654 06:623F: 85 01        	sta	<R0
 24655 06:6241: E2 20        	sep	#$20
 24656                        	longa	off
 24657 06:6243: A5 01        	lda	<R0
 24658 06:6245: 8F 08 04 AF  	sta	>11469832
 24659 06:6249: C2 20        	rep	#$20
 24660                        	longa	on
 24661                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 24662                        	.line	4247
 24663 06:624B: A5 15        	lda	<L1061+width_0
 24664 06:624D: 1A           	ina
 24665 06:624E: A2 08 00     	ldx	#<$8
 24666                        	xref	~~~asr
 24667 06:6251: 22 xx xx xx  	jsl	~~~asr
 24668 06:6255: 29 FF 00     	and	#<$ff
 24669 06:6258: 85 01        	sta	<R0
 24670 06:625A: E2 20        	sep	#$20
 24671                        	longa	off
  Mon Aug  9 2021 16:52                                                Page 456


 24672 06:625C: A5 01        	lda	<R0
 24673 06:625E: 8F 09 04 AF  	sta	>11469833
 24674 06:6262: C2 20        	rep	#$20
 24675                        	longa	on
 24676                        ;
 24677                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 24678                        	.line	4249
 24679 06:6264: A5 17        	lda	<L1061+height_0
 24680 06:6266: 1A           	ina
 24681 06:6267: 85 01        	sta	<R0
 24682 06:6269: E2 20        	sep	#$20
 24683                        	longa	off
 24684 06:626B: A5 01        	lda	<R0
 24685 06:626D: 8F 0A 04 AF  	sta	>11469834
 24686 06:6271: C2 20        	rep	#$20
 24687                        	longa	on
 24688                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 24689                        	.line	4250
 24690 06:6273: A5 17        	lda	<L1061+height_0
 24691 06:6275: 1A           	ina
 24692 06:6276: A2 08 00     	ldx	#<$8
 24693                        	xref	~~~asr
 24694 06:6279: 22 xx xx xx  	jsl	~~~asr
 24695 06:627D: 29 FF 00     	and	#<$ff
 24696 06:6280: 85 01        	sta	<R0
 24697 06:6282: E2 20        	sep	#$20
 24698                        	longa	off
 24699 06:6284: A5 01        	lda	<R0
 24700 06:6286: 8F 0B 04 AF  	sta	>11469835
 24701 06:628A: C2 20        	rep	#$20
 24702                        	longa	on
 24703                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24704                        	.line	4251
 24705 06:628C: E2 20        	sep	#$20
 24706                        	longa	off
 24707 06:628E: A9 00        	lda	#$0
 24708 06:6290: 8F 0C 04 AF  	sta	>11469836
 24709 06:6294: C2 20        	rep	#$20
 24710                        	longa	on
 24711                        ;
 24712                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 24713                        	.line	4253
 24714 06:6296: E2 20        	sep	#$20
 24715                        	longa	off
 24716 06:6298: A9 00        	lda	#$0
 24717 06:629A: 8F 0C 04 AF  	sta	>11469836
 24718 06:629E: C2 20        	rep	#$20
 24719                        	longa	on
 24720                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 24721                        	.line	4254
 24722 06:62A0: E2 20        	sep	#$20
 24723                        	longa	off
 24724 06:62A2: A9 00        	lda	#$0
 24725 06:62A4: 8F 0D 04 AF  	sta	>11469837
 24726 06:62A8: C2 20        	rep	#$20
 24727                        	longa	on
 24728                        ;
 24729                        ;	*VDMA_DST_STRIDE_L  = 0x80;
  Mon Aug  9 2021 16:52                                                Page 457


 24730                        	.line	4256
 24731 06:62AA: E2 20        	sep	#$20
 24732                        	longa	off
 24733 06:62AC: A9 80        	lda	#$80
 24734 06:62AE: 8F 0E 04 AF  	sta	>11469838
 24735 06:62B2: C2 20        	rep	#$20
 24736                        	longa	on
 24737                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 24738                        	.line	4257
 24739 06:62B4: E2 20        	sep	#$20
 24740                        	longa	off
 24741 06:62B6: A9 02        	lda	#$2
 24742 06:62B8: 8F 0F 04 AF  	sta	>11469839
 24743 06:62BC: C2 20        	rep	#$20
 24744                        	longa	on
 24745                        ;
 24746                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 24747                        	.line	4259
 24748 06:62BE: E2 20        	sep	#$20
 24749                        	longa	off
 24750 06:62C0: A9 87        	lda	#$87
 24751 06:62C2: 8F 00 04 AF  	sta	>11469824
 24752 06:62C6: C2 20        	rep	#$20
 24753                        	longa	on
 24754                        ;
 24755                        ;    asm NOP;
 24756                        	.line	4261
 24757                        	asmstart
 24758 06:62C8: EA           	NOP
 24759                        	asmend
 24760                        ;    asm NOP;
 24761                        	.line	4262
 24762                        	asmstart
 24763 06:62C9: EA           	NOP
 24764                        	asmend
 24765                        ;    asm NOP;
 24766                        	.line	4263
 24767                        	asmstart
 24768 06:62CA: EA           	NOP
 24769                        	asmend
 24770                        ;
 24771                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24772                        	.line	4265
 24773                        L10426:
 24774 06:62CB: E2 20        	sep	#$20
 24775                        	longa	off
 24776 06:62CD: A5 0D        	lda	<L1062+status_1
 24777 06:62CF: C9 80        	cmp	#<$80
 24778 06:62D1: C2 20        	rep	#$20
 24779                        	longa	on
 24780 06:62D3: F0 03        	beq	L1064
 24781 06:62D5: 82 1E 00     	brl	L10427
 24782                        L1064:
 24783                        ;	{
 24784                        	.line	4266
 24785                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
  Mon Aug  9 2021 16:52                                                Page 458


 24786                        	.line	4267
 24787 06:62D8: E2 20        	sep	#$20
 24788                        	longa	off
 24789 06:62DA: AF 01 04 AF  	lda	>11469825
 24790 06:62DE: 29 80        	and	#<$80
 24791 06:62E0: 85 0D        	sta	<L1062+status_1
 24792 06:62E2: C2 20        	rep	#$20
 24793                        	longa	on
 24794                        ;		spinLock++;
 24795                        	.line	4268
 24796 06:62E4: E6 0B        	inc	<L1062+spinLock_1
 24797                        ;
 24798                        ;		if(spinLock > 32000)
 24799                        	.line	4270
 24800                        ;		{
 24801 06:62E6: A9 00 7D     	lda	#$7d00
 24802 06:62E9: C5 0B        	cmp	<L1062+spinLock_1
 24803 06:62EB: 90 03        	bcc	L1065
 24804 06:62ED: 82 03 00     	brl	L10428
 24805                        L1065:
 24806                        	.line	4271
 24807                        ;			break;
 24808                        	.line	4272
 24809 06:62F0: 82 03 00     	brl	L10427
 24810                        ;		}
 24811                        	.line	4273
 24812                        ;	}
 24813                        L10428:
 24814                        	.line	4274
 24815 06:62F3: 82 D5 FF     	brl	L10426
 24816                        L10427:
 24817                        ;
 24818                        ;#ifdef USE_MAX_DEBUG
 24819                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 24820                        ;#endif
 24821                        ;
 24822                        ;	asm NOP;
 24823                        	.line	4280
 24824                        	asmstart
 24825 06:62F6: EA           	NOP
 24826                        	asmend
 24827                        ;
 24828                        ;	VDMA_CONTROL_REG[0] = 0;
 24829                        	.line	4282
 24830 06:62F7: E2 20        	sep	#$20
 24831                        	longa	off
 24832 06:62F9: A9 00        	lda	#$0
 24833 06:62FB: 8F 00 04 AF  	sta	>11469824
 24834 06:62FF: C2 20        	rep	#$20
 24835                        	longa	on
 24836                        ;
 24837                        ;   return ;
 24838                        	.line	4284
 24839                        L1066:
 24840 06:6301: A5 0F        	lda	<L1061+2
 24841 06:6303: 85 19        	sta	<L1061+2+10
 24842 06:6305: A5 0E        	lda	<L1061+1
  Mon Aug  9 2021 16:52                                                Page 459


 24843 06:6307: 85 18        	sta	<L1061+1+10
 24844 06:6309: 2B           	pld
 24845 06:630A: 3B           	tsc
 24846 06:630B: 18           	clc
 24847 06:630C: 69 17 00     	adc	#L1061+10
 24848 06:630F: 1B           	tcs
 24849 06:6310: 6B           	rtl
 24850                        ;}
 24851                        	.line	4285
 24852                        	.endblock	4285
 24853             0000000D   L1061	equ	13
 24854             00000009   L1062	equ	9
 24855 06:6311:              	ends
 24856                        	efunc
 24857                        	.endfunc	4285,9,13
 24858                        	.line	4285
 24859                        ;
 24860                        ;void k_vdma_fill_address_ex(char FAR * pdst,int w
                    idth,int height,unsigned char data,UINT page)
 24861                        ;{
 24862                        	.line	4287
 24863                        	.line	4288
 24864                        	GFX
 24865                        	xdef	~~k_vdma_fill_address_ex
 24866                        	func
 24867                        	.function	4288
 24868                        ~~k_vdma_fill_address_ex:
 24869                        	longa	on
 24870                        	longi	on
 24871 06:6311: 3B           	tsc
 24872 06:6312: 38           	sec
 24873 06:6313: E9 0D 00     	sbc	#L1067
 24874 06:6316: 1B           	tcs
 24875 06:6317: 0B           	phd
 24876 06:6318: 5B           	tcd
 24877             00000004   pdst_0	set	4
 24878             00000008   width_0	set	8
 24879             0000000A   height_0	set	10
 24880             0000000C   data_0	set	12
 24881             0000000E   page_0	set	14
 24882                        	.block	4288
 24883                        ;	int pos = 0;
 24884                        ;	UINT spinLock = 0;
 24885                        ;	char status = VDMA_STAT_VDMA_IPS;
 24886                        ;
 24887                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 24888             00000000   pos_1	set	0
 24889             00000002   spinLock_1	set	2
 24890             00000004   status_1	set	4
 24891                        	.sym	pos,0,5,1,16
 24892                        	.sym	spinLock,2,16,1,16
 24893                        	.sym	status,4,14,1,8
 24894                        	.sym	pdst,4,142,6,32
 24895                        	.sym	width,8,5,6,16
 24896                        	.sym	height,10,5,6,16
 24897                        	.sym	data,12,14,6,8
 24898                        	.sym	page,14,16,6,16
  Mon Aug  9 2021 16:52                                                Page 460


 24899 06:6319: 64 09        	stz	<L1068+pos_1
 24900 06:631B: 64 0B        	stz	<L1068+spinLock_1
 24901 06:631D: E2 20        	sep	#$20
 24902                        	longa	off
 24903 06:631F: A9 80        	lda	#$80
 24904 06:6321: 85 0D        	sta	<L1068+status_1
 24905 06:6323: C2 20        	rep	#$20
 24906                        	longa	on
 24907                        	.line	4293
 24908 06:6325: E2 20        	sep	#$20
 24909                        	longa	off
 24910 06:6327: A9 07        	lda	#$7
 24911 06:6329: 8F 00 04 AF  	sta	>11469824
 24912 06:632D: C2 20        	rep	#$20
 24913                        	longa	on
 24914                        ;
 24915                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 24916                        	.line	4295
 24917 06:632F: E2 20        	sep	#$20
 24918                        	longa	off
 24919 06:6331: A5 19        	lda	<L1067+data_0
 24920 06:6333: 8F 01 04 AF  	sta	>11469825
 24921 06:6337: C2 20        	rep	#$20
 24922                        	longa	on
 24923                        ;
 24924                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24925                        	.line	4297
 24926 06:6339: E2 20        	sep	#$20
 24927                        	longa	off
 24928 06:633B: A5 11        	lda	<L1067+pdst_0
 24929 06:633D: 8F 05 04 AF  	sta	>11469829
 24930 06:6341: C2 20        	rep	#$20
 24931                        	longa	on
 24932                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24933                        	.line	4298
 24934 06:6343: D4 13        	pei	<L1067+pdst_0+2
 24935 06:6345: D4 11        	pei	<L1067+pdst_0
 24936 06:6347: A9 08 00     	lda	#$8
 24937                        	xref	~~~llsr
 24938 06:634A: 22 xx xx xx  	jsl	~~~llsr
 24939 06:634E: 85 01        	sta	<R0
 24940 06:6350: 86 03        	stx	<R0+2
 24941 06:6352: A5 01        	lda	<R0
 24942 06:6354: 29 FF 00     	and	#<$ff
 24943 06:6357: 85 05        	sta	<R1
 24944 06:6359: 64 07        	stz	<R1+2
 24945 06:635B: E2 20        	sep	#$20
 24946                        	longa	off
 24947 06:635D: A5 05        	lda	<R1
 24948 06:635F: 8F 06 04 AF  	sta	>11469830
 24949 06:6363: C2 20        	rep	#$20
 24950                        	longa	on
 24951                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst)|(UCHAR)
                    page;
 24952                        	.line	4299
 24953 06:6365: D4 13        	pei	<L1067+pdst_0+2
 24954 06:6367: D4 11        	pei	<L1067+pdst_0
 24955 06:6369: A9 10 00     	lda	#$10
  Mon Aug  9 2021 16:52                                                Page 461


 24956                        	xref	~~~llsr
 24957 06:636C: 22 xx xx xx  	jsl	~~~llsr
 24958 06:6370: 85 01        	sta	<R0
 24959 06:6372: 86 03        	stx	<R0+2
 24960 06:6374: A5 01        	lda	<R0
 24961 06:6376: 29 FF 00     	and	#<$ff
 24962 06:6379: 85 05        	sta	<R1
 24963 06:637B: 64 07        	stz	<R1+2
 24964 06:637D: E2 20        	sep	#$20
 24965                        	longa	off
 24966 06:637F: A5 1B        	lda	<L1067+page_0
 24967 06:6381: 05 05        	ora	<R1
 24968 06:6383: 8F 07 04 AF  	sta	>11469831
 24969 06:6387: C2 20        	rep	#$20
 24970                        	longa	on
 24971                        ;
 24972                        ;	/*
 24973                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 24974                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 24975                        ;
 24976                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 24977                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 24978                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24979                        ;	*/
 24980                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 24981                        	.line	4309
 24982 06:6389: E2 20        	sep	#$20
 24983                        	longa	off
 24984 06:638B: A5 15        	lda	<L1067+width_0
 24985 06:638D: 8F 08 04 AF  	sta	>11469832
 24986 06:6391: C2 20        	rep	#$20
 24987                        	longa	on
 24988                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 24989                        	.line	4310
 24990 06:6393: A5 15        	lda	<L1067+width_0
 24991 06:6395: A2 08 00     	ldx	#<$8
 24992                        	xref	~~~asr
 24993 06:6398: 22 xx xx xx  	jsl	~~~asr
 24994 06:639C: 29 FF 00     	and	#<$ff
 24995 06:639F: 85 01        	sta	<R0
 24996 06:63A1: E2 20        	sep	#$20
 24997                        	longa	off
 24998 06:63A3: A5 01        	lda	<R0
 24999 06:63A5: 8F 09 04 AF  	sta	>11469833
 25000 06:63A9: C2 20        	rep	#$20
 25001                        	longa	on
 25002                        ;
 25003                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 25004                        	.line	4312
 25005 06:63AB: E2 20        	sep	#$20
 25006                        	longa	off
 25007 06:63AD: A5 17        	lda	<L1067+height_0
 25008 06:63AF: 8F 0A 04 AF  	sta	>11469834
 25009 06:63B3: C2 20        	rep	#$20
 25010                        	longa	on
 25011                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
 25012                        	.line	4313
 25013 06:63B5: A5 17        	lda	<L1067+height_0
  Mon Aug  9 2021 16:52                                                Page 462


 25014 06:63B7: A2 08 00     	ldx	#<$8
 25015                        	xref	~~~asr
 25016 06:63BA: 22 xx xx xx  	jsl	~~~asr
 25017 06:63BE: 29 FF 00     	and	#<$ff
 25018 06:63C1: 85 01        	sta	<R0
 25019 06:63C3: E2 20        	sep	#$20
 25020                        	longa	off
 25021 06:63C5: A5 01        	lda	<R0
 25022 06:63C7: 8F 0B 04 AF  	sta	>11469835
 25023 06:63CB: C2 20        	rep	#$20
 25024                        	longa	on
 25025                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 25026                        	.line	4314
 25027 06:63CD: E2 20        	sep	#$20
 25028                        	longa	off
 25029 06:63CF: A9 00        	lda	#$0
 25030 06:63D1: 8F 0C 04 AF  	sta	>11469836
 25031 06:63D5: C2 20        	rep	#$20
 25032                        	longa	on
 25033                        ;
 25034                        ;
 25035                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 25036                        	.line	4317
 25037 06:63D7: E2 20        	sep	#$20
 25038                        	longa	off
 25039 06:63D9: A9 00        	lda	#$0
 25040 06:63DB: 8F 0C 04 AF  	sta	>11469836
 25041 06:63DF: C2 20        	rep	#$20
 25042                        	longa	on
 25043                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 25044                        	.line	4318
 25045 06:63E1: E2 20        	sep	#$20
 25046                        	longa	off
 25047 06:63E3: A9 00        	lda	#$0
 25048 06:63E5: 8F 0D 04 AF  	sta	>11469837
 25049 06:63E9: C2 20        	rep	#$20
 25050                        	longa	on
 25051                        ;
 25052                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 25053                        	.line	4320
 25054 06:63EB: E2 20        	sep	#$20
 25055                        	longa	off
 25056 06:63ED: A9 80        	lda	#$80
 25057 06:63EF: 8F 0E 04 AF  	sta	>11469838
 25058 06:63F3: C2 20        	rep	#$20
 25059                        	longa	on
 25060                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 25061                        	.line	4321
 25062 06:63F5: E2 20        	sep	#$20
 25063                        	longa	off
 25064 06:63F7: A9 02        	lda	#$2
 25065 06:63F9: 8F 0F 04 AF  	sta	>11469839
 25066 06:63FD: C2 20        	rep	#$20
 25067                        	longa	on
 25068                        ;
 25069                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 25070                        	.line	4323
  Mon Aug  9 2021 16:52                                                Page 463


 25071 06:63FF: E2 20        	sep	#$20
 25072                        	longa	off
 25073 06:6401: A9 87        	lda	#$87
 25074 06:6403: 8F 00 04 AF  	sta	>11469824
 25075 06:6407: C2 20        	rep	#$20
 25076                        	longa	on
 25077                        ;
 25078                        ;    asm NOP;
 25079                        	.line	4325
 25080                        	asmstart
 25081 06:6409: EA           	NOP
 25082                        	asmend
 25083                        ;    asm NOP;
 25084                        	.line	4326
 25085                        	asmstart
 25086 06:640A: EA           	NOP
 25087                        	asmend
 25088                        ;    asm NOP;
 25089                        	.line	4327
 25090                        	asmstart
 25091 06:640B: EA           	NOP
 25092                        	asmend
 25093                        ;
 25094                        ;	while(status == VDMA_STAT_VDMA_IPS)
 25095                        	.line	4329
 25096                        L10429:
 25097 06:640C: E2 20        	sep	#$20
 25098                        	longa	off
 25099 06:640E: A5 0D        	lda	<L1068+status_1
 25100 06:6410: C9 80        	cmp	#<$80
 25101 06:6412: C2 20        	rep	#$20
 25102                        	longa	on
 25103 06:6414: F0 03        	beq	L1070
 25104 06:6416: 82 1E 00     	brl	L10430
 25105                        L1070:
 25106                        ;	{
 25107                        	.line	4330
 25108                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 25109                        	.line	4331
 25110 06:6419: E2 20        	sep	#$20
 25111                        	longa	off
 25112 06:641B: AF 01 04 AF  	lda	>11469825
 25113 06:641F: 29 80        	and	#<$80
 25114 06:6421: 85 0D        	sta	<L1068+status_1
 25115 06:6423: C2 20        	rep	#$20
 25116                        	longa	on
 25117                        ;		spinLock++;
 25118                        	.line	4332
 25119 06:6425: E6 0B        	inc	<L1068+spinLock_1
 25120                        ;
 25121                        ;		if(spinLock > 32000)
 25122                        	.line	4334
 25123                        ;		{
 25124 06:6427: A9 00 7D     	lda	#$7d00
 25125 06:642A: C5 0B        	cmp	<L1068+spinLock_1
 25126 06:642C: 90 03        	bcc	L1071
 25127 06:642E: 82 03 00     	brl	L10431
  Mon Aug  9 2021 16:52                                                Page 464


 25128                        L1071:
 25129                        	.line	4335
 25130                        ;			break;
 25131                        	.line	4336
 25132 06:6431: 82 03 00     	brl	L10430
 25133                        ;		}
 25134                        	.line	4337
 25135                        ;	}
 25136                        L10431:
 25137                        	.line	4338
 25138 06:6434: 82 D5 FF     	brl	L10429
 25139                        L10430:
 25140                        ;
 25141                        ;#ifdef USE_MAX_DEBUG
 25142                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 25143                        ;#endif
 25144                        ;
 25145                        ;	asm NOP;
 25146                        	.line	4344
 25147                        	asmstart
 25148 06:6437: EA           	NOP
 25149                        	asmend
 25150                        ;
 25151                        ;	VDMA_CONTROL_REG[0] = 0;
 25152                        	.line	4346
 25153 06:6438: E2 20        	sep	#$20
 25154                        	longa	off
 25155 06:643A: A9 00        	lda	#$0
 25156 06:643C: 8F 00 04 AF  	sta	>11469824
 25157 06:6440: C2 20        	rep	#$20
 25158                        	longa	on
 25159                        ;
 25160                        ;   return ;
 25161                        	.line	4348
 25162                        L1072:
 25163 06:6442: A5 0F        	lda	<L1067+2
 25164 06:6444: 85 1B        	sta	<L1067+2+12
 25165 06:6446: A5 0E        	lda	<L1067+1
 25166 06:6448: 85 1A        	sta	<L1067+1+12
 25167 06:644A: 2B           	pld
 25168 06:644B: 3B           	tsc
 25169 06:644C: 18           	clc
 25170 06:644D: 69 19 00     	adc	#L1067+12
 25171 06:6450: 1B           	tcs
 25172 06:6451: 6B           	rtl
 25173                        ;}
 25174                        	.line	4349
 25175                        	.endblock	4349
 25176             0000000D   L1067	equ	13
 25177             00000009   L1068	equ	9
 25178 06:6452:              	ends
 25179                        	efunc
 25180                        	.endfunc	4349,9,13
 25181                        	.line	4349
 25182                        ;
 25183                        ;
 25184                        ;
  Mon Aug  9 2021 16:52                                                Page 465


 25185                        ;
 25186                        ;void k_vdma_fill(char FAR * pdst,long size,unsign
                    ed char data)
 25187                        ;{
 25188                        	.line	4354
 25189                        	.line	4355
 25190                        	GFX
 25191                        	xdef	~~k_vdma_fill
 25192                        	func
 25193                        	.function	4355
 25194                        ~~k_vdma_fill:
 25195                        	longa	on
 25196                        	longi	on
 25197 06:6452: 3B           	tsc
 25198 06:6453: 38           	sec
 25199 06:6454: E9 0D 00     	sbc	#L1073
 25200 06:6457: 1B           	tcs
 25201 06:6458: 0B           	phd
 25202 06:6459: 5B           	tcd
 25203             00000004   pdst_0	set	4
 25204             00000008   size_0	set	8
 25205             0000000C   data_0	set	12
 25206                        	.block	4355
 25207                        ;	int pos = 0;
 25208                        ;	int spinLock = 0;
 25209                        ;	char status = VDMA_STAT_VDMA_IPS;
 25210                        ;	/*
 25211                        ;	char size_low = L24BYTE(size);
 25212                        ;	char size_mid = M24BYTE(size);
 25213                        ;	char size_hi  = H24BYTE(size);
 25214                        ;
 25215                        ;	char addr_low = L24BYTE((long)pdst);
 25216                        ;	char addr_mid = M24BYTE((long)pdst);
 25217                        ;	char addr_hi  = H24BYTE((long)pdst);
 25218                        ;
 25219                        ;	
 25220                        ;	pos=2;
 25221                        ;	k_itoa(size_low,buffer,16);
 25222                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 25223                        ;	pos=k_put_draw_text(pos,2,"L:",15,0);
 25224                        ;	k_itoa(size_mid,buffer,16);
 25225                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 25226                        ;	pos=k_put_draw_text(pos,2,"M:",15,0);
 25227                        ;	k_itoa(size_hi,buffer,16);
 25228                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 25229                        ;	pos=k_put_draw_text(pos,2,"H",15,0);
 25230                        ;	
 25231                        ;	pos=2;
 25232                        ;	k_itoa(addr_low,buffer,16);
 25233                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 25234                        ;	pos=k_put_draw_text(pos,3,"L:",15,0);
 25235                        ;	k_itoa(addr_mid,buffer,16);
 25236                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 25237                        ;	pos=k_put_draw_text(pos,3,"M:",15,0);
 25238                        ;	k_itoa(addr_hi,buffer,16);
 25239                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 25240                        ;	pos=k_put_draw_text(pos,3,"H",15,0);
 25241                        ;	*/
  Mon Aug  9 2021 16:52                                                Page 466


 25242                        ;	/*
 25243                        ;	if(VDMA_CONTROL_REG[0] > 0)
 25244                        ;	{
 25245                        ;		while(status == VDMA_STAT_VDMA_IPS || sp
                    inLock > 1000)
 25246                        ;		{
 25247                        ;			status = ( *((unsigned char *)0x
                    AF0401) & (unsigned char)VDMA_STAT_VDMA_IPS);
 25248                        ;			spinLock++;
 25249                        ;		}
 25250                        ;	}
 25251                        ;	*/
 25252                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 25253             00000000   pos_1	set	0
 25254             00000002   spinLock_1	set	2
 25255             00000004   status_1	set	4
 25256                        	.sym	pos,0,5,1,16
 25257                        	.sym	spinLock,2,5,1,16
 25258                        	.sym	status,4,14,1,8
 25259                        	.sym	pdst,4,142,6,32
 25260                        	.sym	size,8,7,6,32
 25261                        	.sym	data,12,14,6,8
 25262 06:645A: 64 09        	stz	<L1074+pos_1
 25263 06:645C: 64 0B        	stz	<L1074+spinLock_1
 25264 06:645E: E2 20        	sep	#$20
 25265                        	longa	off
 25266 06:6460: A9 80        	lda	#$80
 25267 06:6462: 85 0D        	sta	<L1074+status_1
 25268 06:6464: C2 20        	rep	#$20
 25269                        	longa	on
 25270                        	.line	4401
 25271 06:6466: E2 20        	sep	#$20
 25272                        	longa	off
 25273 06:6468: A9 01        	lda	#$1
 25274 06:646A: 8F 00 04 AF  	sta	>11469824
 25275 06:646E: C2 20        	rep	#$20
 25276                        	longa	on
 25277                        ;
 25278                        ;	*BM_START_ADDY_L = 0x00;
 25279                        	.line	4403
 25280 06:6470: E2 20        	sep	#$20
 25281                        	longa	off
 25282 06:6472: A9 00        	lda	#$0
 25283 06:6474: 8F 41 01 AF  	sta	>11469121
 25284 06:6478: C2 20        	rep	#$20
 25285                        	longa	on
 25286                        ;	*BM_START_ADDY_M = 0x00;
 25287                        	.line	4404
 25288 06:647A: E2 20        	sep	#$20
 25289                        	longa	off
 25290 06:647C: A9 00        	lda	#$0
 25291 06:647E: 8F 42 01 AF  	sta	>11469122
 25292 06:6482: C2 20        	rep	#$20
 25293                        	longa	on
 25294                        ;	*BM_START_ADDY_H = 0x00;
 25295                        	.line	4405
 25296 06:6484: E2 20        	sep	#$20
 25297                        	longa	off
  Mon Aug  9 2021 16:52                                                Page 467


 25298 06:6486: A9 00        	lda	#$0
 25299 06:6488: 8F 43 01 AF  	sta	>11469123
 25300 06:648C: C2 20        	rep	#$20
 25301                        	longa	on
 25302                        ;	*((char FAR*)0xAF1F80) = 0x02;
 25303                        	.line	4406
 25304 06:648E: E2 20        	sep	#$20
 25305                        	longa	off
 25306 06:6490: A9 02        	lda	#$2
 25307 06:6492: 8F 80 1F AF  	sta	>11476864
 25308 06:6496: C2 20        	rep	#$20
 25309                        	longa	on
 25310                        ;	
 25311                        ;	*BM_X_SIZE_L = 0x80;
 25312                        	.line	4408
 25313 06:6498: E2 20        	sep	#$20
 25314                        	longa	off
 25315 06:649A: A9 80        	lda	#$80
 25316 06:649C: 8F 44 01 AF  	sta	>11469124
 25317 06:64A0: C2 20        	rep	#$20
 25318                        	longa	on
 25319                        ;	*BM_X_SIZE_H = 0x02;	
 25320                        	.line	4409
 25321 06:64A2: E2 20        	sep	#$20
 25322                        	longa	off
 25323 06:64A4: A9 02        	lda	#$2
 25324 06:64A6: 8F 45 01 AF  	sta	>11469125
 25325 06:64AA: C2 20        	rep	#$20
 25326                        	longa	on
 25327                        ;	*BM_Y_SIZE_L = 0xE0;
 25328                        	.line	4410
 25329 06:64AC: E2 20        	sep	#$20
 25330                        	longa	off
 25331 06:64AE: A9 E0        	lda	#$e0
 25332 06:64B0: 8F 46 01 AF  	sta	>11469126
 25333 06:64B4: C2 20        	rep	#$20
 25334                        	longa	on
 25335                        ;	*BM_Y_SIZE_H = 0x01;
 25336                        	.line	4411
 25337 06:64B6: E2 20        	sep	#$20
 25338                        	longa	off
 25339 06:64B8: A9 01        	lda	#$1
 25340 06:64BA: 8F 47 01 AF  	sta	>11469127
 25341 06:64BE: C2 20        	rep	#$20
 25342                        	longa	on
 25343                        ;	
 25344                        ;	VDMA_SIZE_L[0] = L24BYTE(size);
 25345                        	.line	4413
 25346 06:64C0: E2 20        	sep	#$20
 25347                        	longa	off
 25348 06:64C2: A5 15        	lda	<L1073+size_0
 25349 06:64C4: 8F 08 04 AF  	sta	>11469832
 25350 06:64C8: C2 20        	rep	#$20
 25351                        	longa	on
 25352                        ;	VDMA_SIZE_M[0] = M24BYTE(size);
 25353                        	.line	4414
 25354 06:64CA: D4 17        	pei	<L1073+size_0+2
 25355 06:64CC: D4 15        	pei	<L1073+size_0
  Mon Aug  9 2021 16:52                                                Page 468


 25356 06:64CE: A9 08 00     	lda	#$8
 25357                        	xref	~~~llsr
 25358 06:64D1: 22 xx xx xx  	jsl	~~~llsr
 25359 06:64D5: 85 01        	sta	<R0
 25360 06:64D7: 86 03        	stx	<R0+2
 25361 06:64D9: A5 01        	lda	<R0
 25362 06:64DB: 29 FF 00     	and	#<$ff
 25363 06:64DE: 85 05        	sta	<R1
 25364 06:64E0: 64 07        	stz	<R1+2
 25365 06:64E2: E2 20        	sep	#$20
 25366                        	longa	off
 25367 06:64E4: A5 05        	lda	<R1
 25368 06:64E6: 8F 09 04 AF  	sta	>11469833
 25369 06:64EA: C2 20        	rep	#$20
 25370                        	longa	on
 25371                        ;	VDMA_SIZE_H[0] = H24BYTE(size);
 25372                        	.line	4415
 25373 06:64EC: D4 17        	pei	<L1073+size_0+2
 25374 06:64EE: D4 15        	pei	<L1073+size_0
 25375 06:64F0: A9 10 00     	lda	#$10
 25376                        	xref	~~~llsr
 25377 06:64F3: 22 xx xx xx  	jsl	~~~llsr
 25378 06:64F7: 85 01        	sta	<R0
 25379 06:64F9: 86 03        	stx	<R0+2
 25380 06:64FB: A5 01        	lda	<R0
 25381 06:64FD: 29 FF 00     	and	#<$ff
 25382 06:6500: 85 05        	sta	<R1
 25383 06:6502: 64 07        	stz	<R1+2
 25384 06:6504: E2 20        	sep	#$20
 25385                        	longa	off
 25386 06:6506: A5 05        	lda	<R1
 25387 06:6508: 8F 0A 04 AF  	sta	>11469834
 25388 06:650C: C2 20        	rep	#$20
 25389                        	longa	on
 25390                        ;	
 25391                        ;	
 25392                        ;	*VDMA_X_SIZE_L = 0x80;
 25393                        	.line	4418
 25394 06:650E: E2 20        	sep	#$20
 25395                        	longa	off
 25396 06:6510: A9 80        	lda	#$80
 25397 06:6512: 8F 08 04 AF  	sta	>11469832
 25398 06:6516: C2 20        	rep	#$20
 25399                        	longa	on
 25400                        ;	*VDMA_X_SIZE_H = 0x20;
 25401                        	.line	4419
 25402 06:6518: E2 20        	sep	#$20
 25403                        	longa	off
 25404 06:651A: A9 20        	lda	#$20
 25405 06:651C: 8F 09 04 AF  	sta	>11469833
 25406 06:6520: C2 20        	rep	#$20
 25407                        	longa	on
 25408                        ;
 25409                        ;	*VDMA_Y_SIZE_L = 0xE0;
 25410                        	.line	4421
 25411 06:6522: E2 20        	sep	#$20
 25412                        	longa	off
 25413 06:6524: A9 E0        	lda	#$e0
  Mon Aug  9 2021 16:52                                                Page 469


 25414 06:6526: 8F 0A 04 AF  	sta	>11469834
 25415 06:652A: C2 20        	rep	#$20
 25416                        	longa	on
 25417                        ;	*VDMA_Y_SIZE_H = 0x01;
 25418                        	.line	4422
 25419 06:652C: E2 20        	sep	#$20
 25420                        	longa	off
 25421 06:652E: A9 01        	lda	#$1
 25422 06:6530: 8F 0B 04 AF  	sta	>11469835
 25423 06:6534: C2 20        	rep	#$20
 25424                        	longa	on
 25425                        ;
 25426                        ;	*VDMA_DST_STRIDE_L = 0x80;
 25427                        	.line	4424
 25428 06:6536: E2 20        	sep	#$20
 25429                        	longa	off
 25430 06:6538: A9 80        	lda	#$80
 25431 06:653A: 8F 0E 04 AF  	sta	>11469838
 25432 06:653E: C2 20        	rep	#$20
 25433                        	longa	on
 25434                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 25435                        	.line	4425
 25436 06:6540: E2 20        	sep	#$20
 25437                        	longa	off
 25438 06:6542: A9 02        	lda	#$2
 25439 06:6544: 8F 0F 04 AF  	sta	>11469839
 25440 06:6548: C2 20        	rep	#$20
 25441                        	longa	on
 25442                        ;	
 25443                        ;	/*
 25444                        ;        LDA #200
 25445                        ;        STA @lVDMA_X_SIZE_L
 25446                        ;        LDA #00
 25447                        ;        STA @lVDMA_X_SIZE_H
 25448                        ;
 25449                        ;        LDA #64
 25450                        ;        STA @lVDMA_Y_SIZE_L
 25451                        ;        LDA #00
 25452                        ;        STA @lVDMA_Y_SIZE_H
 25453                        ;
 25454                        ;        LDA #$60
 25455                        ;        STA @lVDMA_DST_ADDY_L
 25456                        ;        LDA #$90
 25457                        ;        STA @lVDMA_DST_ADDY_M
 25458                        ;        LDA #$01
 25459                        ;        STA @lVDMA_DST_ADDY_H
 25460                        ;
 25461                        ;        LDA #$80
 25462                        ;        STA @lVDMA_DST_STRIDE_L
 25463                        ;        LDA #$02
 25464                        ;        STA @lVDMA_DST_STRIDE_H
 25465                        ;	*/
 25466                        ;
 25467                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 25468                        	.line	4451
 25469 06:654A: E2 20        	sep	#$20
 25470                        	longa	off
 25471 06:654C: A5 11        	lda	<L1073+pdst_0
  Mon Aug  9 2021 16:52                                                Page 470


 25472 06:654E: 8F 05 04 AF  	sta	>11469829
 25473 06:6552: C2 20        	rep	#$20
 25474                        	longa	on
 25475                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 25476                        	.line	4452
 25477 06:6554: D4 13        	pei	<L1073+pdst_0+2
 25478 06:6556: D4 11        	pei	<L1073+pdst_0
 25479 06:6558: A9 08 00     	lda	#$8
 25480                        	xref	~~~llsr
 25481 06:655B: 22 xx xx xx  	jsl	~~~llsr
 25482 06:655F: 85 01        	sta	<R0
 25483 06:6561: 86 03        	stx	<R0+2
 25484 06:6563: A5 01        	lda	<R0
 25485 06:6565: 29 FF 00     	and	#<$ff
 25486 06:6568: 85 05        	sta	<R1
 25487 06:656A: 64 07        	stz	<R1+2
 25488 06:656C: E2 20        	sep	#$20
 25489                        	longa	off
 25490 06:656E: A5 05        	lda	<R1
 25491 06:6570: 8F 06 04 AF  	sta	>11469830
 25492 06:6574: C2 20        	rep	#$20
 25493                        	longa	on
 25494                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 25495                        	.line	4453
 25496 06:6576: D4 13        	pei	<L1073+pdst_0+2
 25497 06:6578: D4 11        	pei	<L1073+pdst_0
 25498 06:657A: A9 10 00     	lda	#$10
 25499                        	xref	~~~llsr
 25500 06:657D: 22 xx xx xx  	jsl	~~~llsr
 25501 06:6581: 85 01        	sta	<R0
 25502 06:6583: 86 03        	stx	<R0+2
 25503 06:6585: A5 01        	lda	<R0
 25504 06:6587: 29 FF 00     	and	#<$ff
 25505 06:658A: 85 05        	sta	<R1
 25506 06:658C: 64 07        	stz	<R1+2
 25507 06:658E: E2 20        	sep	#$20
 25508                        	longa	off
 25509 06:6590: A5 05        	lda	<R1
 25510 06:6592: 8F 07 04 AF  	sta	>11469831
 25511 06:6596: C2 20        	rep	#$20
 25512                        	longa	on
 25513                        ;
 25514                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 25515                        	.line	4455
 25516 06:6598: E2 20        	sep	#$20
 25517                        	longa	off
 25518 06:659A: A5 19        	lda	<L1073+data_0
 25519 06:659C: 8F 01 04 AF  	sta	>11469825
 25520 06:65A0: C2 20        	rep	#$20
 25521                        	longa	on
 25522                        ;	
 25523                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x85;
 25524                        	.line	4457
 25525 06:65A2: E2 20        	sep	#$20
 25526                        	longa	off
 25527 06:65A4: A9 85        	lda	#$85
 25528 06:65A6: 8F 00 04 AF  	sta	>11469824
  Mon Aug  9 2021 16:52                                                Page 471


 25529 06:65AA: C2 20        	rep	#$20
 25530                        	longa	on
 25531                        ;   
 25532                        ;	/*
 25533                        ;	while(status == VDMA_STAT_VDMA_IPS)
 25534                        ;	{
 25535                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 25536                        ;	}
 25537                        ;	
 25538                        ;	
 25539                        ;	while(status == VDMA_STAT_VDMA_IPS)
 25540                        ;	{
 25541                        ;		#asm
 25542                        ;		PHA 
 25543                        ;        LDA $AF0401
 25544                        ;        AND #$80
 25545                        ;        CMP #$80
 25546                        ;        STA %%status
 25547                        ;		PLA
 25548                        ;		#endasm
 25549                        ;	}
 25550                        ;	*/
 25551                        ;	
 25552                        ;   //return *VDMA_STATUS_REG;
 25553                        ;   //return VDMA_STATUS_REG[0];
 25554                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 25555                        ;   
 25556                        ;   return ;
 25557                        	.line	4483
 25558                        L1076:
 25559 06:65AC: A5 0F        	lda	<L1073+2
 25560 06:65AE: 85 19        	sta	<L1073+2+10
 25561 06:65B0: A5 0E        	lda	<L1073+1
 25562 06:65B2: 85 18        	sta	<L1073+1+10
 25563 06:65B4: 2B           	pld
 25564 06:65B5: 3B           	tsc
 25565 06:65B6: 18           	clc
 25566 06:65B7: 69 17 00     	adc	#L1073+10
 25567 06:65BA: 1B           	tcs
 25568 06:65BB: 6B           	rtl
 25569                        ;}
 25570                        	.line	4484
 25571                        	.endblock	4484
 25572             0000000D   L1073	equ	13
 25573             00000009   L1074	equ	9
 25574 06:65BC:              	ends
 25575                        	efunc
 25576                        	.endfunc	4484,9,13
 25577                        	.line	4484
 25578                        ;
 25579                        ;
 25580                        ;void k_enable_bitmap_mode(void)
 25581                        ;{
 25582                        	.line	4487
 25583                        	.line	4488
 25584                        	GFX
 25585                        	xdef	~~k_enable_bitmap_mode
  Mon Aug  9 2021 16:52                                                Page 472


 25586                        	func
 25587                        	.function	4488
 25588                        ~~k_enable_bitmap_mode:
 25589                        	longa	on
 25590                        	longi	on
 25591 06:65BC: 3B           	tsc
 25592 06:65BD: 38           	sec
 25593 06:65BE: E9 04 00     	sbc	#L1077
 25594 06:65C1: 1B           	tcs
 25595 06:65C2: 0B           	phd
 25596 06:65C3: 5B           	tcd
 25597                        	.block	4488
 25598                        ;	int i = 30000;
 25599                        ;	int j = 30000;
 25600                        ;
 25601                        ;	k_lock_irq();
 25602             00000000   i_1	set	0
 25603             00000002   j_1	set	2
 25604                        	.sym	i,0,5,1,16
 25605                        	.sym	j,2,5,1,16
 25606 06:65C4: A9 30 75     	lda	#$7530
 25607 06:65C7: 85 01        	sta	<L1078+i_1
 25608 06:65C9: A9 30 75     	lda	#$7530
 25609 06:65CC: 85 03        	sta	<L1078+j_1
 25610                        	.line	4492
 25611 06:65CE: 22 xx xx xx  	jsl	~~k_lock_irq
 25612                        ;
 25613                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25614                        	.line	4494
 25615 06:65D2: F4 00 00     	pea	#<$0
 25616 06:65D5: F4 00 00     	pea	#<$0
 25617 06:65D8: F4 E0 01     	pea	#<$1e0
 25618 06:65DB: F4 80 02     	pea	#<$280
 25619 06:65DE: F4 00 00     	pea	#^$0
 25620 06:65E1: F4 00 00     	pea	#<$0
 25621 06:65E4: F4 00 00     	pea	#^$0
 25622 06:65E7: F4 00 00     	pea	#<$0
 25623 06:65EA: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25624                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25625                        	.line	4495
 25626 06:65EE: F4 08 00     	pea	#<$8
 25627 06:65F1: F4 00 00     	pea	#<$0
 25628 06:65F4: F4 E0 01     	pea	#<$1e0
 25629 06:65F7: F4 80 02     	pea	#<$280
 25630 06:65FA: F4 00 00     	pea	#^$0
 25631 06:65FD: F4 00 00     	pea	#<$0
 25632 06:6600: F4 00 00     	pea	#^$0
 25633 06:6603: F4 00 00     	pea	#<$0
 25634 06:6606: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25635                        ;
 25636                        ;	k_unlock_irq();
 25637                        	.line	4497
 25638 06:660A: 22 xx xx xx  	jsl	~~k_unlock_irq
 25639                        ;
 25640                        ;	if(MASTER_CTRL_REG_H[0])
 25641                        	.line	4499
 25642                        ;	{
 25643 06:660E: AF 01 00 AF  	lda	>11468801
  Mon Aug  9 2021 16:52                                                Page 473


 25644 06:6612: 29 FF 00     	and	#$ff
 25645 06:6615: D0 03        	bne	L1080
 25646 06:6617: 82 4A 00     	brl	L10432
 25647                        L1080:
 25648                        	.line	4500
 25649                        ;		k_debug_string("k_enable_bitmap_mode to 
                    800x600...\r\n");
 25650                        	.line	4501
 25651 06:661A: F4 xx xx     	pea	#^L1060
 25652 06:661D: F4 xx xx     	pea	#<L1060
 25653 06:6620: 22 xx xx xx  	jsl	~~k_debug_string
 25654                        ;
 25655                        ;		MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_M
                    ODE0;
 25656                        	.line	4503
 25657 06:6624: E2 20        	sep	#$20
 25658                        	longa	off
 25659 06:6626: A9 01        	lda	#$1
 25660 06:6628: 8F 01 00 AF  	sta	>11468801
 25661 06:662C: C2 20        	rep	#$20
 25662                        	longa	on
 25663                        ;		MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_M
                    ODE_EN;
 25664                        	.line	4504
 25665 06:662E: E2 20        	sep	#$20
 25666                        	longa	off
 25667 06:6630: A9 04        	lda	#$4
 25668 06:6632: 8F 00 00 AF  	sta	>11468800
 25669 06:6636: C2 20        	rep	#$20
 25670                        	longa	on
 25671                        ;
 25672                        ;		for(i=3200;i>0;i--)
 25673                        	.line	4506
 25674 06:6638: A9 80 0C     	lda	#$c80
 25675 06:663B: 85 01        	sta	<L1078+i_1
 25676                        L10435:
 25677                        ;		{
 25678                        	.line	4507
 25679                        ;			for(j=0;j<256;j++)
 25680                        	.line	4508
 25681 06:663D: 64 03        	stz	<L1078+j_1
 25682                        L10438:
 25683                        ;			{
 25684                        	.line	4509
 25685                        ;				asm NOP;
 25686                        	.line	4510
 25687                        	asmstart
 25688 06:663F: EA           	NOP
 25689                        	asmend
 25690                        ;			}
 25691                        	.line	4511
 25692                        L10436:
 25693 06:6640: E6 03        	inc	<L1078+j_1
 25694 06:6642: 38           	sec
 25695 06:6643: A5 03        	lda	<L1078+j_1
 25696 06:6645: E9 00 01     	sbc	#<$100
 25697 06:6648: 70 03        	bvs	L1081
 25698 06:664A: 49 00 80     	eor	#$8000
  Mon Aug  9 2021 16:52                                                Page 474


 25699                        L1081:
 25700 06:664D: 30 03        	bmi	L1082
 25701 06:664F: 82 ED FF     	brl	L10438
 25702                        L1082:
 25703                        L10437:
 25704                        ;		}
 25705                        	.line	4512
 25706                        L10433:
 25707 06:6652: C6 01        	dec	<L1078+i_1
 25708 06:6654: 38           	sec
 25709 06:6655: A9 00 00     	lda	#$0
 25710 06:6658: E5 01        	sbc	<L1078+i_1
 25711 06:665A: 70 03        	bvs	L1083
 25712 06:665C: 49 00 80     	eor	#$8000
 25713                        L1083:
 25714 06:665F: 30 03        	bmi	L1084
 25715 06:6661: 82 D9 FF     	brl	L10435
 25716                        L1084:
 25717                        L10434:
 25718                        ;	}
 25719                        	.line	4513
 25720                        ;	k_get_video_mode();
 25721                        L10432:
 25722                        	.line	4514
 25723 06:6664: 22 8E 67 06  	jsl	~~k_get_video_mode
 25724                        ;
 25725                        ;	/*
 25726                        ;	k_debug_string("k_enable_bitmap_mode RESET 1b...
                    \r\n");
 25727                        ;
 25728                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 25729                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 25730                        ;
 25731                        ;	for(i=3200;i>0;i--)
 25732                        ;	{
 25733                        ;		for(j=0;j<256;j++)
 25734                        ;		{
 25735                        ;			asm NOP;
 25736                        ;		}
 25737                        ;	}
 25738                        ;
 25739                        ;	k_debug_string("k_enable_bitmap_mode RESET 1c...
                    \r\n");
 25740                        ;
 25741                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 25742                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 25743                        ;
 25744                        ;	for(i=3200;i>0;i--)
 25745                        ;	{
 25746                        ;		for(j=0;j<256;j++)
 25747                        ;		{
 25748                        ;			asm NOP;
 25749                        ;		}
 25750                        ;	}
 25751                        ;	 */
 25752                        ;	//k_debug_string("k_enable_bitmap_mode disable 8
                    00x600...\r\n");
 25753                        ;	//k_get_video_mode();
  Mon Aug  9 2021 16:52                                                Page 475


 25754                        ;
 25755                        ;	MASTER_CTRL_REG_H[0] = 0x00;
 25756                        	.line	4546
 25757 06:6668: E2 20        	sep	#$20
 25758                        	longa	off
 25759 06:666A: A9 00        	lda	#$0
 25760 06:666C: 8F 01 00 AF  	sta	>11468801
 25761 06:6670: C2 20        	rep	#$20
 25762                        	longa	on
 25763                        ;	//MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN
                    ;
 25764                        ;	for(i=3200;i>0;i--)
 25765                        	.line	4548
 25766 06:6672: A9 80 0C     	lda	#$c80
 25767 06:6675: 85 01        	sta	<L1078+i_1
 25768                        L10441:
 25769                        ;	{
 25770                        	.line	4549
 25771                        ;		for(j=0;j<256;j++)
 25772                        	.line	4550
 25773 06:6677: 64 03        	stz	<L1078+j_1
 25774                        L10444:
 25775                        ;		{
 25776                        	.line	4551
 25777                        ;			asm NOP;
 25778                        	.line	4552
 25779                        	asmstart
 25780 06:6679: EA           	NOP
 25781                        	asmend
 25782                        ;		}
 25783                        	.line	4553
 25784                        L10442:
 25785 06:667A: E6 03        	inc	<L1078+j_1
 25786 06:667C: 38           	sec
 25787 06:667D: A5 03        	lda	<L1078+j_1
 25788 06:667F: E9 00 01     	sbc	#<$100
 25789 06:6682: 70 03        	bvs	L1085
 25790 06:6684: 49 00 80     	eor	#$8000
 25791                        L1085:
 25792 06:6687: 30 03        	bmi	L1086
 25793 06:6689: 82 ED FF     	brl	L10444
 25794                        L1086:
 25795                        L10443:
 25796                        ;	}
 25797                        	.line	4554
 25798                        L10439:
 25799 06:668C: C6 01        	dec	<L1078+i_1
 25800 06:668E: 38           	sec
 25801 06:668F: A9 00 00     	lda	#$0
 25802 06:6692: E5 01        	sbc	<L1078+i_1
 25803 06:6694: 70 03        	bvs	L1087
 25804 06:6696: 49 00 80     	eor	#$8000
 25805                        L1087:
 25806 06:6699: 30 03        	bmi	L1088
 25807 06:669B: 82 D9 FF     	brl	L10441
 25808                        L1088:
 25809                        L10440:
 25810                        ;
  Mon Aug  9 2021 16:52                                                Page 476


 25811                        ;	*BM1_CONTROL_REG = 0x01;
 25812                        	.line	4556
 25813 06:669E: E2 20        	sep	#$20
 25814                        	longa	off
 25815 06:66A0: A9 01        	lda	#$1
 25816 06:66A2: 8F 08 01 AF  	sta	>11469064
 25817 06:66A6: C2 20        	rep	#$20
 25818                        	longa	on
 25819                        ;	*BM1_START_ADDY_L = 0;
 25820                        	.line	4557
 25821 06:66A8: E2 20        	sep	#$20
 25822                        	longa	off
 25823 06:66AA: A9 00        	lda	#$0
 25824 06:66AC: 8F 09 01 AF  	sta	>11469065
 25825 06:66B0: C2 20        	rep	#$20
 25826                        	longa	on
 25827                        ;	*BM1_START_ADDY_M = 0;
 25828                        	.line	4558
 25829 06:66B2: E2 20        	sep	#$20
 25830                        	longa	off
 25831 06:66B4: A9 00        	lda	#$0
 25832 06:66B6: 8F 0A 01 AF  	sta	>11469066
 25833 06:66BA: C2 20        	rep	#$20
 25834                        	longa	on
 25835                        ;	*BM1_START_ADDY_H = BITMAP_BACK;
 25836                        	.line	4559
 25837 06:66BC: E2 20        	sep	#$20
 25838                        	longa	off
 25839 06:66BE: A9 08        	lda	#$8
 25840 06:66C0: 8F 0B 01 AF  	sta	>11469067
 25841 06:66C4: C2 20        	rep	#$20
 25842                        	longa	on
 25843                        ;
 25844                        ;	*BM0_CONTROL_REG = 0x01;
 25845                        	.line	4561
 25846 06:66C6: E2 20        	sep	#$20
 25847                        	longa	off
 25848 06:66C8: A9 01        	lda	#$1
 25849 06:66CA: 8F 00 01 AF  	sta	>11469056
 25850 06:66CE: C2 20        	rep	#$20
 25851                        	longa	on
 25852                        ;	*BM0_START_ADDY_L = 0;
 25853                        	.line	4562
 25854 06:66D0: E2 20        	sep	#$20
 25855                        	longa	off
 25856 06:66D2: A9 00        	lda	#$0
 25857 06:66D4: 8F 01 01 AF  	sta	>11469057
 25858 06:66D8: C2 20        	rep	#$20
 25859                        	longa	on
 25860                        ;	*BM0_START_ADDY_M = 0;
 25861                        	.line	4563
 25862 06:66DA: E2 20        	sep	#$20
 25863                        	longa	off
 25864 06:66DC: A9 00        	lda	#$0
 25865 06:66DE: 8F 02 01 AF  	sta	>11469058
 25866 06:66E2: C2 20        	rep	#$20
 25867                        	longa	on
 25868                        ;	*BM0_START_ADDY_H = BITMAP_FRONT;
  Mon Aug  9 2021 16:52                                                Page 477


 25869                        	.line	4564
 25870 06:66E4: E2 20        	sep	#$20
 25871                        	longa	off
 25872 06:66E6: A9 00        	lda	#$0
 25873 06:66E8: 8F 03 01 AF  	sta	>11469059
 25874 06:66EC: C2 20        	rep	#$20
 25875                        	longa	on
 25876                        ;
 25877                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 25878                        	.line	4566
 25879 06:66EE: E2 20        	sep	#$20
 25880                        	longa	off
 25881 06:66F0: A9 01        	lda	#$1
 25882 06:66F2: 8F 08 01 AF  	sta	>11469064
 25883 06:66F6: C2 20        	rep	#$20
 25884                        	longa	on
 25885                        ;	*BM0_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 25886                        	.line	4567
 25887 06:66F8: E2 20        	sep	#$20
 25888                        	longa	off
 25889 06:66FA: A9 01        	lda	#$1
 25890 06:66FC: 8F 00 01 AF  	sta	>11469056
 25891 06:6700: C2 20        	rep	#$20
 25892                        	longa	on
 25893                        ;
 25894                        ;	k_debug_string("k_enable_bitmap_mode 640x480...\
                    r\n");
 25895                        	.line	4569
 25896 06:6702: F4 xx xx     	pea	#^L1060+37
 25897 06:6705: F4 xx xx     	pea	#<L1060+37
 25898 06:6708: 22 xx xx xx  	jsl	~~k_debug_string
 25899                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25900                        	.line	4570
 25901 06:670C: E2 20        	sep	#$20
 25902                        	longa	off
 25903 06:670E: A9 0C        	lda	#$c
 25904 06:6710: 8F 00 00 AF  	sta	>11468800
 25905 06:6714: C2 20        	rep	#$20
 25906                        	longa	on
 25907                        ;
 25908                        ;	k_lock_irq();
 25909                        	.line	4572
 25910 06:6716: 22 xx xx xx  	jsl	~~k_lock_irq
 25911                        ;
 25912                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25913                        	.line	4574
 25914 06:671A: F4 00 00     	pea	#<$0
 25915 06:671D: F4 00 00     	pea	#<$0
 25916 06:6720: F4 E0 01     	pea	#<$1e0
 25917 06:6723: F4 80 02     	pea	#<$280
 25918 06:6726: F4 00 00     	pea	#^$0
 25919 06:6729: F4 00 00     	pea	#<$0
 25920 06:672C: F4 00 00     	pea	#^$0
 25921 06:672F: F4 00 00     	pea	#<$0
 25922 06:6732: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25923                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25924                        	.line	4575
  Mon Aug  9 2021 16:52                                                Page 478


 25925 06:6736: F4 08 00     	pea	#<$8
 25926 06:6739: F4 00 00     	pea	#<$0
 25927 06:673C: F4 E0 01     	pea	#<$1e0
 25928 06:673F: F4 80 02     	pea	#<$280
 25929 06:6742: F4 00 00     	pea	#^$0
 25930 06:6745: F4 00 00     	pea	#<$0
 25931 06:6748: F4 00 00     	pea	#^$0
 25932 06:674B: F4 00 00     	pea	#<$0
 25933 06:674E: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25934                        ;
 25935                        ;	k_unlock_irq();
 25936                        	.line	4577
 25937 06:6752: 22 xx xx xx  	jsl	~~k_unlock_irq
 25938                        ;
 25939                        ;	for(i=3200;i>0;i--)
 25940                        	.line	4579
 25941 06:6756: A9 80 0C     	lda	#$c80
 25942 06:6759: 85 01        	sta	<L1078+i_1
 25943                        L10447:
 25944                        ;	{
 25945                        	.line	4580
 25946                        ;		for(j=0;j<256;j++)
 25947                        	.line	4581
 25948 06:675B: 64 03        	stz	<L1078+j_1
 25949                        L10450:
 25950                        ;		{
 25951                        	.line	4582
 25952                        ;			asm NOP;
 25953                        	.line	4583
 25954                        	asmstart
 25955 06:675D: EA           	NOP
 25956                        	asmend
 25957                        ;		}
 25958                        	.line	4584
 25959                        L10448:
 25960 06:675E: E6 03        	inc	<L1078+j_1
 25961 06:6760: 38           	sec
 25962 06:6761: A5 03        	lda	<L1078+j_1
 25963 06:6763: E9 00 01     	sbc	#<$100
 25964 06:6766: 70 03        	bvs	L1089
 25965 06:6768: 49 00 80     	eor	#$8000
 25966                        L1089:
 25967 06:676B: 30 03        	bmi	L1090
 25968 06:676D: 82 ED FF     	brl	L10450
 25969                        L1090:
 25970                        L10449:
 25971                        ;	}
 25972                        	.line	4585
 25973                        L10445:
 25974 06:6770: C6 01        	dec	<L1078+i_1
 25975 06:6772: 38           	sec
 25976 06:6773: A9 00 00     	lda	#$0
 25977 06:6776: E5 01        	sbc	<L1078+i_1
 25978 06:6778: 70 03        	bvs	L1091
 25979 06:677A: 49 00 80     	eor	#$8000
 25980                        L1091:
 25981 06:677D: 30 03        	bmi	L1092
 25982 06:677F: 82 D9 FF     	brl	L10447
  Mon Aug  9 2021 16:52                                                Page 479


 25983                        L1092:
 25984                        L10446:
 25985                        ;
 25986                        ;	k_get_video_mode();
 25987                        	.line	4587
 25988 06:6782: 22 8E 67 06  	jsl	~~k_get_video_mode
 25989                        ;
 25990                        ;
 25991                        ;	return;
 25992                        	.line	4590
 25993                        L1093:
 25994 06:6786: 2B           	pld
 25995 06:6787: 3B           	tsc
 25996 06:6788: 18           	clc
 25997 06:6789: 69 04 00     	adc	#L1077
 25998 06:678C: 1B           	tcs
 25999 06:678D: 6B           	rtl
 26000                        ;}
 26001                        	.line	4591
 26002                        	.endblock	4591
 26003             00000004   L1077	equ	4
 26004             00000001   L1078	equ	1
 26005 06:678E:              	ends
 26006                        	efunc
 26007                        	.endfunc	4591,1,4
 26008                        	.line	4591
 26009                        	data
 26010                        L1060:
 26011 00:0A85: 6B 5F 65 6E  	db	$6B,$5F,$65,$6E,$61,$62,$6C,$65,$5F,$62,
                    $69,$74,$6D,$61,$70
       00:0A89: 61 62 6C 65 
       00:0A8D: 5F 62 69 74 
       00:0A91: 6D 61 70 
 26012 00:0A94: 5F 6D 6F 64  	db	$5F,$6D,$6F,$64,$65,$20,$74,$6F,$20,$38,
                    $30,$30,$78,$36,$30
       00:0A98: 65 20 74 6F 
       00:0A9C: 20 38 30 30 
       00:0AA0: 78 36 30 
 26013 00:0AA3: 30 2E 2E 2E  	db	$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,$65,
                    $6E,$61,$62,$6C,$65
       00:0AA7: 0D 0A 00 6B 
       00:0AAB: 5F 65 6E 61 
       00:0AAF: 62 6C 65 
 26014 00:0AB2: 5F 62 69 74  	db	$5F,$62,$69,$74,$6D,$61,$70,$5F,$6D,$6F,
                    $64,$65,$20,$36,$34
       00:0AB6: 6D 61 70 5F 
       00:0ABA: 6D 6F 64 65 
       00:0ABE: 20 36 34 
 26015 00:0AC1: 30 78 34 38  	db	$30,$78,$34,$38,$30,$2E,$2E,$2E,$0D,$0A,
                    $00
       00:0AC5: 30 2E 2E 2E 
       00:0AC9: 0D 0A 00 
 26016 00:0ACC:              	ends
 26017                        ;
 26018                        ;
 26019                        ;UINT k_get_video_mode(void)
 26020                        ;{
 26021                        	.line	4594
  Mon Aug  9 2021 16:52                                                Page 480


 26022                        	.line	4595
 26023                        	GFX
 26024                        	xdef	~~k_get_video_mode
 26025                        	func
 26026                        	.function	4595
 26027                        ~~k_get_video_mode:
 26028                        	longa	on
 26029                        	longi	on
 26030 06:678E: 3B           	tsc
 26031 06:678F: 38           	sec
 26032 06:6790: E9 00 00     	sbc	#L1095
 26033 06:6793: 1B           	tcs
 26034 06:6794: 0B           	phd
 26035 06:6795: 5B           	tcd
 26036                        	.block	4595
 26037                        ;	//Mstr_Ctrl_Video_Mode0   = $01       ; 0 - 640x
                    480 (Clock @ 25.175Mhz), 1 - 800x600 (Clock @ 40Mhz)
 26038                        ;	//Mstr_Ctrl_Video_Mode1   = $02       ; 0 - No P
                    ixel Doubling, 1- Pixel Doubling (Reduce the Pixel Resolutio
                    n by 2)
 26039                        ;
 26040                        ;	if(MASTER_CTRL_REG_H[0] & 0x01)
 26041                        	.line	4599
 26042                        ;	{
 26043 06:6796: E2 20        	sep	#$20
 26044                        	longa	off
 26045 06:6798: AF 01 00 AF  	lda	>11468801
 26046 06:679C: 29 01        	and	#<$1
 26047 06:679E: C2 20        	rep	#$20
 26048                        	longa	on
 26049 06:67A0: D0 03        	bne	L1098
 26050 06:67A2: 82 36 00     	brl	L10451
 26051                        L1098:
 26052                        	.line	4600
 26053                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 26054                        	.line	4601
 26055                        ;		{
 26056 06:67A5: E2 20        	sep	#$20
 26057                        	longa	off
 26058 06:67A7: AF 01 00 AF  	lda	>11468801
 26059 06:67AB: 29 02        	and	#<$2
 26060 06:67AD: C2 20        	rep	#$20
 26061                        	longa	on
 26062 06:67AF: D0 03        	bne	L1099
 26063 06:67B1: 82 17 00     	brl	L10452
 26064                        L1099:
 26065                        	.line	4602
 26066                        ;			k_debug_string("k_get_video_mode
                    :VIDEO_MODE_800X600D...\r\n");
 26067                        	.line	4603
 26068 06:67B4: F4 xx xx     	pea	#^L1094
 26069 06:67B7: F4 xx xx     	pea	#<L1094
 26070 06:67BA: 22 xx xx xx  	jsl	~~k_debug_string
 26071                        ;			return VIDEO_MODE_800X600D;
 26072                        	.line	4604
 26073 06:67BE: A9 08 00     	lda	#$8
 26074                        L1100:
 26075 06:67C1: A8           	tay
  Mon Aug  9 2021 16:52                                                Page 481


 26076 06:67C2: 2B           	pld
 26077 06:67C3: 3B           	tsc
 26078 06:67C4: 18           	clc
 26079 06:67C5: 69 00 00     	adc	#L1095
 26080 06:67C8: 1B           	tcs
 26081 06:67C9: 98           	tya
 26082 06:67CA: 6B           	rtl
 26083                        ;		}
 26084                        	.line	4605
 26085                        ;
 26086                        ;		k_debug_string("k_get_video_mode:VIDEO_M
                    ODE_800X600...\r\n");
 26087                        L10452:
 26088                        	.line	4607
 26089 06:67CB: F4 xx xx     	pea	#^L1094+42
 26090 06:67CE: F4 xx xx     	pea	#<L1094+42
 26091 06:67D1: 22 xx xx xx  	jsl	~~k_debug_string
 26092                        ;		return VIDEO_MODE_800X600;
 26093                        	.line	4608
 26094 06:67D5: A9 04 00     	lda	#$4
 26095 06:67D8: 82 E6 FF     	brl	L1100
 26096                        ;	}
 26097                        	.line	4609
 26098                        ;	else
 26099                        L10451:
 26100                        ;	{
 26101                        	.line	4611
 26102                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 26103                        	.line	4612
 26104                        ;		{
 26105 06:67DB: E2 20        	sep	#$20
 26106                        	longa	off
 26107 06:67DD: AF 01 00 AF  	lda	>11468801
 26108 06:67E1: 29 02        	and	#<$2
 26109 06:67E3: C2 20        	rep	#$20
 26110                        	longa	on
 26111 06:67E5: D0 03        	bne	L1101
 26112 06:67E7: 82 10 00     	brl	L10453
 26113                        L1101:
 26114                        	.line	4613
 26115                        ;			k_debug_string("k_get_video_mode
                    :VIDEO_MODE_640X480D...\r\n");
 26116                        	.line	4614
 26117 06:67EA: F4 xx xx     	pea	#^L1094+83
 26118 06:67ED: F4 xx xx     	pea	#<L1094+83
 26119 06:67F0: 22 xx xx xx  	jsl	~~k_debug_string
 26120                        ;			return VIDEO_MODE_640X480D;
 26121                        	.line	4615
 26122 06:67F4: A9 02 00     	lda	#$2
 26123 06:67F7: 82 C7 FF     	brl	L1100
 26124                        ;		}
 26125                        	.line	4616
 26126                        ;
 26127                        ;		k_debug_string("k_get_video_mode:VIDEO_M
                    ODE_640X480...\r\n");
 26128                        L10453:
 26129                        	.line	4618
 26130 06:67FA: F4 xx xx     	pea	#^L1094+125
  Mon Aug  9 2021 16:52                                                Page 482


 26131 06:67FD: F4 xx xx     	pea	#<L1094+125
 26132 06:6800: 22 xx xx xx  	jsl	~~k_debug_string
 26133                        ;		return VIDEO_MODE_640X480;
 26134                        	.line	4619
 26135 06:6804: A9 01 00     	lda	#$1
 26136 06:6807: 82 B7 FF     	brl	L1100
 26137                        ;	}
 26138                        	.line	4620
 26139                        ;
 26140                        ;
 26141                        ;	return VIDEO_MODE_UNKNOWN;
 26142                        	.line	4623
 26143 06:680A: A9 FF 00     	lda	#$ff
 26144 06:680D: 82 B1 FF     	brl	L1100
 26145                        ;}
 26146                        	.line	4624
 26147                        	.endblock	4624
 26148             00000000   L1095	equ	0
 26149             00000001   L1096	equ	1
 26150 06:6810:              	ends
 26151                        	efunc
 26152                        	.endfunc	4624,1,0
 26153                        	.line	4624
 26154                        	data
 26155                        L1094:
 26156 00:0ACC: 6B 5F 67 65  	db	$6B,$5F,$67,$65,$74,$5F,$76,$69,$64,$65,
                    $6F,$5F,$6D,$6F,$64
       00:0AD0: 74 5F 76 69 
       00:0AD4: 64 65 6F 5F 
       00:0AD8: 6D 6F 64 
 26157 00:0ADB: 65 3A 56 49  	db	$65,$3A,$56,$49,$44,$45,$4F,$5F,$4D,$4F,
                    $44,$45,$5F,$38,$30
       00:0ADF: 44 45 4F 5F 
       00:0AE3: 4D 4F 44 45 
       00:0AE7: 5F 38 30 
 26158 00:0AEA: 30 58 36 30  	db	$30,$58,$36,$30,$30,$44,$2E,$2E,$2E,$0D,
                    $0A,$00,$6B,$5F,$67
       00:0AEE: 30 44 2E 2E 
       00:0AF2: 2E 0D 0A 00 
       00:0AF6: 6B 5F 67 
 26159 00:0AF9: 65 74 5F 76  	db	$65,$74,$5F,$76,$69,$64,$65,$6F,$5F,$6D,
                    $6F,$64,$65,$3A,$56
       00:0AFD: 69 64 65 6F 
       00:0B01: 5F 6D 6F 64 
       00:0B05: 65 3A 56 
 26160 00:0B08: 49 44 45 4F  	db	$49,$44,$45,$4F,$5F,$4D,$4F,$44,$45,$5F,
                    $38,$30,$30,$58,$36
       00:0B0C: 5F 4D 4F 44 
       00:0B10: 45 5F 38 30 
       00:0B14: 30 58 36 
 26161 00:0B17: 30 30 2E 2E  	db	$30,$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,
                    $67,$65,$74,$5F,$76
       00:0B1B: 2E 0D 0A 00 
       00:0B1F: 6B 5F 67 65 
       00:0B23: 74 5F 76 
 26162 00:0B26: 69 64 65 6F  	db	$69,$64,$65,$6F,$5F,$6D,$6F,$64,$65,$3A,
                    $56,$49,$44,$45,$4F
       00:0B2A: 5F 6D 6F 64 
  Mon Aug  9 2021 16:52                                                Page 483


       00:0B2E: 65 3A 56 49 
       00:0B32: 44 45 4F 
 26163 00:0B35: 5F 4D 4F 44  	db	$5F,$4D,$4F,$44,$45,$5F,$36,$34,$30,$58,
                    $34,$38,$30,$44,$2E
       00:0B39: 45 5F 36 34 
       00:0B3D: 30 58 34 38 
       00:0B41: 30 44 2E 
 26164 00:0B44: 2E 2E 0D 0A  	db	$2E,$2E,$0D,$0A,$00,$6B,$5F,$67,$65,$74,
                    $5F,$76,$69,$64,$65
       00:0B48: 00 6B 5F 67 
       00:0B4C: 65 74 5F 76 
       00:0B50: 69 64 65 
 26165 00:0B53: 6F 5F 6D 6F  	db	$6F,$5F,$6D,$6F,$64,$65,$3A,$56,$49,$44,
                    $45,$4F,$5F,$4D,$4F
       00:0B57: 64 65 3A 56 
       00:0B5B: 49 44 45 4F 
       00:0B5F: 5F 4D 4F 
 26166 00:0B62: 44 45 5F 36  	db	$44,$45,$5F,$36,$34,$30,$58,$34,$38,$30,
                    $2E,$2E,$2E,$0D,$0A
       00:0B66: 34 30 58 34 
       00:0B6A: 38 30 2E 2E 
       00:0B6E: 2E 0D 0A 
 26167 00:0B71: 00           	db	$00
 26168 00:0B72:              	ends
 26169                        ;
 26170                        ;void k_gui_cache_desktop_widgets(void)
 26171                        ;{
 26172                        	.line	4626
 26173                        	.line	4627
 26174                        	GFX
 26175                        	xdef	~~k_gui_cache_desktop_widgets
 26176                        	func
 26177                        	.function	4627
 26178                        ~~k_gui_cache_desktop_widgets:
 26179                        	longa	on
 26180                        	longi	on
 26181 06:6810: 3B           	tsc
 26182 06:6811: 38           	sec
 26183 06:6812: E9 1A 00     	sbc	#L1103
 26184 06:6815: 1B           	tcs
 26185 06:6816: 0B           	phd
 26186 06:6817: 5B           	tcd
 26187                        	.block	4627
 26188                        ;	int i = 0;
 26189                        ;	int titleOffsetX = 0;
 26190                        ;	RECT rect;
 26191                        ;
 26192                        ;
 26193                        ;	for(i=0;i<80;i++)
 26194             00000000   i_1	set	0
 26195             00000002   titleOffsetX_1	set	2
 26196             00000004   rect_1	set	4
 26197                        	.sym	i,0,5,1,16
 26198                        	.sym	titleOffsetX,2,5,1,16
 26199                        	.sym	rect,4,10,1,112,26
 26200 06:6818: 64 09        	stz	<L1104+i_1
 26201 06:681A: 64 0B        	stz	<L1104+titleOffsetX_1
 26202                        	.line	4633
  Mon Aug  9 2021 16:52                                                Page 484


 26203 06:681C: 64 09        	stz	<L1104+i_1
 26204                        L10456:
 26205                        ;	{
 26206                        	.line	4634
 26207                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_LINES,titleOffsetX,10,k_getUIGadgetColor(),BITM
                    AP_BACK);
 26208                        	.line	4635
 26209 06:681E: F4 08 00     	pea	#<$8
 26210 06:6821: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 26211 06:6825: 48           	pha
 26212 06:6826: F4 0A 00     	pea	#<$a
 26213 06:6829: D4 0B        	pei	<L1104+titleOffsetX_1
 26214 06:682B: F4 01 00     	pea	#<$1
 26215 06:682E: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 26216 06:6832: 85 01        	sta	<R0
 26217 06:6834: 18           	clc
 26218 06:6835: A5 01        	lda	<R0
 26219 06:6837: 65 0B        	adc	<L1104+titleOffsetX_1
 26220 06:6839: 85 0B        	sta	<L1104+titleOffsetX_1
 26221                        ;	}
 26222                        	.line	4636
 26223                        L10454:
 26224 06:683B: E6 09        	inc	<L1104+i_1
 26225 06:683D: 38           	sec
 26226 06:683E: A5 09        	lda	<L1104+i_1
 26227 06:6840: E9 50 00     	sbc	#<$50
 26228 06:6843: 70 03        	bvs	L1106
 26229 06:6845: 49 00 80     	eor	#$8000
 26230                        L1106:
 26231 06:6848: 30 03        	bmi	L1107
 26232 06:684A: 82 D1 FF     	brl	L10456
 26233                        L1107:
 26234                        L10455:
 26235                        ;
 26236                        ;	k_vdma_copy_address_ex((LPSTR)(GUI_CACHE_PAGE + 
                    GUI_CACHE_PAGE_OFFSET(0)),
 26237                        	.line	4638
 26238                        ;						   (LPST
                    R)(0x080000  + k_gui_get_pixel_offset(0,10)),
 26239                        ;						   640,8
                    );
 26240 06:684D: F4 08 00     	pea	#<$8
 26241 06:6850: F4 80 02     	pea	#<$280
 26242 06:6853: F4 0A 00     	pea	#<$a
 26243 06:6856: F4 00 00     	pea	#<$0
 26244 06:6859: 22 BA 07 06  	jsl	~~k_gui_get_pixel_offset
 26245 06:685D: 85 01        	sta	<R0
 26246 06:685F: 86 03        	stx	<R0+2
 26247 06:6861: 18           	clc
 26248 06:6862: A9 00 00     	lda	#$0
 26249 06:6865: 65 01        	adc	<R0
 26250 06:6867: 85 05        	sta	<R1
 26251 06:6869: A9 08 00     	lda	#$8
 26252 06:686C: 65 03        	adc	<R0+2
 26253 06:686E: 85 07        	sta	<R1+2
 26254 06:6870: D4 07        	pei	<R1+2
 26255 06:6872: D4 05        	pei	<R1
  Mon Aug  9 2021 16:52                                                Page 485


 26256 06:6874: F4 10 00     	pea	#^$100000
 26257 06:6877: F4 00 00     	pea	#<$100000
 26258 06:687A: 22 0B 85 06  	jsl	~~k_vdma_copy_address_ex
 26259                        ;
 26260                        ;
 26261                        ;	/*
 26262                        ;	k_vdma_copy_address_ex((LPSTR)(0x080000  + k_gui
                    _get_pixel_offset(0,100)),
 26263                        ;						   (LPST
                    R)(GUI_CACHE_PAGE + GUI_CACHE_PAGE_OFFSET(0)),
 26264                        ;						   640,8
                    );
 26265                        ;
 26266                        ;
 26267                        ;	rect.x = 0;
 26268                        ;	rect.y = 300;
 26269                        ;	rect.width  = 640;
 26270                        ;	rect.height = 8;
 26271                        ;
 26272                        ;	k_gui_get_image_cache(0,0x080000,&rect);
 26273                        ;
 26274                        ;
 26275                        ;	for(i=32000;i>0;i--)
 26276                        ;	{
 26277                        ;		asm NOP;
 26278                        ;	}
 26279                        ;	for(i=32000;i>0;i--)
 26280                        ;	{
 26281                        ;		asm NOP;
 26282                        ;	}
 26283                        ;	for(i=32000;i>0;i--)
 26284                        ;	{
 26285                        ;		asm NOP;
 26286                        ;	}
 26287                        ;	for(i=32000;i>0;i--)
 26288                        ;	{
 26289                        ;		asm NOP;
 26290                        ;	}
 26291                        ;	for(i=32000;i>0;i--)
 26292                        ;	{
 26293                        ;		asm NOP;
 26294                        ;	}
 26295                        ;	for(i=32000;i>0;i--)
 26296                        ;	{
 26297                        ;		asm NOP;
 26298                        ;	}
 26299                        ;	for(i=32000;i>0;i--)
 26300                        ;	{
 26301                        ;		asm NOP;
 26302                        ;	}
 26303                        ;	*/
 26304                        ;}
 26305                        	.line	4686
 26306                        L1108:
 26307 06:687E: 2B           	pld
 26308 06:687F: 3B           	tsc
 26309 06:6880: 18           	clc
 26310 06:6881: 69 1A 00     	adc	#L1103
  Mon Aug  9 2021 16:52                                                Page 486


 26311 06:6884: 1B           	tcs
 26312 06:6885: 6B           	rtl
 26313                        	.endblock	4686
 26314             0000001A   L1103	equ	26
 26315             00000009   L1104	equ	9
 26316 06:6886:              	ends
 26317                        	efunc
 26318                        	.endfunc	4686,9,26
 26319                        	.line	4686
 26320                        ;
 26321                        ;void k_init_desktop(PFXPROCESS process)
 26322                        ;{
 26323                        	.line	4688
 26324                        	.line	4689
 26325                        	GFX
 26326                        	xdef	~~k_init_desktop
 26327                        	func
 26328                        	.function	4689
 26329                        ~~k_init_desktop:
 26330                        	longa	on
 26331                        	longi	on
 26332 06:6886: 3B           	tsc
 26333 06:6887: 38           	sec
 26334 06:6888: E9 12 00     	sbc	#L1109
 26335 06:688B: 1B           	tcs
 26336 06:688C: 0B           	phd
 26337 06:688D: 5B           	tcd
 26338             00000004   process_0	set	4
 26339                        	.block	4689
 26340                        ;
 26341                        ;	int i = 0;
 26342                        ;	int x = 0;
 26343                        ;	int y = 200;
 26344                        ;
 26345                        ;
 26346                        ;	PFXSTRING fxtitle = NULL;
 26347                        ;	PFXSTRING fxstring = NULL;
 26348                        ;
 26349                        ;	ULONG availableMem = 0L;
 26350                        ;
 26351                        ;
 26352                        ;	k_clear_screen(0);
 26353             00000000   i_1	set	0
 26354             00000002   x_1	set	2
 26355             00000004   y_1	set	4
 26356             00000006   fxtitle_1	set	6
 26357             0000000A   fxstring_1	set	10
 26358             0000000E   availableMem_1	set	14
 26359                        	.sym	i,0,5,1,16
 26360                        	.sym	x,2,5,1,16
 26361                        	.sym	y,4,5,1,16
 26362                        	.sym	fxtitle,6,138,1,32,61
 26363                        	.sym	fxstring,10,138,1,32,61
 26364                        	.sym	availableMem,14,18,1,32
 26365                        	.sym	process,4,138,6,32,20
 26366 06:688E: 64 01        	stz	<L1110+i_1
 26367 06:6890: 64 03        	stz	<L1110+x_1
 26368 06:6892: A9 C8 00     	lda	#$c8
  Mon Aug  9 2021 16:52                                                Page 487


 26369 06:6895: 85 05        	sta	<L1110+y_1
 26370 06:6897: 64 07        	stz	<L1110+fxtitle_1
 26371 06:6899: 64 09        	stz	<L1110+fxtitle_1+2
 26372 06:689B: 64 0B        	stz	<L1110+fxstring_1
 26373 06:689D: 64 0D        	stz	<L1110+fxstring_1+2
 26374 06:689F: 64 0F        	stz	<L1110+availableMem_1
 26375 06:68A1: 64 11        	stz	<L1110+availableMem_1+2
 26376                        	.line	4702
 26377 06:68A3: F4 00 00     	pea	#<$0
 26378 06:68A6: 22 xx xx xx  	jsl	~~k_clear_screen
 26379                        ;	setColors();
 26380                        	.line	4703
 26381 06:68AA: 22 00 09 06  	jsl	~~setColors
 26382                        ;	//defineGrayPalette();
 26383                        ;
 26384                        ;#ifdef USE_FX256_FMX
 26385                        ;
 26386                        ;	/*
 26387                        ;	*BM1_CONTROL_REG = 0x01;
 26388                        ;	*BM1_START_ADDY_L = 0;
 26389                        ;	*BM1_START_ADDY_M = 0;
 26390                        ;	*BM1_START_ADDY_H = 0;
 26391                        ;
 26392                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 26393                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26394                        ;
 26395                        ;	*MASTER_CTRL_REG_H 	= 0x01;
 26396                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26397                        ;
 26398                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 26399                        ;
 26400                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 26401                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26402                        ;	*/
 26403                        ;
 26404                        ;	k_enable_bitmap_mode();
 26405                        ;
 26406                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26407                        ;	k_vdma_fill_rect_ex(0,0,640,480,15,BITMAP_BACK);
 26408                        ;
 26409                        ;	k_gui_cache_desktop_widgets();
 26410                        ;
 26411                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26412                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 26413                        ;#elif USE_FX256_U
 26414                        ;
 26415                        ;
 26416                        ;	k_enable_bitmap_mode();
 26417                        	.line	4738
 26418 06:68AE: 22 BC 65 06  	jsl	~~k_enable_bitmap_mode
 26419                        ;
 26420                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26421                        	.line	4740
 26422 06:68B2: F4 00 00     	pea	#<$0
 26423 06:68B5: F4 00 00     	pea	#<$0
  Mon Aug  9 2021 16:52                                                Page 488


 26424 06:68B8: F4 E0 01     	pea	#<$1e0
 26425 06:68BB: F4 80 02     	pea	#<$280
 26426 06:68BE: F4 00 00     	pea	#^$0
 26427 06:68C1: F4 00 00     	pea	#<$0
 26428 06:68C4: F4 00 00     	pea	#^$0
 26429 06:68C7: F4 00 00     	pea	#<$0
 26430 06:68CA: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26431                        ;	k_vdma_fill_rect_ex(0,0,640,480,15,BITMAP_BACK);
 26432                        	.line	4741
 26433 06:68CE: F4 08 00     	pea	#<$8
 26434 06:68D1: F4 0F 00     	pea	#<$f
 26435 06:68D4: F4 E0 01     	pea	#<$1e0
 26436 06:68D7: F4 80 02     	pea	#<$280
 26437 06:68DA: F4 00 00     	pea	#^$0
 26438 06:68DD: F4 00 00     	pea	#<$0
 26439 06:68E0: F4 00 00     	pea	#^$0
 26440 06:68E3: F4 00 00     	pea	#<$0
 26441 06:68E6: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26442                        ;
 26443                        ;	k_gui_cache_desktop_widgets();
 26444                        	.line	4743
 26445 06:68EA: 22 10 68 06  	jsl	~~k_gui_cache_desktop_widgets
 26446                        ;
 26447                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26448                        	.line	4745
 26449 06:68EE: F4 00 00     	pea	#<$0
 26450 06:68F1: F4 00 00     	pea	#<$0
 26451 06:68F4: F4 E0 01     	pea	#<$1e0
 26452 06:68F7: F4 80 02     	pea	#<$280
 26453 06:68FA: F4 00 00     	pea	#^$0
 26454 06:68FD: F4 00 00     	pea	#<$0
 26455 06:6900: F4 00 00     	pea	#^$0
 26456 06:6903: F4 00 00     	pea	#<$0
 26457 06:6906: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26458                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 26459                        	.line	4746
 26460 06:690A: F4 08 00     	pea	#<$8
 26461 06:690D: F4 00 00     	pea	#<$0
 26462 06:6910: F4 E0 01     	pea	#<$1e0
 26463 06:6913: F4 80 02     	pea	#<$280
 26464 06:6916: F4 00 00     	pea	#^$0
 26465 06:6919: F4 00 00     	pea	#<$0
 26466 06:691C: F4 00 00     	pea	#^$0
 26467 06:691F: F4 00 00     	pea	#<$0
 26468 06:6922: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26469                        ;#else
 26470                        ;
 26471                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 26472                        ;
 26473                        ;	*BM_START_ADDY_L = 0x00;
 26474                        ;	*BM_START_ADDY_M = 0x00;
 26475                        ;	*BM_START_ADDY_H = 0x00;
 26476                        ;	*BG_CHAR_LUT_PTR = 0x02;
 26477                        ;
 26478                        ;	*BM_X_SIZE_L = 0x80;
 26479                        ;	*BM_X_SIZE_H = 0x02;
 26480                        ;	*BM_Y_SIZE_L = 0xE0;
 26481                        ;	*BM_Y_SIZE_H = 0x01;
  Mon Aug  9 2021 16:52                                                Page 489


 26482                        ;
 26483                        ;	//*FG_CHAR_LUT_PTR    = 0x00;
 26484                        ;	//*BG_CHAR_LUT_PTR    = 0x00;
 26485                        ;	*BM_CONTROL_REG 	= 0x08;
 26486                        ;
 26487                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 26488                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26489                        ;
 26490                        ;#endif
 26491                        ;
 26492                        ;	k_disable_border();
 26493                        	.line	4770
 26494 06:6926: 22 xx xx xx  	jsl	~~k_disable_border
 26495                        ;
 26496                        ;	//setColors();
 26497                        ;	//defineGrayPalette();
 26498                        ;
 26499                        ;	/*
 26500                        ;
 26501                        ;	if(!_k_WindowObject_nodes)
 26502                        ;		_k_WindowObject_nodes = k_nodelist_init(
                    0xF0,"master",NULL);
 26503                        ;	if(!_k_WindowHit_nodes)
 26504                        ;		_k_WindowHit_nodes    = k_nodelist_init(
                    0xF0,"master",NULL);
 26505                        ;
 26506                        ;	if(process->desktopCtl == NULL)
 26507                        ;	{
 26508                        ;		process->desktopCtl = k_mem_allocate_hea
                    p(sizeof(DESKTOP_CONTROL));
 26509                        ;		memset(process->desktopCtl,0,sizeof(DESK
                    TOP_CONTROL));
 26510                        ;	}
 26511                        ;	process->desktopCtl->backgroundColor = k_getUIDe
                    sktopColor() ;//14;
 26512                        ;	process->desktopCtl->currentDiskName = NULL;
 26513                        ;
 26514                        ;	*/
 26515                        ;
 26516                        ;	// clear screen the old way
 26517                        ;
 26518                        ;	/*
 26519                        ;	for(y=0;y<480;y++)
 26520                        ;	{
 26521                        ;		k_fill_line(0,y,639,k_getUIDesktopColor(
                    ));
 26522                        ;	}
 26523                        ;	*/
 26524                        ;	//k_vdma_fill_rect_ex(0,0,640,480,k_getUIBackgro
                    undColor(),0x10);
 26525                        ;
 26526                        ;
 26527                        ;	//k_paint_brush_rect(0,0,640,480,0x55);
 26528                        ;
 26529                        ;
 26530                        ;	/*
 26531                        ;	fxtitle  = k_fxstring_new(CONST_WB_MENU_TITLE,96
  Mon Aug  9 2021 16:52                                                Page 490


                    );
 26532                        ;	fxstring = k_fxstring_from_long(k_getZeroPage()-
                    >availableMemoryK);
 26533                        ;
 26534                        ;	//k_debug_message("fxtitle:",fxtitle->buffer);
 26535                        ;	//k_debug_message("fxstring:",k_strip_padding(fx
                    string->buffer));
 26536                        ;
 26537                        ;	//process->desktopCtl->titleNodes = k_vdraw_ui_m
                    enu(0,0,639,"C256 Foenix Workbench - Free Mem: 1792K Video M
                    em: 4096K",15,3);
 26538                        ;	process->desktopCtl->titleNodes = k_vdraw_ui_men
                    u(0,0,639,
 26539                        ;   						
                    							  k_stri
                    ng_replace(fxtitle->buffer, "%d", k_strip_padding(fxstring->
                    buffer)),
 26540                        ;							
                    						  k_getUIMenuCol
                    or(),
 26541                        ;							
                    						  k_getUIWindowF
                    rameColor());
 26542                        ;
 26543                        ;	if(fxstring)
 26544                        ;		k_fxstring_free(fxstring);
 26545                        ;	*/
 26546                        ;
 26547                        ;	//k_vdraw_ui_menu(0,0,639,"C256 Foenix Workbench
                     - Free Memory: 1792K Video Memory: 4096K",15,3);
 26548                        ;
 26549                        ;	/*
 26550                        ;	//FX-Basic
 26551                        ;	k_put_winicon_point(ICON_DISK,640 - 40,20,0,PAIN
                    TMODE_DEFAULT);
 26552                        ;	k_draw_text_point("FX-BASIC",640 - 35 - (8*4),40
                    ,0);
 26553                        ;
 26554                        ;	//Projects
 26555                        ;	k_put_winicon_point(ICON_CABINET,640 - 40,55,2,P
                    AINTMODE_DEFAULT);
 26556                        ;	k_draw_text_point("PROJECTS",640 - 35 - (8*4),75
                    ,0);
 26557                        ;	*/
 26558                        ;
 26559                        ;	//Shredder
 26560                        ;	//k_put_winicon_point(ICON_TRASH,640 - 40,450,1,
                    PAINTMODE_DEFAULT);
 26561                        ;	//k_draw_text_point("SHREDDER",640 - 35 - (8*4),
                    470,0);
 26562                        ;
 26563                        ;
 26564                        ;
 26565                        ;	return;
 26566                        	.line	4841
 26567                        L1112:
 26568 06:692A: A5 14        	lda	<L1109+2
 26569 06:692C: 85 18        	sta	<L1109+2+4
  Mon Aug  9 2021 16:52                                                Page 491


 26570 06:692E: A5 13        	lda	<L1109+1
 26571 06:6930: 85 17        	sta	<L1109+1+4
 26572 06:6932: 2B           	pld
 26573 06:6933: 3B           	tsc
 26574 06:6934: 18           	clc
 26575 06:6935: 69 16 00     	adc	#L1109+4
 26576 06:6938: 1B           	tcs
 26577 06:6939: 6B           	rtl
 26578                        ;}
 26579                        	.line	4842
 26580                        	.endblock	4842
 26581             00000012   L1109	equ	18
 26582             00000001   L1110	equ	1
 26583 06:693A:              	ends
 26584                        	efunc
 26585                        	.endfunc	4842,1,18
 26586                        	.line	4842
 26587                        ;
 26588                        ;
 26589                        ;UINT k_init_splash(BOOL bWait)
 26590                        ;{
 26591                        	.line	4845
 26592                        	.line	4846
 26593                        	GFX
 26594                        	xdef	~~k_init_splash
 26595                        	func
 26596                        	.function	4846
 26597                        ~~k_init_splash:
 26598                        	longa	on
 26599                        	longi	on
 26600 06:693A: 3B           	tsc
 26601 06:693B: 38           	sec
 26602 06:693C: E9 41 00     	sbc	#L1113
 26603 06:693F: 1B           	tcs
 26604 06:6940: 0B           	phd
 26605 06:6941: 5B           	tcd
 26606             00000004   bWait_0	set	4
 26607                        	.block	4846
 26608                        ;	UINT bootMode = BOOTMODE_DEFAULT;
 26609                        ;
 26610                        ;	int i;
 26611                        ;	BYTE c,r,g,b;
 26612                        ;
 26613                        ;	long color[4];
 26614                        ;
 26615                        ;	long *pcolor[3];
 26616                        ;
 26617                        ;	//PFXZEROPAGE zp = NULL;
 26618                        ;	PFX_DEVICE_DRIVER kbd = NULL;
 26619                        ;	CHAR key;
 26620                        ;	BYTE read;
 26621                        ;
 26622                        ;	LPSTR pPalette = GRPH_LUT0_PTR;
 26623                        ;	LPSTR pathName = NULL;
 26624                        ;	CHAR boardRelease[3];
 26625                        ;
 26626                        ;
 26627                        ;	k_clear_screen(0);
  Mon Aug  9 2021 16:52                                                Page 492


 26628             00000000   bootMode_1	set	0
 26629             00000002   i_1	set	2
 26630             00000004   c_1	set	4
 26631             00000005   r_1	set	5
 26632             00000006   g_1	set	6
 26633             00000007   b_1	set	7
 26634             00000008   color_1	set	8
 26635             00000018   pcolor_1	set	24
 26636             00000024   kbd_1	set	36
 26637             00000028   key_1	set	40
 26638             00000029   read_1	set	41
 26639             0000002A   pPalette_1	set	42
 26640             0000002E   pathName_1	set	46
 26641             00000032   boardRelease_1	set	50
 26642                        	.sym	bootMode,0,16,1,16
 26643                        	.sym	i,2,5,1,16
 26644                        	.sym	c,4,14,1,8
 26645                        	.sym	r,5,14,1,8
 26646                        	.sym	g,6,14,1,8
 26647                        	.sym	b,7,14,1,8
 26648                        	.sym	color,8,103,1,0,4
 26649                        	.sym	pcolor,24,1127,1,32,3
 26650                        	.sym	kbd,36,138,1,32,58
 26651                        	.sym	key,40,14,1,8
 26652                        	.sym	read,41,14,1,8
 26653                        	.sym	pPalette,42,142,1,32
 26654                        	.sym	pathName,46,142,1,32
 26655                        	.sym	boardRelease,50,110,1,0,3
 26656                        	.sym	bWait,4,14,6,8
 26657 06:6942: A9 01 00     	lda	#$1
 26658 06:6945: 85 0D        	sta	<L1114+bootMode_1
 26659 06:6947: 64 31        	stz	<L1114+kbd_1
 26660 06:6949: 64 33        	stz	<L1114+kbd_1+2
 26661 06:694B: A9 00 20     	lda	#$2000
 26662 06:694E: 85 37        	sta	<L1114+pPalette_1
 26663 06:6950: A9 AF 00     	lda	#$af
 26664 06:6953: 85 39        	sta	<L1114+pPalette_1+2
 26665 06:6955: 64 3B        	stz	<L1114+pathName_1
 26666 06:6957: 64 3D        	stz	<L1114+pathName_1+2
 26667                        	.line	4866
 26668 06:6959: F4 00 00     	pea	#<$0
 26669 06:695C: 22 xx xx xx  	jsl	~~k_clear_screen
 26670                        ;
 26671                        ;
 26672                        ;#ifdef USE_FX256_FMX
 26673                        ;	k_enable_bitmap_mode();
 26674                        ;
 26675                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26676                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 26677                        ;#elif USE_FX256_U
 26678                        ;
 26679                        ;	k_enable_bitmap_mode();
 26680                        	.line	4876
 26681 06:6960: 22 BC 65 06  	jsl	~~k_enable_bitmap_mode
 26682                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26683                        	.line	4877
 26684 06:6964: F4 00 00     	pea	#<$0
 26685 06:6967: F4 00 00     	pea	#<$0
  Mon Aug  9 2021 16:52                                                Page 493


 26686 06:696A: F4 E0 01     	pea	#<$1e0
 26687 06:696D: F4 80 02     	pea	#<$280
 26688 06:6970: F4 00 00     	pea	#^$0
 26689 06:6973: F4 00 00     	pea	#<$0
 26690 06:6976: F4 00 00     	pea	#^$0
 26691 06:6979: F4 00 00     	pea	#<$0
 26692 06:697C: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26693                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 26694                        	.line	4878
 26695 06:6980: F4 08 00     	pea	#<$8
 26696 06:6983: F4 00 00     	pea	#<$0
 26697 06:6986: F4 E0 01     	pea	#<$1e0
 26698 06:6989: F4 80 02     	pea	#<$280
 26699 06:698C: F4 00 00     	pea	#^$0
 26700 06:698F: F4 00 00     	pea	#<$0
 26701 06:6992: F4 00 00     	pea	#^$0
 26702 06:6995: F4 00 00     	pea	#<$0
 26703 06:6998: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26704                        ;#else
 26705                        ;
 26706                        ;
 26707                        ;
 26708                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 26709                        ;
 26710                        ;
 26711                        ;
 26712                        ;	*BM_START_ADDY_L = 0x00;
 26713                        ;	*BM_START_ADDY_M = 0x00;
 26714                        ;	*BM_START_ADDY_H = 0x00;
 26715                        ;	*BG_CHAR_LUT_PTR = 0x02;
 26716                        ;
 26717                        ;	*BM_X_SIZE_L = 0x80;
 26718                        ;	*BM_X_SIZE_H = 0x02;
 26719                        ;	*BM_Y_SIZE_L = 0xE0;
 26720                        ;	*BM_Y_SIZE_H = 0x01;
 26721                        ;
 26722                        ;	*BM_CONTROL_REG 	= 0x08;
 26723                        ;
 26724                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 26725                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26726                        ;
 26727                        ;#endif
 26728                        ;
 26729                        ;	k_disable_border();
 26730                        	.line	4904
 26731 06:699C: 22 xx xx xx  	jsl	~~k_disable_border
 26732                        ;
 26733                        ;	//k_debug_string("k_init_splash::k_get_c256_rele
                    ase\r\n");
 26734                        ;	k_get_c256_release(boardRelease);
 26735                        	.line	4907
 26736 06:69A0: F4 00 00     	pea	#0
 26737 06:69A3: 18           	clc
 26738 06:69A4: 7B           	tdc
 26739 06:69A5: 69 3F 00     	adc	#<L1114+boardRelease_1
 26740 06:69A8: 48           	pha
 26741 06:69A9: 22 xx xx xx  	jsl	~~k_get_c256_release
  Mon Aug  9 2021 16:52                                                Page 494


 26742                        ;
 26743                        ;	//zp = k_getZeroPage();
 26744                        ;
 26745                        ;	//readBMP("HD:\\system\\assets\\%BR%\\logo1.bmp"
                    );
 26746                        ;	//k_debug_string("k_init_splash::k_string_replac
                    e\r\n");
 26747                        ;
 26748                        ;	pathName = k_string_replace("HD:\\system\\assets
                    \\%BR%\\logo1.bmp","%BR%",boardRelease);
 26749                        	.line	4914
 26750 06:69AD: F4 00 00     	pea	#0
 26751 06:69B0: 18           	clc
 26752 06:69B1: 7B           	tdc
 26753 06:69B2: 69 3F 00     	adc	#<L1114+boardRelease_1
 26754 06:69B5: 48           	pha
 26755 06:69B6: F4 xx xx     	pea	#^L1102+33
 26756 06:69B9: F4 xx xx     	pea	#<L1102+33
 26757 06:69BC: F4 xx xx     	pea	#^L1102
 26758 06:69BF: F4 xx xx     	pea	#<L1102
 26759 06:69C2: 22 xx xx xx  	jsl	~~k_string_replace
 26760 06:69C6: 85 3B        	sta	<L1114+pathName_1
 26761 06:69C8: 86 3D        	stx	<L1114+pathName_1+2
 26762                        ;	if(pathName)
 26763                        	.line	4915
 26764                        ;	{
 26765 06:69CA: A5 3B        	lda	<L1114+pathName_1
 26766 06:69CC: 05 3D        	ora	<L1114+pathName_1+2
 26767 06:69CE: D0 03        	bne	L1116
 26768 06:69D0: 82 1A 00     	brl	L10457
 26769                        L1116:
 26770                        	.line	4916
 26771                        ;		k_debug_string("k_init_splash::pathName\
                    r\n");
 26772                        	.line	4917
 26773 06:69D3: F4 xx xx     	pea	#^L1102+38
 26774 06:69D6: F4 xx xx     	pea	#<L1102+38
 26775 06:69D9: 22 xx xx xx  	jsl	~~k_debug_string
 26776                        ;		readBMP(pathName);
 26777                        	.line	4918
 26778 06:69DD: D4 3D        	pei	<L1114+pathName_1+2
 26779 06:69DF: D4 3B        	pei	<L1114+pathName_1
 26780 06:69E1: 22 B6 87 06  	jsl	~~readBMP
 26781                        ;		k_mem_deallocate_heap(pathName);
 26782                        	.line	4919
 26783 06:69E5: D4 3D        	pei	<L1114+pathName_1+2
 26784 06:69E7: D4 3B        	pei	<L1114+pathName_1
 26785 06:69E9: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 26786                        ;	}
 26787                        	.line	4920
 26788                        ;
 26789                        ;	if(bWait)
 26790                        L10457:
 26791                        	.line	4922
 26792                        ;	{
 26793 06:69ED: A5 45        	lda	<L1113+bWait_0
 26794 06:69EF: 29 FF 00     	and	#$ff
 26795 06:69F2: D0 03        	bne	L1117
  Mon Aug  9 2021 16:52                                                Page 495


 26796 06:69F4: 82 DE 03     	brl	L10458
 26797                        L1117:
 26798                        	.line	4923
 26799                        ;		sleep(15000);
 26800                        	.line	4924
 26801 06:69F7: F4 98 3A     	pea	#<$3a98
 26802 06:69FA: 22 xx xx xx  	jsl	~~sleep
 26803                        ;
 26804                        ;		//k_debug_string("k_init_splash::k_strin
                    g_replace2\r\n");
 26805                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo2.bmp","%BR%",boardRelease);
 26806                        	.line	4927
 26807 06:69FE: F4 00 00     	pea	#0
 26808 06:6A01: 18           	clc
 26809 06:6A02: 7B           	tdc
 26810 06:6A03: 69 3F 00     	adc	#<L1114+boardRelease_1
 26811 06:6A06: 48           	pha
 26812 06:6A07: F4 xx xx     	pea	#^L1102+97
 26813 06:6A0A: F4 xx xx     	pea	#<L1102+97
 26814 06:6A0D: F4 xx xx     	pea	#^L1102+64
 26815 06:6A10: F4 xx xx     	pea	#<L1102+64
 26816 06:6A13: 22 xx xx xx  	jsl	~~k_string_replace
 26817 06:6A17: 85 3B        	sta	<L1114+pathName_1
 26818 06:6A19: 86 3D        	stx	<L1114+pathName_1+2
 26819                        ;		if(pathName)
 26820                        	.line	4928
 26821                        ;		{
 26822 06:6A1B: A5 3B        	lda	<L1114+pathName_1
 26823 06:6A1D: 05 3D        	ora	<L1114+pathName_1+2
 26824 06:6A1F: D0 03        	bne	L1118
 26825 06:6A21: 82 10 00     	brl	L10459
 26826                        L1118:
 26827                        	.line	4929
 26828                        ;			readBMP(pathName);
 26829                        	.line	4930
 26830 06:6A24: D4 3D        	pei	<L1114+pathName_1+2
 26831 06:6A26: D4 3B        	pei	<L1114+pathName_1
 26832 06:6A28: 22 B6 87 06  	jsl	~~readBMP
 26833                        ;			k_mem_deallocate_heap(pathName);
 26834                        	.line	4931
 26835 06:6A2C: D4 3D        	pei	<L1114+pathName_1+2
 26836 06:6A2E: D4 3B        	pei	<L1114+pathName_1
 26837 06:6A30: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 26838                        ;		}
 26839                        	.line	4932
 26840                        ;
 26841                        ;		//k_debug_string("pPalette\r\n");
 26842                        ;
 26843                        ;		r = pPalette[(int) (12 * 4 + 0)];
 26844                        L10459:
 26845                        	.line	4936
 26846 06:6A34: E2 20        	sep	#$20
 26847                        	longa	off
 26848 06:6A36: A0 30 00     	ldy	#$30
 26849 06:6A39: B7 37        	lda	[<L1114+pPalette_1],Y
 26850 06:6A3B: 85 12        	sta	<L1114+r_1
 26851 06:6A3D: C2 20        	rep	#$20
  Mon Aug  9 2021 16:52                                                Page 496


 26852                        	longa	on
 26853                        ;		g = pPalette[(int) (12 * 4 + 1)];
 26854                        	.line	4937
 26855 06:6A3F: E2 20        	sep	#$20
 26856                        	longa	off
 26857 06:6A41: A0 31 00     	ldy	#$31
 26858 06:6A44: B7 37        	lda	[<L1114+pPalette_1],Y
 26859 06:6A46: 85 13        	sta	<L1114+g_1
 26860 06:6A48: C2 20        	rep	#$20
 26861                        	longa	on
 26862                        ;		b = pPalette[(int) (12 * 4 + 2)];
 26863                        	.line	4938
 26864 06:6A4A: E2 20        	sep	#$20
 26865                        	longa	off
 26866 06:6A4C: A0 32 00     	ldy	#$32
 26867 06:6A4F: B7 37        	lda	[<L1114+pPalette_1],Y
 26868 06:6A51: 85 14        	sta	<L1114+b_1
 26869 06:6A53: C2 20        	rep	#$20
 26870                        	longa	on
 26871                        ;
 26872                        ;
 26873                        ;
 26874                        ;		kbd = k_get_device_driver(DRIVER_TYPE_KE
                    YBOARD);
 26875                        	.line	4942
 26876 06:6A55: F4 05 00     	pea	#<$5
 26877 06:6A58: 22 xx xx xx  	jsl	~~k_get_device_driver
 26878 06:6A5C: 85 31        	sta	<L1114+kbd_1
 26879 06:6A5E: 86 33        	stx	<L1114+kbd_1+2
 26880                        ;		k_debug_pointer("k_init_splash::k_get_do
                    s_device:",kbd);
 26881                        	.line	4943
 26882 06:6A60: D4 33        	pei	<L1114+kbd_1+2
 26883 06:6A62: D4 31        	pei	<L1114+kbd_1
 26884 06:6A64: F4 xx xx     	pea	#^L1102+102
 26885 06:6A67: F4 xx xx     	pea	#<L1102+102
 26886 06:6A6A: 22 xx xx xx  	jsl	~~k_debug_pointer
 26887                        ;		if(kbd)
 26888                        	.line	4944
 26889                        ;		{
 26890 06:6A6E: A5 31        	lda	<L1114+kbd_1
 26891 06:6A70: 05 33        	ora	<L1114+kbd_1+2
 26892 06:6A72: D0 03        	bne	L1119
 26893 06:6A74: 82 0E 00     	brl	L10460
 26894                        L1119:
 26895                        	.line	4945
 26896                        ;			k_debug_strings("k_init_splash::
                    k_get_dos_device:name:",kbd->name);
 26897                        	.line	4946
 26898 06:6A77: D4 33        	pei	<L1114+kbd_1+2
 26899 06:6A79: D4 31        	pei	<L1114+kbd_1
 26900 06:6A7B: F4 xx xx     	pea	#^L1102+135
 26901 06:6A7E: F4 xx xx     	pea	#<L1102+135
 26902 06:6A81: 22 xx xx xx  	jsl	~~k_debug_strings
 26903                        ;		}
 26904                        	.line	4947
 26905                        ;
 26906                        ;		for(i = 0; i < 10; i++)
  Mon Aug  9 2021 16:52                                                Page 497


 26907                        L10460:
 26908                        	.line	4949
 26909 06:6A85: 64 0F        	stz	<L1114+i_1
 26910                        L10463:
 26911                        ;		{
 26912                        	.line	4950
 26913                        ;			for(c = 0;c < 48;c++)
 26914                        	.line	4951
 26915 06:6A87: E2 20        	sep	#$20
 26916                        	longa	off
 26917 06:6A89: 64 11        	stz	<L1114+c_1
 26918 06:6A8B: C2 20        	rep	#$20
 26919                        	longa	on
 26920 06:6A8D: 82 67 01     	brl	L10467
 26921                        L10466:
 26922                        ;			{
 26923                        	.line	4952
 26924                        ;
 26925                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 26926                        	.line	4954
 26927 06:6A90: A5 11        	lda	<L1114+c_1
 26928 06:6A92: 29 FF 00     	and	#$ff
 26929 06:6A95: 85 01        	sta	<R0
 26930 06:6A97: A5 12        	lda	<L1114+r_1
 26931 06:6A99: 29 FF 00     	and	#$ff
 26932 06:6A9C: 85 05        	sta	<R1
 26933 06:6A9E: 18           	clc
 26934 06:6A9F: A5 05        	lda	<R1
 26935 06:6AA1: 65 01        	adc	<R0
 26936 06:6AA3: 85 09        	sta	<R2
 26937 06:6AA5: 38           	sec
 26938 06:6AA6: A5 09        	lda	<R2
 26939 06:6AA8: E9 FF 00     	sbc	#<$ff
 26940 06:6AAB: 70 03        	bvs	L1121
 26941 06:6AAD: 49 00 80     	eor	#$8000
 26942                        L1121:
 26943 06:6AB0: 10 03        	bpl	L1122
 26944 06:6AB2: 82 15 00     	brl	L1120
 26945                        L1122:
 26946 06:6AB5: A5 11        	lda	<L1114+c_1
 26947 06:6AB7: 29 FF 00     	and	#$ff
 26948 06:6ABA: 85 01        	sta	<R0
 26949 06:6ABC: A5 12        	lda	<L1114+r_1
 26950 06:6ABE: 29 FF 00     	and	#$ff
 26951 06:6AC1: 85 05        	sta	<R1
 26952 06:6AC3: 18           	clc
 26953 06:6AC4: A5 05        	lda	<R1
 26954 06:6AC6: 65 01        	adc	<R0
 26955 06:6AC8: 80 03        	bra	L1123
 26956                        L1120:
 26957 06:6ACA: A9 FF 00     	lda	#$ff
 26958                        L1123:
 26959 06:6ACD: E2 20        	sep	#$20
 26960                        	longa	off
 26961 06:6ACF: A0 30 00     	ldy	#$30
 26962 06:6AD2: 97 37        	sta	[<L1114+pPalette_1],Y
 26963 06:6AD4: C2 20        	rep	#$20
  Mon Aug  9 2021 16:52                                                Page 498


 26964                        	longa	on
 26965                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 26966                        	.line	4955
 26967 06:6AD6: A5 11        	lda	<L1114+c_1
 26968 06:6AD8: 29 FF 00     	and	#$ff
 26969 06:6ADB: 85 01        	sta	<R0
 26970 06:6ADD: A5 13        	lda	<L1114+g_1
 26971 06:6ADF: 29 FF 00     	and	#$ff
 26972 06:6AE2: 85 05        	sta	<R1
 26973 06:6AE4: 18           	clc
 26974 06:6AE5: A5 05        	lda	<R1
 26975 06:6AE7: 65 01        	adc	<R0
 26976 06:6AE9: 85 09        	sta	<R2
 26977 06:6AEB: 38           	sec
 26978 06:6AEC: A5 09        	lda	<R2
 26979 06:6AEE: E9 FF 00     	sbc	#<$ff
 26980 06:6AF1: 70 03        	bvs	L1125
 26981 06:6AF3: 49 00 80     	eor	#$8000
 26982                        L1125:
 26983 06:6AF6: 10 03        	bpl	L1126
 26984 06:6AF8: 82 15 00     	brl	L1124
 26985                        L1126:
 26986 06:6AFB: A5 11        	lda	<L1114+c_1
 26987 06:6AFD: 29 FF 00     	and	#$ff
 26988 06:6B00: 85 01        	sta	<R0
 26989 06:6B02: A5 13        	lda	<L1114+g_1
 26990 06:6B04: 29 FF 00     	and	#$ff
 26991 06:6B07: 85 05        	sta	<R1
 26992 06:6B09: 18           	clc
 26993 06:6B0A: A5 05        	lda	<R1
 26994 06:6B0C: 65 01        	adc	<R0
 26995 06:6B0E: 80 03        	bra	L1127
 26996                        L1124:
 26997 06:6B10: A9 FF 00     	lda	#$ff
 26998                        L1127:
 26999 06:6B13: E2 20        	sep	#$20
 27000                        	longa	off
 27001 06:6B15: A0 31 00     	ldy	#$31
 27002 06:6B18: 97 37        	sta	[<L1114+pPalette_1],Y
 27003 06:6B1A: C2 20        	rep	#$20
 27004                        	longa	on
 27005                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 27006                        	.line	4956
 27007 06:6B1C: A5 11        	lda	<L1114+c_1
 27008 06:6B1E: 29 FF 00     	and	#$ff
 27009 06:6B21: 85 01        	sta	<R0
 27010 06:6B23: A5 14        	lda	<L1114+b_1
 27011 06:6B25: 29 FF 00     	and	#$ff
 27012 06:6B28: 85 05        	sta	<R1
 27013 06:6B2A: 18           	clc
 27014 06:6B2B: A5 05        	lda	<R1
 27015 06:6B2D: 65 01        	adc	<R0
 27016 06:6B2F: 85 09        	sta	<R2
 27017 06:6B31: 38           	sec
 27018 06:6B32: A5 09        	lda	<R2
 27019 06:6B34: E9 FF 00     	sbc	#<$ff
  Mon Aug  9 2021 16:52                                                Page 499


 27020 06:6B37: 70 03        	bvs	L1129
 27021 06:6B39: 49 00 80     	eor	#$8000
 27022                        L1129:
 27023 06:6B3C: 10 03        	bpl	L1130
 27024 06:6B3E: 82 15 00     	brl	L1128
 27025                        L1130:
 27026 06:6B41: A5 11        	lda	<L1114+c_1
 27027 06:6B43: 29 FF 00     	and	#$ff
 27028 06:6B46: 85 01        	sta	<R0
 27029 06:6B48: A5 14        	lda	<L1114+b_1
 27030 06:6B4A: 29 FF 00     	and	#$ff
 27031 06:6B4D: 85 05        	sta	<R1
 27032 06:6B4F: 18           	clc
 27033 06:6B50: A5 05        	lda	<R1
 27034 06:6B52: 65 01        	adc	<R0
 27035 06:6B54: 80 03        	bra	L1131
 27036                        L1128:
 27037 06:6B56: A9 FF 00     	lda	#$ff
 27038                        L1131:
 27039 06:6B59: E2 20        	sep	#$20
 27040                        	longa	off
 27041 06:6B5B: A0 32 00     	ldy	#$32
 27042 06:6B5E: 97 37        	sta	[<L1114+pPalette_1],Y
 27043 06:6B60: C2 20        	rep	#$20
 27044                        	longa	on
 27045                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;
 27046                        	.line	4957
 27047 06:6B62: E2 20        	sep	#$20
 27048                        	longa	off
 27049 06:6B64: A9 80        	lda	#$80
 27050 06:6B66: A0 33 00     	ldy	#$33
 27051 06:6B69: 97 37        	sta	[<L1114+pPalette_1],Y
 27052 06:6B6B: C2 20        	rep	#$20
 27053                        	longa	on
 27054                        ;				k_delay(15);
 27055                        	.line	4958
 27056 06:6B6D: F4 0F 00     	pea	#<$f
 27057 06:6B70: 22 xx xx xx  	jsl	~~k_delay
 27058                        ;				if(kbd)
 27059                        	.line	4959
 27060                        ;				{
 27061 06:6B74: A5 31        	lda	<L1114+kbd_1
 27062 06:6B76: 05 33        	ora	<L1114+kbd_1+2
 27063 06:6B78: D0 03        	bne	L1132
 27064 06:6B7A: 82 74 00     	brl	L10468
 27065                        L1132:
 27066                        	.line	4960
 27067                        ;					key = 0;
 27068                        	.line	4961
 27069 06:6B7D: E2 20        	sep	#$20
 27070                        	longa	off
 27071 06:6B7F: 64 35        	stz	<L1114+key_1
 27072 06:6B81: C2 20        	rep	#$20
 27073                        	longa	on
 27074                        ;					read = ((DEVICED
                    RIVER_READ)kbd->f_driver_read)(0,&key);
 27075                        	.line	4962
  Mon Aug  9 2021 16:52                                                Page 500


 27076 06:6B83: F4 00 00     	pea	#0
 27077 06:6B86: 18           	clc
 27078 06:6B87: 7B           	tdc
 27079 06:6B88: 69 35 00     	adc	#<L1114+key_1
 27080 06:6B8B: 48           	pha
 27081 06:6B8C: F4 00 00     	pea	#^$0
 27082 06:6B8F: F4 00 00     	pea	#<$0
 27083 06:6B92: A0 57 00     	ldy	#$57
 27084 06:6B95: B7 31        	lda	[<L1114+kbd_1],Y
 27085 06:6B97: AA           	tax
 27086 06:6B98: A0 55 00     	ldy	#$55
 27087 06:6B9B: B7 31        	lda	[<L1114+kbd_1],Y
 27088                        	xref	~~~lcal
 27089 06:6B9D: 22 xx xx xx  	jsl	~~~lcal
 27090 06:6BA1: E2 20        	sep	#$20
 27091                        	longa	off
 27092 06:6BA3: 85 36        	sta	<L1114+read_1
 27093 06:6BA5: C2 20        	rep	#$20
 27094                        	longa	on
 27095                        ;					if(read)
 27096                        	.line	4963
 27097                        ;					{
 27098 06:6BA7: A5 36        	lda	<L1114+read_1
 27099 06:6BA9: 29 FF 00     	and	#$ff
 27100 06:6BAC: D0 03        	bne	L1133
 27101 06:6BAE: 82 40 00     	brl	L10469
 27102                        L1133:
 27103                        	.line	4964
 27104                        ;						switch(k
                    ey)
 27105                        	.line	4965
 27106 06:6BB1: A5 35        	lda	<L1114+key_1
 27107 06:6BB3: 29 FF 00     	and	#$ff
 27108 06:6BB6: 82 18 00     	brl	L10470
 27109                        ;						{
 27110                        	.line	4966
 27111                        ;						case 0x2
                    E:
 27112                        	.line	4967
 27113                        L10472:
 27114                        ;							
                    bootMode = BOOTMODE_CONSOLE;
 27115                        	.line	4968
 27116 06:6BB9: A9 01 00     	lda	#$1
 27117 06:6BBC: 85 0D        	sta	<L1114+bootMode_1
 27118                        ;							
                    break;
 27119                        	.line	4969
 27120 06:6BBE: 82 24 00     	brl	L10471
 27121                        ;						case 0x3
                    0:
 27122                        	.line	4970
 27123                        L10473:
 27124                        ;							
                    bootMode = BOOTMODE_EXTERN;
 27125                        	.line	4971
 27126 06:6BC1: A9 03 00     	lda	#$3
 27127 06:6BC4: 85 0D        	sta	<L1114+bootMode_1
  Mon Aug  9 2021 16:52                                                Page 501


 27128                        ;							
                    break;
 27129                        	.line	4972
 27130 06:6BC6: 82 1C 00     	brl	L10471
 27131                        ;						case 0x1
                    1:
 27132                        	.line	4973
 27133                        L10474:
 27134                        ;							
                    bootMode = BOOTMODE_DESKTOP;
 27135                        	.line	4974
 27136 06:6BC9: A9 02 00     	lda	#$2
 27137 06:6BCC: 85 0D        	sta	<L1114+bootMode_1
 27138                        ;							
                    break;
 27139                        	.line	4975
 27140 06:6BCE: 82 14 00     	brl	L10471
 27141                        ;						}
 27142                        	.line	4976
 27143                        L10470:
 27144                        	xref	~~~swt
 27145 06:6BD1: 22 xx xx xx  	jsl	~~~swt
 27146 06:6BD5: 03 00        	dw	3
 27147 06:6BD7: 11 00        	dw	17
 27148 06:6BD9: C8 6B        	dw	L10474-1
 27149 06:6BDB: 2E 00        	dw	46
 27150 06:6BDD: B8 6B        	dw	L10472-1
 27151 06:6BDF: 30 00        	dw	48
 27152 06:6BE1: C0 6B        	dw	L10473-1
 27153 06:6BE3: E4 6B        	dw	L10471-1
 27154                        L10471:
 27155                        ;
 27156                        ;						k_debug_
                    hex("bootMode:",bootMode);
 27157                        	.line	4978
 27158 06:6BE5: D4 0D        	pei	<L1114+bootMode_1
 27159 06:6BE7: F4 xx xx     	pea	#^L1102+173
 27160 06:6BEA: F4 xx xx     	pea	#<L1102+173
 27161 06:6BED: 22 xx xx xx  	jsl	~~k_debug_hex
 27162                        ;					}
 27163                        	.line	4979
 27164                        ;				}
 27165                        L10469:
 27166                        	.line	4980
 27167                        ;			}
 27168                        L10468:
 27169                        	.line	4981
 27170                        L10464:
 27171 06:6BF1: E2 20        	sep	#$20
 27172                        	longa	off
 27173 06:6BF3: E6 11        	inc	<L1114+c_1
 27174 06:6BF5: C2 20        	rep	#$20
 27175                        	longa	on
 27176                        L10467:
 27177 06:6BF7: E2 20        	sep	#$20
 27178                        	longa	off
 27179 06:6BF9: A5 11        	lda	<L1114+c_1
 27180 06:6BFB: C9 30        	cmp	#<$30
  Mon Aug  9 2021 16:52                                                Page 502


 27181 06:6BFD: C2 20        	rep	#$20
 27182                        	longa	on
 27183 06:6BFF: B0 03        	bcs	L1134
 27184 06:6C01: 82 8C FE     	brl	L10466
 27185                        L1134:
 27186                        L10465:
 27187                        ;
 27188                        ;			for(c = 48;c > 0;c--)
 27189                        	.line	4983
 27190 06:6C04: E2 20        	sep	#$20
 27191                        	longa	off
 27192 06:6C06: A9 30        	lda	#$30
 27193 06:6C08: 85 11        	sta	<L1114+c_1
 27194 06:6C0A: C2 20        	rep	#$20
 27195                        	longa	on
 27196 06:6C0C: 82 67 01     	brl	L10478
 27197                        L10477:
 27198                        ;			{
 27199                        	.line	4984
 27200                        ;
 27201                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 27202                        	.line	4986
 27203 06:6C0F: A5 11        	lda	<L1114+c_1
 27204 06:6C11: 29 FF 00     	and	#$ff
 27205 06:6C14: 85 01        	sta	<R0
 27206 06:6C16: A5 12        	lda	<L1114+r_1
 27207 06:6C18: 29 FF 00     	and	#$ff
 27208 06:6C1B: 85 05        	sta	<R1
 27209 06:6C1D: 18           	clc
 27210 06:6C1E: A5 05        	lda	<R1
 27211 06:6C20: 65 01        	adc	<R0
 27212 06:6C22: 85 09        	sta	<R2
 27213 06:6C24: 38           	sec
 27214 06:6C25: A5 09        	lda	<R2
 27215 06:6C27: E9 FF 00     	sbc	#<$ff
 27216 06:6C2A: 70 03        	bvs	L1136
 27217 06:6C2C: 49 00 80     	eor	#$8000
 27218                        L1136:
 27219 06:6C2F: 10 03        	bpl	L1137
 27220 06:6C31: 82 15 00     	brl	L1135
 27221                        L1137:
 27222 06:6C34: A5 11        	lda	<L1114+c_1
 27223 06:6C36: 29 FF 00     	and	#$ff
 27224 06:6C39: 85 01        	sta	<R0
 27225 06:6C3B: A5 12        	lda	<L1114+r_1
 27226 06:6C3D: 29 FF 00     	and	#$ff
 27227 06:6C40: 85 05        	sta	<R1
 27228 06:6C42: 18           	clc
 27229 06:6C43: A5 05        	lda	<R1
 27230 06:6C45: 65 01        	adc	<R0
 27231 06:6C47: 80 03        	bra	L1138
 27232                        L1135:
 27233 06:6C49: A9 FF 00     	lda	#$ff
 27234                        L1138:
 27235 06:6C4C: E2 20        	sep	#$20
 27236                        	longa	off
 27237 06:6C4E: A0 30 00     	ldy	#$30
  Mon Aug  9 2021 16:52                                                Page 503


 27238 06:6C51: 97 37        	sta	[<L1114+pPalette_1],Y
 27239 06:6C53: C2 20        	rep	#$20
 27240                        	longa	on
 27241                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 27242                        	.line	4987
 27243 06:6C55: A5 11        	lda	<L1114+c_1
 27244 06:6C57: 29 FF 00     	and	#$ff
 27245 06:6C5A: 85 01        	sta	<R0
 27246 06:6C5C: A5 13        	lda	<L1114+g_1
 27247 06:6C5E: 29 FF 00     	and	#$ff
 27248 06:6C61: 85 05        	sta	<R1
 27249 06:6C63: 18           	clc
 27250 06:6C64: A5 05        	lda	<R1
 27251 06:6C66: 65 01        	adc	<R0
 27252 06:6C68: 85 09        	sta	<R2
 27253 06:6C6A: 38           	sec
 27254 06:6C6B: A5 09        	lda	<R2
 27255 06:6C6D: E9 FF 00     	sbc	#<$ff
 27256 06:6C70: 70 03        	bvs	L1140
 27257 06:6C72: 49 00 80     	eor	#$8000
 27258                        L1140:
 27259 06:6C75: 10 03        	bpl	L1141
 27260 06:6C77: 82 15 00     	brl	L1139
 27261                        L1141:
 27262 06:6C7A: A5 11        	lda	<L1114+c_1
 27263 06:6C7C: 29 FF 00     	and	#$ff
 27264 06:6C7F: 85 01        	sta	<R0
 27265 06:6C81: A5 13        	lda	<L1114+g_1
 27266 06:6C83: 29 FF 00     	and	#$ff
 27267 06:6C86: 85 05        	sta	<R1
 27268 06:6C88: 18           	clc
 27269 06:6C89: A5 05        	lda	<R1
 27270 06:6C8B: 65 01        	adc	<R0
 27271 06:6C8D: 80 03        	bra	L1142
 27272                        L1139:
 27273 06:6C8F: A9 FF 00     	lda	#$ff
 27274                        L1142:
 27275 06:6C92: E2 20        	sep	#$20
 27276                        	longa	off
 27277 06:6C94: A0 31 00     	ldy	#$31
 27278 06:6C97: 97 37        	sta	[<L1114+pPalette_1],Y
 27279 06:6C99: C2 20        	rep	#$20
 27280                        	longa	on
 27281                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 27282                        	.line	4988
 27283 06:6C9B: A5 11        	lda	<L1114+c_1
 27284 06:6C9D: 29 FF 00     	and	#$ff
 27285 06:6CA0: 85 01        	sta	<R0
 27286 06:6CA2: A5 14        	lda	<L1114+b_1
 27287 06:6CA4: 29 FF 00     	and	#$ff
 27288 06:6CA7: 85 05        	sta	<R1
 27289 06:6CA9: 18           	clc
 27290 06:6CAA: A5 05        	lda	<R1
 27291 06:6CAC: 65 01        	adc	<R0
 27292 06:6CAE: 85 09        	sta	<R2
 27293 06:6CB0: 38           	sec
  Mon Aug  9 2021 16:52                                                Page 504


 27294 06:6CB1: A5 09        	lda	<R2
 27295 06:6CB3: E9 FF 00     	sbc	#<$ff
 27296 06:6CB6: 70 03        	bvs	L1144
 27297 06:6CB8: 49 00 80     	eor	#$8000
 27298                        L1144:
 27299 06:6CBB: 10 03        	bpl	L1145
 27300 06:6CBD: 82 15 00     	brl	L1143
 27301                        L1145:
 27302 06:6CC0: A5 11        	lda	<L1114+c_1
 27303 06:6CC2: 29 FF 00     	and	#$ff
 27304 06:6CC5: 85 01        	sta	<R0
 27305 06:6CC7: A5 14        	lda	<L1114+b_1
 27306 06:6CC9: 29 FF 00     	and	#$ff
 27307 06:6CCC: 85 05        	sta	<R1
 27308 06:6CCE: 18           	clc
 27309 06:6CCF: A5 05        	lda	<R1
 27310 06:6CD1: 65 01        	adc	<R0
 27311 06:6CD3: 80 03        	bra	L1146
 27312                        L1143:
 27313 06:6CD5: A9 FF 00     	lda	#$ff
 27314                        L1146:
 27315 06:6CD8: E2 20        	sep	#$20
 27316                        	longa	off
 27317 06:6CDA: A0 32 00     	ldy	#$32
 27318 06:6CDD: 97 37        	sta	[<L1114+pPalette_1],Y
 27319 06:6CDF: C2 20        	rep	#$20
 27320                        	longa	on
 27321                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;//(c >> 2);//R
 27322                        	.line	4989
 27323 06:6CE1: E2 20        	sep	#$20
 27324                        	longa	off
 27325 06:6CE3: A9 80        	lda	#$80
 27326 06:6CE5: A0 33 00     	ldy	#$33
 27327 06:6CE8: 97 37        	sta	[<L1114+pPalette_1],Y
 27328 06:6CEA: C2 20        	rep	#$20
 27329                        	longa	on
 27330                        ;				k_delay(15);
 27331                        	.line	4990
 27332 06:6CEC: F4 0F 00     	pea	#<$f
 27333 06:6CEF: 22 xx xx xx  	jsl	~~k_delay
 27334                        ;				if(kbd)
 27335                        	.line	4991
 27336                        ;				{
 27337 06:6CF3: A5 31        	lda	<L1114+kbd_1
 27338 06:6CF5: 05 33        	ora	<L1114+kbd_1+2
 27339 06:6CF7: D0 03        	bne	L1147
 27340 06:6CF9: 82 74 00     	brl	L10479
 27341                        L1147:
 27342                        	.line	4992
 27343                        ;					key = 0;
 27344                        	.line	4993
 27345 06:6CFC: E2 20        	sep	#$20
 27346                        	longa	off
 27347 06:6CFE: 64 35        	stz	<L1114+key_1
 27348 06:6D00: C2 20        	rep	#$20
 27349                        	longa	on
 27350                        ;					read = ((DEVICED
  Mon Aug  9 2021 16:52                                                Page 505


                    RIVER_READ)kbd->f_driver_read)(0,&key);
 27351                        	.line	4994
 27352 06:6D02: F4 00 00     	pea	#0
 27353 06:6D05: 18           	clc
 27354 06:6D06: 7B           	tdc
 27355 06:6D07: 69 35 00     	adc	#<L1114+key_1
 27356 06:6D0A: 48           	pha
 27357 06:6D0B: F4 00 00     	pea	#^$0
 27358 06:6D0E: F4 00 00     	pea	#<$0
 27359 06:6D11: A0 57 00     	ldy	#$57
 27360 06:6D14: B7 31        	lda	[<L1114+kbd_1],Y
 27361 06:6D16: AA           	tax
 27362 06:6D17: A0 55 00     	ldy	#$55
 27363 06:6D1A: B7 31        	lda	[<L1114+kbd_1],Y
 27364                        	xref	~~~lcal
 27365 06:6D1C: 22 xx xx xx  	jsl	~~~lcal
 27366 06:6D20: E2 20        	sep	#$20
 27367                        	longa	off
 27368 06:6D22: 85 36        	sta	<L1114+read_1
 27369 06:6D24: C2 20        	rep	#$20
 27370                        	longa	on
 27371                        ;					if(read)
 27372                        	.line	4995
 27373                        ;					{
 27374 06:6D26: A5 36        	lda	<L1114+read_1
 27375 06:6D28: 29 FF 00     	and	#$ff
 27376 06:6D2B: D0 03        	bne	L1148
 27377 06:6D2D: 82 40 00     	brl	L10480
 27378                        L1148:
 27379                        	.line	4996
 27380                        ;						switch(k
                    ey)
 27381                        	.line	4997
 27382 06:6D30: A5 35        	lda	<L1114+key_1
 27383 06:6D32: 29 FF 00     	and	#$ff
 27384 06:6D35: 82 18 00     	brl	L10481
 27385                        ;						{
 27386                        	.line	4998
 27387                        ;						case 0x2
                    E:
 27388                        	.line	4999
 27389                        L10483:
 27390                        ;							
                    bootMode = BOOTMODE_CONSOLE;
 27391                        	.line	5000
 27392 06:6D38: A9 01 00     	lda	#$1
 27393 06:6D3B: 85 0D        	sta	<L1114+bootMode_1
 27394                        ;							
                    break;
 27395                        	.line	5001
 27396 06:6D3D: 82 24 00     	brl	L10482
 27397                        ;						case 0x3
                    0:
 27398                        	.line	5002
 27399                        L10484:
 27400                        ;							
                    bootMode = BOOTMODE_EXTERN;
 27401                        	.line	5003
  Mon Aug  9 2021 16:52                                                Page 506


 27402 06:6D40: A9 03 00     	lda	#$3
 27403 06:6D43: 85 0D        	sta	<L1114+bootMode_1
 27404                        ;							
                    break;
 27405                        	.line	5004
 27406 06:6D45: 82 1C 00     	brl	L10482
 27407                        ;						case 0x1
                    1:
 27408                        	.line	5005
 27409                        L10485:
 27410                        ;							
                    bootMode = BOOTMODE_DESKTOP;
 27411                        	.line	5006
 27412 06:6D48: A9 02 00     	lda	#$2
 27413 06:6D4B: 85 0D        	sta	<L1114+bootMode_1
 27414                        ;							
                    break;
 27415                        	.line	5007
 27416 06:6D4D: 82 14 00     	brl	L10482
 27417                        ;						}
 27418                        	.line	5008
 27419                        L10481:
 27420                        	xref	~~~swt
 27421 06:6D50: 22 xx xx xx  	jsl	~~~swt
 27422 06:6D54: 03 00        	dw	3
 27423 06:6D56: 11 00        	dw	17
 27424 06:6D58: 47 6D        	dw	L10485-1
 27425 06:6D5A: 2E 00        	dw	46
 27426 06:6D5C: 37 6D        	dw	L10483-1
 27427 06:6D5E: 30 00        	dw	48
 27428 06:6D60: 3F 6D        	dw	L10484-1
 27429 06:6D62: 63 6D        	dw	L10482-1
 27430                        L10482:
 27431                        ;
 27432                        ;						k_debug_
                    hex("bootMode:",bootMode);
 27433                        	.line	5010
 27434 06:6D64: D4 0D        	pei	<L1114+bootMode_1
 27435 06:6D66: F4 xx xx     	pea	#^L1102+183
 27436 06:6D69: F4 xx xx     	pea	#<L1102+183
 27437 06:6D6C: 22 xx xx xx  	jsl	~~k_debug_hex
 27438                        ;					}
 27439                        	.line	5011
 27440                        ;				}
 27441                        L10480:
 27442                        	.line	5012
 27443                        ;			}
 27444                        L10479:
 27445                        	.line	5013
 27446                        L10475:
 27447 06:6D70: E2 20        	sep	#$20
 27448                        	longa	off
 27449 06:6D72: C6 11        	dec	<L1114+c_1
 27450 06:6D74: C2 20        	rep	#$20
 27451                        	longa	on
 27452                        L10478:
 27453 06:6D76: E2 20        	sep	#$20
 27454                        	longa	off
  Mon Aug  9 2021 16:52                                                Page 507


 27455 06:6D78: A9 00        	lda	#$0
 27456 06:6D7A: C5 11        	cmp	<L1114+c_1
 27457 06:6D7C: C2 20        	rep	#$20
 27458                        	longa	on
 27459 06:6D7E: B0 03        	bcs	L1149
 27460 06:6D80: 82 8C FE     	brl	L10477
 27461                        L1149:
 27462                        L10476:
 27463                        ;		}
 27464                        	.line	5014
 27465                        L10461:
 27466 06:6D83: E6 0F        	inc	<L1114+i_1
 27467 06:6D85: 38           	sec
 27468 06:6D86: A5 0F        	lda	<L1114+i_1
 27469 06:6D88: E9 0A 00     	sbc	#<$a
 27470 06:6D8B: 70 03        	bvs	L1150
 27471 06:6D8D: 49 00 80     	eor	#$8000
 27472                        L1150:
 27473 06:6D90: 30 03        	bmi	L1151
 27474 06:6D92: 82 F2 FC     	brl	L10463
 27475                        L1151:
 27476                        L10462:
 27477                        ;
 27478                        ;
 27479                        ;		//k_debug_string("k_vdma_fill_rect_ex\r\
                    n");
 27480                        ;
 27481                        ;		k_lock_irq();
 27482                        	.line	5019
 27483 06:6D95: 22 xx xx xx  	jsl	~~k_lock_irq
 27484                        ;
 27485                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 27486                        	.line	5021
 27487 06:6D99: F4 00 00     	pea	#<$0
 27488 06:6D9C: F4 00 00     	pea	#<$0
 27489 06:6D9F: F4 E0 01     	pea	#<$1e0
 27490 06:6DA2: F4 80 02     	pea	#<$280
 27491 06:6DA5: F4 00 00     	pea	#^$0
 27492 06:6DA8: F4 00 00     	pea	#<$0
 27493 06:6DAB: F4 00 00     	pea	#^$0
 27494 06:6DAE: F4 00 00     	pea	#<$0
 27495 06:6DB1: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27496                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 27497                        	.line	5022
 27498 06:6DB5: F4 08 00     	pea	#<$8
 27499 06:6DB8: F4 00 00     	pea	#<$0
 27500 06:6DBB: F4 E0 01     	pea	#<$1e0
 27501 06:6DBE: F4 80 02     	pea	#<$280
 27502 06:6DC1: F4 00 00     	pea	#^$0
 27503 06:6DC4: F4 00 00     	pea	#<$0
 27504 06:6DC7: F4 00 00     	pea	#^$0
 27505 06:6DCA: F4 00 00     	pea	#<$0
 27506 06:6DCD: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27507                        ;
 27508                        ;		k_unlock_irq();
 27509                        	.line	5024
  Mon Aug  9 2021 16:52                                                Page 508


 27510 06:6DD1: 22 xx xx xx  	jsl	~~k_unlock_irq
 27511                        ;	}
 27512                        	.line	5025
 27513                        ;
 27514                        ;	return bootMode;
 27515                        L10458:
 27516                        	.line	5027
 27517 06:6DD5: A5 0D        	lda	<L1114+bootMode_1
 27518                        L1152:
 27519 06:6DD7: A8           	tay
 27520 06:6DD8: A5 43        	lda	<L1113+2
 27521 06:6DDA: 85 45        	sta	<L1113+2+2
 27522 06:6DDC: A5 42        	lda	<L1113+1
 27523 06:6DDE: 85 44        	sta	<L1113+1+2
 27524 06:6DE0: 2B           	pld
 27525 06:6DE1: 3B           	tsc
 27526 06:6DE2: 18           	clc
 27527 06:6DE3: 69 43 00     	adc	#L1113+2
 27528 06:6DE6: 1B           	tcs
 27529 06:6DE7: 98           	tya
 27530 06:6DE8: 6B           	rtl
 27531                        ;}
 27532                        	.line	5028
 27533                        	.endblock	5028
 27534             00000041   L1113	equ	65
 27535             0000000D   L1114	equ	13
 27536 06:6DE9:              	ends
 27537                        	efunc
 27538                        	.endfunc	5028,13,65
 27539                        	.line	5028
 27540                        	data
 27541                        L1102:
 27542 00:0B72: 48 44 3A 5C  	db	$48,$44,$3A,$5C,$73,$79,$73,$74,$65,$6D,
                    $5C,$61,$73,$73,$65
       00:0B76: 73 79 73 74 
       00:0B7A: 65 6D 5C 61 
       00:0B7E: 73 73 65 
 27543 00:0B81: 74 73 5C 25  	db	$74,$73,$5C,$25,$42,$52,$25,$5C,$6C,$6F,
                    $67,$6F,$31,$2E,$62
       00:0B85: 42 52 25 5C 
       00:0B89: 6C 6F 67 6F 
       00:0B8D: 31 2E 62 
 27544 00:0B90: 6D 70 00 25  	db	$6D,$70,$00,$25,$42,$52,$25,$00,$6B,$5F,
                    $69,$6E,$69,$74,$5F
       00:0B94: 42 52 25 00 
       00:0B98: 6B 5F 69 6E 
       00:0B9C: 69 74 5F 
 27545 00:0B9F: 73 70 6C 61  	db	$73,$70,$6C,$61,$73,$68,$3A,$3A,$70,$61,
                    $74,$68,$4E,$61,$6D
       00:0BA3: 73 68 3A 3A 
       00:0BA7: 70 61 74 68 
       00:0BAB: 4E 61 6D 
 27546 00:0BAE: 65 0D 0A 00  	db	$65,$0D,$0A,$00,$48,$44,$3A,$5C,$73,$79,
                    $73,$74,$65,$6D,$5C
       00:0BB2: 48 44 3A 5C 
       00:0BB6: 73 79 73 74 
       00:0BBA: 65 6D 5C 
 27547 00:0BBD: 61 73 73 65  	db	$61,$73,$73,$65,$74,$73,$5C,$25,$42,$52,
  Mon Aug  9 2021 16:52                                                Page 509


                    $25,$5C,$6C,$6F,$67
       00:0BC1: 74 73 5C 25 
       00:0BC5: 42 52 25 5C 
       00:0BC9: 6C 6F 67 
 27548 00:0BCC: 6F 32 2E 62  	db	$6F,$32,$2E,$62,$6D,$70,$00,$25,$42,$52,
                    $25,$00,$6B,$5F,$69
       00:0BD0: 6D 70 00 25 
       00:0BD4: 42 52 25 00 
       00:0BD8: 6B 5F 69 
 27549 00:0BDB: 6E 69 74 5F  	db	$6E,$69,$74,$5F,$73,$70,$6C,$61,$73,$68,
                    $3A,$3A,$6B,$5F,$67
       00:0BDF: 73 70 6C 61 
       00:0BE3: 73 68 3A 3A 
       00:0BE7: 6B 5F 67 
 27550 00:0BEA: 65 74 5F 64  	db	$65,$74,$5F,$64,$6F,$73,$5F,$64,$65,$76,
                    $69,$63,$65,$3A,$00
       00:0BEE: 6F 73 5F 64 
       00:0BF2: 65 76 69 63 
       00:0BF6: 65 3A 00 
 27551 00:0BF9: 6B 5F 69 6E  	db	$6B,$5F,$69,$6E,$69,$74,$5F,$73,$70,$6C,
                    $61,$73,$68,$3A,$3A
       00:0BFD: 69 74 5F 73 
       00:0C01: 70 6C 61 73 
       00:0C05: 68 3A 3A 
 27552 00:0C08: 6B 5F 67 65  	db	$6B,$5F,$67,$65,$74,$5F,$64,$6F,$73,$5F,
                    $64,$65,$76,$69,$63
       00:0C0C: 74 5F 64 6F 
       00:0C10: 73 5F 64 65 
       00:0C14: 76 69 63 
 27553 00:0C17: 65 3A 6E 61  	db	$65,$3A,$6E,$61,$6D,$65,$3A,$00,$62,$6F,
                    $6F,$74,$4D,$6F,$64
       00:0C1B: 6D 65 3A 00 
       00:0C1F: 62 6F 6F 74 
       00:0C23: 4D 6F 64 
 27554 00:0C26: 65 3A 00 62  	db	$65,$3A,$00,$62,$6F,$6F,$74,$4D,$6F,$64,
                    $65,$3A,$00
       00:0C2A: 6F 6F 74 4D 
       00:0C2E: 6F 64 65 3A 
       00:0C32: 00 
 27555 00:0C33:              	ends
 27556                        ;
 27557                        ;void k_show_image(LPCSTR imageFilePath)
 27558                        ;{
 27559                        	.line	5030
 27560                        	.line	5031
 27561                        	GFX
 27562                        	xdef	~~k_show_image
 27563                        	func
 27564                        	.function	5031
 27565                        ~~k_show_image:
 27566                        	longa	on
 27567                        	longi	on
 27568 06:6DE9: 3B           	tsc
 27569 06:6DEA: 38           	sec
 27570 06:6DEB: E9 2D 00     	sbc	#L1154
 27571 06:6DEE: 1B           	tcs
 27572 06:6DEF: 0B           	phd
 27573 06:6DF0: 5B           	tcd
  Mon Aug  9 2021 16:52                                                Page 510


 27574             00000004   imageFilePath_0	set	4
 27575                        	.block	5031
 27576                        ;	int i;
 27577                        ;	BYTE c,r,g,b;
 27578                        ;	long color[4];
 27579                        ;
 27580                        ;	long *pcolor[3];
 27581                        ;
 27582                        ;	//PFXZEROPAGE zp = NULL;
 27583                        ;
 27584                        ;	LPSTR pPalette = GRPH_LUT0_PTR;
 27585                        ;	LPSTR pathName = NULL;
 27586                        ;	CHAR boardRelease[3];
 27587                        ;
 27588                        ;	k_clear_screen(0);
 27589             00000000   i_1	set	0
 27590             00000002   c_1	set	2
 27591             00000003   r_1	set	3
 27592             00000004   g_1	set	4
 27593             00000005   b_1	set	5
 27594             00000006   color_1	set	6
 27595             00000016   pcolor_1	set	22
 27596             00000022   pPalette_1	set	34
 27597             00000026   pathName_1	set	38
 27598             0000002A   boardRelease_1	set	42
 27599                        	.sym	i,0,5,1,16
 27600                        	.sym	c,2,14,1,8
 27601                        	.sym	r,3,14,1,8
 27602                        	.sym	g,4,14,1,8
 27603                        	.sym	b,5,14,1,8
 27604                        	.sym	color,6,103,1,0,4
 27605                        	.sym	pcolor,22,1127,1,32,3
 27606                        	.sym	pPalette,34,142,1,32
 27607                        	.sym	pathName,38,142,1,32
 27608                        	.sym	boardRelease,42,110,1,0,3
 27609                        	.sym	imageFilePath,4,142,6,32
 27610 06:6DF1: A9 00 20     	lda	#$2000
 27611 06:6DF4: 85 23        	sta	<L1155+pPalette_1
 27612 06:6DF6: A9 AF 00     	lda	#$af
 27613 06:6DF9: 85 25        	sta	<L1155+pPalette_1+2
 27614 06:6DFB: 64 27        	stz	<L1155+pathName_1
 27615 06:6DFD: 64 29        	stz	<L1155+pathName_1+2
 27616                        	.line	5044
 27617 06:6DFF: F4 00 00     	pea	#<$0
 27618 06:6E02: 22 xx xx xx  	jsl	~~k_clear_screen
 27619                        ;
 27620                        ;	k_lock_irq();
 27621                        	.line	5046
 27622 06:6E06: 22 xx xx xx  	jsl	~~k_lock_irq
 27623                        ;
 27624                        ;#ifdef USE_FX256_FMX
 27625                        ;	k_enable_bitmap_mode();
 27626                        ;
 27627                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 27628                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 27629                        ;#elif USE_FX256_U
 27630                        ;
 27631                        ;	k_enable_bitmap_mode();
  Mon Aug  9 2021 16:52                                                Page 511


 27632                        	.line	5055
 27633 06:6E0A: 22 BC 65 06  	jsl	~~k_enable_bitmap_mode
 27634                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 27635                        	.line	5056
 27636 06:6E0E: F4 00 00     	pea	#<$0
 27637 06:6E11: F4 00 00     	pea	#<$0
 27638 06:6E14: F4 E0 01     	pea	#<$1e0
 27639 06:6E17: F4 80 02     	pea	#<$280
 27640 06:6E1A: F4 00 00     	pea	#^$0
 27641 06:6E1D: F4 00 00     	pea	#<$0
 27642 06:6E20: F4 00 00     	pea	#^$0
 27643 06:6E23: F4 00 00     	pea	#<$0
 27644 06:6E26: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27645                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 27646                        	.line	5057
 27647 06:6E2A: F4 08 00     	pea	#<$8
 27648 06:6E2D: F4 00 00     	pea	#<$0
 27649 06:6E30: F4 E0 01     	pea	#<$1e0
 27650 06:6E33: F4 80 02     	pea	#<$280
 27651 06:6E36: F4 00 00     	pea	#^$0
 27652 06:6E39: F4 00 00     	pea	#<$0
 27653 06:6E3C: F4 00 00     	pea	#^$0
 27654 06:6E3F: F4 00 00     	pea	#<$0
 27655 06:6E42: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27656                        ;#else
 27657                        ;
 27658                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 27659                        ;
 27660                        ;	*BM_START_ADDY_L = 0x00;
 27661                        ;	*BM_START_ADDY_M = 0x00;
 27662                        ;	*BM_START_ADDY_H = 0x00;
 27663                        ;	*BG_CHAR_LUT_PTR = 0x02;
 27664                        ;
 27665                        ;	*BM_X_SIZE_L = 0x80;
 27666                        ;	*BM_X_SIZE_H = 0x02;
 27667                        ;	*BM_Y_SIZE_L = 0xE0;
 27668                        ;	*BM_Y_SIZE_H = 0x01;
 27669                        ;
 27670                        ;	*BM_CONTROL_REG 	= 0x08;
 27671                        ;
 27672                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 27673                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 27674                        ;
 27675                        ;#endif
 27676                        ;
 27677                        ;	k_disable_border();
 27678                        	.line	5079
 27679 06:6E46: 22 xx xx xx  	jsl	~~k_disable_border
 27680                        ;
 27681                        ;	k_unlock_irq();
 27682                        	.line	5081
 27683 06:6E4A: 22 xx xx xx  	jsl	~~k_unlock_irq
 27684                        ;
 27685                        ;	if(imageFilePath)
 27686                        	.line	5083
 27687                        ;	{
 27688 06:6E4E: A5 31        	lda	<L1154+imageFilePath_0
  Mon Aug  9 2021 16:52                                                Page 512


 27689 06:6E50: 05 33        	ora	<L1154+imageFilePath_0+2
 27690 06:6E52: D0 03        	bne	L1157
 27691 06:6E54: 82 08 00     	brl	L10486
 27692                        L1157:
 27693                        	.line	5084
 27694                        ;		readBMP(imageFilePath);
 27695                        	.line	5085
 27696 06:6E57: D4 33        	pei	<L1154+imageFilePath_0+2
 27697 06:6E59: D4 31        	pei	<L1154+imageFilePath_0
 27698 06:6E5B: 22 B6 87 06  	jsl	~~readBMP
 27699                        ;	}
 27700                        	.line	5086
 27701                        ;
 27702                        ;	sleep(15000);
 27703                        L10486:
 27704                        	.line	5088
 27705 06:6E5F: F4 98 3A     	pea	#<$3a98
 27706 06:6E62: 22 xx xx xx  	jsl	~~sleep
 27707                        ;
 27708                        ;	return;
 27709                        	.line	5090
 27710                        L1158:
 27711 06:6E66: A5 2F        	lda	<L1154+2
 27712 06:6E68: 85 33        	sta	<L1154+2+4
 27713 06:6E6A: A5 2E        	lda	<L1154+1
 27714 06:6E6C: 85 32        	sta	<L1154+1+4
 27715 06:6E6E: 2B           	pld
 27716 06:6E6F: 3B           	tsc
 27717 06:6E70: 18           	clc
 27718 06:6E71: 69 31 00     	adc	#L1154+4
 27719 06:6E74: 1B           	tcs
 27720 06:6E75: 6B           	rtl
 27721                        ;}
 27722                        	.line	5091
 27723                        	.endblock	5091
 27724             0000002D   L1154	equ	45
 27725             00000001   L1155	equ	1
 27726 06:6E76:              	ends
 27727                        	efunc
 27728                        	.endfunc	5091,1,45
 27729                        	.line	5091
 27730                        ;
 27731                        ;
 27732                        ;/*
 27733                        ;void k_init_splash(UINT stage)
 27734                        ;{
 27735                        ;	int i;
 27736                        ;	BYTE c,r,g,b;
 27737                        ;	long color[4];
 27738                        ;
 27739                        ;	long *pcolor[3];
 27740                        ;
 27741                        ;	//PFXZEROPAGE zp = NULL;
 27742                        ;
 27743                        ;	LPSTR pPalette = GRPH_LUT0_PTR;
 27744                        ;	LPSTR pathName = NULL;
 27745                        ;	CHAR boardRelease[3];
 27746                        ;
  Mon Aug  9 2021 16:52                                                Page 513


 27747                        ;	k_get_c256_release(boardRelease);
 27748                        ;
 27749                        ;	if(stage == 1)
 27750                        ;	{
 27751                        ;		k_clear_screen(0);
 27752                        ;
 27753                        ;	#ifdef USE_FX256_FMX
 27754                        ;		k_enable_bitmap_mode();
 27755                        ;
 27756                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 27757                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 27758                        ;	#elif USE_FX256_U
 27759                        ;
 27760                        ;		k_enable_bitmap_mode();
 27761                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 27762                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 27763                        ;	#else
 27764                        ;
 27765                        ;		VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 27766                        ;
 27767                        ;		*BM_START_ADDY_L = 0x00;
 27768                        ;		*BM_START_ADDY_M = 0x00;
 27769                        ;		*BM_START_ADDY_H = 0x00;
 27770                        ;		*BG_CHAR_LUT_PTR = 0x02;
 27771                        ;
 27772                        ;		*BM_X_SIZE_L = 0x80;
 27773                        ;		*BM_X_SIZE_H = 0x02;
 27774                        ;		*BM_Y_SIZE_L = 0xE0;
 27775                        ;		*BM_Y_SIZE_H = 0x01;
 27776                        ;
 27777                        ;		*BM_CONTROL_REG 	= 0x08;
 27778                        ;
 27779                        ;		*MASTER_CTRL_REG_H 	= 0x00;
 27780                        ;		*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRA
                    PH_MODE_EN | MSTR_CTRL_BITMAP_EN);
 27781                        ;
 27782                        ;	#endif
 27783                        ;
 27784                        ;		k_disable_border();
 27785                        ;
 27786                        ;
 27787                        ;
 27788                        ;		//zp = k_getZeroPage();
 27789                        ;
 27790                        ;		//readBMP("HD:\\system\\assets\\%BR%\\lo
                    go1.bmp");
 27791                        ;
 27792                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo1.bmp","%BR%",boardRelease);
 27793                        ;		if(pathName)
 27794                        ;		{
 27795                        ;			//k_debug_strings("PATH REPLACED
                    :",pathName);
 27796                        ;			readBMP(pathName);
  Mon Aug  9 2021 16:52                                                Page 514


 27797                        ;			k_mem_deallocate_heap(pathName);
 27798                        ;		}
 27799                        ;	}
 27800                        ;	else if(stage == 2)
 27801                        ;	{
 27802                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo2.bmp","%BR%",boardRelease);
 27803                        ;		if(pathName)
 27804                        ;		{
 27805                        ;			readBMP(pathName);
 27806                        ;			k_mem_deallocate_heap(pathName);
 27807                        ;		}
 27808                        ;	}
 27809                        ;	else if(stage == 3)
 27810                        ;	{
 27811                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo3.bmp","%BR%",boardRelease);
 27812                        ;		if(pathName)
 27813                        ;		{
 27814                        ;			readBMP(pathName);
 27815                        ;			k_mem_deallocate_heap(pathName);
 27816                        ;		}
 27817                        ;	}
 27818                        ;	else if(stage == 4)
 27819                        ;	{
 27820                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo1.bmp","%BR%",boardRelease);
 27821                        ;		if(pathName)
 27822                        ;		{
 27823                        ;			readBMP(pathName);
 27824                        ;			k_mem_deallocate_heap(pathName);
 27825                        ;		}
 27826                        ;	}
 27827                        ;	else if(stage == 5)
 27828                        ;	{
 27829                        ;		r = pPalette[(int) (12 * 4 + 0)];
 27830                        ;		g = pPalette[(int) (12 * 4 + 1)];
 27831                        ;		b = pPalette[(int) (12 * 4 + 2)];
 27832                        ;
 27833                        ;		for(i = 0; i < 10; i++)
 27834                        ;		{
 27835                        ;			for(c = 0;c < 48;c++)
 27836                        ;			{
 27837                        ;
 27838                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 27839                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 27840                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 27841                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;
 27842                        ;				k_delay(15);
 27843                        ;
 27844                        ;			}
 27845                        ;			for(c = 48;c > 0;c--)
 27846                        ;			{
 27847                        ;
  Mon Aug  9 2021 16:52                                                Page 515


 27848                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 27849                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 27850                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 27851                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;//(c >> 2);//R
 27852                        ;				k_delay(15);
 27853                        ;			}
 27854                        ;		}
 27855                        ;
 27856                        ;
 27857                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 27858                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 27859                        ;	}
 27860                        ;
 27861                        ;
 27862                        ;	return;
 27863                        ;}
 27864                        ;*/
 27865                        ;
 27866                        ;/*
 27867                        ;void k_add_window_hit_node(PCLICKDETECTED pcd)
 27868                        ;{
 27869                        ;	k_debug_pointer("k_add_window_hit_node:",pcd);
 27870                        ;	k_nodelist_add(_k_WindowHit_nodes,k_nodelist_cre
                    ate(1,"window",pcd,NULL,NULL));
 27871                        ;}
 27872                        ;
 27873                        ;
 27874                        ;int k_point_in_list_depth(int x,int y,PCLICKABLE 
                    clickableList,int cSize)
 27875                        ;{
 27876                        ;	int i = 0;
 27877                        ;	int index = -1;
 27878                        ;	int found = 0;
 27879                        ;	PCLICKABLE top = NULL;
 27880                        ;	RECT r;
 27881                        ;
 27882                        ;	for(i=0;i<cSize;i++)
 27883                        ;	{
 27884                        ;		hitList[i] = NULL;
 27885                        ;		r = clickableList[i].area;
 27886                        ;		if(x >=r.x && x<(r.x+r.width))
 27887                        ;		{
 27888                        ;			if(y >=r.y && y<(r.y+r.height))
 27889                        ;			{
 27890                        ;				index = i;
 27891                        ;				//clickableList[i].depth
                     = 1;
 27892                        ;				hitList[i] = &clickableL
                    ist[i];
 27893                        ;				found++;
 27894                        ;			}
 27895                        ;		}
  Mon Aug  9 2021 16:52                                                Page 516


 27896                        ;	}
 27897                        ;
 27898                        ;	if(found > 0)
 27899                        ;	{
 27900                        ;		top = hitList[0];
 27901                        ;		for(i=0;i<cSize;i++)
 27902                        ;		{
 27903                        ;			if(hitList[i]!=NULL && hitList[i
                    ]->depth < top->depth)
 27904                        ;			{
 27905                        ;				top->depth = 1;
 27906                        ;				top = hitList[i];
 27907                        ;				top->depth = 0;
 27908                        ;				index = i;
 27909                        ;			}
 27910                        ;		}
 27911                        ;	}
 27912                        ;	else
 27913                        ;	{
 27914                        ;		clickableList[index].depth = 0;
 27915                        ;	}
 27916                        ;
 27917                        ;	return index;
 27918                        ;}
 27919                        ;*/
 27920                        ;
 27921                        ;/*
 27922                        ;PFXNODE k_point_in_nodes(int x,int y)
 27923                        ;{
 27924                        ;	PFXNODE found = NULL;
 27925                        ;	LPCHAR ctx = "";
 27926                        ;	PFXNODE ptr = NULL;
 27927                        ;
 27928                        ;	RECT r;
 27929                        ;	int i = 0;
 27930                        ;	int index = -1;
 27931                        ;
 27932                        ;	//k_debug_string("k_point_in_nodes\r\n");
 27933                        ;
 27934                        ;	if(_k_WindowHit_nodes!=NULL)
 27935                        ;	{
 27936                        ;		ptr = _k_WindowHit_nodes->next;
 27937                        ;		while(ptr!=NULL)
 27938                        ;		{
 27939                        ;			//k_debug_pointer("FOUND HIT ITE
                    M:",ptr);
 27940                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable)->area;
 27941                        ;			if(x >=r.x && x<(r.x+r.width))
 27942                        ;			{
 27943                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 27944                        ;				{
 27945                        ;					found = ptr;
 27946                        ;					break;
 27947                        ;				}
 27948                        ;			}
 27949                        ;			ptr = ptr->next;
  Mon Aug  9 2021 16:52                                                Page 517


 27950                        ;		}
 27951                        ;	}
 27952                        ;
 27953                        ;	return found;
 27954                        ;}
 27955                        ;
 27956                        ;int k_point_in_list(int x,int y,PCLICKABLE clicka
                    bleList,int cSize)
 27957                        ;{
 27958                        ;	RECT r;
 27959                        ;	int i = 0;
 27960                        ;	int index = -1;
 27961                        ;
 27962                        ;	for(i=0;i<cSize;i++)
 27963                        ;	{
 27964                        ;		r = clickableList[i].area;
 27965                        ;		if(x >=r.x && x<(r.x+r.width))
 27966                        ;		{
 27967                        ;			if(y >=r.y && y<(r.y+r.height))
 27968                        ;			{
 27969                        ;				index = i;
 27970                        ;				//clickableList[i].depth
                     = 1;
 27971                        ;				break;
 27972                        ;			}
 27973                        ;		}
 27974                        ;	}
 27975                        ;
 27976                        ;	return index;
 27977                        ;}
 27978                        ;*/
 27979                        ;PMENU k_create_context_menus(PWINDOW pWin,int cx,
                    int cy,int width,int height,PMENUDROPDOWNDATA menus,int colo
                    r, int bgcolor)
 27980                        ;{
 27981                        	.line	5341
 27982                        	.line	5342
 27983                        	GFX
 27984                        	xdef	~~k_create_context_menus
 27985                        	func
 27986                        	.function	5342
 27987                        ~~k_create_context_menus:
 27988                        	longa	on
 27989                        	longi	on
 27990 06:6E76: 3B           	tsc
 27991 06:6E77: 38           	sec
 27992 06:6E78: E9 2C 00     	sbc	#L1159
 27993 06:6E7B: 1B           	tcs
 27994 06:6E7C: 0B           	phd
 27995 06:6E7D: 5B           	tcd
 27996             00000004   pWin_0	set	4
 27997             00000008   cx_0	set	8
 27998             0000000A   cy_0	set	10
 27999             0000000C   width_0	set	12
 28000             0000000E   height_0	set	14
 28001             00000010   menus_0	set	16
 28002             00000014   color_0	set	20
 28003             00000016   bgcolor_0	set	22
  Mon Aug  9 2021 16:52                                                Page 518


 28004                        	.block	5342
 28005                        ;	FONTMETRIC metric;
 28006                        ;
 28007                        ;	int i = 0;
 28008                        ;	int hy = 0;
 28009                        ;	LPCSTR caption = NULL;
 28010                        ;
 28011                        ;	int borderTitle = 10;
 28012                        ;	int borderWidth = 3;
 28013                        ;
 28014                        ;	int titleOffsetX = cx+4;
 28015                        ;	int titleOffsetY = cy+2;
 28016                        ;	int titleScaler = 0;
 28017                        ;
 28018                        ;	int clientOffsetX = cx+borderWidth+2;
 28019                        ;	int clientOffsetY = cy+borderTitle+1;
 28020                        ;
 28021                        ;	int endX = width + cx - borderWidth;
 28022                        ;
 28023                        ;
 28024                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 28025             00000000   metric_1	set	0
 28026             00000004   i_1	set	4
 28027             00000006   hy_1	set	6
 28028             00000008   caption_1	set	8
 28029             0000000C   borderTitle_1	set	12
 28030             0000000E   borderWidth_1	set	14
 28031             00000010   titleOffsetX_1	set	16
 28032             00000012   titleOffsetY_1	set	18
 28033             00000014   titleScaler_1	set	20
 28034             00000016   clientOffsetX_1	set	22
 28035             00000018   clientOffsetY_1	set	24
 28036             0000001A   endX_1	set	26
 28037                        	.sym	metric,0,10,1,32,35
 28038                        	.sym	i,4,5,1,16
 28039                        	.sym	hy,6,5,1,16
 28040                        	.sym	caption,8,142,1,32
 28041                        	.sym	borderTitle,12,5,1,16
 28042                        	.sym	borderWidth,14,5,1,16
 28043                        	.sym	titleOffsetX,16,5,1,16
 28044                        	.sym	titleOffsetY,18,5,1,16
 28045                        	.sym	titleScaler,20,5,1,16
 28046                        	.sym	clientOffsetX,22,5,1,16
 28047                        	.sym	clientOffsetY,24,5,1,16
 28048                        	.sym	endX,26,5,1,16
 28049                        	.sym	pWin,4,138,6,32,33
 28050                        	.sym	cx,8,5,6,16
 28051                        	.sym	cy,10,5,6,16
 28052                        	.sym	width,12,5,6,16
 28053                        	.sym	height,14,5,6,16
 28054                        	.sym	menus,16,138,6,32,38
 28055                        	.sym	color,20,5,6,16
 28056                        	.sym	bgcolor,22,5,6,16
 28057 06:6E7E: 64 15        	stz	<L1160+i_1
 28058 06:6E80: 64 17        	stz	<L1160+hy_1
 28059 06:6E82: 64 19        	stz	<L1160+caption_1
 28060 06:6E84: 64 1B        	stz	<L1160+caption_1+2
  Mon Aug  9 2021 16:52                                                Page 519


 28061 06:6E86: A9 0A 00     	lda	#$a
 28062 06:6E89: 85 1D        	sta	<L1160+borderTitle_1
 28063 06:6E8B: A9 03 00     	lda	#$3
 28064 06:6E8E: 85 1F        	sta	<L1160+borderWidth_1
 28065 06:6E90: 18           	clc
 28066 06:6E91: A9 04 00     	lda	#$4
 28067 06:6E94: 65 34        	adc	<L1159+cx_0
 28068 06:6E96: 85 21        	sta	<L1160+titleOffsetX_1
 28069 06:6E98: 18           	clc
 28070 06:6E99: A9 02 00     	lda	#$2
 28071 06:6E9C: 65 36        	adc	<L1159+cy_0
 28072 06:6E9E: 85 23        	sta	<L1160+titleOffsetY_1
 28073 06:6EA0: 64 25        	stz	<L1160+titleScaler_1
 28074 06:6EA2: 18           	clc
 28075 06:6EA3: A5 34        	lda	<L1159+cx_0
 28076 06:6EA5: 65 1F        	adc	<L1160+borderWidth_1
 28077 06:6EA7: 85 01        	sta	<R0
 28078 06:6EA9: 18           	clc
 28079 06:6EAA: A9 02 00     	lda	#$2
 28080 06:6EAD: 65 01        	adc	<R0
 28081 06:6EAF: 85 27        	sta	<L1160+clientOffsetX_1
 28082 06:6EB1: 18           	clc
 28083 06:6EB2: A5 36        	lda	<L1159+cy_0
 28084 06:6EB4: 65 1D        	adc	<L1160+borderTitle_1
 28085 06:6EB6: 85 01        	sta	<R0
 28086 06:6EB8: A5 01        	lda	<R0
 28087 06:6EBA: 1A           	ina
 28088 06:6EBB: 85 29        	sta	<L1160+clientOffsetY_1
 28089 06:6EBD: 18           	clc
 28090 06:6EBE: A5 38        	lda	<L1159+width_0
 28091 06:6EC0: 65 34        	adc	<L1159+cx_0
 28092 06:6EC2: 85 01        	sta	<R0
 28093 06:6EC4: 38           	sec
 28094 06:6EC5: A5 01        	lda	<R0
 28095 06:6EC7: E5 1F        	sbc	<L1160+borderWidth_1
 28096 06:6EC9: 85 2B        	sta	<L1160+endX_1
 28097                        	.line	5362
 28098 06:6ECB: F4 xx xx     	pea	#^L1153
 28099 06:6ECE: F4 xx xx     	pea	#<L1153
 28100 06:6ED1: 22 xx xx xx  	jsl	~~k_debug_string
 28101                        ;
 28102                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 28103                        	.line	5364
 28104 06:6ED5: F4 00 00     	pea	#<$0
 28105 06:6ED8: F4 00 00     	pea	#<$0
 28106 06:6EDB: D4 3A        	pei	<L1159+height_0
 28107 06:6EDD: D4 38        	pei	<L1159+width_0
 28108 06:6EDF: D4 36        	pei	<L1159+cy_0
 28109 06:6EE1: D4 34        	pei	<L1159+cx_0
 28110 06:6EE3: 22 71 80 06  	jsl	~~k_scratch_save_bitblt
 28111                        ;
 28112                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 28113                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 28114                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 28115                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
  Mon Aug  9 2021 16:52                                                Page 520


 28116                        	.line	5369
 28117 06:6EE7: D4 42        	pei	<L1159+bgcolor_0
 28118 06:6EE9: D4 3A        	pei	<L1159+height_0
 28119 06:6EEB: D4 38        	pei	<L1159+width_0
 28120 06:6EED: A0 00 00     	ldy	#$0
 28121 06:6EF0: A5 36        	lda	<L1159+cy_0
 28122 06:6EF2: 10 01        	bpl	L1162
 28123 06:6EF4: 88           	dey
 28124                        L1162:
 28125 06:6EF5: 85 01        	sta	<R0
 28126 06:6EF7: 84 03        	sty	<R0+2
 28127 06:6EF9: D4 03        	pei	<R0+2
 28128 06:6EFB: D4 01        	pei	<R0
 28129 06:6EFD: A0 00 00     	ldy	#$0
 28130 06:6F00: A5 34        	lda	<L1159+cx_0
 28131 06:6F02: 10 01        	bpl	L1163
 28132 06:6F04: 88           	dey
 28133                        L1163:
 28134 06:6F05: 85 05        	sta	<R1
 28135 06:6F07: 84 07        	sty	<R1+2
 28136 06:6F09: D4 07        	pei	<R1+2
 28137 06:6F0B: D4 05        	pei	<R1
 28138 06:6F0D: 22 C6 5F 06  	jsl	~~k_vdma_fill_rect
 28139                        ;
 28140                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 28141                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 28142                        ;	i = 0;
 28143                        	.line	5373
 28144 06:6F11: 64 15        	stz	<L1160+i_1
 28145                        ;	caption = menus->captions[i];
 28146                        	.line	5374
 28147 06:6F13: A0 00 00     	ldy	#$0
 28148 06:6F16: A5 15        	lda	<L1160+i_1
 28149 06:6F18: 10 01        	bpl	L1164
 28150 06:6F1A: 88           	dey
 28151                        L1164:
 28152 06:6F1B: 85 05        	sta	<R1
 28153 06:6F1D: 84 07        	sty	<R1+2
 28154 06:6F1F: D4 07        	pei	<R1+2
 28155 06:6F21: D4 05        	pei	<R1
 28156 06:6F23: A9 02 00     	lda	#$2
 28157                        	xref	~~~lasl
 28158 06:6F26: 22 xx xx xx  	jsl	~~~lasl
 28159 06:6F2A: 85 01        	sta	<R0
 28160 06:6F2C: 86 03        	stx	<R0+2
 28161 06:6F2E: 18           	clc
 28162 06:6F2F: A9 12 00     	lda	#$12
 28163 06:6F32: 65 3C        	adc	<L1159+menus_0
 28164 06:6F34: 85 09        	sta	<R2
 28165 06:6F36: A9 00 00     	lda	#$0
 28166 06:6F39: 65 3E        	adc	<L1159+menus_0+2
 28167 06:6F3B: 85 0B        	sta	<R2+2
 28168 06:6F3D: 18           	clc
 28169 06:6F3E: A5 09        	lda	<R2
 28170 06:6F40: 65 01        	adc	<R0
 28171 06:6F42: 85 0D        	sta	<R3
  Mon Aug  9 2021 16:52                                                Page 521


 28172 06:6F44: A5 0B        	lda	<R2+2
 28173 06:6F46: 65 03        	adc	<R0+2
 28174 06:6F48: 85 0F        	sta	<R3+2
 28175 06:6F4A: A7 0D        	lda	[<R3]
 28176 06:6F4C: 85 19        	sta	<L1160+caption_1
 28177 06:6F4E: A0 02 00     	ldy	#$2
 28178 06:6F51: B7 0D        	lda	[<R3],Y
 28179 06:6F53: 85 1B        	sta	<L1160+caption_1+2
 28180                        ;	while(caption!=NULL)
 28181                        	.line	5375
 28182                        L10487:
 28183 06:6F55: A5 19        	lda	<L1160+caption_1
 28184 06:6F57: 05 1B        	ora	<L1160+caption_1+2
 28185 06:6F59: D0 03        	bne	L1165
 28186 06:6F5B: 82 7A 00     	brl	L10488
 28187                        L1165:
 28188                        ;	{
 28189                        	.line	5376
 28190                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",(LPCHAR)caption);
 28191                        	.line	5377
 28192 06:6F5E: D4 1B        	pei	<L1160+caption_1+2
 28193 06:6F60: D4 19        	pei	<L1160+caption_1
 28194 06:6F62: F4 xx xx     	pea	#^L1153+29
 28195 06:6F65: F4 xx xx     	pea	#<L1153+29
 28196 06:6F68: 22 xx xx xx  	jsl	~~k_debug_strings
 28197                        ;
 28198                        ;		//caption = strupr(caption);
 28199                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 28200                        	.line	5380
 28201 06:6F6C: D4 40        	pei	<L1159+color_0
 28202 06:6F6E: D4 23        	pei	<L1160+titleOffsetY_1
 28203 06:6F70: D4 21        	pei	<L1160+titleOffsetX_1
 28204 06:6F72: D4 1B        	pei	<L1160+caption_1+2
 28205 06:6F74: D4 19        	pei	<L1160+caption_1
 28206 06:6F76: 22 E1 1F 06  	jsl	~~k_draw_text_point
 28207 06:6F7A: 85 17        	sta	<L1160+hy_1
 28208                        ;		titleOffsetY+=(FONTH + 2);
 28209                        	.line	5381
 28210 06:6F7C: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 28211 06:6F80: 85 01        	sta	<R0
 28212 06:6F82: 18           	clc
 28213 06:6F83: A5 01        	lda	<R0
 28214 06:6F85: 65 23        	adc	<L1160+titleOffsetY_1
 28215 06:6F87: 85 05        	sta	<R1
 28216 06:6F89: 18           	clc
 28217 06:6F8A: A9 02 00     	lda	#$2
 28218 06:6F8D: 65 05        	adc	<R1
 28219 06:6F8F: 85 23        	sta	<L1160+titleOffsetY_1
 28220                        ;		i++;
 28221                        	.line	5382
 28222 06:6F91: E6 15        	inc	<L1160+i_1
 28223                        ;		caption = menus->captions[i];
 28224                        	.line	5383
 28225 06:6F93: A0 00 00     	ldy	#$0
 28226 06:6F96: A5 15        	lda	<L1160+i_1
 28227 06:6F98: 10 01        	bpl	L1166
  Mon Aug  9 2021 16:52                                                Page 522


 28228 06:6F9A: 88           	dey
 28229                        L1166:
 28230 06:6F9B: 85 05        	sta	<R1
 28231 06:6F9D: 84 07        	sty	<R1+2
 28232 06:6F9F: D4 07        	pei	<R1+2
 28233 06:6FA1: D4 05        	pei	<R1
 28234 06:6FA3: A9 02 00     	lda	#$2
 28235                        	xref	~~~lasl
 28236 06:6FA6: 22 xx xx xx  	jsl	~~~lasl
 28237 06:6FAA: 85 01        	sta	<R0
 28238 06:6FAC: 86 03        	stx	<R0+2
 28239 06:6FAE: 18           	clc
 28240 06:6FAF: A9 12 00     	lda	#$12
 28241 06:6FB2: 65 3C        	adc	<L1159+menus_0
 28242 06:6FB4: 85 09        	sta	<R2
 28243 06:6FB6: A9 00 00     	lda	#$0
 28244 06:6FB9: 65 3E        	adc	<L1159+menus_0+2
 28245 06:6FBB: 85 0B        	sta	<R2+2
 28246 06:6FBD: 18           	clc
 28247 06:6FBE: A5 09        	lda	<R2
 28248 06:6FC0: 65 01        	adc	<R0
 28249 06:6FC2: 85 0D        	sta	<R3
 28250 06:6FC4: A5 0B        	lda	<R2+2
 28251 06:6FC6: 65 03        	adc	<R0+2
 28252 06:6FC8: 85 0F        	sta	<R3+2
 28253 06:6FCA: A7 0D        	lda	[<R3]
 28254 06:6FCC: 85 19        	sta	<L1160+caption_1
 28255 06:6FCE: A0 02 00     	ldy	#$2
 28256 06:6FD1: B7 0D        	lda	[<R3],Y
 28257 06:6FD3: 85 1B        	sta	<L1160+caption_1+2
 28258                        ;	}
 28259                        	.line	5384
 28260 06:6FD5: 82 7D FF     	brl	L10487
 28261                        L10488:
 28262                        ;
 28263                        ;	return NULL;
 28264                        	.line	5386
 28265 06:6FD8: A9 00 00     	lda	#$0
 28266 06:6FDB: AA           	tax
 28267 06:6FDC: A9 00 00     	lda	#$0
 28268                        L1167:
 28269 06:6FDF: A8           	tay
 28270 06:6FE0: A5 2E        	lda	<L1159+2
 28271 06:6FE2: 85 42        	sta	<L1159+2+20
 28272 06:6FE4: A5 2D        	lda	<L1159+1
 28273 06:6FE6: 85 41        	sta	<L1159+1+20
 28274 06:6FE8: 2B           	pld
 28275 06:6FE9: 3B           	tsc
 28276 06:6FEA: 18           	clc
 28277 06:6FEB: 69 40 00     	adc	#L1159+20
 28278 06:6FEE: 1B           	tcs
 28279 06:6FEF: 98           	tya
 28280 06:6FF0: 6B           	rtl
 28281                        ;}
 28282                        	.line	5387
 28283                        	.endblock	5387
 28284             0000002C   L1159	equ	44
 28285             00000011   L1160	equ	17
  Mon Aug  9 2021 16:52                                                Page 523


 28286 06:6FF1:              	ends
 28287                        	efunc
 28288                        	.endfunc	5387,17,44
 28289                        	.line	5387
 28290                        	data
 28291                        L1153:
 28292 00:0C33: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0C37: 65 61 74 65 
       00:0C3B: 5F 63 6F 6E 
       00:0C3F: 74 65 78 
 28293 00:0C42: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0C46: 6E 75 3A 66 
       00:0C4A: 69 6C 6C 0D 
       00:0C4E: 0A 00 6B 
 28294 00:0C51: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0C55: 61 74 65 5F 
       00:0C59: 63 6F 6E 74 
       00:0C5D: 65 78 74 
 28295 00:0C60: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0C64: 75 3A 63 61 
       00:0C68: 70 74 69 6F 
       00:0C6C: 6E 3A 00 
 28296 00:0C6F:              	ends
 28297                        ;
 28298                        ;PMENU k_create_context_menu(int cx,int cy,int wid
                    th,int height,char FAR **captions,int color, int bgcolor)
 28299                        ;{
 28300                        	.line	5389
 28301                        	.line	5390
 28302                        	GFX
 28303                        	xdef	~~k_create_context_menu
 28304                        	func
 28305                        	.function	5390
 28306                        ~~k_create_context_menu:
 28307                        	longa	on
 28308                        	longi	on
 28309 06:6FF1: 3B           	tsc
 28310 06:6FF2: 38           	sec
 28311 06:6FF3: E9 28 00     	sbc	#L1169
 28312 06:6FF6: 1B           	tcs
 28313 06:6FF7: 0B           	phd
 28314 06:6FF8: 5B           	tcd
 28315             00000004   cx_0	set	4
 28316             00000006   cy_0	set	6
 28317             00000008   width_0	set	8
 28318             0000000A   height_0	set	10
 28319             0000000C   captions_0	set	12
 28320             00000010   color_0	set	16
 28321             00000012   bgcolor_0	set	18
 28322                        	.block	5390
 28323                        ;	FONTMETRIC metric;
 28324                        ;
 28325                        ;	int i = 0;
 28326                        ;	int hy = 0;
  Mon Aug  9 2021 16:52                                                Page 524


 28327                        ;	char FAR *caption = NULL;
 28328                        ;
 28329                        ;	int borderTitle = 10;
 28330                        ;	int borderWidth = 3;
 28331                        ;
 28332                        ;	int titleOffsetX = cx+4;
 28333                        ;	int titleOffsetY = cy+2;
 28334                        ;	int titleScaler = 0;
 28335                        ;
 28336                        ;	int clientOffsetX = cx+borderWidth+2;
 28337                        ;	int clientOffsetY = cy+borderTitle+1;
 28338                        ;
 28339                        ;	int endX = width + cx - borderWidth;
 28340                        ;
 28341                        ;
 28342                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 28343             00000000   metric_1	set	0
 28344             00000004   i_1	set	4
 28345             00000006   hy_1	set	6
 28346             00000008   caption_1	set	8
 28347             0000000C   borderTitle_1	set	12
 28348             0000000E   borderWidth_1	set	14
 28349             00000010   titleOffsetX_1	set	16
 28350             00000012   titleOffsetY_1	set	18
 28351             00000014   titleScaler_1	set	20
 28352             00000016   clientOffsetX_1	set	22
 28353             00000018   clientOffsetY_1	set	24
 28354             0000001A   endX_1	set	26
 28355                        	.sym	metric,0,10,1,32,35
 28356                        	.sym	i,4,5,1,16
 28357                        	.sym	hy,6,5,1,16
 28358                        	.sym	caption,8,142,1,32
 28359                        	.sym	borderTitle,12,5,1,16
 28360                        	.sym	borderWidth,14,5,1,16
 28361                        	.sym	titleOffsetX,16,5,1,16
 28362                        	.sym	titleOffsetY,18,5,1,16
 28363                        	.sym	titleScaler,20,5,1,16
 28364                        	.sym	clientOffsetX,22,5,1,16
 28365                        	.sym	clientOffsetY,24,5,1,16
 28366                        	.sym	endX,26,5,1,16
 28367                        	.sym	cx,4,5,6,16
 28368                        	.sym	cy,6,5,6,16
 28369                        	.sym	width,8,5,6,16
 28370                        	.sym	height,10,5,6,16
 28371                        	.sym	captions,12,1166,6,32
 28372                        	.sym	color,16,5,6,16
 28373                        	.sym	bgcolor,18,5,6,16
 28374 06:6FF9: 64 11        	stz	<L1170+i_1
 28375 06:6FFB: 64 13        	stz	<L1170+hy_1
 28376 06:6FFD: 64 15        	stz	<L1170+caption_1
 28377 06:6FFF: 64 17        	stz	<L1170+caption_1+2
 28378 06:7001: A9 0A 00     	lda	#$a
 28379 06:7004: 85 19        	sta	<L1170+borderTitle_1
 28380 06:7006: A9 03 00     	lda	#$3
 28381 06:7009: 85 1B        	sta	<L1170+borderWidth_1
 28382 06:700B: 18           	clc
 28383 06:700C: A9 04 00     	lda	#$4
  Mon Aug  9 2021 16:52                                                Page 525


 28384 06:700F: 65 2C        	adc	<L1169+cx_0
 28385 06:7011: 85 1D        	sta	<L1170+titleOffsetX_1
 28386 06:7013: 18           	clc
 28387 06:7014: A9 02 00     	lda	#$2
 28388 06:7017: 65 2E        	adc	<L1169+cy_0
 28389 06:7019: 85 1F        	sta	<L1170+titleOffsetY_1
 28390 06:701B: 64 21        	stz	<L1170+titleScaler_1
 28391 06:701D: 18           	clc
 28392 06:701E: A5 2C        	lda	<L1169+cx_0
 28393 06:7020: 65 1B        	adc	<L1170+borderWidth_1
 28394 06:7022: 85 01        	sta	<R0
 28395 06:7024: 18           	clc
 28396 06:7025: A9 02 00     	lda	#$2
 28397 06:7028: 65 01        	adc	<R0
 28398 06:702A: 85 23        	sta	<L1170+clientOffsetX_1
 28399 06:702C: 18           	clc
 28400 06:702D: A5 2E        	lda	<L1169+cy_0
 28401 06:702F: 65 19        	adc	<L1170+borderTitle_1
 28402 06:7031: 85 01        	sta	<R0
 28403 06:7033: A5 01        	lda	<R0
 28404 06:7035: 1A           	ina
 28405 06:7036: 85 25        	sta	<L1170+clientOffsetY_1
 28406 06:7038: 18           	clc
 28407 06:7039: A5 30        	lda	<L1169+width_0
 28408 06:703B: 65 2C        	adc	<L1169+cx_0
 28409 06:703D: 85 01        	sta	<R0
 28410 06:703F: 38           	sec
 28411 06:7040: A5 01        	lda	<R0
 28412 06:7042: E5 1B        	sbc	<L1170+borderWidth_1
 28413 06:7044: 85 27        	sta	<L1170+endX_1
 28414                        	.line	5410
 28415 06:7046: F4 xx xx     	pea	#^L1168
 28416 06:7049: F4 xx xx     	pea	#<L1168
 28417 06:704C: 22 xx xx xx  	jsl	~~k_debug_string
 28418                        ;
 28419                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 28420                        	.line	5412
 28421 06:7050: F4 00 00     	pea	#<$0
 28422 06:7053: F4 00 00     	pea	#<$0
 28423 06:7056: D4 32        	pei	<L1169+height_0
 28424 06:7058: D4 30        	pei	<L1169+width_0
 28425 06:705A: D4 2E        	pei	<L1169+cy_0
 28426 06:705C: D4 2C        	pei	<L1169+cx_0
 28427 06:705E: 22 71 80 06  	jsl	~~k_scratch_save_bitblt
 28428                        ;
 28429                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 28430                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 28431                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 28432                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 28433                        	.line	5417
 28434 06:7062: D4 3A        	pei	<L1169+bgcolor_0
 28435 06:7064: D4 32        	pei	<L1169+height_0
 28436 06:7066: D4 30        	pei	<L1169+width_0
 28437 06:7068: A0 00 00     	ldy	#$0
 28438 06:706B: A5 2E        	lda	<L1169+cy_0
  Mon Aug  9 2021 16:52                                                Page 526


 28439 06:706D: 10 01        	bpl	L1172
 28440 06:706F: 88           	dey
 28441                        L1172:
 28442 06:7070: 85 01        	sta	<R0
 28443 06:7072: 84 03        	sty	<R0+2
 28444 06:7074: D4 03        	pei	<R0+2
 28445 06:7076: D4 01        	pei	<R0
 28446 06:7078: A0 00 00     	ldy	#$0
 28447 06:707B: A5 2C        	lda	<L1169+cx_0
 28448 06:707D: 10 01        	bpl	L1173
 28449 06:707F: 88           	dey
 28450                        L1173:
 28451 06:7080: 85 05        	sta	<R1
 28452 06:7082: 84 07        	sty	<R1+2
 28453 06:7084: D4 07        	pei	<R1+2
 28454 06:7086: D4 05        	pei	<R1
 28455 06:7088: 22 C6 5F 06  	jsl	~~k_vdma_fill_rect
 28456                        ;
 28457                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 28458                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 28459                        ;	i = 0;
 28460                        	.line	5421
 28461 06:708C: 64 11        	stz	<L1170+i_1
 28462                        ;	caption = captions[i];
 28463                        	.line	5422
 28464 06:708E: A0 00 00     	ldy	#$0
 28465 06:7091: A5 11        	lda	<L1170+i_1
 28466 06:7093: 10 01        	bpl	L1174
 28467 06:7095: 88           	dey
 28468                        L1174:
 28469 06:7096: 85 05        	sta	<R1
 28470 06:7098: 84 07        	sty	<R1+2
 28471 06:709A: D4 07        	pei	<R1+2
 28472 06:709C: D4 05        	pei	<R1
 28473 06:709E: A9 02 00     	lda	#$2
 28474                        	xref	~~~lasl
 28475 06:70A1: 22 xx xx xx  	jsl	~~~lasl
 28476 06:70A5: 85 01        	sta	<R0
 28477 06:70A7: 86 03        	stx	<R0+2
 28478 06:70A9: 18           	clc
 28479 06:70AA: A5 34        	lda	<L1169+captions_0
 28480 06:70AC: 65 01        	adc	<R0
 28481 06:70AE: 85 09        	sta	<R2
 28482 06:70B0: A5 36        	lda	<L1169+captions_0+2
 28483 06:70B2: 65 03        	adc	<R0+2
 28484 06:70B4: 85 0B        	sta	<R2+2
 28485 06:70B6: A7 09        	lda	[<R2]
 28486 06:70B8: 85 15        	sta	<L1170+caption_1
 28487 06:70BA: A0 02 00     	ldy	#$2
 28488 06:70BD: B7 09        	lda	[<R2],Y
 28489 06:70BF: 85 17        	sta	<L1170+caption_1+2
 28490                        ;	while(caption!=NULL)
 28491                        	.line	5423
 28492                        L10489:
 28493 06:70C1: A5 15        	lda	<L1170+caption_1
 28494 06:70C3: 05 17        	ora	<L1170+caption_1+2
  Mon Aug  9 2021 16:52                                                Page 527


 28495 06:70C5: D0 03        	bne	L1175
 28496 06:70C7: 82 6B 00     	brl	L10490
 28497                        L1175:
 28498                        ;	{
 28499                        	.line	5424
 28500                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",caption);
 28501                        	.line	5425
 28502 06:70CA: D4 17        	pei	<L1170+caption_1+2
 28503 06:70CC: D4 15        	pei	<L1170+caption_1
 28504 06:70CE: F4 xx xx     	pea	#^L1168+29
 28505 06:70D1: F4 xx xx     	pea	#<L1168+29
 28506 06:70D4: 22 xx xx xx  	jsl	~~k_debug_strings
 28507                        ;
 28508                        ;		//caption = strupr(caption);
 28509                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 28510                        	.line	5428
 28511 06:70D8: D4 38        	pei	<L1169+color_0
 28512 06:70DA: D4 1F        	pei	<L1170+titleOffsetY_1
 28513 06:70DC: D4 1D        	pei	<L1170+titleOffsetX_1
 28514 06:70DE: D4 17        	pei	<L1170+caption_1+2
 28515 06:70E0: D4 15        	pei	<L1170+caption_1
 28516 06:70E2: 22 E1 1F 06  	jsl	~~k_draw_text_point
 28517 06:70E6: 85 13        	sta	<L1170+hy_1
 28518                        ;
 28519                        ;		titleOffsetY+=(FONTH + 2);
 28520                        	.line	5430
 28521 06:70E8: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 28522 06:70EC: 85 01        	sta	<R0
 28523 06:70EE: 18           	clc
 28524 06:70EF: A5 01        	lda	<R0
 28525 06:70F1: 65 1F        	adc	<L1170+titleOffsetY_1
 28526 06:70F3: 85 05        	sta	<R1
 28527 06:70F5: 18           	clc
 28528 06:70F6: A9 02 00     	lda	#$2
 28529 06:70F9: 65 05        	adc	<R1
 28530 06:70FB: 85 1F        	sta	<L1170+titleOffsetY_1
 28531                        ;		i++;
 28532                        	.line	5431
 28533 06:70FD: E6 11        	inc	<L1170+i_1
 28534                        ;		caption = captions[i];
 28535                        	.line	5432
 28536 06:70FF: A0 00 00     	ldy	#$0
 28537 06:7102: A5 11        	lda	<L1170+i_1
 28538 06:7104: 10 01        	bpl	L1176
 28539 06:7106: 88           	dey
 28540                        L1176:
 28541 06:7107: 85 05        	sta	<R1
 28542 06:7109: 84 07        	sty	<R1+2
 28543 06:710B: D4 07        	pei	<R1+2
 28544 06:710D: D4 05        	pei	<R1
 28545 06:710F: A9 02 00     	lda	#$2
 28546                        	xref	~~~lasl
 28547 06:7112: 22 xx xx xx  	jsl	~~~lasl
 28548 06:7116: 85 01        	sta	<R0
 28549 06:7118: 86 03        	stx	<R0+2
 28550 06:711A: 18           	clc
  Mon Aug  9 2021 16:52                                                Page 528


 28551 06:711B: A5 34        	lda	<L1169+captions_0
 28552 06:711D: 65 01        	adc	<R0
 28553 06:711F: 85 09        	sta	<R2
 28554 06:7121: A5 36        	lda	<L1169+captions_0+2
 28555 06:7123: 65 03        	adc	<R0+2
 28556 06:7125: 85 0B        	sta	<R2+2
 28557 06:7127: A7 09        	lda	[<R2]
 28558 06:7129: 85 15        	sta	<L1170+caption_1
 28559 06:712B: A0 02 00     	ldy	#$2
 28560 06:712E: B7 09        	lda	[<R2],Y
 28561 06:7130: 85 17        	sta	<L1170+caption_1+2
 28562                        ;	}
 28563                        	.line	5433
 28564 06:7132: 82 8C FF     	brl	L10489
 28565                        L10490:
 28566                        ;
 28567                        ;	return NULL;
 28568                        	.line	5435
 28569 06:7135: A9 00 00     	lda	#$0
 28570 06:7138: AA           	tax
 28571 06:7139: A9 00 00     	lda	#$0
 28572                        L1177:
 28573 06:713C: A8           	tay
 28574 06:713D: A5 2A        	lda	<L1169+2
 28575 06:713F: 85 3A        	sta	<L1169+2+16
 28576 06:7141: A5 29        	lda	<L1169+1
 28577 06:7143: 85 39        	sta	<L1169+1+16
 28578 06:7145: 2B           	pld
 28579 06:7146: 3B           	tsc
 28580 06:7147: 18           	clc
 28581 06:7148: 69 38 00     	adc	#L1169+16
 28582 06:714B: 1B           	tcs
 28583 06:714C: 98           	tya
 28584 06:714D: 6B           	rtl
 28585                        ;
 28586                        ;}
 28587                        	.line	5437
 28588                        	.endblock	5437
 28589             00000028   L1169	equ	40
 28590             0000000D   L1170	equ	13
 28591 06:714E:              	ends
 28592                        	efunc
 28593                        	.endfunc	5437,13,40
 28594                        	.line	5437
 28595                        	data
 28596                        L1168:
 28597 00:0C6F: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0C73: 65 61 74 65 
       00:0C77: 5F 63 6F 6E 
       00:0C7B: 74 65 78 
 28598 00:0C7E: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0C82: 6E 75 3A 66 
       00:0C86: 69 6C 6C 0D 
       00:0C8A: 0A 00 6B 
 28599 00:0C8D: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
  Mon Aug  9 2021 16:52                                                Page 529


       00:0C91: 61 74 65 5F 
       00:0C95: 63 6F 6E 74 
       00:0C99: 65 78 74 
 28600 00:0C9C: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0CA0: 75 3A 63 61 
       00:0CA4: 70 74 69 6F 
       00:0CA8: 6E 3A 00 
 28601 00:0CAB:              	ends
 28602                        ;
 28603                        ;PMENU k_create_context_menu_in_window_ex(PWINDOW 
                    pWin,UINT selected,UINT unselected,int cx,int cy,int width,i
                    nt height,char FAR **captions,char FAR *chrome,int color, in
                    t bgcolor)
 28604                        ;{
 28605                        	.line	5439
 28606                        	.line	5440
 28607                        	GFX
 28608                        	xdef	~~k_create_context_menu_in_window_ex
 28609                        	func
 28610                        	.function	5440
 28611                        ~~k_create_context_menu_in_window_ex:
 28612                        	longa	on
 28613                        	longi	on
 28614 06:714E: 3B           	tsc
 28615 06:714F: 38           	sec
 28616 06:7150: E9 29 00     	sbc	#L1179
 28617 06:7153: 1B           	tcs
 28618 06:7154: 0B           	phd
 28619 06:7155: 5B           	tcd
 28620             00000004   pWin_0	set	4
 28621             00000008   selected_0	set	8
 28622             0000000A   unselected_0	set	10
 28623             0000000C   cx_0	set	12
 28624             0000000E   cy_0	set	14
 28625             00000010   width_0	set	16
 28626             00000012   height_0	set	18
 28627             00000014   captions_0	set	20
 28628             00000018   chrome_0	set	24
 28629             0000001C   color_0	set	28
 28630             0000001E   bgcolor_0	set	30
 28631                        	.block	5440
 28632                        ;	FONTMETRIC metric;
 28633                        ;
 28634                        ;	int i = 0;
 28635                        ;	int dx = 0;
 28636                        ;	char FAR *caption = NULL;
 28637                        ;
 28638                        ;	int borderTitle = 10;
 28639                        ;	int borderWidth = 3;
 28640                        ;
 28641                        ;	int titleOffsetX = cx+4;
 28642                        ;	int titleOffsetY = cy+2;
 28643                        ;	int titleScaler = 0;
 28644                        ;
 28645                        ;	int clientOffsetX = cx+borderWidth+2;
 28646                        ;	int clientOffsetY = cy+borderTitle+1;
 28647                        ;
  Mon Aug  9 2021 16:52                                                Page 530


 28648                        ;	int endX = width + cx - borderWidth;
 28649                        ;
 28650                        ;
 28651                        ;	if(selected == -1 && unselected == -1)
 28652             00000000   metric_1	set	0
 28653             00000004   i_1	set	4
 28654             00000006   dx_1	set	6
 28655             00000008   caption_1	set	8
 28656             0000000C   borderTitle_1	set	12
 28657             0000000E   borderWidth_1	set	14
 28658             00000010   titleOffsetX_1	set	16
 28659             00000012   titleOffsetY_1	set	18
 28660             00000014   titleScaler_1	set	20
 28661             00000016   clientOffsetX_1	set	22
 28662             00000018   clientOffsetY_1	set	24
 28663             0000001A   endX_1	set	26
 28664                        	.sym	metric,0,10,1,32,35
 28665                        	.sym	i,4,5,1,16
 28666                        	.sym	dx,6,5,1,16
 28667                        	.sym	caption,8,142,1,32
 28668                        	.sym	borderTitle,12,5,1,16
 28669                        	.sym	borderWidth,14,5,1,16
 28670                        	.sym	titleOffsetX,16,5,1,16
 28671                        	.sym	titleOffsetY,18,5,1,16
 28672                        	.sym	titleScaler,20,5,1,16
 28673                        	.sym	clientOffsetX,22,5,1,16
 28674                        	.sym	clientOffsetY,24,5,1,16
 28675                        	.sym	endX,26,5,1,16
 28676                        	.sym	pWin,4,138,6,32,33
 28677                        	.sym	selected,8,16,6,16
 28678                        	.sym	unselected,10,16,6,16
 28679                        	.sym	cx,12,5,6,16
 28680                        	.sym	cy,14,5,6,16
 28681                        	.sym	width,16,5,6,16
 28682                        	.sym	height,18,5,6,16
 28683                        	.sym	captions,20,1166,6,32
 28684                        	.sym	chrome,24,142,6,32
 28685                        	.sym	color,28,5,6,16
 28686                        	.sym	bgcolor,30,5,6,16
 28687 06:7156: 64 11        	stz	<L1180+i_1
 28688 06:7158: 64 13        	stz	<L1180+dx_1
 28689 06:715A: 64 15        	stz	<L1180+caption_1
 28690 06:715C: 64 17        	stz	<L1180+caption_1+2
 28691 06:715E: A9 0A 00     	lda	#$a
 28692 06:7161: 85 19        	sta	<L1180+borderTitle_1
 28693 06:7163: A9 03 00     	lda	#$3
 28694 06:7166: 85 1B        	sta	<L1180+borderWidth_1
 28695 06:7168: 18           	clc
 28696 06:7169: A9 04 00     	lda	#$4
 28697 06:716C: 65 35        	adc	<L1179+cx_0
 28698 06:716E: 85 1D        	sta	<L1180+titleOffsetX_1
 28699 06:7170: 18           	clc
 28700 06:7171: A9 02 00     	lda	#$2
 28701 06:7174: 65 37        	adc	<L1179+cy_0
 28702 06:7176: 85 1F        	sta	<L1180+titleOffsetY_1
 28703 06:7178: 64 21        	stz	<L1180+titleScaler_1
 28704 06:717A: 18           	clc
 28705 06:717B: A5 35        	lda	<L1179+cx_0
  Mon Aug  9 2021 16:52                                                Page 531


 28706 06:717D: 65 1B        	adc	<L1180+borderWidth_1
 28707 06:717F: 85 01        	sta	<R0
 28708 06:7181: 18           	clc
 28709 06:7182: A9 02 00     	lda	#$2
 28710 06:7185: 65 01        	adc	<R0
 28711 06:7187: 85 23        	sta	<L1180+clientOffsetX_1
 28712 06:7189: 18           	clc
 28713 06:718A: A5 37        	lda	<L1179+cy_0
 28714 06:718C: 65 19        	adc	<L1180+borderTitle_1
 28715 06:718E: 85 01        	sta	<R0
 28716 06:7190: A5 01        	lda	<R0
 28717 06:7192: 1A           	ina
 28718 06:7193: 85 25        	sta	<L1180+clientOffsetY_1
 28719 06:7195: 18           	clc
 28720 06:7196: A5 39        	lda	<L1179+width_0
 28721 06:7198: 65 35        	adc	<L1179+cx_0
 28722 06:719A: 85 01        	sta	<R0
 28723 06:719C: 38           	sec
 28724 06:719D: A5 01        	lda	<R0
 28725 06:719F: E5 1B        	sbc	<L1180+borderWidth_1
 28726 06:71A1: 85 27        	sta	<L1180+endX_1
 28727                        	.line	5460
 28728                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 28729 06:71A3: A5 31        	lda	<L1179+selected_0
 28730 06:71A5: C9 FF FF     	cmp	#<$ffffffff
 28731 06:71A8: F0 03        	beq	L1182
 28732 06:71AA: 82 37 00     	brl	L10491
 28733                        L1182:
 28734 06:71AD: A5 33        	lda	<L1179+unselected_0
 28735 06:71AF: C9 FF FF     	cmp	#<$ffffffff
 28736 06:71B2: F0 03        	beq	L1183
 28737 06:71B4: 82 2D 00     	brl	L10491
 28738                        L1183:
 28739                        	.line	5461
 28740 06:71B7: F4 00 00     	pea	#<$0
 28741 06:71BA: D4 47        	pei	<L1179+bgcolor_0
 28742 06:71BC: D4 3B        	pei	<L1179+height_0
 28743 06:71BE: D4 39        	pei	<L1179+width_0
 28744 06:71C0: A0 00 00     	ldy	#$0
 28745 06:71C3: A5 37        	lda	<L1179+cy_0
 28746 06:71C5: 10 01        	bpl	L1184
 28747 06:71C7: 88           	dey
 28748                        L1184:
 28749 06:71C8: 85 01        	sta	<R0
 28750 06:71CA: 84 03        	sty	<R0+2
 28751 06:71CC: D4 03        	pei	<R0+2
 28752 06:71CE: D4 01        	pei	<R0
 28753 06:71D0: A0 00 00     	ldy	#$0
 28754 06:71D3: A5 35        	lda	<L1179+cx_0
 28755 06:71D5: 10 01        	bpl	L1185
 28756 06:71D7: 88           	dey
 28757                        L1185:
 28758 06:71D8: 85 05        	sta	<R1
 28759 06:71DA: 84 07        	sty	<R1+2
 28760 06:71DC: D4 07        	pei	<R1+2
 28761 06:71DE: D4 05        	pei	<R1
 28762 06:71E0: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
  Mon Aug  9 2021 16:52                                                Page 532


 28763                        ;
 28764                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 28765                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 28766                        ;	i = 0;
 28767                        L10491:
 28768                        	.line	5465
 28769 06:71E4: 64 11        	stz	<L1180+i_1
 28770                        ;	caption = captions[i];
 28771                        	.line	5466
 28772 06:71E6: A0 00 00     	ldy	#$0
 28773 06:71E9: A5 11        	lda	<L1180+i_1
 28774 06:71EB: 10 01        	bpl	L1186
 28775 06:71ED: 88           	dey
 28776                        L1186:
 28777 06:71EE: 85 05        	sta	<R1
 28778 06:71F0: 84 07        	sty	<R1+2
 28779 06:71F2: D4 07        	pei	<R1+2
 28780 06:71F4: D4 05        	pei	<R1
 28781 06:71F6: A9 02 00     	lda	#$2
 28782                        	xref	~~~lasl
 28783 06:71F9: 22 xx xx xx  	jsl	~~~lasl
 28784 06:71FD: 85 01        	sta	<R0
 28785 06:71FF: 86 03        	stx	<R0+2
 28786 06:7201: 18           	clc
 28787 06:7202: A5 3D        	lda	<L1179+captions_0
 28788 06:7204: 65 01        	adc	<R0
 28789 06:7206: 85 09        	sta	<R2
 28790 06:7208: A5 3F        	lda	<L1179+captions_0+2
 28791 06:720A: 65 03        	adc	<R0+2
 28792 06:720C: 85 0B        	sta	<R2+2
 28793 06:720E: A7 09        	lda	[<R2]
 28794 06:7210: 85 15        	sta	<L1180+caption_1
 28795 06:7212: A0 02 00     	ldy	#$2
 28796 06:7215: B7 09        	lda	[<R2],Y
 28797 06:7217: 85 17        	sta	<L1180+caption_1+2
 28798                        ;	while(caption!=NULL)
 28799                        	.line	5467
 28800                        L10492:
 28801 06:7219: A5 15        	lda	<L1180+caption_1
 28802 06:721B: 05 17        	ora	<L1180+caption_1+2
 28803 06:721D: D0 03        	bne	L1187
 28804 06:721F: 82 66 02     	brl	L10493
 28805                        L1187:
 28806                        ;	{
 28807                        	.line	5468
 28808                        ;		char chromeByte = chrome[i];
 28809                        ;		//if(chromeByte)
 28810                        ;		//	k_debug_strings("#### k_create_c
                    ontext_menu_in_window_ex:chrome:CHECKED:",caption);
 28811                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 28812                        ;
 28813                        ;		//caption = strupr(caption);
 28814                        ;
 28815                        ;		if(selected!=-1 && unselected!=-1)
 28816                        	.block	5476
  Mon Aug  9 2021 16:52                                                Page 533


 28817             0000001C   chromeByte_2	set	28
 28818                        	.sym	chromeByte,28,14,1,8
 28819 06:7222: E2 20        	sep	#$20
 28820                        	longa	off
 28821 06:7224: A4 11        	ldy	<L1180+i_1
 28822 06:7226: B7 41        	lda	[<L1179+chrome_0],Y
 28823 06:7228: 85 29        	sta	<L1180+chromeByte_2
 28824 06:722A: C2 20        	rep	#$20
 28825                        	longa	on
 28826                        	.line	5476
 28827                        ;		{
 28828 06:722C: A5 31        	lda	<L1179+selected_0
 28829 06:722E: C9 FF FF     	cmp	#<$ffffffff
 28830 06:7231: D0 03        	bne	L1189
 28831 06:7233: 82 38 01     	brl	L10494
 28832                        L1189:
 28833 06:7236: A5 33        	lda	<L1179+unselected_0
 28834 06:7238: C9 FF FF     	cmp	#<$ffffffff
 28835 06:723B: D0 03        	bne	L1190
 28836 06:723D: 82 2E 01     	brl	L10494
 28837                        L1190:
 28838                        	.line	5477
 28839                        ;			if( i == selected && caption[0] 
                    != '_' && caption[0] != ' ')
 28840                        	.line	5478
 28841                        ;			{
 28842 06:7240: A5 11        	lda	<L1180+i_1
 28843 06:7242: C5 31        	cmp	<L1179+selected_0
 28844 06:7244: F0 03        	beq	L1191
 28845 06:7246: 82 8E 00     	brl	L10495
 28846                        L1191:
 28847 06:7249: E2 20        	sep	#$20
 28848                        	longa	off
 28849 06:724B: A7 15        	lda	[<L1180+caption_1]
 28850 06:724D: C9 5F        	cmp	#<$5f
 28851 06:724F: C2 20        	rep	#$20
 28852                        	longa	on
 28853 06:7251: D0 03        	bne	L1192
 28854 06:7253: 82 81 00     	brl	L10495
 28855                        L1192:
 28856 06:7256: E2 20        	sep	#$20
 28857                        	longa	off
 28858 06:7258: A7 15        	lda	[<L1180+caption_1]
 28859 06:725A: C9 20        	cmp	#<$20
 28860 06:725C: C2 20        	rep	#$20
 28861                        	longa	on
 28862 06:725E: D0 03        	bne	L1193
 28863 06:7260: 82 74 00     	brl	L10495
 28864                        L1193:
 28865                        	.line	5479
 28866                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 28867                        	.line	5480
 28868 06:7263: F4 00 00     	pea	#<$0
 28869 06:7266: D4 45        	pei	<L1179+color_0
 28870 06:7268: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 28871 06:726C: 48           	pha
  Mon Aug  9 2021 16:52                                                Page 534


 28872 06:726D: A0 10 00     	ldy	#$10
 28873 06:7270: B7 2D        	lda	[<L1179+pWin_0],Y
 28874 06:7272: 48           	pha
 28875 06:7273: A0 00 00     	ldy	#$0
 28876 06:7276: A5 1F        	lda	<L1180+titleOffsetY_1
 28877 06:7278: 10 01        	bpl	L1194
 28878 06:727A: 88           	dey
 28879                        L1194:
 28880 06:727B: 85 01        	sta	<R0
 28881 06:727D: 84 03        	sty	<R0+2
 28882 06:727F: D4 03        	pei	<R0+2
 28883 06:7281: D4 01        	pei	<R0
 28884 06:7283: A0 00 00     	ldy	#$0
 28885 06:7286: 5A           	phy
 28886 06:7287: A0 0C 00     	ldy	#$c
 28887 06:728A: B7 2D        	lda	[<L1179+pWin_0],Y
 28888 06:728C: 7A           	ply
 28889 06:728D: 2A           	rol	A
 28890 06:728E: 6A           	ror	A
 28891 06:728F: 10 01        	bpl	L1195
 28892 06:7291: 88           	dey
 28893                        L1195:
 28894 06:7292: 85 05        	sta	<R1
 28895 06:7294: 84 07        	sty	<R1+2
 28896 06:7296: D4 07        	pei	<R1+2
 28897 06:7298: D4 05        	pei	<R1
 28898 06:729A: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28899                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 28900                        	.line	5481
 28901 06:729E: F4 00 00     	pea	#<$0
 28902 06:72A1: D4 47        	pei	<L1179+bgcolor_0
 28903 06:72A3: D4 1F        	pei	<L1180+titleOffsetY_1
 28904 06:72A5: D4 1D        	pei	<L1180+titleOffsetX_1
 28905 06:72A7: D4 17        	pei	<L1180+caption_1+2
 28906 06:72A9: D4 15        	pei	<L1180+caption_1
 28907 06:72AB: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 28908 06:72AF: 85 13        	sta	<L1180+dx_1
 28909                        ;				if(chromeByte)
 28910                        	.line	5482
 28911                        ;				{
 28912 06:72B1: A5 29        	lda	<L1180+chromeByte_2
 28913 06:72B3: 29 FF 00     	and	#$ff
 28914 06:72B6: D0 03        	bne	L1196
 28915 06:72B8: 82 19 00     	brl	L10496
 28916                        L1196:
 28917                        	.line	5483
 28918                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 28919                        	.line	5484
 28920 06:72BB: F4 00 00     	pea	#<$0
 28921 06:72BE: D4 47        	pei	<L1179+bgcolor_0
 28922 06:72C0: D4 1F        	pei	<L1180+titleOffsetY_1
 28923 06:72C2: 18           	clc
 28924 06:72C3: A5 1D        	lda	<L1180+titleOffsetX_1
 28925 06:72C5: 65 13        	adc	<L1180+dx_1
 28926 06:72C7: 48           	pha
  Mon Aug  9 2021 16:52                                                Page 535


 28927 06:72C8: F4 xx xx     	pea	#^L1178
 28928 06:72CB: F4 xx xx     	pea	#<L1178
 28929 06:72CE: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 28930 06:72D2: 85 13        	sta	<L1180+dx_1
 28931                        ;				}
 28932                        	.line	5485
 28933                        ;			}
 28934                        L10496:
 28935                        	.line	5486
 28936                        ;			else if( i == unselected && capt
                    ion[0] != '_' && caption[0] != ' ' )
 28937 06:72D4: 82 94 00     	brl	L10497
 28938                        L10495:
 28939                        	.line	5487
 28940                        ;			{
 28941 06:72D7: A5 11        	lda	<L1180+i_1
 28942 06:72D9: C5 33        	cmp	<L1179+unselected_0
 28943 06:72DB: F0 03        	beq	L1197
 28944 06:72DD: 82 8B 00     	brl	L10498
 28945                        L1197:
 28946 06:72E0: E2 20        	sep	#$20
 28947                        	longa	off
 28948 06:72E2: A7 15        	lda	[<L1180+caption_1]
 28949 06:72E4: C9 5F        	cmp	#<$5f
 28950 06:72E6: C2 20        	rep	#$20
 28951                        	longa	on
 28952 06:72E8: D0 03        	bne	L1198
 28953 06:72EA: 82 7E 00     	brl	L10498
 28954                        L1198:
 28955 06:72ED: E2 20        	sep	#$20
 28956                        	longa	off
 28957 06:72EF: A7 15        	lda	[<L1180+caption_1]
 28958 06:72F1: C9 20        	cmp	#<$20
 28959 06:72F3: C2 20        	rep	#$20
 28960                        	longa	on
 28961 06:72F5: D0 03        	bne	L1199
 28962 06:72F7: 82 71 00     	brl	L10498
 28963                        L1199:
 28964                        	.line	5488
 28965                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 28966                        	.line	5489
 28967 06:72FA: F4 00 00     	pea	#<$0
 28968 06:72FD: D4 47        	pei	<L1179+bgcolor_0
 28969 06:72FF: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 28970 06:7303: 48           	pha
 28971 06:7304: A0 10 00     	ldy	#$10
 28972 06:7307: B7 2D        	lda	[<L1179+pWin_0],Y
 28973 06:7309: 48           	pha
 28974 06:730A: A0 00 00     	ldy	#$0
 28975 06:730D: A5 1F        	lda	<L1180+titleOffsetY_1
 28976 06:730F: 10 01        	bpl	L1200
 28977 06:7311: 88           	dey
 28978                        L1200:
 28979 06:7312: 85 01        	sta	<R0
 28980 06:7314: 84 03        	sty	<R0+2
 28981 06:7316: D4 03        	pei	<R0+2
  Mon Aug  9 2021 16:52                                                Page 536


 28982 06:7318: D4 01        	pei	<R0
 28983 06:731A: A0 00 00     	ldy	#$0
 28984 06:731D: 5A           	phy
 28985 06:731E: A0 0C 00     	ldy	#$c
 28986 06:7321: B7 2D        	lda	[<L1179+pWin_0],Y
 28987 06:7323: 7A           	ply
 28988 06:7324: 2A           	rol	A
 28989 06:7325: 6A           	ror	A
 28990 06:7326: 10 01        	bpl	L1201
 28991 06:7328: 88           	dey
 28992                        L1201:
 28993 06:7329: 85 05        	sta	<R1
 28994 06:732B: 84 07        	sty	<R1+2
 28995 06:732D: D4 07        	pei	<R1+2
 28996 06:732F: D4 05        	pei	<R1
 28997 06:7331: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28998                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 28999                        	.line	5490
 29000 06:7335: F4 00 00     	pea	#<$0
 29001 06:7338: D4 45        	pei	<L1179+color_0
 29002 06:733A: D4 1F        	pei	<L1180+titleOffsetY_1
 29003 06:733C: D4 1D        	pei	<L1180+titleOffsetX_1
 29004 06:733E: D4 17        	pei	<L1180+caption_1+2
 29005 06:7340: D4 15        	pei	<L1180+caption_1
 29006 06:7342: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 29007 06:7346: 85 13        	sta	<L1180+dx_1
 29008                        ;				if(chromeByte)
 29009                        	.line	5491
 29010                        ;				{
 29011 06:7348: A5 29        	lda	<L1180+chromeByte_2
 29012 06:734A: 29 FF 00     	and	#$ff
 29013 06:734D: D0 03        	bne	L1202
 29014 06:734F: 82 19 00     	brl	L10499
 29015                        L1202:
 29016                        	.line	5492
 29017                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 29018                        	.line	5493
 29019 06:7352: F4 00 00     	pea	#<$0
 29020 06:7355: D4 45        	pei	<L1179+color_0
 29021 06:7357: D4 1F        	pei	<L1180+titleOffsetY_1
 29022 06:7359: 18           	clc
 29023 06:735A: A5 1D        	lda	<L1180+titleOffsetX_1
 29024 06:735C: 65 13        	adc	<L1180+dx_1
 29025 06:735E: 48           	pha
 29026 06:735F: F4 xx xx     	pea	#^L1178+2
 29027 06:7362: F4 xx xx     	pea	#<L1178+2
 29028 06:7365: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 29029 06:7369: 85 13        	sta	<L1180+dx_1
 29030                        ;				}
 29031                        	.line	5494
 29032                        ;			}
 29033                        L10499:
 29034                        	.line	5495
 29035                        ;
 29036                        ;		}
  Mon Aug  9 2021 16:52                                                Page 537


 29037                        L10498:
 29038                        L10497:
 29039                        	.line	5497
 29040                        ;		else
 29041 06:736B: 82 CD 00     	brl	L10500
 29042                        L10494:
 29043                        ;		{
 29044                        	.line	5499
 29045                        ;			if( i == selected && caption[0] 
                    != '_' && caption[0] != ' ')
 29046                        	.line	5500
 29047                        ;			{
 29048 06:736E: A5 11        	lda	<L1180+i_1
 29049 06:7370: C5 31        	cmp	<L1179+selected_0
 29050 06:7372: F0 03        	beq	L1203
 29051 06:7374: 82 8E 00     	brl	L10501
 29052                        L1203:
 29053 06:7377: E2 20        	sep	#$20
 29054                        	longa	off
 29055 06:7379: A7 15        	lda	[<L1180+caption_1]
 29056 06:737B: C9 5F        	cmp	#<$5f
 29057 06:737D: C2 20        	rep	#$20
 29058                        	longa	on
 29059 06:737F: D0 03        	bne	L1204
 29060 06:7381: 82 81 00     	brl	L10501
 29061                        L1204:
 29062 06:7384: E2 20        	sep	#$20
 29063                        	longa	off
 29064 06:7386: A7 15        	lda	[<L1180+caption_1]
 29065 06:7388: C9 20        	cmp	#<$20
 29066 06:738A: C2 20        	rep	#$20
 29067                        	longa	on
 29068 06:738C: D0 03        	bne	L1205
 29069 06:738E: 82 74 00     	brl	L10501
 29070                        L1205:
 29071                        	.line	5501
 29072                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 29073                        	.line	5502
 29074 06:7391: F4 00 00     	pea	#<$0
 29075 06:7394: D4 45        	pei	<L1179+color_0
 29076 06:7396: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 29077 06:739A: 48           	pha
 29078 06:739B: A0 10 00     	ldy	#$10
 29079 06:739E: B7 2D        	lda	[<L1179+pWin_0],Y
 29080 06:73A0: 48           	pha
 29081 06:73A1: A0 00 00     	ldy	#$0
 29082 06:73A4: A5 1F        	lda	<L1180+titleOffsetY_1
 29083 06:73A6: 10 01        	bpl	L1206
 29084 06:73A8: 88           	dey
 29085                        L1206:
 29086 06:73A9: 85 01        	sta	<R0
 29087 06:73AB: 84 03        	sty	<R0+2
 29088 06:73AD: D4 03        	pei	<R0+2
 29089 06:73AF: D4 01        	pei	<R0
 29090 06:73B1: A0 00 00     	ldy	#$0
 29091 06:73B4: 5A           	phy
  Mon Aug  9 2021 16:52                                                Page 538


 29092 06:73B5: A0 0C 00     	ldy	#$c
 29093 06:73B8: B7 2D        	lda	[<L1179+pWin_0],Y
 29094 06:73BA: 7A           	ply
 29095 06:73BB: 2A           	rol	A
 29096 06:73BC: 6A           	ror	A
 29097 06:73BD: 10 01        	bpl	L1207
 29098 06:73BF: 88           	dey
 29099                        L1207:
 29100 06:73C0: 85 05        	sta	<R1
 29101 06:73C2: 84 07        	sty	<R1+2
 29102 06:73C4: D4 07        	pei	<R1+2
 29103 06:73C6: D4 05        	pei	<R1
 29104 06:73C8: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 29105                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 29106                        	.line	5503
 29107 06:73CC: F4 00 00     	pea	#<$0
 29108 06:73CF: D4 47        	pei	<L1179+bgcolor_0
 29109 06:73D1: D4 1F        	pei	<L1180+titleOffsetY_1
 29110 06:73D3: D4 1D        	pei	<L1180+titleOffsetX_1
 29111 06:73D5: D4 17        	pei	<L1180+caption_1+2
 29112 06:73D7: D4 15        	pei	<L1180+caption_1
 29113 06:73D9: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 29114 06:73DD: 85 13        	sta	<L1180+dx_1
 29115                        ;				if(chromeByte)
 29116                        	.line	5504
 29117                        ;				{
 29118 06:73DF: A5 29        	lda	<L1180+chromeByte_2
 29119 06:73E1: 29 FF 00     	and	#$ff
 29120 06:73E4: D0 03        	bne	L1208
 29121 06:73E6: 82 19 00     	brl	L10502
 29122                        L1208:
 29123                        	.line	5505
 29124                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 29125                        	.line	5506
 29126 06:73E9: F4 00 00     	pea	#<$0
 29127 06:73EC: D4 47        	pei	<L1179+bgcolor_0
 29128 06:73EE: D4 1F        	pei	<L1180+titleOffsetY_1
 29129 06:73F0: 18           	clc
 29130 06:73F1: A5 1D        	lda	<L1180+titleOffsetX_1
 29131 06:73F3: 65 13        	adc	<L1180+dx_1
 29132 06:73F5: 48           	pha
 29133 06:73F6: F4 xx xx     	pea	#^L1178+4
 29134 06:73F9: F4 xx xx     	pea	#<L1178+4
 29135 06:73FC: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 29136 06:7400: 85 13        	sta	<L1180+dx_1
 29137                        ;				}
 29138                        	.line	5507
 29139                        ;			}
 29140                        L10502:
 29141                        	.line	5508
 29142                        ;			else
 29143 06:7402: 82 36 00     	brl	L10503
 29144                        L10501:
 29145                        ;			{
 29146                        	.line	5510
  Mon Aug  9 2021 16:52                                                Page 539


 29147                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 29148                        	.line	5511
 29149 06:7405: F4 00 00     	pea	#<$0
 29150 06:7408: D4 45        	pei	<L1179+color_0
 29151 06:740A: D4 1F        	pei	<L1180+titleOffsetY_1
 29152 06:740C: D4 1D        	pei	<L1180+titleOffsetX_1
 29153 06:740E: D4 17        	pei	<L1180+caption_1+2
 29154 06:7410: D4 15        	pei	<L1180+caption_1
 29155 06:7412: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 29156 06:7416: 85 13        	sta	<L1180+dx_1
 29157                        ;				if(chromeByte)
 29158                        	.line	5512
 29159                        ;				{
 29160 06:7418: A5 29        	lda	<L1180+chromeByte_2
 29161 06:741A: 29 FF 00     	and	#$ff
 29162 06:741D: D0 03        	bne	L1209
 29163 06:741F: 82 19 00     	brl	L10504
 29164                        L1209:
 29165                        	.line	5513
 29166                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 29167                        	.line	5514
 29168 06:7422: F4 00 00     	pea	#<$0
 29169 06:7425: D4 45        	pei	<L1179+color_0
 29170 06:7427: D4 1F        	pei	<L1180+titleOffsetY_1
 29171 06:7429: 18           	clc
 29172 06:742A: A5 1D        	lda	<L1180+titleOffsetX_1
 29173 06:742C: 65 13        	adc	<L1180+dx_1
 29174 06:742E: 48           	pha
 29175 06:742F: F4 xx xx     	pea	#^L1178+6
 29176 06:7432: F4 xx xx     	pea	#<L1178+6
 29177 06:7435: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 29178 06:7439: 85 13        	sta	<L1180+dx_1
 29179                        ;				}
 29180                        	.line	5515
 29181                        ;
 29182                        ;			}
 29183                        L10504:
 29184                        	.line	5517
 29185                        L10503:
 29186                        ;		}
 29187                        	.line	5518
 29188                        L10500:
 29189                        ;		titleOffsetY+=(FONTH + 2);
 29190                        	.line	5519
 29191 06:743B: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 29192 06:743F: 85 01        	sta	<R0
 29193 06:7441: 18           	clc
 29194 06:7442: A5 01        	lda	<R0
 29195 06:7444: 65 1F        	adc	<L1180+titleOffsetY_1
 29196 06:7446: 85 05        	sta	<R1
 29197 06:7448: 18           	clc
 29198 06:7449: A9 02 00     	lda	#$2
 29199 06:744C: 65 05        	adc	<R1
 29200 06:744E: 85 1F        	sta	<L1180+titleOffsetY_1
 29201                        ;		i++;
  Mon Aug  9 2021 16:52                                                Page 540


 29202                        	.line	5520
 29203 06:7450: E6 11        	inc	<L1180+i_1
 29204                        ;		caption = captions[i];
 29205                        	.line	5521
 29206 06:7452: A0 00 00     	ldy	#$0
 29207 06:7455: A5 11        	lda	<L1180+i_1
 29208 06:7457: 10 01        	bpl	L1210
 29209 06:7459: 88           	dey
 29210                        L1210:
 29211 06:745A: 85 05        	sta	<R1
 29212 06:745C: 84 07        	sty	<R1+2
 29213 06:745E: D4 07        	pei	<R1+2
 29214 06:7460: D4 05        	pei	<R1
 29215 06:7462: A9 02 00     	lda	#$2
 29216                        	xref	~~~lasl
 29217 06:7465: 22 xx xx xx  	jsl	~~~lasl
 29218 06:7469: 85 01        	sta	<R0
 29219 06:746B: 86 03        	stx	<R0+2
 29220 06:746D: 18           	clc
 29221 06:746E: A5 3D        	lda	<L1179+captions_0
 29222 06:7470: 65 01        	adc	<R0
 29223 06:7472: 85 09        	sta	<R2
 29224 06:7474: A5 3F        	lda	<L1179+captions_0+2
 29225 06:7476: 65 03        	adc	<R0+2
 29226 06:7478: 85 0B        	sta	<R2+2
 29227 06:747A: A7 09        	lda	[<R2]
 29228 06:747C: 85 15        	sta	<L1180+caption_1
 29229 06:747E: A0 02 00     	ldy	#$2
 29230 06:7481: B7 09        	lda	[<R2],Y
 29231 06:7483: 85 17        	sta	<L1180+caption_1+2
 29232                        ;	}
 29233                        	.endblock	5522
 29234                        	.line	5522
 29235 06:7485: 82 91 FD     	brl	L10492
 29236                        L10493:
 29237                        ;
 29238                        ;	return NULL;
 29239                        	.line	5524
 29240 06:7488: A9 00 00     	lda	#$0
 29241 06:748B: AA           	tax
 29242 06:748C: A9 00 00     	lda	#$0
 29243                        L1211:
 29244 06:748F: A8           	tay
 29245 06:7490: A5 2B        	lda	<L1179+2
 29246 06:7492: 85 47        	sta	<L1179+2+28
 29247 06:7494: A5 2A        	lda	<L1179+1
 29248 06:7496: 85 46        	sta	<L1179+1+28
 29249 06:7498: 2B           	pld
 29250 06:7499: 3B           	tsc
 29251 06:749A: 18           	clc
 29252 06:749B: 69 45 00     	adc	#L1179+28
 29253 06:749E: 1B           	tcs
 29254 06:749F: 98           	tya
 29255 06:74A0: 6B           	rtl
 29256                        ;
 29257                        ;}
 29258                        	.line	5526
 29259                        	.endblock	5526
  Mon Aug  9 2021 16:52                                                Page 541


 29260             00000029   L1179	equ	41
 29261             0000000D   L1180	equ	13
 29262 06:74A1:              	ends
 29263                        	efunc
 29264                        	.endfunc	5526,13,41
 29265                        	.line	5526
 29266                        	data
 29267                        L1178:
 29268 00:0CAB: 2A 00 2A 00  	db	$2A,$00,$2A,$00,$2A,$00,$2A,$00
       00:0CAF: 2A 00 2A 00 
 29269 00:0CB3:              	ends
 29270                        ;
 29271                        ;PMENU k_create_context_menu_in_window(PWINDOW pWi
                    n,UINT selected,UINT unselected,
 29272                        ;		                              int cx,int
                     cy,int width,int height,
 29273                        ;							
                    		  char FAR **captions,int color, int bgcolor)
 29274                        ;{
 29275                        	.line	5528
 29276                        	.line	5531
 29277                        	GFX
 29278                        	xdef	~~k_create_context_menu_in_window
 29279                        	func
 29280                        	.function	5531
 29281                        ~~k_create_context_menu_in_window:
 29282                        	longa	on
 29283                        	longi	on
 29284 06:74A1: 3B           	tsc
 29285 06:74A2: 38           	sec
 29286 06:74A3: E9 28 00     	sbc	#L1213
 29287 06:74A6: 1B           	tcs
 29288 06:74A7: 0B           	phd
 29289 06:74A8: 5B           	tcd
 29290             00000004   pWin_0	set	4
 29291             00000008   selected_0	set	8
 29292             0000000A   unselected_0	set	10
 29293             0000000C   cx_0	set	12
 29294             0000000E   cy_0	set	14
 29295             00000010   width_0	set	16
 29296             00000012   height_0	set	18
 29297             00000014   captions_0	set	20
 29298             00000018   color_0	set	24
 29299             0000001A   bgcolor_0	set	26
 29300                        	.block	5531
 29301                        ;	FONTMETRIC metric;
 29302                        ;
 29303                        ;	int i = 0;
 29304                        ;	int hy = 0;
 29305                        ;	char FAR *caption = NULL;
 29306                        ;
 29307                        ;	int borderTitle = 10;
 29308                        ;	int borderWidth = 3;
 29309                        ;
 29310                        ;	int titleOffsetX = cx+4;
 29311                        ;	int titleOffsetY = cy+2;
 29312                        ;	int titleScaler = 0;
 29313                        ;
  Mon Aug  9 2021 16:52                                                Page 542


 29314                        ;	int clientOffsetX = cx+borderWidth+2;
 29315                        ;	int clientOffsetY = cy+borderTitle+1;
 29316                        ;
 29317                        ;	int endX = width + cx - borderWidth;
 29318                        ;
 29319                        ;
 29320                        ;	if(selected == -1 && unselected == -1)
 29321             00000000   metric_1	set	0
 29322             00000004   i_1	set	4
 29323             00000006   hy_1	set	6
 29324             00000008   caption_1	set	8
 29325             0000000C   borderTitle_1	set	12
 29326             0000000E   borderWidth_1	set	14
 29327             00000010   titleOffsetX_1	set	16
 29328             00000012   titleOffsetY_1	set	18
 29329             00000014   titleScaler_1	set	20
 29330             00000016   clientOffsetX_1	set	22
 29331             00000018   clientOffsetY_1	set	24
 29332             0000001A   endX_1	set	26
 29333                        	.sym	metric,0,10,1,32,35
 29334                        	.sym	i,4,5,1,16
 29335                        	.sym	hy,6,5,1,16
 29336                        	.sym	caption,8,142,1,32
 29337                        	.sym	borderTitle,12,5,1,16
 29338                        	.sym	borderWidth,14,5,1,16
 29339                        	.sym	titleOffsetX,16,5,1,16
 29340                        	.sym	titleOffsetY,18,5,1,16
 29341                        	.sym	titleScaler,20,5,1,16
 29342                        	.sym	clientOffsetX,22,5,1,16
 29343                        	.sym	clientOffsetY,24,5,1,16
 29344                        	.sym	endX,26,5,1,16
 29345                        	.sym	pWin,4,138,6,32,33
 29346                        	.sym	selected,8,16,6,16
 29347                        	.sym	unselected,10,16,6,16
 29348                        	.sym	cx,12,5,6,16
 29349                        	.sym	cy,14,5,6,16
 29350                        	.sym	width,16,5,6,16
 29351                        	.sym	height,18,5,6,16
 29352                        	.sym	captions,20,1166,6,32
 29353                        	.sym	color,24,5,6,16
 29354                        	.sym	bgcolor,26,5,6,16
 29355 06:74A9: 64 11        	stz	<L1214+i_1
 29356 06:74AB: 64 13        	stz	<L1214+hy_1
 29357 06:74AD: 64 15        	stz	<L1214+caption_1
 29358 06:74AF: 64 17        	stz	<L1214+caption_1+2
 29359 06:74B1: A9 0A 00     	lda	#$a
 29360 06:74B4: 85 19        	sta	<L1214+borderTitle_1
 29361 06:74B6: A9 03 00     	lda	#$3
 29362 06:74B9: 85 1B        	sta	<L1214+borderWidth_1
 29363 06:74BB: 18           	clc
 29364 06:74BC: A9 04 00     	lda	#$4
 29365 06:74BF: 65 34        	adc	<L1213+cx_0
 29366 06:74C1: 85 1D        	sta	<L1214+titleOffsetX_1
 29367 06:74C3: 18           	clc
 29368 06:74C4: A9 02 00     	lda	#$2
 29369 06:74C7: 65 36        	adc	<L1213+cy_0
 29370 06:74C9: 85 1F        	sta	<L1214+titleOffsetY_1
 29371 06:74CB: 64 21        	stz	<L1214+titleScaler_1
  Mon Aug  9 2021 16:52                                                Page 543


 29372 06:74CD: 18           	clc
 29373 06:74CE: A5 34        	lda	<L1213+cx_0
 29374 06:74D0: 65 1B        	adc	<L1214+borderWidth_1
 29375 06:74D2: 85 01        	sta	<R0
 29376 06:74D4: 18           	clc
 29377 06:74D5: A9 02 00     	lda	#$2
 29378 06:74D8: 65 01        	adc	<R0
 29379 06:74DA: 85 23        	sta	<L1214+clientOffsetX_1
 29380 06:74DC: 18           	clc
 29381 06:74DD: A5 36        	lda	<L1213+cy_0
 29382 06:74DF: 65 19        	adc	<L1214+borderTitle_1
 29383 06:74E1: 85 01        	sta	<R0
 29384 06:74E3: A5 01        	lda	<R0
 29385 06:74E5: 1A           	ina
 29386 06:74E6: 85 25        	sta	<L1214+clientOffsetY_1
 29387 06:74E8: 18           	clc
 29388 06:74E9: A5 38        	lda	<L1213+width_0
 29389 06:74EB: 65 34        	adc	<L1213+cx_0
 29390 06:74ED: 85 01        	sta	<R0
 29391 06:74EF: 38           	sec
 29392 06:74F0: A5 01        	lda	<R0
 29393 06:74F2: E5 1B        	sbc	<L1214+borderWidth_1
 29394 06:74F4: 85 27        	sta	<L1214+endX_1
 29395                        	.line	5551
 29396                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 29397 06:74F6: A5 30        	lda	<L1213+selected_0
 29398 06:74F8: C9 FF FF     	cmp	#<$ffffffff
 29399 06:74FB: F0 03        	beq	L1216
 29400 06:74FD: 82 37 00     	brl	L10505
 29401                        L1216:
 29402 06:7500: A5 32        	lda	<L1213+unselected_0
 29403 06:7502: C9 FF FF     	cmp	#<$ffffffff
 29404 06:7505: F0 03        	beq	L1217
 29405 06:7507: 82 2D 00     	brl	L10505
 29406                        L1217:
 29407                        	.line	5552
 29408 06:750A: F4 00 00     	pea	#<$0
 29409 06:750D: D4 42        	pei	<L1213+bgcolor_0
 29410 06:750F: D4 3A        	pei	<L1213+height_0
 29411 06:7511: D4 38        	pei	<L1213+width_0
 29412 06:7513: A0 00 00     	ldy	#$0
 29413 06:7516: A5 36        	lda	<L1213+cy_0
 29414 06:7518: 10 01        	bpl	L1218
 29415 06:751A: 88           	dey
 29416                        L1218:
 29417 06:751B: 85 01        	sta	<R0
 29418 06:751D: 84 03        	sty	<R0+2
 29419 06:751F: D4 03        	pei	<R0+2
 29420 06:7521: D4 01        	pei	<R0
 29421 06:7523: A0 00 00     	ldy	#$0
 29422 06:7526: A5 34        	lda	<L1213+cx_0
 29423 06:7528: 10 01        	bpl	L1219
 29424 06:752A: 88           	dey
 29425                        L1219:
 29426 06:752B: 85 05        	sta	<R1
 29427 06:752D: 84 07        	sty	<R1+2
 29428 06:752F: D4 07        	pei	<R1+2
  Mon Aug  9 2021 16:52                                                Page 544


 29429 06:7531: D4 05        	pei	<R1
 29430 06:7533: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 29431                        ;
 29432                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 29433                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 29434                        ;	i = 0;
 29435                        L10505:
 29436                        	.line	5556
 29437 06:7537: 64 11        	stz	<L1214+i_1
 29438                        ;	caption = captions[i];
 29439                        	.line	5557
 29440 06:7539: A0 00 00     	ldy	#$0
 29441 06:753C: A5 11        	lda	<L1214+i_1
 29442 06:753E: 10 01        	bpl	L1220
 29443 06:7540: 88           	dey
 29444                        L1220:
 29445 06:7541: 85 05        	sta	<R1
 29446 06:7543: 84 07        	sty	<R1+2
 29447 06:7545: D4 07        	pei	<R1+2
 29448 06:7547: D4 05        	pei	<R1
 29449 06:7549: A9 02 00     	lda	#$2
 29450                        	xref	~~~lasl
 29451 06:754C: 22 xx xx xx  	jsl	~~~lasl
 29452 06:7550: 85 01        	sta	<R0
 29453 06:7552: 86 03        	stx	<R0+2
 29454 06:7554: 18           	clc
 29455 06:7555: A5 3C        	lda	<L1213+captions_0
 29456 06:7557: 65 01        	adc	<R0
 29457 06:7559: 85 09        	sta	<R2
 29458 06:755B: A5 3E        	lda	<L1213+captions_0+2
 29459 06:755D: 65 03        	adc	<R0+2
 29460 06:755F: 85 0B        	sta	<R2+2
 29461 06:7561: A7 09        	lda	[<R2]
 29462 06:7563: 85 15        	sta	<L1214+caption_1
 29463 06:7565: A0 02 00     	ldy	#$2
 29464 06:7568: B7 09        	lda	[<R2],Y
 29465 06:756A: 85 17        	sta	<L1214+caption_1+2
 29466                        ;	while(caption!=NULL)
 29467                        	.line	5558
 29468                        L10506:
 29469 06:756C: A5 15        	lda	<L1214+caption_1
 29470 06:756E: 05 17        	ora	<L1214+caption_1+2
 29471 06:7570: D0 03        	bne	L1221
 29472 06:7572: 82 A9 01     	brl	L10507
 29473                        L1221:
 29474                        ;	{
 29475                        	.line	5559
 29476                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 29477                        ;
 29478                        ;		//caption = strupr(caption);
 29479                        ;
 29480                        ;		if(selected!=-1 && unselected!=-1)
 29481                        	.line	5564
 29482                        ;		{
 29483 06:7575: A5 30        	lda	<L1213+selected_0
  Mon Aug  9 2021 16:52                                                Page 545


 29484 06:7577: C9 FF FF     	cmp	#<$ffffffff
 29485 06:757A: D0 03        	bne	L1222
 29486 06:757C: 82 D8 00     	brl	L10508
 29487                        L1222:
 29488 06:757F: A5 32        	lda	<L1213+unselected_0
 29489 06:7581: C9 FF FF     	cmp	#<$ffffffff
 29490 06:7584: D0 03        	bne	L1223
 29491 06:7586: 82 CE 00     	brl	L10508
 29492                        L1223:
 29493                        	.line	5565
 29494                        ;			if( i == selected && caption[0] 
                    != '_')
 29495                        	.line	5566
 29496                        ;			{
 29497 06:7589: A5 11        	lda	<L1214+i_1
 29498 06:758B: C5 30        	cmp	<L1213+selected_0
 29499 06:758D: F0 03        	beq	L1224
 29500 06:758F: 82 5E 00     	brl	L10509
 29501                        L1224:
 29502 06:7592: E2 20        	sep	#$20
 29503                        	longa	off
 29504 06:7594: A7 15        	lda	[<L1214+caption_1]
 29505 06:7596: C9 5F        	cmp	#<$5f
 29506 06:7598: C2 20        	rep	#$20
 29507                        	longa	on
 29508 06:759A: D0 03        	bne	L1225
 29509 06:759C: 82 51 00     	brl	L10509
 29510                        L1225:
 29511                        	.line	5567
 29512                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 29513                        	.line	5568
 29514 06:759F: F4 00 00     	pea	#<$0
 29515 06:75A2: D4 40        	pei	<L1213+color_0
 29516 06:75A4: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 29517 06:75A8: 48           	pha
 29518 06:75A9: A0 10 00     	ldy	#$10
 29519 06:75AC: B7 2C        	lda	[<L1213+pWin_0],Y
 29520 06:75AE: 48           	pha
 29521 06:75AF: A0 00 00     	ldy	#$0
 29522 06:75B2: A5 1F        	lda	<L1214+titleOffsetY_1
 29523 06:75B4: 10 01        	bpl	L1226
 29524 06:75B6: 88           	dey
 29525                        L1226:
 29526 06:75B7: 85 01        	sta	<R0
 29527 06:75B9: 84 03        	sty	<R0+2
 29528 06:75BB: D4 03        	pei	<R0+2
 29529 06:75BD: D4 01        	pei	<R0
 29530 06:75BF: A0 00 00     	ldy	#$0
 29531 06:75C2: 5A           	phy
 29532 06:75C3: A0 0C 00     	ldy	#$c
 29533 06:75C6: B7 2C        	lda	[<L1213+pWin_0],Y
 29534 06:75C8: 7A           	ply
 29535 06:75C9: 2A           	rol	A
 29536 06:75CA: 6A           	ror	A
 29537 06:75CB: 10 01        	bpl	L1227
 29538 06:75CD: 88           	dey
  Mon Aug  9 2021 16:52                                                Page 546


 29539                        L1227:
 29540 06:75CE: 85 05        	sta	<R1
 29541 06:75D0: 84 07        	sty	<R1+2
 29542 06:75D2: D4 07        	pei	<R1+2
 29543 06:75D4: D4 05        	pei	<R1
 29544 06:75D6: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 29545                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 29546                        	.line	5569
 29547 06:75DA: F4 00 00     	pea	#<$0
 29548 06:75DD: D4 42        	pei	<L1213+bgcolor_0
 29549 06:75DF: D4 1F        	pei	<L1214+titleOffsetY_1
 29550 06:75E1: D4 1D        	pei	<L1214+titleOffsetX_1
 29551 06:75E3: D4 17        	pei	<L1214+caption_1+2
 29552 06:75E5: D4 15        	pei	<L1214+caption_1
 29553 06:75E7: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 29554 06:75EB: 85 13        	sta	<L1214+hy_1
 29555                        ;			}
 29556                        	.line	5570
 29557                        ;			else if( i == unselected && capt
                    ion[0] != '_')
 29558 06:75ED: 82 64 00     	brl	L10510
 29559                        L10509:
 29560                        	.line	5571
 29561                        ;			{
 29562 06:75F0: A5 11        	lda	<L1214+i_1
 29563 06:75F2: C5 32        	cmp	<L1213+unselected_0
 29564 06:75F4: F0 03        	beq	L1228
 29565 06:75F6: 82 5B 00     	brl	L10511
 29566                        L1228:
 29567 06:75F9: E2 20        	sep	#$20
 29568                        	longa	off
 29569 06:75FB: A7 15        	lda	[<L1214+caption_1]
 29570 06:75FD: C9 5F        	cmp	#<$5f
 29571 06:75FF: C2 20        	rep	#$20
 29572                        	longa	on
 29573 06:7601: D0 03        	bne	L1229
 29574 06:7603: 82 4E 00     	brl	L10511
 29575                        L1229:
 29576                        	.line	5572
 29577                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 29578                        	.line	5573
 29579 06:7606: F4 00 00     	pea	#<$0
 29580 06:7609: D4 42        	pei	<L1213+bgcolor_0
 29581 06:760B: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 29582 06:760F: 48           	pha
 29583 06:7610: A0 10 00     	ldy	#$10
 29584 06:7613: B7 2C        	lda	[<L1213+pWin_0],Y
 29585 06:7615: 48           	pha
 29586 06:7616: A0 00 00     	ldy	#$0
 29587 06:7619: A5 1F        	lda	<L1214+titleOffsetY_1
 29588 06:761B: 10 01        	bpl	L1230
 29589 06:761D: 88           	dey
 29590                        L1230:
 29591 06:761E: 85 01        	sta	<R0
 29592 06:7620: 84 03        	sty	<R0+2
  Mon Aug  9 2021 16:52                                                Page 547


 29593 06:7622: D4 03        	pei	<R0+2
 29594 06:7624: D4 01        	pei	<R0
 29595 06:7626: A0 00 00     	ldy	#$0
 29596 06:7629: 5A           	phy
 29597 06:762A: A0 0C 00     	ldy	#$c
 29598 06:762D: B7 2C        	lda	[<L1213+pWin_0],Y
 29599 06:762F: 7A           	ply
 29600 06:7630: 2A           	rol	A
 29601 06:7631: 6A           	ror	A
 29602 06:7632: 10 01        	bpl	L1231
 29603 06:7634: 88           	dey
 29604                        L1231:
 29605 06:7635: 85 05        	sta	<R1
 29606 06:7637: 84 07        	sty	<R1+2
 29607 06:7639: D4 07        	pei	<R1+2
 29608 06:763B: D4 05        	pei	<R1
 29609 06:763D: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 29610                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 29611                        	.line	5574
 29612 06:7641: F4 00 00     	pea	#<$0
 29613 06:7644: D4 40        	pei	<L1213+color_0
 29614 06:7646: D4 1F        	pei	<L1214+titleOffsetY_1
 29615 06:7648: D4 1D        	pei	<L1214+titleOffsetX_1
 29616 06:764A: D4 17        	pei	<L1214+caption_1+2
 29617 06:764C: D4 15        	pei	<L1214+caption_1
 29618 06:764E: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 29619 06:7652: 85 13        	sta	<L1214+hy_1
 29620                        ;			}
 29621                        	.line	5575
 29622                        ;
 29623                        ;		}
 29624                        L10511:
 29625                        L10510:
 29626                        	.line	5577
 29627                        ;		else
 29628 06:7654: 82 7A 00     	brl	L10512
 29629                        L10508:
 29630                        ;		{
 29631                        	.line	5579
 29632                        ;			if( i == selected && caption[0] 
                    != '_')
 29633                        	.line	5580
 29634                        ;			{
 29635 06:7657: A5 11        	lda	<L1214+i_1
 29636 06:7659: C5 30        	cmp	<L1213+selected_0
 29637 06:765B: F0 03        	beq	L1232
 29638 06:765D: 82 5E 00     	brl	L10513
 29639                        L1232:
 29640 06:7660: E2 20        	sep	#$20
 29641                        	longa	off
 29642 06:7662: A7 15        	lda	[<L1214+caption_1]
 29643 06:7664: C9 5F        	cmp	#<$5f
 29644 06:7666: C2 20        	rep	#$20
 29645                        	longa	on
 29646 06:7668: D0 03        	bne	L1233
 29647 06:766A: 82 51 00     	brl	L10513
 29648                        L1233:
  Mon Aug  9 2021 16:52                                                Page 548


 29649                        	.line	5581
 29650                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 29651                        	.line	5582
 29652 06:766D: F4 00 00     	pea	#<$0
 29653 06:7670: D4 40        	pei	<L1213+color_0
 29654 06:7672: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 29655 06:7676: 48           	pha
 29656 06:7677: A0 10 00     	ldy	#$10
 29657 06:767A: B7 2C        	lda	[<L1213+pWin_0],Y
 29658 06:767C: 48           	pha
 29659 06:767D: A0 00 00     	ldy	#$0
 29660 06:7680: A5 1F        	lda	<L1214+titleOffsetY_1
 29661 06:7682: 10 01        	bpl	L1234
 29662 06:7684: 88           	dey
 29663                        L1234:
 29664 06:7685: 85 01        	sta	<R0
 29665 06:7687: 84 03        	sty	<R0+2
 29666 06:7689: D4 03        	pei	<R0+2
 29667 06:768B: D4 01        	pei	<R0
 29668 06:768D: A0 00 00     	ldy	#$0
 29669 06:7690: 5A           	phy
 29670 06:7691: A0 0C 00     	ldy	#$c
 29671 06:7694: B7 2C        	lda	[<L1213+pWin_0],Y
 29672 06:7696: 7A           	ply
 29673 06:7697: 2A           	rol	A
 29674 06:7698: 6A           	ror	A
 29675 06:7699: 10 01        	bpl	L1235
 29676 06:769B: 88           	dey
 29677                        L1235:
 29678 06:769C: 85 05        	sta	<R1
 29679 06:769E: 84 07        	sty	<R1+2
 29680 06:76A0: D4 07        	pei	<R1+2
 29681 06:76A2: D4 05        	pei	<R1
 29682 06:76A4: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 29683                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 29684                        	.line	5583
 29685 06:76A8: F4 00 00     	pea	#<$0
 29686 06:76AB: D4 42        	pei	<L1213+bgcolor_0
 29687 06:76AD: D4 1F        	pei	<L1214+titleOffsetY_1
 29688 06:76AF: D4 1D        	pei	<L1214+titleOffsetX_1
 29689 06:76B1: D4 17        	pei	<L1214+caption_1+2
 29690 06:76B3: D4 15        	pei	<L1214+caption_1
 29691 06:76B5: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 29692 06:76B9: 85 13        	sta	<L1214+hy_1
 29693                        ;			}
 29694                        	.line	5584
 29695                        ;			else
 29696 06:76BB: 82 13 00     	brl	L10514
 29697                        L10513:
 29698                        ;			{
 29699                        	.line	5586
 29700                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 29701                        	.line	5587
 29702 06:76BE: F4 00 00     	pea	#<$0
  Mon Aug  9 2021 16:52                                                Page 549


 29703 06:76C1: D4 40        	pei	<L1213+color_0
 29704 06:76C3: D4 1F        	pei	<L1214+titleOffsetY_1
 29705 06:76C5: D4 1D        	pei	<L1214+titleOffsetX_1
 29706 06:76C7: D4 17        	pei	<L1214+caption_1+2
 29707 06:76C9: D4 15        	pei	<L1214+caption_1
 29708 06:76CB: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 29709 06:76CF: 85 13        	sta	<L1214+hy_1
 29710                        ;			}
 29711                        	.line	5588
 29712                        L10514:
 29713                        ;		}
 29714                        	.line	5589
 29715                        L10512:
 29716                        ;		titleOffsetY+=(FONTH + 2);
 29717                        	.line	5590
 29718 06:76D1: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 29719 06:76D5: 85 01        	sta	<R0
 29720 06:76D7: 18           	clc
 29721 06:76D8: A5 01        	lda	<R0
 29722 06:76DA: 65 1F        	adc	<L1214+titleOffsetY_1
 29723 06:76DC: 85 05        	sta	<R1
 29724 06:76DE: 18           	clc
 29725 06:76DF: A9 02 00     	lda	#$2
 29726 06:76E2: 65 05        	adc	<R1
 29727 06:76E4: 85 1F        	sta	<L1214+titleOffsetY_1
 29728                        ;		i++;
 29729                        	.line	5591
 29730 06:76E6: E6 11        	inc	<L1214+i_1
 29731                        ;		caption = captions[i];
 29732                        	.line	5592
 29733 06:76E8: A0 00 00     	ldy	#$0
 29734 06:76EB: A5 11        	lda	<L1214+i_1
 29735 06:76ED: 10 01        	bpl	L1236
 29736 06:76EF: 88           	dey
 29737                        L1236:
 29738 06:76F0: 85 05        	sta	<R1
 29739 06:76F2: 84 07        	sty	<R1+2
 29740 06:76F4: D4 07        	pei	<R1+2
 29741 06:76F6: D4 05        	pei	<R1
 29742 06:76F8: A9 02 00     	lda	#$2
 29743                        	xref	~~~lasl
 29744 06:76FB: 22 xx xx xx  	jsl	~~~lasl
 29745 06:76FF: 85 01        	sta	<R0
 29746 06:7701: 86 03        	stx	<R0+2
 29747 06:7703: 18           	clc
 29748 06:7704: A5 3C        	lda	<L1213+captions_0
 29749 06:7706: 65 01        	adc	<R0
 29750 06:7708: 85 09        	sta	<R2
 29751 06:770A: A5 3E        	lda	<L1213+captions_0+2
 29752 06:770C: 65 03        	adc	<R0+2
 29753 06:770E: 85 0B        	sta	<R2+2
 29754 06:7710: A7 09        	lda	[<R2]
 29755 06:7712: 85 15        	sta	<L1214+caption_1
 29756 06:7714: A0 02 00     	ldy	#$2
 29757 06:7717: B7 09        	lda	[<R2],Y
 29758 06:7719: 85 17        	sta	<L1214+caption_1+2
 29759                        ;	}
 29760                        	.line	5593
  Mon Aug  9 2021 16:52                                                Page 550


 29761 06:771B: 82 4E FE     	brl	L10506
 29762                        L10507:
 29763                        ;
 29764                        ;	return NULL;
 29765                        	.line	5595
 29766 06:771E: A9 00 00     	lda	#$0
 29767 06:7721: AA           	tax
 29768 06:7722: A9 00 00     	lda	#$0
 29769                        L1237:
 29770 06:7725: A8           	tay
 29771 06:7726: A5 2A        	lda	<L1213+2
 29772 06:7728: 85 42        	sta	<L1213+2+24
 29773 06:772A: A5 29        	lda	<L1213+1
 29774 06:772C: 85 41        	sta	<L1213+1+24
 29775 06:772E: 2B           	pld
 29776 06:772F: 3B           	tsc
 29777 06:7730: 18           	clc
 29778 06:7731: 69 40 00     	adc	#L1213+24
 29779 06:7734: 1B           	tcs
 29780 06:7735: 98           	tya
 29781 06:7736: 6B           	rtl
 29782                        ;
 29783                        ;}
 29784                        	.line	5597
 29785                        	.endblock	5597
 29786             00000028   L1213	equ	40
 29787             0000000D   L1214	equ	13
 29788 06:7737:              	ends
 29789                        	efunc
 29790                        	.endfunc	5597,13,40
 29791                        	.line	5597
 29792                        ;
 29793                        ;
 29794                        ;PMENU k_render_context_menu(PMENU menu)
 29795                        ;{
 29796                        	.line	5600
 29797                        	.line	5601
 29798                        	GFX
 29799                        	xdef	~~k_render_context_menu
 29800                        	func
 29801                        	.function	5601
 29802                        ~~k_render_context_menu:
 29803                        	longa	on
 29804                        	longi	on
 29805 06:7737: 3B           	tsc
 29806 06:7738: 38           	sec
 29807 06:7739: E9 2A 00     	sbc	#L1238
 29808 06:773C: 1B           	tcs
 29809 06:773D: 0B           	phd
 29810 06:773E: 5B           	tcd
 29811             00000004   menu_0	set	4
 29812                        	.block	5601
 29813                        ;	FONTMETRIC metric;
 29814                        ;
 29815                        ;	int i = 0;
 29816                        ;
 29817                        ;	int cx = menu->cx;
 29818                        ;	int cy = menu->cy;
  Mon Aug  9 2021 16:52                                                Page 551


 29819                        ;
 29820                        ;	char FAR *caption = NULL;
 29821                        ;
 29822                        ;	int borderTitle = 10;
 29823                        ;	int borderWidth = 3;
 29824                        ;
 29825                        ;	int titleOffsetX = cx+2;
 29826                        ;	int titleOffsetY = cy+2;
 29827                        ;	int titleScaler = 0;
 29828                        ;
 29829                        ;	int clientOffsetX = cx+borderWidth+2;
 29830                        ;	int clientOffsetY = cy+borderTitle+1;
 29831                        ;
 29832                        ;	int endX = menu->width + cx - borderWidth;
 29833                        ;
 29834                        ;
 29835                        ;/*
 29836                        ;	k_get_font_metrics(&metric);
 29837                        ;
 29838                        ;	height += metric.height + (int)(metric.width/4);
 29839                        ;
 29840                        ;	menu->cx = cx;
 29841                        ;	menu->cy = cy;
 29842                        ;	menu->height = height;
 29843                        ;	menu->width = width;
 29844                        ;
 29845                        ;	*/
 29846                        ;
 29847                        ;	k_vdma_fill_rect_ex(cx-1,cy,menu->width+1,menu->
                    height+1,0,BITMAP_FRONT);
 29848             00000000   metric_1	set	0
 29849             00000004   i_1	set	4
 29850             00000006   cx_1	set	6
 29851             00000008   cy_1	set	8
 29852             0000000A   caption_1	set	10
 29853             0000000E   borderTitle_1	set	14
 29854             00000010   borderWidth_1	set	16
 29855             00000012   titleOffsetX_1	set	18
 29856             00000014   titleOffsetY_1	set	20
 29857             00000016   titleScaler_1	set	22
 29858             00000018   clientOffsetX_1	set	24
 29859             0000001A   clientOffsetY_1	set	26
 29860             0000001C   endX_1	set	28
 29861                        	.sym	metric,0,10,1,32,35
 29862                        	.sym	i,4,5,1,16
 29863                        	.sym	cx,6,5,1,16
 29864                        	.sym	cy,8,5,1,16
 29865                        	.sym	caption,10,142,1,32
 29866                        	.sym	borderTitle,14,5,1,16
 29867                        	.sym	borderWidth,16,5,1,16
 29868                        	.sym	titleOffsetX,18,5,1,16
 29869                        	.sym	titleOffsetY,20,5,1,16
 29870                        	.sym	titleScaler,22,5,1,16
 29871                        	.sym	clientOffsetX,24,5,1,16
 29872                        	.sym	clientOffsetY,26,5,1,16
 29873                        	.sym	endX,28,5,1,16
 29874                        	.sym	menu,4,138,6,32,36
 29875 06:773F: 64 11        	stz	<L1239+i_1
  Mon Aug  9 2021 16:52                                                Page 552


 29876 06:7741: A7 2E        	lda	[<L1238+menu_0]
 29877 06:7743: 85 13        	sta	<L1239+cx_1
 29878 06:7745: A0 02 00     	ldy	#$2
 29879 06:7748: B7 2E        	lda	[<L1238+menu_0],Y
 29880 06:774A: 85 15        	sta	<L1239+cy_1
 29881 06:774C: 64 17        	stz	<L1239+caption_1
 29882 06:774E: 64 19        	stz	<L1239+caption_1+2
 29883 06:7750: A9 0A 00     	lda	#$a
 29884 06:7753: 85 1B        	sta	<L1239+borderTitle_1
 29885 06:7755: A9 03 00     	lda	#$3
 29886 06:7758: 85 1D        	sta	<L1239+borderWidth_1
 29887 06:775A: 18           	clc
 29888 06:775B: A9 02 00     	lda	#$2
 29889 06:775E: 65 13        	adc	<L1239+cx_1
 29890 06:7760: 85 1F        	sta	<L1239+titleOffsetX_1
 29891 06:7762: 18           	clc
 29892 06:7763: A9 02 00     	lda	#$2
 29893 06:7766: 65 15        	adc	<L1239+cy_1
 29894 06:7768: 85 21        	sta	<L1239+titleOffsetY_1
 29895 06:776A: 64 23        	stz	<L1239+titleScaler_1
 29896 06:776C: 18           	clc
 29897 06:776D: A5 13        	lda	<L1239+cx_1
 29898 06:776F: 65 1D        	adc	<L1239+borderWidth_1
 29899 06:7771: 85 01        	sta	<R0
 29900 06:7773: 18           	clc
 29901 06:7774: A9 02 00     	lda	#$2
 29902 06:7777: 65 01        	adc	<R0
 29903 06:7779: 85 25        	sta	<L1239+clientOffsetX_1
 29904 06:777B: 18           	clc
 29905 06:777C: A5 15        	lda	<L1239+cy_1
 29906 06:777E: 65 1B        	adc	<L1239+borderTitle_1
 29907 06:7780: 85 01        	sta	<R0
 29908 06:7782: A5 01        	lda	<R0
 29909 06:7784: 1A           	ina
 29910 06:7785: 85 27        	sta	<L1239+clientOffsetY_1
 29911 06:7787: 18           	clc
 29912 06:7788: A0 04 00     	ldy	#$4
 29913 06:778B: B7 2E        	lda	[<L1238+menu_0],Y
 29914 06:778D: 65 13        	adc	<L1239+cx_1
 29915 06:778F: 85 01        	sta	<R0
 29916 06:7791: 38           	sec
 29917 06:7792: A5 01        	lda	<R0
 29918 06:7794: E5 1D        	sbc	<L1239+borderWidth_1
 29919 06:7796: 85 29        	sta	<L1239+endX_1
 29920                        	.line	5636
 29921 06:7798: F4 00 00     	pea	#<$0
 29922 06:779B: F4 00 00     	pea	#<$0
 29923 06:779E: A0 06 00     	ldy	#$6
 29924 06:77A1: B7 2E        	lda	[<L1238+menu_0],Y
 29925 06:77A3: 1A           	ina
 29926 06:77A4: 48           	pha
 29927 06:77A5: A0 04 00     	ldy	#$4
 29928 06:77A8: B7 2E        	lda	[<L1238+menu_0],Y
 29929 06:77AA: 1A           	ina
 29930 06:77AB: 48           	pha
 29931 06:77AC: A0 00 00     	ldy	#$0
 29932 06:77AF: A5 15        	lda	<L1239+cy_1
 29933 06:77B1: 10 01        	bpl	L1241
  Mon Aug  9 2021 16:52                                                Page 553


 29934 06:77B3: 88           	dey
 29935                        L1241:
 29936 06:77B4: 85 01        	sta	<R0
 29937 06:77B6: 84 03        	sty	<R0+2
 29938 06:77B8: D4 03        	pei	<R0+2
 29939 06:77BA: D4 01        	pei	<R0
 29940 06:77BC: 18           	clc
 29941 06:77BD: A9 FF FF     	lda	#$ffff
 29942 06:77C0: 65 13        	adc	<L1239+cx_1
 29943 06:77C2: 85 05        	sta	<R1
 29944 06:77C4: A0 00 00     	ldy	#$0
 29945 06:77C7: A5 05        	lda	<R1
 29946 06:77C9: 10 01        	bpl	L1242
 29947 06:77CB: 88           	dey
 29948                        L1242:
 29949 06:77CC: 85 05        	sta	<R1
 29950 06:77CE: 84 07        	sty	<R1+2
 29951 06:77D0: D4 07        	pei	<R1+2
 29952 06:77D2: D4 05        	pei	<R1
 29953 06:77D4: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 29954                        ;	k_vdma_fill_rect_ex(cx,cy,menu->width,menu->heig
                    ht,menu->fcolor,BITMAP_FRONT);
 29955                        	.line	5637
 29956 06:77D8: F4 00 00     	pea	#<$0
 29957 06:77DB: A0 08 00     	ldy	#$8
 29958 06:77DE: B7 2E        	lda	[<L1238+menu_0],Y
 29959 06:77E0: 48           	pha
 29960 06:77E1: A0 06 00     	ldy	#$6
 29961 06:77E4: B7 2E        	lda	[<L1238+menu_0],Y
 29962 06:77E6: 48           	pha
 29963 06:77E7: A0 04 00     	ldy	#$4
 29964 06:77EA: B7 2E        	lda	[<L1238+menu_0],Y
 29965 06:77EC: 48           	pha
 29966 06:77ED: A0 00 00     	ldy	#$0
 29967 06:77F0: A5 15        	lda	<L1239+cy_1
 29968 06:77F2: 10 01        	bpl	L1243
 29969 06:77F4: 88           	dey
 29970                        L1243:
 29971 06:77F5: 85 01        	sta	<R0
 29972 06:77F7: 84 03        	sty	<R0+2
 29973 06:77F9: D4 03        	pei	<R0+2
 29974 06:77FB: D4 01        	pei	<R0
 29975 06:77FD: A0 00 00     	ldy	#$0
 29976 06:7800: A5 13        	lda	<L1239+cx_1
 29977 06:7802: 10 01        	bpl	L1244
 29978 06:7804: 88           	dey
 29979                        L1244:
 29980 06:7805: 85 05        	sta	<R1
 29981 06:7807: 84 07        	sty	<R1+2
 29982 06:7809: D4 07        	pei	<R1+2
 29983 06:780B: D4 05        	pei	<R1
 29984 06:780D: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 29985                        ;
 29986                        ;	//k_delay(15);
 29987                        ;
 29988                        ;
 29989                        ;
 29990                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
  Mon Aug  9 2021 16:52                                                Page 554


                    - (metric.width*2 + 2),titleOffsetY,14);
 29991                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 29992                        ;	i = 0;
 29993                        	.line	5645
 29994 06:7811: 64 11        	stz	<L1239+i_1
 29995                        ;	caption = ((LPCHAR*)menu->pCaption)[0];
 29996                        	.line	5646
 29997 06:7813: A0 13 00     	ldy	#$13
 29998 06:7816: B7 2E        	lda	[<L1238+menu_0],Y
 29999 06:7818: 85 01        	sta	<R0
 30000 06:781A: A0 15 00     	ldy	#$15
 30001 06:781D: B7 2E        	lda	[<L1238+menu_0],Y
 30002 06:781F: 85 03        	sta	<R0+2
 30003 06:7821: A7 01        	lda	[<R0]
 30004 06:7823: 85 17        	sta	<L1239+caption_1
 30005 06:7825: A0 02 00     	ldy	#$2
 30006 06:7828: B7 01        	lda	[<R0],Y
 30007 06:782A: 85 19        	sta	<L1239+caption_1+2
 30008                        ;	while(caption!=NULL)
 30009                        	.line	5647
 30010                        L10515:
 30011 06:782C: A5 17        	lda	<L1239+caption_1
 30012 06:782E: 05 19        	ora	<L1239+caption_1+2
 30013 06:7830: D0 03        	bne	L1245
 30014 06:7832: 82 65 00     	brl	L10516
 30015                        L1245:
 30016                        ;	{
 30017                        	.line	5648
 30018                        ;		//caption = strupr(caption);
 30019                        ;		k_draw_text_point_ex(caption,titleOffset
                    X,titleOffsetY,0,BITMAP_FRONT);
 30020                        	.line	5650
 30021 06:7835: F4 00 00     	pea	#<$0
 30022 06:7838: F4 00 00     	pea	#<$0
 30023 06:783B: D4 21        	pei	<L1239+titleOffsetY_1
 30024 06:783D: D4 1F        	pei	<L1239+titleOffsetX_1
 30025 06:783F: D4 19        	pei	<L1239+caption_1+2
 30026 06:7841: D4 17        	pei	<L1239+caption_1
 30027 06:7843: 22 22 1F 06  	jsl	~~k_draw_text_point_ex
 30028                        ;		titleOffsetY+=(FONTH + 2);
 30029                        	.line	5651
 30030 06:7847: 22 E3 83 06  	jsl	~~k_font_getFontHeight
 30031 06:784B: 85 01        	sta	<R0
 30032 06:784D: 18           	clc
 30033 06:784E: A5 01        	lda	<R0
 30034 06:7850: 65 21        	adc	<L1239+titleOffsetY_1
 30035 06:7852: 85 05        	sta	<R1
 30036 06:7854: 18           	clc
 30037 06:7855: A9 02 00     	lda	#$2
 30038 06:7858: 65 05        	adc	<R1
 30039 06:785A: 85 21        	sta	<L1239+titleOffsetY_1
 30040                        ;		i++;
 30041                        	.line	5652
 30042 06:785C: E6 11        	inc	<L1239+i_1
 30043                        ;		caption = ((LPCHAR*)menu->pCaption)[i];
 30044                        	.line	5653
 30045 06:785E: A0 00 00     	ldy	#$0
  Mon Aug  9 2021 16:52                                                Page 555


 30046 06:7861: A5 11        	lda	<L1239+i_1
 30047 06:7863: 10 01        	bpl	L1246
 30048 06:7865: 88           	dey
 30049                        L1246:
 30050 06:7866: 85 05        	sta	<R1
 30051 06:7868: 84 07        	sty	<R1+2
 30052 06:786A: D4 07        	pei	<R1+2
 30053 06:786C: D4 05        	pei	<R1
 30054 06:786E: A9 02 00     	lda	#$2
 30055                        	xref	~~~lasl
 30056 06:7871: 22 xx xx xx  	jsl	~~~lasl
 30057 06:7875: 85 01        	sta	<R0
 30058 06:7877: 86 03        	stx	<R0+2
 30059 06:7879: 18           	clc
 30060 06:787A: A0 13 00     	ldy	#$13
 30061 06:787D: B7 2E        	lda	[<L1238+menu_0],Y
 30062 06:787F: 65 01        	adc	<R0
 30063 06:7881: 85 09        	sta	<R2
 30064 06:7883: A0 15 00     	ldy	#$15
 30065 06:7886: B7 2E        	lda	[<L1238+menu_0],Y
 30066 06:7888: 65 03        	adc	<R0+2
 30067 06:788A: 85 0B        	sta	<R2+2
 30068 06:788C: A7 09        	lda	[<R2]
 30069 06:788E: 85 17        	sta	<L1239+caption_1
 30070 06:7890: A0 02 00     	ldy	#$2
 30071 06:7893: B7 09        	lda	[<R2],Y
 30072 06:7895: 85 19        	sta	<L1239+caption_1+2
 30073                        ;	}
 30074                        	.line	5654
 30075 06:7897: 82 92 FF     	brl	L10515
 30076                        L10516:
 30077                        ;
 30078                        ;	return menu;
 30079                        	.line	5656
 30080 06:789A: A6 30        	ldx	<L1238+menu_0+2
 30081 06:789C: A5 2E        	lda	<L1238+menu_0
 30082                        L1247:
 30083 06:789E: A8           	tay
 30084 06:789F: A5 2C        	lda	<L1238+2
 30085 06:78A1: 85 30        	sta	<L1238+2+4
 30086 06:78A3: A5 2B        	lda	<L1238+1
 30087 06:78A5: 85 2F        	sta	<L1238+1+4
 30088 06:78A7: 2B           	pld
 30089 06:78A8: 3B           	tsc
 30090 06:78A9: 18           	clc
 30091 06:78AA: 69 2E 00     	adc	#L1238+4
 30092 06:78AD: 1B           	tcs
 30093 06:78AE: 98           	tya
 30094 06:78AF: 6B           	rtl
 30095                        ;
 30096                        ;}
 30097                        	.line	5658
 30098                        	.endblock	5658
 30099             0000002A   L1238	equ	42
 30100             0000000D   L1239	equ	13
 30101 06:78B0:              	ends
 30102                        	efunc
 30103                        	.endfunc	5658,13,42
  Mon Aug  9 2021 16:52                                                Page 556


 30104                        	.line	5658
 30105                        ;
 30106                        ;void k_free_context_menu(PMENU pmenu,char fcolor,
                    char bcolor)
 30107                        ;{
 30108                        	.line	5660
 30109                        	.line	5661
 30110                        	GFX
 30111                        	xdef	~~k_free_context_menu
 30112                        	func
 30113                        	.function	5661
 30114                        ~~k_free_context_menu:
 30115                        	longa	on
 30116                        	longi	on
 30117 06:78B0: 3B           	tsc
 30118 06:78B1: 38           	sec
 30119 06:78B2: E9 08 00     	sbc	#L1248
 30120 06:78B5: 1B           	tcs
 30121 06:78B6: 0B           	phd
 30122 06:78B7: 5B           	tcd
 30123             00000004   pmenu_0	set	4
 30124             00000008   fcolor_0	set	8
 30125             0000000A   bcolor_0	set	10
 30126                        	.block	5661
 30127                        ;	if(pmenu)
 30128                        	.sym	pmenu,4,138,6,32,36
 30129                        	.sym	fcolor,8,14,6,8
 30130                        	.sym	bcolor,10,14,6,8
 30131                        	.line	5662
 30132                        ;	{
 30133 06:78B8: A5 0C        	lda	<L1248+pmenu_0
 30134 06:78BA: 05 0E        	ora	<L1248+pmenu_0+2
 30135 06:78BC: D0 03        	bne	L1251
 30136 06:78BE: 82 4E 00     	brl	L10517
 30137                        L1251:
 30138                        	.line	5663
 30139                        ;		k_vdma_fill_rect_ex(pmenu->cx-1,pmenu->c
                    y,pmenu->width+1,pmenu->height+1,bcolor,BITMAP_FRONT);
 30140                        	.line	5664
 30141 06:78C1: F4 00 00     	pea	#<$0
 30142 06:78C4: D4 12        	pei	<L1248+bcolor_0
 30143 06:78C6: A0 06 00     	ldy	#$6
 30144 06:78C9: B7 0C        	lda	[<L1248+pmenu_0],Y
 30145 06:78CB: 1A           	ina
 30146 06:78CC: 48           	pha
 30147 06:78CD: A0 04 00     	ldy	#$4
 30148 06:78D0: B7 0C        	lda	[<L1248+pmenu_0],Y
 30149 06:78D2: 1A           	ina
 30150 06:78D3: 48           	pha
 30151 06:78D4: A0 00 00     	ldy	#$0
 30152 06:78D7: 5A           	phy
 30153 06:78D8: A0 02 00     	ldy	#$2
 30154 06:78DB: B7 0C        	lda	[<L1248+pmenu_0],Y
 30155 06:78DD: 7A           	ply
 30156 06:78DE: 2A           	rol	A
 30157 06:78DF: 6A           	ror	A
 30158 06:78E0: 10 01        	bpl	L1252
 30159 06:78E2: 88           	dey
  Mon Aug  9 2021 16:52                                                Page 557


 30160                        L1252:
 30161 06:78E3: 85 01        	sta	<R0
 30162 06:78E5: 84 03        	sty	<R0+2
 30163 06:78E7: D4 03        	pei	<R0+2
 30164 06:78E9: D4 01        	pei	<R0
 30165 06:78EB: 18           	clc
 30166 06:78EC: A9 FF FF     	lda	#$ffff
 30167 06:78EF: 67 0C        	adc	[<L1248+pmenu_0]
 30168 06:78F1: 85 05        	sta	<R1
 30169 06:78F3: A0 00 00     	ldy	#$0
 30170 06:78F6: A5 05        	lda	<R1
 30171 06:78F8: 10 01        	bpl	L1253
 30172 06:78FA: 88           	dey
 30173                        L1253:
 30174 06:78FB: 85 05        	sta	<R1
 30175 06:78FD: 84 07        	sty	<R1+2
 30176 06:78FF: D4 07        	pei	<R1+2
 30177 06:7901: D4 05        	pei	<R1
 30178 06:7903: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 30179                        ;		//k_vdma_fill_rect(pmenu->cx,pmenu->cy,p
                    menu->width,pmenu->height,bcolor);
 30180                        ;		k_mem_deallocate_heap(pmenu);
 30181                        	.line	5666
 30182 06:7907: D4 0E        	pei	<L1248+pmenu_0+2
 30183 06:7909: D4 0C        	pei	<L1248+pmenu_0
 30184 06:790B: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 30185                        ;	}
 30186                        	.line	5667
 30187                        ;}
 30188                        L10517:
 30189                        	.line	5668
 30190                        L1254:
 30191 06:790F: A5 0A        	lda	<L1248+2
 30192 06:7911: 85 12        	sta	<L1248+2+8
 30193 06:7913: A5 09        	lda	<L1248+1
 30194 06:7915: 85 11        	sta	<L1248+1+8
 30195 06:7917: 2B           	pld
 30196 06:7918: 3B           	tsc
 30197 06:7919: 18           	clc
 30198 06:791A: 69 10 00     	adc	#L1248+8
 30199 06:791D: 1B           	tcs
 30200 06:791E: 6B           	rtl
 30201                        	.endblock	5668
 30202             00000008   L1248	equ	8
 30203             00000009   L1249	equ	9
 30204 06:791F:              	ends
 30205                        	efunc
 30206                        	.endfunc	5668,9,8
 30207                        	.line	5668
 30208                        ;
 30209                        ;void k_bitblt(int x0, int y0, int width, int heig
                    ht, int x1, int y1)
 30210                        ;{
 30211                        	.line	5670
 30212                        	.line	5671
 30213                        	GFX
 30214                        	xdef	~~k_bitblt
 30215                        	func
  Mon Aug  9 2021 16:52                                                Page 558


 30216                        	.function	5671
 30217                        ~~k_bitblt:
 30218                        	longa	on
 30219                        	longi	on
 30220 06:791F: 3B           	tsc
 30221 06:7920: 38           	sec
 30222 06:7921: E9 20 00     	sbc	#L1255
 30223 06:7924: 1B           	tcs
 30224 06:7925: 0B           	phd
 30225 06:7926: 5B           	tcd
 30226             00000004   x0_0	set	4
 30227             00000006   y0_0	set	6
 30228             00000008   width_0	set	8
 30229             0000000A   height_0	set	10
 30230             0000000C   x1_0	set	12
 30231             0000000E   y1_0	set	14
 30232                        	.block	5671
 30233                        ;	long dy = 0L;
 30234                        ;	long dd = y1;
 30235                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 30236                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 30237                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 30238                        ;
 30239                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 30240                        ;
 30241                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 30242             00000000   dy_1	set	0
 30243             00000004   dd_1	set	4
 30244             00000008   pixelLocation0_1	set	8
 30245             0000000C   pixelLocation1_1	set	12
 30246             00000010   pixelLocationD_1	set	16
 30247             00000014   difference_1	set	20
 30248                        	.sym	dy,0,7,1,32
 30249                        	.sym	dd,4,7,1,32
 30250                        	.sym	pixelLocation0,8,7,1,32
 30251                        	.sym	pixelLocation1,12,7,1,32
 30252                        	.sym	pixelLocationD,16,7,1,32
 30253                        	.sym	difference,20,7,1,32
 30254                        	.sym	x0,4,5,6,16
 30255                        	.sym	y0,6,5,6,16
 30256                        	.sym	width,8,5,6,16
 30257                        	.sym	height,10,5,6,16
 30258                        	.sym	x1,12,5,6,16
 30259                        	.sym	y1,14,5,6,16
 30260 06:7927: 64 09        	stz	<L1256+dy_1
 30261 06:7929: 64 0B        	stz	<L1256+dy_1+2
 30262 06:792B: A0 00 00     	ldy	#$0
 30263 06:792E: A5 2E        	lda	<L1255+y1_0
 30264 06:7930: 10 01        	bpl	L1258
 30265 06:7932: 88           	dey
 30266                        L1258:
 30267 06:7933: 85 0D        	sta	<L1256+dd_1
 30268 06:7935: 84 0F        	sty	<L1256+dd_1+2
 30269 06:7937: A0 00 00     	ldy	#$0
  Mon Aug  9 2021 16:52                                                Page 559


 30270 06:793A: A5 24        	lda	<L1255+x0_0
 30271 06:793C: 10 01        	bpl	L1259
 30272 06:793E: 88           	dey
 30273                        L1259:
 30274 06:793F: 85 01        	sta	<R0
 30275 06:7941: 84 03        	sty	<R0+2
 30276 06:7943: A0 00 00     	ldy	#$0
 30277 06:7946: A5 26        	lda	<L1255+y0_0
 30278 06:7948: 10 01        	bpl	L1260
 30279 06:794A: 88           	dey
 30280                        L1260:
 30281 06:794B: 85 05        	sta	<R1
 30282 06:794D: 84 07        	sty	<R1+2
 30283 06:794F: F4 00 00     	pea	#^$280
 30284 06:7952: F4 80 02     	pea	#<$280
 30285 06:7955: D4 07        	pei	<R1+2
 30286 06:7957: D4 05        	pei	<R1
 30287                        	xref	~~~lmul
 30288 06:7959: 22 xx xx xx  	jsl	~~~lmul
 30289 06:795D: 85 05        	sta	<R1
 30290 06:795F: 86 07        	stx	<R1+2
 30291 06:7961: 18           	clc
 30292 06:7962: A5 05        	lda	<R1
 30293 06:7964: 65 01        	adc	<R0
 30294 06:7966: 85 11        	sta	<L1256+pixelLocation0_1
 30295 06:7968: A5 07        	lda	<R1+2
 30296 06:796A: 65 03        	adc	<R0+2
 30297 06:796C: 85 13        	sta	<L1256+pixelLocation0_1+2
 30298 06:796E: 18           	clc
 30299 06:796F: A5 24        	lda	<L1255+x0_0
 30300 06:7971: 65 28        	adc	<L1255+width_0
 30301 06:7973: 85 01        	sta	<R0
 30302 06:7975: A0 00 00     	ldy	#$0
 30303 06:7978: A5 01        	lda	<R0
 30304 06:797A: 10 01        	bpl	L1261
 30305 06:797C: 88           	dey
 30306                        L1261:
 30307 06:797D: 85 01        	sta	<R0
 30308 06:797F: 84 03        	sty	<R0+2
 30309 06:7981: A0 00 00     	ldy	#$0
 30310 06:7984: A5 26        	lda	<L1255+y0_0
 30311 06:7986: 10 01        	bpl	L1262
 30312 06:7988: 88           	dey
 30313                        L1262:
 30314 06:7989: 85 05        	sta	<R1
 30315 06:798B: 84 07        	sty	<R1+2
 30316 06:798D: F4 00 00     	pea	#^$280
 30317 06:7990: F4 80 02     	pea	#<$280
 30318 06:7993: D4 07        	pei	<R1+2
 30319 06:7995: D4 05        	pei	<R1
 30320                        	xref	~~~lmul
 30321 06:7997: 22 xx xx xx  	jsl	~~~lmul
 30322 06:799B: 85 05        	sta	<R1
 30323 06:799D: 86 07        	stx	<R1+2
 30324 06:799F: 18           	clc
 30325 06:79A0: A5 05        	lda	<R1
 30326 06:79A2: 65 01        	adc	<R0
 30327 06:79A4: 85 15        	sta	<L1256+pixelLocation1_1
  Mon Aug  9 2021 16:52                                                Page 560


 30328 06:79A6: A5 07        	lda	<R1+2
 30329 06:79A8: 65 03        	adc	<R0+2
 30330 06:79AA: 85 17        	sta	<L1256+pixelLocation1_1+2
 30331 06:79AC: A0 00 00     	ldy	#$0
 30332 06:79AF: A5 2C        	lda	<L1255+x1_0
 30333 06:79B1: 10 01        	bpl	L1263
 30334 06:79B3: 88           	dey
 30335                        L1263:
 30336 06:79B4: 85 01        	sta	<R0
 30337 06:79B6: 84 03        	sty	<R0+2
 30338 06:79B8: A0 00 00     	ldy	#$0
 30339 06:79BB: A5 2E        	lda	<L1255+y1_0
 30340 06:79BD: 10 01        	bpl	L1264
 30341 06:79BF: 88           	dey
 30342                        L1264:
 30343 06:79C0: 85 05        	sta	<R1
 30344 06:79C2: 84 07        	sty	<R1+2
 30345 06:79C4: F4 00 00     	pea	#^$280
 30346 06:79C7: F4 80 02     	pea	#<$280
 30347 06:79CA: D4 07        	pei	<R1+2
 30348 06:79CC: D4 05        	pei	<R1
 30349                        	xref	~~~lmul
 30350 06:79CE: 22 xx xx xx  	jsl	~~~lmul
 30351 06:79D2: 85 05        	sta	<R1
 30352 06:79D4: 86 07        	stx	<R1+2
 30353 06:79D6: 18           	clc
 30354 06:79D7: A5 05        	lda	<R1
 30355 06:79D9: 65 01        	adc	<R0
 30356 06:79DB: 85 19        	sta	<L1256+pixelLocationD_1
 30357 06:79DD: A5 07        	lda	<R1+2
 30358 06:79DF: 65 03        	adc	<R0+2
 30359 06:79E1: 85 1B        	sta	<L1256+pixelLocationD_1+2
 30360 06:79E3: 38           	sec
 30361 06:79E4: A5 15        	lda	<L1256+pixelLocation1_1
 30362 06:79E6: E5 11        	sbc	<L1256+pixelLocation0_1
 30363 06:79E8: 85 1D        	sta	<L1256+difference_1
 30364 06:79EA: A5 17        	lda	<L1256+pixelLocation1_1+2
 30365 06:79EC: E5 13        	sbc	<L1256+pixelLocation0_1+2
 30366 06:79EE: 85 1F        	sta	<L1256+difference_1+2
 30367                        	.line	5680
 30368 06:79F0: D4 13        	pei	<L1256+pixelLocation0_1+2
 30369 06:79F2: D4 11        	pei	<L1256+pixelLocation0_1
 30370 06:79F4: F4 xx xx     	pea	#^L1212
 30371 06:79F7: F4 xx xx     	pea	#<L1212
 30372 06:79FA: 22 xx xx xx  	jsl	~~k_debug_long
 30373                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 30374                        	.line	5681
 30375 06:79FE: D4 17        	pei	<L1256+pixelLocation1_1+2
 30376 06:7A00: D4 15        	pei	<L1256+pixelLocation1_1
 30377 06:7A02: F4 xx xx     	pea	#^L1212+16
 30378 06:7A05: F4 xx xx     	pea	#<L1212+16
 30379 06:7A08: 22 xx xx xx  	jsl	~~k_debug_long
 30380                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 30381                        	.line	5682
 30382 06:7A0C: D4 1B        	pei	<L1256+pixelLocationD_1+2
 30383 06:7A0E: D4 19        	pei	<L1256+pixelLocationD_1
 30384 06:7A10: F4 xx xx     	pea	#^L1212+32
 30385 06:7A13: F4 xx xx     	pea	#<L1212+32
  Mon Aug  9 2021 16:52                                                Page 561


 30386 06:7A16: 22 xx xx xx  	jsl	~~k_debug_long
 30387                        ;	k_debug_long("difference:",difference);
 30388                        	.line	5683
 30389 06:7A1A: D4 1F        	pei	<L1256+difference_1+2
 30390 06:7A1C: D4 1D        	pei	<L1256+difference_1
 30391 06:7A1E: F4 xx xx     	pea	#^L1212+48
 30392 06:7A21: F4 xx xx     	pea	#<L1212+48
 30393 06:7A24: 22 xx xx xx  	jsl	~~k_debug_long
 30394                        ;
 30395                        ;
 30396                        ;
 30397                        ;	for(dy = y0;dy<(y0 + height);dy++)
 30398                        	.line	5687
 30399 06:7A28: A0 00 00     	ldy	#$0
 30400 06:7A2B: A5 26        	lda	<L1255+y0_0
 30401 06:7A2D: 10 01        	bpl	L1265
 30402 06:7A2F: 88           	dey
 30403                        L1265:
 30404 06:7A30: 85 09        	sta	<L1256+dy_1
 30405 06:7A32: 84 0B        	sty	<L1256+dy_1+2
 30406 06:7A34: 82 8E 00     	brl	L10521
 30407                        L10520:
 30408                        ;	{
 30409                        	.line	5688
 30410                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 30411                        	.line	5689
 30412 06:7A37: A0 00 00     	ldy	#$0
 30413 06:7A3A: A5 24        	lda	<L1255+x0_0
 30414 06:7A3C: 10 01        	bpl	L1266
 30415 06:7A3E: 88           	dey
 30416                        L1266:
 30417 06:7A3F: 85 01        	sta	<R0
 30418 06:7A41: 84 03        	sty	<R0+2
 30419 06:7A43: F4 00 00     	pea	#^$280
 30420 06:7A46: F4 80 02     	pea	#<$280
 30421 06:7A49: D4 0B        	pei	<L1256+dy_1+2
 30422 06:7A4B: D4 09        	pei	<L1256+dy_1
 30423                        	xref	~~~lmul
 30424 06:7A4D: 22 xx xx xx  	jsl	~~~lmul
 30425 06:7A51: 85 05        	sta	<R1
 30426 06:7A53: 86 07        	stx	<R1+2
 30427 06:7A55: 18           	clc
 30428 06:7A56: A5 05        	lda	<R1
 30429 06:7A58: 65 01        	adc	<R0
 30430 06:7A5A: 85 11        	sta	<L1256+pixelLocation0_1
 30431 06:7A5C: A5 07        	lda	<R1+2
 30432 06:7A5E: 65 03        	adc	<R0+2
 30433 06:7A60: 85 13        	sta	<L1256+pixelLocation0_1+2
 30434                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)(x1));
 30435                        	.line	5690
 30436 06:7A62: A0 00 00     	ldy	#$0
 30437 06:7A65: A5 2C        	lda	<L1255+x1_0
 30438 06:7A67: 10 01        	bpl	L1267
 30439 06:7A69: 88           	dey
 30440                        L1267:
 30441 06:7A6A: 85 01        	sta	<R0
  Mon Aug  9 2021 16:52                                                Page 562


 30442 06:7A6C: 84 03        	sty	<R0+2
 30443 06:7A6E: F4 00 00     	pea	#^$280
 30444 06:7A71: F4 80 02     	pea	#<$280
 30445 06:7A74: D4 0F        	pei	<L1256+dd_1+2
 30446 06:7A76: D4 0D        	pei	<L1256+dd_1
 30447                        	xref	~~~lmul
 30448 06:7A78: 22 xx xx xx  	jsl	~~~lmul
 30449 06:7A7C: 85 05        	sta	<R1
 30450 06:7A7E: 86 07        	stx	<R1+2
 30451 06:7A80: 18           	clc
 30452 06:7A81: A5 05        	lda	<R1
 30453 06:7A83: 65 01        	adc	<R0
 30454 06:7A85: 85 19        	sta	<L1256+pixelLocationD_1
 30455 06:7A87: A5 07        	lda	<R1+2
 30456 06:7A89: 65 03        	adc	<R0+2
 30457 06:7A8B: 85 1B        	sta	<L1256+pixelLocationD_1+2
 30458                        ;		memcpy(   &(((unsigned char FAR *)BITMAP
                    _BANK_0)[pixelLocationD])  , &(((unsigned char FAR *)BITMAP_
                    BANK_0)[pixelLocation0]), difference) ;
 30459                        	.line	5691
 30460 06:7A8D: D4 1D        	pei	<L1256+difference_1
 30461 06:7A8F: 18           	clc
 30462 06:7A90: A9 00 00     	lda	#$0
 30463 06:7A93: 65 11        	adc	<L1256+pixelLocation0_1
 30464 06:7A95: 85 01        	sta	<R0
 30465 06:7A97: A9 B0 00     	lda	#$b0
 30466 06:7A9A: 65 13        	adc	<L1256+pixelLocation0_1+2
 30467 06:7A9C: 85 03        	sta	<R0+2
 30468 06:7A9E: D4 03        	pei	<R0+2
 30469 06:7AA0: D4 01        	pei	<R0
 30470 06:7AA2: 18           	clc
 30471 06:7AA3: A9 00 00     	lda	#$0
 30472 06:7AA6: 65 19        	adc	<L1256+pixelLocationD_1
 30473 06:7AA8: 85 05        	sta	<R1
 30474 06:7AAA: A9 B0 00     	lda	#$b0
 30475 06:7AAD: 65 1B        	adc	<L1256+pixelLocationD_1+2
 30476 06:7AAF: 85 07        	sta	<R1+2
 30477 06:7AB1: D4 07        	pei	<R1+2
 30478 06:7AB3: D4 05        	pei	<R1
 30479 06:7AB5: 22 xx xx xx  	jsl	~~memcpy
 30480                        ;
 30481                        ;		dd++;
 30482                        	.line	5693
 30483 06:7AB9: E6 0D        	inc	<L1256+dd_1
 30484 06:7ABB: D0 02        	bne	L1268
 30485 06:7ABD: E6 0F        	inc	<L1256+dd_1+2
 30486                        L1268:
 30487                        ;	}
 30488                        	.line	5694
 30489                        L10518:
 30490 06:7ABF: E6 09        	inc	<L1256+dy_1
 30491 06:7AC1: D0 02        	bne	L1269
 30492 06:7AC3: E6 0B        	inc	<L1256+dy_1+2
 30493                        L1269:
 30494                        L10521:
 30495 06:7AC5: 18           	clc
 30496 06:7AC6: A5 26        	lda	<L1255+y0_0
 30497 06:7AC8: 65 2A        	adc	<L1255+height_0
  Mon Aug  9 2021 16:52                                                Page 563


 30498 06:7ACA: 85 01        	sta	<R0
 30499 06:7ACC: A0 00 00     	ldy	#$0
 30500 06:7ACF: A5 01        	lda	<R0
 30501 06:7AD1: 10 01        	bpl	L1270
 30502 06:7AD3: 88           	dey
 30503                        L1270:
 30504 06:7AD4: 85 01        	sta	<R0
 30505 06:7AD6: 84 03        	sty	<R0+2
 30506 06:7AD8: 38           	sec
 30507 06:7AD9: A5 09        	lda	<L1256+dy_1
 30508 06:7ADB: E5 01        	sbc	<R0
 30509 06:7ADD: A5 0B        	lda	<L1256+dy_1+2
 30510 06:7ADF: E5 03        	sbc	<R0+2
 30511 06:7AE1: 70 03        	bvs	L1271
 30512 06:7AE3: 49 00 80     	eor	#$8000
 30513                        L1271:
 30514 06:7AE6: 30 03        	bmi	L1272
 30515 06:7AE8: 82 4C FF     	brl	L10520
 30516                        L1272:
 30517                        L10519:
 30518                        ;
 30519                        ;}
 30520                        	.line	5696
 30521                        L1273:
 30522 06:7AEB: A5 22        	lda	<L1255+2
 30523 06:7AED: 85 2E        	sta	<L1255+2+12
 30524 06:7AEF: A5 21        	lda	<L1255+1
 30525 06:7AF1: 85 2D        	sta	<L1255+1+12
 30526 06:7AF3: 2B           	pld
 30527 06:7AF4: 3B           	tsc
 30528 06:7AF5: 18           	clc
 30529 06:7AF6: 69 2C 00     	adc	#L1255+12
 30530 06:7AF9: 1B           	tcs
 30531 06:7AFA: 6B           	rtl
 30532                        	.endblock	5696
 30533             00000020   L1255	equ	32
 30534             00000009   L1256	equ	9
 30535 06:7AFB:              	ends
 30536                        	efunc
 30537                        	.endfunc	5696,9,32
 30538                        	.line	5696
 30539                        	data
 30540                        L1212:
 30541 00:0CB3: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0CB7: 6C 4C 6F 63 
       00:0CBB: 61 74 69 6F 
       00:0CBF: 6E 30 3A 
 30542 00:0CC2: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0CC6: 65 6C 4C 6F 
       00:0CCA: 63 61 74 69 
       00:0CCE: 6F 6E 31 
 30543 00:0CD1: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0CD5: 78 65 6C 4C 
       00:0CD9: 6F 63 61 74 
       00:0CDD: 69 6F 6E 
  Mon Aug  9 2021 16:52                                                Page 564


 30544 00:0CE0: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0CE4: 69 66 66 65 
       00:0CE8: 72 65 6E 63 
       00:0CEC: 65 3A 00 
 30545 00:0CEF:              	ends
 30546                        ;
 30547                        ;void k_memory_bitblt(LPCHAR srcBank,int x0, int y
                    0, int width, int height,LPCHAR destBank, int x1, int y1, in
                    t direction)
 30548                        ;{
 30549                        	.line	5698
 30550                        	.line	5699
 30551                        	GFX
 30552                        	xdef	~~k_memory_bitblt
 30553                        	func
 30554                        	.function	5699
 30555                        ~~k_memory_bitblt:
 30556                        	longa	on
 30557                        	longi	on
 30558 06:7AFB: 3B           	tsc
 30559 06:7AFC: 38           	sec
 30560 06:7AFD: E9 20 00     	sbc	#L1275
 30561 06:7B00: 1B           	tcs
 30562 06:7B01: 0B           	phd
 30563 06:7B02: 5B           	tcd
 30564             00000004   srcBank_0	set	4
 30565             00000008   x0_0	set	8
 30566             0000000A   y0_0	set	10
 30567             0000000C   width_0	set	12
 30568             0000000E   height_0	set	14
 30569             00000010   destBank_0	set	16
 30570             00000014   x1_0	set	20
 30571             00000016   y1_0	set	22
 30572             00000018   direction_0	set	24
 30573                        	.block	5699
 30574                        ;	long dy = 0L;
 30575                        ;	long dd = y1;
 30576                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 30577                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 30578                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 30579                        ;
 30580                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 30581                        ;
 30582                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 30583             00000000   dy_1	set	0
 30584             00000004   dd_1	set	4
 30585             00000008   pixelLocation0_1	set	8
 30586             0000000C   pixelLocation1_1	set	12
 30587             00000010   pixelLocationD_1	set	16
 30588             00000014   difference_1	set	20
 30589                        	.sym	dy,0,7,1,32
 30590                        	.sym	dd,4,7,1,32
 30591                        	.sym	pixelLocation0,8,7,1,32
  Mon Aug  9 2021 16:52                                                Page 565


 30592                        	.sym	pixelLocation1,12,7,1,32
 30593                        	.sym	pixelLocationD,16,7,1,32
 30594                        	.sym	difference,20,7,1,32
 30595                        	.sym	srcBank,4,142,6,32
 30596                        	.sym	x0,8,5,6,16
 30597                        	.sym	y0,10,5,6,16
 30598                        	.sym	width,12,5,6,16
 30599                        	.sym	height,14,5,6,16
 30600                        	.sym	destBank,16,142,6,32
 30601                        	.sym	x1,20,5,6,16
 30602                        	.sym	y1,22,5,6,16
 30603                        	.sym	direction,24,5,6,16
 30604 06:7B03: 64 09        	stz	<L1276+dy_1
 30605 06:7B05: 64 0B        	stz	<L1276+dy_1+2
 30606 06:7B07: A0 00 00     	ldy	#$0
 30607 06:7B0A: A5 36        	lda	<L1275+y1_0
 30608 06:7B0C: 10 01        	bpl	L1278
 30609 06:7B0E: 88           	dey
 30610                        L1278:
 30611 06:7B0F: 85 0D        	sta	<L1276+dd_1
 30612 06:7B11: 84 0F        	sty	<L1276+dd_1+2
 30613 06:7B13: A0 00 00     	ldy	#$0
 30614 06:7B16: A5 28        	lda	<L1275+x0_0
 30615 06:7B18: 10 01        	bpl	L1279
 30616 06:7B1A: 88           	dey
 30617                        L1279:
 30618 06:7B1B: 85 01        	sta	<R0
 30619 06:7B1D: 84 03        	sty	<R0+2
 30620 06:7B1F: A0 00 00     	ldy	#$0
 30621 06:7B22: A5 2A        	lda	<L1275+y0_0
 30622 06:7B24: 10 01        	bpl	L1280
 30623 06:7B26: 88           	dey
 30624                        L1280:
 30625 06:7B27: 85 05        	sta	<R1
 30626 06:7B29: 84 07        	sty	<R1+2
 30627 06:7B2B: F4 00 00     	pea	#^$280
 30628 06:7B2E: F4 80 02     	pea	#<$280
 30629 06:7B31: D4 07        	pei	<R1+2
 30630 06:7B33: D4 05        	pei	<R1
 30631                        	xref	~~~lmul
 30632 06:7B35: 22 xx xx xx  	jsl	~~~lmul
 30633 06:7B39: 85 05        	sta	<R1
 30634 06:7B3B: 86 07        	stx	<R1+2
 30635 06:7B3D: 18           	clc
 30636 06:7B3E: A5 05        	lda	<R1
 30637 06:7B40: 65 01        	adc	<R0
 30638 06:7B42: 85 11        	sta	<L1276+pixelLocation0_1
 30639 06:7B44: A5 07        	lda	<R1+2
 30640 06:7B46: 65 03        	adc	<R0+2
 30641 06:7B48: 85 13        	sta	<L1276+pixelLocation0_1+2
 30642 06:7B4A: 18           	clc
 30643 06:7B4B: A5 28        	lda	<L1275+x0_0
 30644 06:7B4D: 65 2C        	adc	<L1275+width_0
 30645 06:7B4F: 85 01        	sta	<R0
 30646 06:7B51: A0 00 00     	ldy	#$0
 30647 06:7B54: A5 01        	lda	<R0
 30648 06:7B56: 10 01        	bpl	L1281
 30649 06:7B58: 88           	dey
  Mon Aug  9 2021 16:52                                                Page 566


 30650                        L1281:
 30651 06:7B59: 85 01        	sta	<R0
 30652 06:7B5B: 84 03        	sty	<R0+2
 30653 06:7B5D: A0 00 00     	ldy	#$0
 30654 06:7B60: A5 2A        	lda	<L1275+y0_0
 30655 06:7B62: 10 01        	bpl	L1282
 30656 06:7B64: 88           	dey
 30657                        L1282:
 30658 06:7B65: 85 05        	sta	<R1
 30659 06:7B67: 84 07        	sty	<R1+2
 30660 06:7B69: F4 00 00     	pea	#^$280
 30661 06:7B6C: F4 80 02     	pea	#<$280
 30662 06:7B6F: D4 07        	pei	<R1+2
 30663 06:7B71: D4 05        	pei	<R1
 30664                        	xref	~~~lmul
 30665 06:7B73: 22 xx xx xx  	jsl	~~~lmul
 30666 06:7B77: 85 05        	sta	<R1
 30667 06:7B79: 86 07        	stx	<R1+2
 30668 06:7B7B: 18           	clc
 30669 06:7B7C: A5 05        	lda	<R1
 30670 06:7B7E: 65 01        	adc	<R0
 30671 06:7B80: 85 15        	sta	<L1276+pixelLocation1_1
 30672 06:7B82: A5 07        	lda	<R1+2
 30673 06:7B84: 65 03        	adc	<R0+2
 30674 06:7B86: 85 17        	sta	<L1276+pixelLocation1_1+2
 30675 06:7B88: A0 00 00     	ldy	#$0
 30676 06:7B8B: A5 34        	lda	<L1275+x1_0
 30677 06:7B8D: 10 01        	bpl	L1283
 30678 06:7B8F: 88           	dey
 30679                        L1283:
 30680 06:7B90: 85 01        	sta	<R0
 30681 06:7B92: 84 03        	sty	<R0+2
 30682 06:7B94: A0 00 00     	ldy	#$0
 30683 06:7B97: A5 36        	lda	<L1275+y1_0
 30684 06:7B99: 10 01        	bpl	L1284
 30685 06:7B9B: 88           	dey
 30686                        L1284:
 30687 06:7B9C: 85 05        	sta	<R1
 30688 06:7B9E: 84 07        	sty	<R1+2
 30689 06:7BA0: F4 00 00     	pea	#^$280
 30690 06:7BA3: F4 80 02     	pea	#<$280
 30691 06:7BA6: D4 07        	pei	<R1+2
 30692 06:7BA8: D4 05        	pei	<R1
 30693                        	xref	~~~lmul
 30694 06:7BAA: 22 xx xx xx  	jsl	~~~lmul
 30695 06:7BAE: 85 05        	sta	<R1
 30696 06:7BB0: 86 07        	stx	<R1+2
 30697 06:7BB2: 18           	clc
 30698 06:7BB3: A5 05        	lda	<R1
 30699 06:7BB5: 65 01        	adc	<R0
 30700 06:7BB7: 85 19        	sta	<L1276+pixelLocationD_1
 30701 06:7BB9: A5 07        	lda	<R1+2
 30702 06:7BBB: 65 03        	adc	<R0+2
 30703 06:7BBD: 85 1B        	sta	<L1276+pixelLocationD_1+2
 30704 06:7BBF: 38           	sec
 30705 06:7BC0: A5 15        	lda	<L1276+pixelLocation1_1
 30706 06:7BC2: E5 11        	sbc	<L1276+pixelLocation0_1
 30707 06:7BC4: 85 1D        	sta	<L1276+difference_1
  Mon Aug  9 2021 16:52                                                Page 567


 30708 06:7BC6: A5 17        	lda	<L1276+pixelLocation1_1+2
 30709 06:7BC8: E5 13        	sbc	<L1276+pixelLocation0_1+2
 30710 06:7BCA: 85 1F        	sta	<L1276+difference_1+2
 30711                        	.line	5708
 30712 06:7BCC: D4 13        	pei	<L1276+pixelLocation0_1+2
 30713 06:7BCE: D4 11        	pei	<L1276+pixelLocation0_1
 30714 06:7BD0: F4 xx xx     	pea	#^L1274
 30715 06:7BD3: F4 xx xx     	pea	#<L1274
 30716 06:7BD6: 22 xx xx xx  	jsl	~~k_debug_long
 30717                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 30718                        	.line	5709
 30719 06:7BDA: D4 17        	pei	<L1276+pixelLocation1_1+2
 30720 06:7BDC: D4 15        	pei	<L1276+pixelLocation1_1
 30721 06:7BDE: F4 xx xx     	pea	#^L1274+16
 30722 06:7BE1: F4 xx xx     	pea	#<L1274+16
 30723 06:7BE4: 22 xx xx xx  	jsl	~~k_debug_long
 30724                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 30725                        	.line	5710
 30726 06:7BE8: D4 1B        	pei	<L1276+pixelLocationD_1+2
 30727 06:7BEA: D4 19        	pei	<L1276+pixelLocationD_1
 30728 06:7BEC: F4 xx xx     	pea	#^L1274+32
 30729 06:7BEF: F4 xx xx     	pea	#<L1274+32
 30730 06:7BF2: 22 xx xx xx  	jsl	~~k_debug_long
 30731                        ;	k_debug_long("difference:",difference);
 30732                        	.line	5711
 30733 06:7BF6: D4 1F        	pei	<L1276+difference_1+2
 30734 06:7BF8: D4 1D        	pei	<L1276+difference_1
 30735 06:7BFA: F4 xx xx     	pea	#^L1274+48
 30736 06:7BFD: F4 xx xx     	pea	#<L1274+48
 30737 06:7C00: 22 xx xx xx  	jsl	~~k_debug_long
 30738                        ;
 30739                        ;	if(direction == BLT_DIR_TOPDOWN)
 30740                        	.line	5713
 30741                        ;	{
 30742 06:7C04: A5 38        	lda	<L1275+direction_0
 30743 06:7C06: C9 01 00     	cmp	#<$1
 30744 06:7C09: F0 03        	beq	L1285
 30745 06:7C0B: 82 C2 00     	brl	L10522
 30746                        L1285:
 30747                        	.line	5714
 30748                        ;		for(dy = y0;dy<(y0 + height);dy++)
 30749                        	.line	5715
 30750 06:7C0E: A0 00 00     	ldy	#$0
 30751 06:7C11: A5 2A        	lda	<L1275+y0_0
 30752 06:7C13: 10 01        	bpl	L1286
 30753 06:7C15: 88           	dey
 30754                        L1286:
 30755 06:7C16: 85 09        	sta	<L1276+dy_1
 30756 06:7C18: 84 0B        	sty	<L1276+dy_1+2
 30757 06:7C1A: 82 8A 00     	brl	L10526
 30758                        L10525:
 30759                        ;		{
 30760                        	.line	5716
 30761                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 30762                        	.line	5717
 30763 06:7C1D: A0 00 00     	ldy	#$0
 30764 06:7C20: A5 28        	lda	<L1275+x0_0
  Mon Aug  9 2021 16:52                                                Page 568


 30765 06:7C22: 10 01        	bpl	L1287
 30766 06:7C24: 88           	dey
 30767                        L1287:
 30768 06:7C25: 85 01        	sta	<R0
 30769 06:7C27: 84 03        	sty	<R0+2
 30770 06:7C29: F4 00 00     	pea	#^$280
 30771 06:7C2C: F4 80 02     	pea	#<$280
 30772 06:7C2F: D4 0B        	pei	<L1276+dy_1+2
 30773 06:7C31: D4 09        	pei	<L1276+dy_1
 30774                        	xref	~~~lmul
 30775 06:7C33: 22 xx xx xx  	jsl	~~~lmul
 30776 06:7C37: 85 05        	sta	<R1
 30777 06:7C39: 86 07        	stx	<R1+2
 30778 06:7C3B: 18           	clc
 30779 06:7C3C: A5 05        	lda	<R1
 30780 06:7C3E: 65 01        	adc	<R0
 30781 06:7C40: 85 11        	sta	<L1276+pixelLocation0_1
 30782 06:7C42: A5 07        	lda	<R1+2
 30783 06:7C44: 65 03        	adc	<R0+2
 30784 06:7C46: 85 13        	sta	<L1276+pixelLocation0_1+2
 30785                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 30786                        	.line	5718
 30787 06:7C48: A0 00 00     	ldy	#$0
 30788 06:7C4B: A5 34        	lda	<L1275+x1_0
 30789 06:7C4D: 10 01        	bpl	L1288
 30790 06:7C4F: 88           	dey
 30791                        L1288:
 30792 06:7C50: 85 01        	sta	<R0
 30793 06:7C52: 84 03        	sty	<R0+2
 30794 06:7C54: F4 00 00     	pea	#^$280
 30795 06:7C57: F4 80 02     	pea	#<$280
 30796 06:7C5A: D4 0F        	pei	<L1276+dd_1+2
 30797 06:7C5C: D4 0D        	pei	<L1276+dd_1
 30798                        	xref	~~~lmul
 30799 06:7C5E: 22 xx xx xx  	jsl	~~~lmul
 30800 06:7C62: 85 05        	sta	<R1
 30801 06:7C64: 86 07        	stx	<R1+2
 30802 06:7C66: 18           	clc
 30803 06:7C67: A5 05        	lda	<R1
 30804 06:7C69: 65 01        	adc	<R0
 30805 06:7C6B: 85 19        	sta	<L1276+pixelLocationD_1
 30806 06:7C6D: A5 07        	lda	<R1+2
 30807 06:7C6F: 65 03        	adc	<R0+2
 30808 06:7C71: 85 1B        	sta	<L1276+pixelLocationD_1+2
 30809                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 30810                        	.line	5719
 30811 06:7C73: D4 1D        	pei	<L1276+difference_1
 30812 06:7C75: 18           	clc
 30813 06:7C76: A5 24        	lda	<L1275+srcBank_0
 30814 06:7C78: 65 11        	adc	<L1276+pixelLocation0_1
 30815 06:7C7A: 85 01        	sta	<R0
 30816 06:7C7C: A5 26        	lda	<L1275+srcBank_0+2
 30817 06:7C7E: 65 13        	adc	<L1276+pixelLocation0_1+2
 30818 06:7C80: 85 03        	sta	<R0+2
 30819 06:7C82: D4 03        	pei	<R0+2
  Mon Aug  9 2021 16:52                                                Page 569


 30820 06:7C84: D4 01        	pei	<R0
 30821 06:7C86: 18           	clc
 30822 06:7C87: A5 30        	lda	<L1275+destBank_0
 30823 06:7C89: 65 19        	adc	<L1276+pixelLocationD_1
 30824 06:7C8B: 85 05        	sta	<R1
 30825 06:7C8D: A5 32        	lda	<L1275+destBank_0+2
 30826 06:7C8F: 65 1B        	adc	<L1276+pixelLocationD_1+2
 30827 06:7C91: 85 07        	sta	<R1+2
 30828 06:7C93: D4 07        	pei	<R1+2
 30829 06:7C95: D4 05        	pei	<R1
 30830 06:7C97: 22 xx xx xx  	jsl	~~memcpy
 30831                        ;
 30832                        ;			dd++;
 30833                        	.line	5721
 30834 06:7C9B: E6 0D        	inc	<L1276+dd_1
 30835 06:7C9D: D0 02        	bne	L1289
 30836 06:7C9F: E6 0F        	inc	<L1276+dd_1+2
 30837                        L1289:
 30838                        ;		}
 30839                        	.line	5722
 30840                        L10523:
 30841 06:7CA1: E6 09        	inc	<L1276+dy_1
 30842 06:7CA3: D0 02        	bne	L1290
 30843 06:7CA5: E6 0B        	inc	<L1276+dy_1+2
 30844                        L1290:
 30845                        L10526:
 30846 06:7CA7: 18           	clc
 30847 06:7CA8: A5 2A        	lda	<L1275+y0_0
 30848 06:7CAA: 65 2E        	adc	<L1275+height_0
 30849 06:7CAC: 85 01        	sta	<R0
 30850 06:7CAE: A0 00 00     	ldy	#$0
 30851 06:7CB1: A5 01        	lda	<R0
 30852 06:7CB3: 10 01        	bpl	L1291
 30853 06:7CB5: 88           	dey
 30854                        L1291:
 30855 06:7CB6: 85 01        	sta	<R0
 30856 06:7CB8: 84 03        	sty	<R0+2
 30857 06:7CBA: 38           	sec
 30858 06:7CBB: A5 09        	lda	<L1276+dy_1
 30859 06:7CBD: E5 01        	sbc	<R0
 30860 06:7CBF: A5 0B        	lda	<L1276+dy_1+2
 30861 06:7CC1: E5 03        	sbc	<R0+2
 30862 06:7CC3: 70 03        	bvs	L1292
 30863 06:7CC5: 49 00 80     	eor	#$8000
 30864                        L1292:
 30865 06:7CC8: 30 03        	bmi	L1293
 30866 06:7CCA: 82 50 FF     	brl	L10525
 30867                        L1293:
 30868                        L10524:
 30869                        ;	}
 30870                        	.line	5723
 30871                        ;	else
 30872 06:7CCD: 82 D6 00     	brl	L10527
 30873                        L10522:
 30874                        ;	{
 30875                        	.line	5725
 30876                        ;		dd = y1 + height;
 30877                        	.line	5726
  Mon Aug  9 2021 16:52                                                Page 570


 30878 06:7CD0: 18           	clc
 30879 06:7CD1: A5 36        	lda	<L1275+y1_0
 30880 06:7CD3: 65 2E        	adc	<L1275+height_0
 30881 06:7CD5: 85 01        	sta	<R0
 30882 06:7CD7: A0 00 00     	ldy	#$0
 30883 06:7CDA: A5 01        	lda	<R0
 30884 06:7CDC: 10 01        	bpl	L1294
 30885 06:7CDE: 88           	dey
 30886                        L1294:
 30887 06:7CDF: 85 0D        	sta	<L1276+dd_1
 30888 06:7CE1: 84 0F        	sty	<L1276+dd_1+2
 30889                        ;		//for(dy = y0;dy<(y0 + height);dy++)
 30890                        ;		for(dy = (y0 + height);dy>y0;dy--)
 30891                        	.line	5728
 30892 06:7CE3: 18           	clc
 30893 06:7CE4: A5 2A        	lda	<L1275+y0_0
 30894 06:7CE6: 65 2E        	adc	<L1275+height_0
 30895 06:7CE8: 85 01        	sta	<R0
 30896 06:7CEA: A0 00 00     	ldy	#$0
 30897 06:7CED: A5 01        	lda	<R0
 30898 06:7CEF: 10 01        	bpl	L1295
 30899 06:7CF1: 88           	dey
 30900                        L1295:
 30901 06:7CF2: 85 09        	sta	<L1276+dy_1
 30902 06:7CF4: 84 0B        	sty	<L1276+dy_1+2
 30903 06:7CF6: 82 8E 00     	brl	L10531
 30904                        L10530:
 30905                        ;		{
 30906                        	.line	5729
 30907                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 30908                        	.line	5730
 30909 06:7CF9: A0 00 00     	ldy	#$0
 30910 06:7CFC: A5 28        	lda	<L1275+x0_0
 30911 06:7CFE: 10 01        	bpl	L1296
 30912 06:7D00: 88           	dey
 30913                        L1296:
 30914 06:7D01: 85 01        	sta	<R0
 30915 06:7D03: 84 03        	sty	<R0+2
 30916 06:7D05: F4 00 00     	pea	#^$280
 30917 06:7D08: F4 80 02     	pea	#<$280
 30918 06:7D0B: D4 0B        	pei	<L1276+dy_1+2
 30919 06:7D0D: D4 09        	pei	<L1276+dy_1
 30920                        	xref	~~~lmul
 30921 06:7D0F: 22 xx xx xx  	jsl	~~~lmul
 30922 06:7D13: 85 05        	sta	<R1
 30923 06:7D15: 86 07        	stx	<R1+2
 30924 06:7D17: 18           	clc
 30925 06:7D18: A5 05        	lda	<R1
 30926 06:7D1A: 65 01        	adc	<R0
 30927 06:7D1C: 85 11        	sta	<L1276+pixelLocation0_1
 30928 06:7D1E: A5 07        	lda	<R1+2
 30929 06:7D20: 65 03        	adc	<R0+2
 30930 06:7D22: 85 13        	sta	<L1276+pixelLocation0_1+2
 30931                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 30932                        	.line	5731
 30933 06:7D24: A0 00 00     	ldy	#$0
  Mon Aug  9 2021 16:52                                                Page 571


 30934 06:7D27: A5 34        	lda	<L1275+x1_0
 30935 06:7D29: 10 01        	bpl	L1297
 30936 06:7D2B: 88           	dey
 30937                        L1297:
 30938 06:7D2C: 85 01        	sta	<R0
 30939 06:7D2E: 84 03        	sty	<R0+2
 30940 06:7D30: F4 00 00     	pea	#^$280
 30941 06:7D33: F4 80 02     	pea	#<$280
 30942 06:7D36: D4 0F        	pei	<L1276+dd_1+2
 30943 06:7D38: D4 0D        	pei	<L1276+dd_1
 30944                        	xref	~~~lmul
 30945 06:7D3A: 22 xx xx xx  	jsl	~~~lmul
 30946 06:7D3E: 85 05        	sta	<R1
 30947 06:7D40: 86 07        	stx	<R1+2
 30948 06:7D42: 18           	clc
 30949 06:7D43: A5 05        	lda	<R1
 30950 06:7D45: 65 01        	adc	<R0
 30951 06:7D47: 85 19        	sta	<L1276+pixelLocationD_1
 30952 06:7D49: A5 07        	lda	<R1+2
 30953 06:7D4B: 65 03        	adc	<R0+2
 30954 06:7D4D: 85 1B        	sta	<L1276+pixelLocationD_1+2
 30955                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 30956                        	.line	5732
 30957 06:7D4F: D4 1D        	pei	<L1276+difference_1
 30958 06:7D51: 18           	clc
 30959 06:7D52: A5 24        	lda	<L1275+srcBank_0
 30960 06:7D54: 65 11        	adc	<L1276+pixelLocation0_1
 30961 06:7D56: 85 01        	sta	<R0
 30962 06:7D58: A5 26        	lda	<L1275+srcBank_0+2
 30963 06:7D5A: 65 13        	adc	<L1276+pixelLocation0_1+2
 30964 06:7D5C: 85 03        	sta	<R0+2
 30965 06:7D5E: D4 03        	pei	<R0+2
 30966 06:7D60: D4 01        	pei	<R0
 30967 06:7D62: 18           	clc
 30968 06:7D63: A5 30        	lda	<L1275+destBank_0
 30969 06:7D65: 65 19        	adc	<L1276+pixelLocationD_1
 30970 06:7D67: 85 05        	sta	<R1
 30971 06:7D69: A5 32        	lda	<L1275+destBank_0+2
 30972 06:7D6B: 65 1B        	adc	<L1276+pixelLocationD_1+2
 30973 06:7D6D: 85 07        	sta	<R1+2
 30974 06:7D6F: D4 07        	pei	<R1+2
 30975 06:7D71: D4 05        	pei	<R1
 30976 06:7D73: 22 xx xx xx  	jsl	~~memcpy
 30977                        ;
 30978                        ;			dd--;
 30979                        	.line	5734
 30980 06:7D77: A5 0D        	lda	<L1276+dd_1
 30981 06:7D79: D0 02        	bne	L1298
 30982 06:7D7B: C6 0F        	dec	<L1276+dd_1+2
 30983                        L1298:
 30984 06:7D7D: C6 0D        	dec	<L1276+dd_1
 30985                        ;		}
 30986                        	.line	5735
 30987                        L10528:
 30988 06:7D7F: A5 09        	lda	<L1276+dy_1
 30989 06:7D81: D0 02        	bne	L1299
  Mon Aug  9 2021 16:52                                                Page 572


 30990 06:7D83: C6 0B        	dec	<L1276+dy_1+2
 30991                        L1299:
 30992 06:7D85: C6 09        	dec	<L1276+dy_1
 30993                        L10531:
 30994 06:7D87: A0 00 00     	ldy	#$0
 30995 06:7D8A: A5 2A        	lda	<L1275+y0_0
 30996 06:7D8C: 10 01        	bpl	L1300
 30997 06:7D8E: 88           	dey
 30998                        L1300:
 30999 06:7D8F: 85 01        	sta	<R0
 31000 06:7D91: 84 03        	sty	<R0+2
 31001 06:7D93: 38           	sec
 31002 06:7D94: A5 01        	lda	<R0
 31003 06:7D96: E5 09        	sbc	<L1276+dy_1
 31004 06:7D98: A5 03        	lda	<R0+2
 31005 06:7D9A: E5 0B        	sbc	<L1276+dy_1+2
 31006 06:7D9C: 70 03        	bvs	L1301
 31007 06:7D9E: 49 00 80     	eor	#$8000
 31008                        L1301:
 31009 06:7DA1: 30 03        	bmi	L1302
 31010 06:7DA3: 82 53 FF     	brl	L10530
 31011                        L1302:
 31012                        L10529:
 31013                        ;
 31014                        ;	}
 31015                        	.line	5737
 31016                        L10527:
 31017                        ;
 31018                        ;}
 31019                        	.line	5739
 31020                        L1303:
 31021 06:7DA6: A5 22        	lda	<L1275+2
 31022 06:7DA8: 85 38        	sta	<L1275+2+22
 31023 06:7DAA: A5 21        	lda	<L1275+1
 31024 06:7DAC: 85 37        	sta	<L1275+1+22
 31025 06:7DAE: 2B           	pld
 31026 06:7DAF: 3B           	tsc
 31027 06:7DB0: 18           	clc
 31028 06:7DB1: 69 36 00     	adc	#L1275+22
 31029 06:7DB4: 1B           	tcs
 31030 06:7DB5: 6B           	rtl
 31031                        	.endblock	5739
 31032             00000020   L1275	equ	32
 31033             00000009   L1276	equ	9
 31034 06:7DB6:              	ends
 31035                        	efunc
 31036                        	.endfunc	5739,9,32
 31037                        	.line	5739
 31038                        	data
 31039                        L1274:
 31040 00:0CEF: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0CF3: 6C 4C 6F 63 
       00:0CF7: 61 74 69 6F 
       00:0CFB: 6E 30 3A 
 31041 00:0CFE: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0D02: 65 6C 4C 6F 
  Mon Aug  9 2021 16:52                                                Page 573


       00:0D06: 63 61 74 69 
       00:0D0A: 6F 6E 31 
 31042 00:0D0D: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0D11: 78 65 6C 4C 
       00:0D15: 6F 63 61 74 
       00:0D19: 69 6F 6E 
 31043 00:0D1C: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0D20: 69 66 66 65 
       00:0D24: 72 65 6E 63 
       00:0D28: 65 3A 00 
 31044 00:0D2B:              	ends
 31045                        ;
 31046                        ;
 31047                        ;void k_shadow_fill_rect_address(LPCHAR bank,int x
                    0, int y0, int width, int height, UCHAR color)
 31048                        ;{
 31049                        	.line	5742
 31050                        	.line	5743
 31051                        	GFX
 31052                        	xdef	~~k_shadow_fill_rect_address
 31053                        	func
 31054                        	.function	5743
 31055                        ~~k_shadow_fill_rect_address:
 31056                        	longa	on
 31057                        	longi	on
 31058 06:7DB6: 3B           	tsc
 31059 06:7DB7: 38           	sec
 31060 06:7DB8: E9 2C 00     	sbc	#L1305
 31061 06:7DBB: 1B           	tcs
 31062 06:7DBC: 0B           	phd
 31063 06:7DBD: 5B           	tcd
 31064             00000004   bank_0	set	4
 31065             00000008   x0_0	set	8
 31066             0000000A   y0_0	set	10
 31067             0000000C   width_0	set	12
 31068             0000000E   height_0	set	14
 31069             00000010   color_0	set	16
 31070                        	.block	5743
 31071                        ;	LPCHAR ptr = NULL;
 31072                        ;	ULONG dx = 0L;
 31073                        ;	long dy = 0L;
 31074                        ;	long pixelLocation0 = 0L;
 31075                        ;	long pixelLocation1 = 0L;
 31076                        ;	long difference     = 0L;
 31077                        ;	long fIndex = 0;
 31078                        ;	long offset = 0L;
 31079                        ;
 31080                        ;	if(width > 640)
 31081             00000000   ptr_1	set	0
 31082             00000004   dx_1	set	4
 31083             00000008   dy_1	set	8
 31084             0000000C   pixelLocation0_1	set	12
 31085             00000010   pixelLocation1_1	set	16
 31086             00000014   difference_1	set	20
 31087             00000018   fIndex_1	set	24
 31088             0000001C   offset_1	set	28
  Mon Aug  9 2021 16:52                                                Page 574


 31089                        	.sym	ptr,0,142,1,32
 31090                        	.sym	dx,4,18,1,32
 31091                        	.sym	dy,8,7,1,32
 31092                        	.sym	pixelLocation0,12,7,1,32
 31093                        	.sym	pixelLocation1,16,7,1,32
 31094                        	.sym	difference,20,7,1,32
 31095                        	.sym	fIndex,24,7,1,32
 31096                        	.sym	offset,28,7,1,32
 31097                        	.sym	bank,4,142,6,32
 31098                        	.sym	x0,8,5,6,16
 31099                        	.sym	y0,10,5,6,16
 31100                        	.sym	width,12,5,6,16
 31101                        	.sym	height,14,5,6,16
 31102                        	.sym	color,16,14,6,8
 31103 06:7DBE: 64 0D        	stz	<L1306+ptr_1
 31104 06:7DC0: 64 0F        	stz	<L1306+ptr_1+2
 31105 06:7DC2: 64 11        	stz	<L1306+dx_1
 31106 06:7DC4: 64 13        	stz	<L1306+dx_1+2
 31107 06:7DC6: 64 15        	stz	<L1306+dy_1
 31108 06:7DC8: 64 17        	stz	<L1306+dy_1+2
 31109 06:7DCA: 64 19        	stz	<L1306+pixelLocation0_1
 31110 06:7DCC: 64 1B        	stz	<L1306+pixelLocation0_1+2
 31111 06:7DCE: 64 1D        	stz	<L1306+pixelLocation1_1
 31112 06:7DD0: 64 1F        	stz	<L1306+pixelLocation1_1+2
 31113 06:7DD2: 64 21        	stz	<L1306+difference_1
 31114 06:7DD4: 64 23        	stz	<L1306+difference_1+2
 31115 06:7DD6: 64 25        	stz	<L1306+fIndex_1
 31116 06:7DD8: 64 27        	stz	<L1306+fIndex_1+2
 31117 06:7DDA: 64 29        	stz	<L1306+offset_1
 31118 06:7DDC: 64 2B        	stz	<L1306+offset_1+2
 31119                        	.line	5753
 31120                        ;		width = 640;
 31121 06:7DDE: 38           	sec
 31122 06:7DDF: A9 80 02     	lda	#$280
 31123 06:7DE2: E5 38        	sbc	<L1305+width_0
 31124 06:7DE4: 70 03        	bvs	L1308
 31125 06:7DE6: 49 00 80     	eor	#$8000
 31126                        L1308:
 31127 06:7DE9: 10 03        	bpl	L1309
 31128 06:7DEB: 82 05 00     	brl	L10532
 31129                        L1309:
 31130                        	.line	5754
 31131 06:7DEE: A9 80 02     	lda	#$280
 31132 06:7DF1: 85 38        	sta	<L1305+width_0
 31133                        ;	if(height > 480)
 31134                        L10532:
 31135                        	.line	5755
 31136                        ;		height = 480;
 31137 06:7DF3: 38           	sec
 31138 06:7DF4: A9 E0 01     	lda	#$1e0
 31139 06:7DF7: E5 3A        	sbc	<L1305+height_0
 31140 06:7DF9: 70 03        	bvs	L1310
 31141 06:7DFB: 49 00 80     	eor	#$8000
 31142                        L1310:
 31143 06:7DFE: 10 03        	bpl	L1311
 31144 06:7E00: 82 05 00     	brl	L10533
 31145                        L1311:
 31146                        	.line	5756
  Mon Aug  9 2021 16:52                                                Page 575


 31147 06:7E03: A9 E0 01     	lda	#$1e0
 31148 06:7E06: 85 3A        	sta	<L1305+height_0
 31149                        ;
 31150                        ;	if(width < 0)
 31151                        L10533:
 31152                        	.line	5758
 31153                        ;		width = 0;
 31154 06:7E08: A5 38        	lda	<L1305+width_0
 31155 06:7E0A: 30 03        	bmi	L1312
 31156 06:7E0C: 82 02 00     	brl	L10534
 31157                        L1312:
 31158                        	.line	5759
 31159 06:7E0F: 64 38        	stz	<L1305+width_0
 31160                        ;	if(height < 0)
 31161                        L10534:
 31162                        	.line	5760
 31163                        ;		height = 0;
 31164 06:7E11: A5 3A        	lda	<L1305+height_0
 31165 06:7E13: 30 03        	bmi	L1313
 31166 06:7E15: 82 02 00     	brl	L10535
 31167                        L1313:
 31168                        	.line	5761
 31169 06:7E18: 64 3A        	stz	<L1305+height_0
 31170                        ;
 31171                        ;
 31172                        ;	offset = ((long)y0 + (long)height);
 31173                        L10535:
 31174                        	.line	5764
 31175 06:7E1A: A0 00 00     	ldy	#$0
 31176 06:7E1D: A5 3A        	lda	<L1305+height_0
 31177 06:7E1F: 10 01        	bpl	L1314
 31178 06:7E21: 88           	dey
 31179                        L1314:
 31180 06:7E22: 85 01        	sta	<R0
 31181 06:7E24: 84 03        	sty	<R0+2
 31182 06:7E26: A0 00 00     	ldy	#$0
 31183 06:7E29: A5 36        	lda	<L1305+y0_0
 31184 06:7E2B: 10 01        	bpl	L1315
 31185 06:7E2D: 88           	dey
 31186                        L1315:
 31187 06:7E2E: 85 05        	sta	<R1
 31188 06:7E30: 84 07        	sty	<R1+2
 31189 06:7E32: 18           	clc
 31190 06:7E33: A5 05        	lda	<R1
 31191 06:7E35: 65 01        	adc	<R0
 31192 06:7E37: 85 29        	sta	<L1306+offset_1
 31193 06:7E39: A5 07        	lda	<R1+2
 31194 06:7E3B: 65 03        	adc	<R0+2
 31195 06:7E3D: 85 2B        	sta	<L1306+offset_1+2
 31196                        ;
 31197                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 31198                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 31199                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 31200                        ;	difference     = width;
 31201                        	.line	5769
  Mon Aug  9 2021 16:52                                                Page 576


 31202 06:7E3F: A0 00 00     	ldy	#$0
 31203 06:7E42: A5 38        	lda	<L1305+width_0
 31204 06:7E44: 10 01        	bpl	L1316
 31205 06:7E46: 88           	dey
 31206                        L1316:
 31207 06:7E47: 85 21        	sta	<L1306+difference_1
 31208 06:7E49: 84 23        	sty	<L1306+difference_1+2
 31209                        ;
 31210                        ;	//difference = (long)(x0 + width);
 31211                        ;
 31212                        ;	/*
 31213                        ;	k_debug_long("k_shadow_fill_rect::width:",width)
                    ;
 31214                        ;	k_debug_long("k_shadow_fill_rect::height:",heigh
                    t);
 31215                        ;	k_debug_long("k_shadow_fill_rect::difference:",d
                    ifference);
 31216                        ;	k_debug_long("k_shadow_fill_rect::offset:",offse
                    t);
 31217                        ;	*/
 31218                        ;
 31219                        ;	for(dy = (long)y0;dy<offset;dy++)
 31220                        	.line	5780
 31221 06:7E4B: A0 00 00     	ldy	#$0
 31222 06:7E4E: A5 36        	lda	<L1305+y0_0
 31223 06:7E50: 10 01        	bpl	L1317
 31224 06:7E52: 88           	dey
 31225                        L1317:
 31226 06:7E53: 85 15        	sta	<L1306+dy_1
 31227 06:7E55: 84 17        	sty	<L1306+dy_1+2
 31228 06:7E57: 82 4E 00     	brl	L10539
 31229                        L10538:
 31230                        ;	{
 31231                        	.line	5781
 31232                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 31233                        ;		//for(dx=(long)x0;dx<difference;dx++)
 31234                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 31235                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 31236                        ;
 31237                        ;		ptr = &( bank[(dy * 640L) + (long)x0] ) 
                    ;
 31238                        	.line	5787
 31239 06:7E5A: A0 00 00     	ldy	#$0
 31240 06:7E5D: A5 34        	lda	<L1305+x0_0
 31241 06:7E5F: 10 01        	bpl	L1318
 31242 06:7E61: 88           	dey
 31243                        L1318:
 31244 06:7E62: 85 01        	sta	<R0
 31245 06:7E64: 84 03        	sty	<R0+2
 31246 06:7E66: F4 00 00     	pea	#^$280
 31247 06:7E69: F4 80 02     	pea	#<$280
 31248 06:7E6C: D4 17        	pei	<L1306+dy_1+2
 31249 06:7E6E: D4 15        	pei	<L1306+dy_1
 31250                        	xref	~~~lmul
 31251 06:7E70: 22 xx xx xx  	jsl	~~~lmul
  Mon Aug  9 2021 16:52                                                Page 577


 31252 06:7E74: 85 05        	sta	<R1
 31253 06:7E76: 86 07        	stx	<R1+2
 31254 06:7E78: 18           	clc
 31255 06:7E79: A5 05        	lda	<R1
 31256 06:7E7B: 65 01        	adc	<R0
 31257 06:7E7D: 85 09        	sta	<R2
 31258 06:7E7F: A5 07        	lda	<R1+2
 31259 06:7E81: 65 03        	adc	<R0+2
 31260 06:7E83: 85 0B        	sta	<R2+2
 31261 06:7E85: 18           	clc
 31262 06:7E86: A5 30        	lda	<L1305+bank_0
 31263 06:7E88: 65 09        	adc	<R2
 31264 06:7E8A: 85 0D        	sta	<L1306+ptr_1
 31265 06:7E8C: A5 32        	lda	<L1305+bank_0+2
 31266 06:7E8E: 65 0B        	adc	<R2+2
 31267 06:7E90: 85 0F        	sta	<L1306+ptr_1+2
 31268                        ;
 31269                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 31270                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 31271                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 31272                        ;		memset( ptr, color , difference ) ;
 31273                        	.line	5792
 31274 06:7E92: D4 21        	pei	<L1306+difference_1
 31275 06:7E94: A5 3C        	lda	<L1305+color_0
 31276 06:7E96: 29 FF 00     	and	#$ff
 31277 06:7E99: 48           	pha
 31278 06:7E9A: D4 0F        	pei	<L1306+ptr_1+2
 31279 06:7E9C: D4 0D        	pei	<L1306+ptr_1
 31280 06:7E9E: 22 xx xx xx  	jsl	~~memset
 31281                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 31282                        ;		//	ptr[fIndex] = color;
 31283                        ;	}
 31284                        	.line	5795
 31285                        L10536:
 31286 06:7EA2: E6 15        	inc	<L1306+dy_1
 31287 06:7EA4: D0 02        	bne	L1319
 31288 06:7EA6: E6 17        	inc	<L1306+dy_1+2
 31289                        L1319:
 31290                        L10539:
 31291 06:7EA8: 38           	sec
 31292 06:7EA9: A5 15        	lda	<L1306+dy_1
 31293 06:7EAB: E5 29        	sbc	<L1306+offset_1
 31294 06:7EAD: A5 17        	lda	<L1306+dy_1+2
 31295 06:7EAF: E5 2B        	sbc	<L1306+offset_1+2
 31296 06:7EB1: 70 03        	bvs	L1320
 31297 06:7EB3: 49 00 80     	eor	#$8000
 31298                        L1320:
 31299 06:7EB6: 30 03        	bmi	L1321
 31300 06:7EB8: 82 9F FF     	brl	L10538
 31301                        L1321:
 31302                        L10537:
 31303                        ;
 31304                        ;}
 31305                        	.line	5797
  Mon Aug  9 2021 16:52                                                Page 578


 31306                        L1322:
 31307 06:7EBB: A5 2E        	lda	<L1305+2
 31308 06:7EBD: 85 3C        	sta	<L1305+2+14
 31309 06:7EBF: A5 2D        	lda	<L1305+1
 31310 06:7EC1: 85 3B        	sta	<L1305+1+14
 31311 06:7EC3: 2B           	pld
 31312 06:7EC4: 3B           	tsc
 31313 06:7EC5: 18           	clc
 31314 06:7EC6: 69 3A 00     	adc	#L1305+14
 31315 06:7EC9: 1B           	tcs
 31316 06:7ECA: 6B           	rtl
 31317                        	.endblock	5797
 31318             0000002C   L1305	equ	44
 31319             0000000D   L1306	equ	13
 31320 06:7ECB:              	ends
 31321                        	efunc
 31322                        	.endfunc	5797,13,44
 31323                        	.line	5797
 31324                        ;
 31325                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 31326                        ;{
 31327                        	.line	5799
 31328                        	.line	5800
 31329                        	GFX
 31330                        	xdef	~~k_shadow_fill_rect
 31331                        	func
 31332                        	.function	5800
 31333                        ~~k_shadow_fill_rect:
 31334                        	longa	on
 31335                        	longi	on
 31336 06:7ECB: 3B           	tsc
 31337 06:7ECC: 38           	sec
 31338 06:7ECD: E9 00 00     	sbc	#L1323
 31339 06:7ED0: 1B           	tcs
 31340 06:7ED1: 0B           	phd
 31341 06:7ED2: 5B           	tcd
 31342             00000004   x0_0	set	4
 31343             00000006   y0_0	set	6
 31344             00000008   width_0	set	8
 31345             0000000A   height_0	set	10
 31346             0000000C   color_0	set	12
 31347                        	.block	5800
 31348                        ;	k_shadow_fill_rect_address(SHADOW_BANK_0,x0, y0,
                     width, height, color);
 31349                        	.sym	x0,4,5,6,16
 31350                        	.sym	y0,6,5,6,16
 31351                        	.sym	width,8,5,6,16
 31352                        	.sym	height,10,5,6,16
 31353                        	.sym	color,12,14,6,8
 31354                        	.line	5801
 31355 06:7ED3: D4 0C        	pei	<L1323+color_0
 31356 06:7ED5: D4 0A        	pei	<L1323+height_0
 31357 06:7ED7: D4 08        	pei	<L1323+width_0
 31358 06:7ED9: D4 06        	pei	<L1323+y0_0
 31359 06:7EDB: D4 04        	pei	<L1323+x0_0
 31360 06:7EDD: F4 0A 00     	pea	#^$a0000
 31361 06:7EE0: F4 00 00     	pea	#<$a0000
  Mon Aug  9 2021 16:52                                                Page 579


 31362 06:7EE3: 22 B6 7D 06  	jsl	~~k_shadow_fill_rect_address
 31363                        ;}
 31364                        	.line	5802
 31365                        L1326:
 31366 06:7EE7: A5 02        	lda	<L1323+2
 31367 06:7EE9: 85 0C        	sta	<L1323+2+10
 31368 06:7EEB: A5 01        	lda	<L1323+1
 31369 06:7EED: 85 0B        	sta	<L1323+1+10
 31370 06:7EEF: 2B           	pld
 31371 06:7EF0: 3B           	tsc
 31372 06:7EF1: 18           	clc
 31373 06:7EF2: 69 0A 00     	adc	#L1323+10
 31374 06:7EF5: 1B           	tcs
 31375 06:7EF6: 6B           	rtl
 31376                        	.endblock	5802
 31377             00000000   L1323	equ	0
 31378             00000001   L1324	equ	1
 31379 06:7EF7:              	ends
 31380                        	efunc
 31381                        	.endfunc	5802,1,0
 31382                        	.line	5802
 31383                        ;
 31384                        ;/*
 31385                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 31386                        ;{
 31387                        ;	LPCHAR ptr = NULL;
 31388                        ;	ULONG dx = 0L;
 31389                        ;	long dy = 0L;
 31390                        ;	long pixelLocation0 = 0L;
 31391                        ;	long pixelLocation1 = 0L;
 31392                        ;	long difference     = 0L;
 31393                        ;	long fIndex = 0;
 31394                        ;	long offset = 0L;
 31395                        ;
 31396                        ;	if(width > 640)
 31397                        ;		width = 640;
 31398                        ;	if(height > 480)
 31399                        ;		height = 480;
 31400                        ;
 31401                        ;	if(width < 0)
 31402                        ;		width = 0;
 31403                        ;	if(height < 0)
 31404                        ;		height = 0;
 31405                        ;
 31406                        ;
 31407                        ;	offset = ((long)y0 + (long)height);
 31408                        ;
 31409                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 31410                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 31411                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 31412                        ;	difference     = width;
 31413                        ;
 31414                        ;	//difference = (long)(x0 + width);
 31415                        ;
  Mon Aug  9 2021 16:52                                                Page 580


 31416                        ;	//k_debug_long("k_shadow_fill_rect::width:",widt
                    h);
 31417                        ;	//k_debug_long("k_shadow_fill_rect::height:",hei
                    ght);
 31418                        ;	//k_debug_long("k_shadow_fill_rect::difference:"
                    ,difference);
 31419                        ;	//k_debug_long("k_shadow_fill_rect::offset:",off
                    set);
 31420                        ;
 31421                        ;
 31422                        ;	for(dy = (long)y0;dy<offset;dy++)
 31423                        ;	{
 31424                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 31425                        ;		//for(dx=(long)x0;dx<difference;dx++)
 31426                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 31427                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 31428                        ;		ptr = &( SHADOW_BANK_0[(dy * 640L) + (lo
                    ng)x0] ) ;
 31429                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 31430                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 31431                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 31432                        ;		memset( ptr, color , difference ) ;
 31433                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 31434                        ;		//	ptr[fIndex] = color;
 31435                        ;	}
 31436                        ;
 31437                        ;}
 31438                        ;*/
 31439                        ;void k_shadow_bitblt(int x0, int y0, int width, i
                    nt height, int x1, int y1)
 31440                        ;{
 31441                        	.line	5859
 31442                        	.line	5860
 31443                        	GFX
 31444                        	xdef	~~k_shadow_bitblt
 31445                        	func
 31446                        	.function	5860
 31447                        ~~k_shadow_bitblt:
 31448                        	longa	on
 31449                        	longi	on
 31450 06:7EF7: 3B           	tsc
 31451 06:7EF8: 38           	sec
 31452 06:7EF9: E9 20 00     	sbc	#L1327
 31453 06:7EFC: 1B           	tcs
 31454 06:7EFD: 0B           	phd
 31455 06:7EFE: 5B           	tcd
 31456             00000004   x0_0	set	4
 31457             00000006   y0_0	set	6
 31458             00000008   width_0	set	8
 31459             0000000A   height_0	set	10
 31460             0000000C   x1_0	set	12
  Mon Aug  9 2021 16:52                                                Page 581


 31461             0000000E   y1_0	set	14
 31462                        	.block	5860
 31463                        ;	long dy = 0L;
 31464                        ;	long dd = y1;
 31465                        ;
 31466                        ;	long pixelLocation0 = 0L;
 31467                        ;	long pixelLocation1 = 0L;
 31468                        ;	long pixelLocationD = 0L;
 31469                        ;	long difference     = 0L;
 31470                        ;
 31471                        ;	pixelLocation0 = (long)(((long)y0 * 640L) + (lon
                    g)x0);
 31472             00000000   dy_1	set	0
 31473             00000004   dd_1	set	4
 31474             00000008   pixelLocation0_1	set	8
 31475             0000000C   pixelLocation1_1	set	12
 31476             00000010   pixelLocationD_1	set	16
 31477             00000014   difference_1	set	20
 31478                        	.sym	dy,0,7,1,32
 31479                        	.sym	dd,4,7,1,32
 31480                        	.sym	pixelLocation0,8,7,1,32
 31481                        	.sym	pixelLocation1,12,7,1,32
 31482                        	.sym	pixelLocationD,16,7,1,32
 31483                        	.sym	difference,20,7,1,32
 31484                        	.sym	x0,4,5,6,16
 31485                        	.sym	y0,6,5,6,16
 31486                        	.sym	width,8,5,6,16
 31487                        	.sym	height,10,5,6,16
 31488                        	.sym	x1,12,5,6,16
 31489                        	.sym	y1,14,5,6,16
 31490 06:7EFF: 64 09        	stz	<L1328+dy_1
 31491 06:7F01: 64 0B        	stz	<L1328+dy_1+2
 31492 06:7F03: A0 00 00     	ldy	#$0
 31493 06:7F06: A5 2E        	lda	<L1327+y1_0
 31494 06:7F08: 10 01        	bpl	L1330
 31495 06:7F0A: 88           	dey
 31496                        L1330:
 31497 06:7F0B: 85 0D        	sta	<L1328+dd_1
 31498 06:7F0D: 84 0F        	sty	<L1328+dd_1+2
 31499 06:7F0F: 64 11        	stz	<L1328+pixelLocation0_1
 31500 06:7F11: 64 13        	stz	<L1328+pixelLocation0_1+2
 31501 06:7F13: 64 15        	stz	<L1328+pixelLocation1_1
 31502 06:7F15: 64 17        	stz	<L1328+pixelLocation1_1+2
 31503 06:7F17: 64 19        	stz	<L1328+pixelLocationD_1
 31504 06:7F19: 64 1B        	stz	<L1328+pixelLocationD_1+2
 31505 06:7F1B: 64 1D        	stz	<L1328+difference_1
 31506 06:7F1D: 64 1F        	stz	<L1328+difference_1+2
 31507                        	.line	5869
 31508 06:7F1F: A0 00 00     	ldy	#$0
 31509 06:7F22: A5 24        	lda	<L1327+x0_0
 31510 06:7F24: 10 01        	bpl	L1331
 31511 06:7F26: 88           	dey
 31512                        L1331:
 31513 06:7F27: 85 01        	sta	<R0
 31514 06:7F29: 84 03        	sty	<R0+2
 31515 06:7F2B: A0 00 00     	ldy	#$0
 31516 06:7F2E: A5 26        	lda	<L1327+y0_0
 31517 06:7F30: 10 01        	bpl	L1332
  Mon Aug  9 2021 16:52                                                Page 582


 31518 06:7F32: 88           	dey
 31519                        L1332:
 31520 06:7F33: 85 05        	sta	<R1
 31521 06:7F35: 84 07        	sty	<R1+2
 31522 06:7F37: F4 00 00     	pea	#^$280
 31523 06:7F3A: F4 80 02     	pea	#<$280
 31524 06:7F3D: D4 07        	pei	<R1+2
 31525 06:7F3F: D4 05        	pei	<R1
 31526                        	xref	~~~lmul
 31527 06:7F41: 22 xx xx xx  	jsl	~~~lmul
 31528 06:7F45: 85 05        	sta	<R1
 31529 06:7F47: 86 07        	stx	<R1+2
 31530 06:7F49: 18           	clc
 31531 06:7F4A: A5 05        	lda	<R1
 31532 06:7F4C: 65 01        	adc	<R0
 31533 06:7F4E: 85 11        	sta	<L1328+pixelLocation0_1
 31534 06:7F50: A5 07        	lda	<R1+2
 31535 06:7F52: 65 03        	adc	<R0+2
 31536 06:7F54: 85 13        	sta	<L1328+pixelLocation0_1+2
 31537                        ;	//pixelLocation1 = (long)(((long)y0 * 640L) + (l
                    ong)(x0 + width ));
 31538                        ;	pixelLocationD = (long)(((long)y1 * 640L) + (lon
                    g)(x1));
 31539                        	.line	5871
 31540 06:7F56: A0 00 00     	ldy	#$0
 31541 06:7F59: A5 2C        	lda	<L1327+x1_0
 31542 06:7F5B: 10 01        	bpl	L1333
 31543 06:7F5D: 88           	dey
 31544                        L1333:
 31545 06:7F5E: 85 01        	sta	<R0
 31546 06:7F60: 84 03        	sty	<R0+2
 31547 06:7F62: A0 00 00     	ldy	#$0
 31548 06:7F65: A5 2E        	lda	<L1327+y1_0
 31549 06:7F67: 10 01        	bpl	L1334
 31550 06:7F69: 88           	dey
 31551                        L1334:
 31552 06:7F6A: 85 05        	sta	<R1
 31553 06:7F6C: 84 07        	sty	<R1+2
 31554 06:7F6E: F4 00 00     	pea	#^$280
 31555 06:7F71: F4 80 02     	pea	#<$280
 31556 06:7F74: D4 07        	pei	<R1+2
 31557 06:7F76: D4 05        	pei	<R1
 31558                        	xref	~~~lmul
 31559 06:7F78: 22 xx xx xx  	jsl	~~~lmul
 31560 06:7F7C: 85 05        	sta	<R1
 31561 06:7F7E: 86 07        	stx	<R1+2
 31562 06:7F80: 18           	clc
 31563 06:7F81: A5 05        	lda	<R1
 31564 06:7F83: 65 01        	adc	<R0
 31565 06:7F85: 85 19        	sta	<L1328+pixelLocationD_1
 31566 06:7F87: A5 07        	lda	<R1+2
 31567 06:7F89: 65 03        	adc	<R0+2
 31568 06:7F8B: 85 1B        	sta	<L1328+pixelLocationD_1+2
 31569                        ;
 31570                        ;	difference = pixelLocation1 - pixelLocation0;
 31571                        	.line	5873
 31572 06:7F8D: 38           	sec
 31573 06:7F8E: A5 15        	lda	<L1328+pixelLocation1_1
  Mon Aug  9 2021 16:52                                                Page 583


 31574 06:7F90: E5 11        	sbc	<L1328+pixelLocation0_1
 31575 06:7F92: 85 1D        	sta	<L1328+difference_1
 31576 06:7F94: A5 17        	lda	<L1328+pixelLocation1_1+2
 31577 06:7F96: E5 13        	sbc	<L1328+pixelLocation0_1+2
 31578 06:7F98: 85 1F        	sta	<L1328+difference_1+2
 31579                        ;
 31580                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 31581                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 31582                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 31583                        ;	//k_debug_long("difference:",difference);
 31584                        ;
 31585                        ;	y0++;
 31586                        	.line	5880
 31587 06:7F9A: E6 26        	inc	<L1327+y0_0
 31588                        ;	x0++;
 31589                        	.line	5881
 31590 06:7F9C: E6 24        	inc	<L1327+x0_0
 31591                        ;
 31592                        ;	for(dy = y0;dy<(y0 + height);dy++)
 31593                        	.line	5883
 31594 06:7F9E: A0 00 00     	ldy	#$0
 31595 06:7FA1: A5 26        	lda	<L1327+y0_0
 31596 06:7FA3: 10 01        	bpl	L1335
 31597 06:7FA5: 88           	dey
 31598                        L1335:
 31599 06:7FA6: 85 09        	sta	<L1328+dy_1
 31600 06:7FA8: 84 0B        	sty	<L1328+dy_1+2
 31601 06:7FAA: 82 8E 00     	brl	L10543
 31602                        L10542:
 31603                        ;	{
 31604                        	.line	5884
 31605                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 31606                        	.line	5885
 31607 06:7FAD: A0 00 00     	ldy	#$0
 31608 06:7FB0: A5 24        	lda	<L1327+x0_0
 31609 06:7FB2: 10 01        	bpl	L1336
 31610 06:7FB4: 88           	dey
 31611                        L1336:
 31612 06:7FB5: 85 01        	sta	<R0
 31613 06:7FB7: 84 03        	sty	<R0+2
 31614 06:7FB9: F4 00 00     	pea	#^$280
 31615 06:7FBC: F4 80 02     	pea	#<$280
 31616 06:7FBF: D4 0B        	pei	<L1328+dy_1+2
 31617 06:7FC1: D4 09        	pei	<L1328+dy_1
 31618                        	xref	~~~lmul
 31619 06:7FC3: 22 xx xx xx  	jsl	~~~lmul
 31620 06:7FC7: 85 05        	sta	<R1
 31621 06:7FC9: 86 07        	stx	<R1+2
 31622 06:7FCB: 18           	clc
 31623 06:7FCC: A5 05        	lda	<R1
 31624 06:7FCE: 65 01        	adc	<R0
 31625 06:7FD0: 85 11        	sta	<L1328+pixelLocation0_1
 31626 06:7FD2: A5 07        	lda	<R1+2
 31627 06:7FD4: 65 03        	adc	<R0+2
  Mon Aug  9 2021 16:52                                                Page 584


 31628 06:7FD6: 85 13        	sta	<L1328+pixelLocation0_1+2
 31629                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 31630                        	.line	5886
 31631 06:7FD8: A0 00 00     	ldy	#$0
 31632 06:7FDB: A5 2C        	lda	<L1327+x1_0
 31633 06:7FDD: 10 01        	bpl	L1337
 31634 06:7FDF: 88           	dey
 31635                        L1337:
 31636 06:7FE0: 85 01        	sta	<R0
 31637 06:7FE2: 84 03        	sty	<R0+2
 31638 06:7FE4: F4 00 00     	pea	#^$280
 31639 06:7FE7: F4 80 02     	pea	#<$280
 31640 06:7FEA: D4 0F        	pei	<L1328+dd_1+2
 31641 06:7FEC: D4 0D        	pei	<L1328+dd_1
 31642                        	xref	~~~lmul
 31643 06:7FEE: 22 xx xx xx  	jsl	~~~lmul
 31644 06:7FF2: 85 05        	sta	<R1
 31645 06:7FF4: 86 07        	stx	<R1+2
 31646 06:7FF6: 18           	clc
 31647 06:7FF7: A5 05        	lda	<R1
 31648 06:7FF9: 65 01        	adc	<R0
 31649 06:7FFB: 85 19        	sta	<L1328+pixelLocationD_1
 31650 06:7FFD: A5 07        	lda	<R1+2
 31651 06:7FFF: 65 03        	adc	<R0+2
 31652 06:8001: 85 1B        	sta	<L1328+pixelLocationD_1+2
 31653                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 31654                        	.line	5887
 31655 06:8003: D4 1D        	pei	<L1328+difference_1
 31656 06:8005: 18           	clc
 31657 06:8006: A9 00 00     	lda	#$0
 31658 06:8009: 65 11        	adc	<L1328+pixelLocation0_1
 31659 06:800B: 85 01        	sta	<R0
 31660 06:800D: A9 0A 00     	lda	#$a
 31661 06:8010: 65 13        	adc	<L1328+pixelLocation0_1+2
 31662 06:8012: 85 03        	sta	<R0+2
 31663 06:8014: D4 03        	pei	<R0+2
 31664 06:8016: D4 01        	pei	<R0
 31665 06:8018: 18           	clc
 31666 06:8019: A9 00 00     	lda	#$0
 31667 06:801C: 65 19        	adc	<L1328+pixelLocationD_1
 31668 06:801E: 85 05        	sta	<R1
 31669 06:8020: A9 B0 00     	lda	#$b0
 31670 06:8023: 65 1B        	adc	<L1328+pixelLocationD_1+2
 31671 06:8025: 85 07        	sta	<R1+2
 31672 06:8027: D4 07        	pei	<R1+2
 31673 06:8029: D4 05        	pei	<R1
 31674 06:802B: 22 xx xx xx  	jsl	~~memcpy
 31675                        ;
 31676                        ;		dd++;
 31677                        	.line	5889
 31678 06:802F: E6 0D        	inc	<L1328+dd_1
 31679 06:8031: D0 02        	bne	L1338
 31680 06:8033: E6 0F        	inc	<L1328+dd_1+2
 31681                        L1338:
 31682                        ;	}
 31683                        	.line	5890
  Mon Aug  9 2021 16:52                                                Page 585


 31684                        L10540:
 31685 06:8035: E6 09        	inc	<L1328+dy_1
 31686 06:8037: D0 02        	bne	L1339
 31687 06:8039: E6 0B        	inc	<L1328+dy_1+2
 31688                        L1339:
 31689                        L10543:
 31690 06:803B: 18           	clc
 31691 06:803C: A5 26        	lda	<L1327+y0_0
 31692 06:803E: 65 2A        	adc	<L1327+height_0
 31693 06:8040: 85 01        	sta	<R0
 31694 06:8042: A0 00 00     	ldy	#$0
 31695 06:8045: A5 01        	lda	<R0
 31696 06:8047: 10 01        	bpl	L1340
 31697 06:8049: 88           	dey
 31698                        L1340:
 31699 06:804A: 85 01        	sta	<R0
 31700 06:804C: 84 03        	sty	<R0+2
 31701 06:804E: 38           	sec
 31702 06:804F: A5 09        	lda	<L1328+dy_1
 31703 06:8051: E5 01        	sbc	<R0
 31704 06:8053: A5 0B        	lda	<L1328+dy_1+2
 31705 06:8055: E5 03        	sbc	<R0+2
 31706 06:8057: 70 03        	bvs	L1341
 31707 06:8059: 49 00 80     	eor	#$8000
 31708                        L1341:
 31709 06:805C: 30 03        	bmi	L1342
 31710 06:805E: 82 4C FF     	brl	L10542
 31711                        L1342:
 31712                        L10541:
 31713                        ;
 31714                        ;}
 31715                        	.line	5892
 31716                        L1343:
 31717 06:8061: A5 22        	lda	<L1327+2
 31718 06:8063: 85 2E        	sta	<L1327+2+12
 31719 06:8065: A5 21        	lda	<L1327+1
 31720 06:8067: 85 2D        	sta	<L1327+1+12
 31721 06:8069: 2B           	pld
 31722 06:806A: 3B           	tsc
 31723 06:806B: 18           	clc
 31724 06:806C: 69 2C 00     	adc	#L1327+12
 31725 06:806F: 1B           	tcs
 31726 06:8070: 6B           	rtl
 31727                        	.endblock	5892
 31728             00000020   L1327	equ	32
 31729             00000009   L1328	equ	9
 31730 06:8071:              	ends
 31731                        	efunc
 31732                        	.endfunc	5892,9,32
 31733                        	.line	5892
 31734                        ;
 31735                        ;void k_scratch_save_bitblt(int x0, int y0, int wi
                    dth, int height, int x1, int y1)
 31736                        ;{
 31737                        	.line	5894
 31738                        	.line	5895
 31739                        	GFX
 31740                        	xdef	~~k_scratch_save_bitblt
  Mon Aug  9 2021 16:52                                                Page 586


 31741                        	func
 31742                        	.function	5895
 31743                        ~~k_scratch_save_bitblt:
 31744                        	longa	on
 31745                        	longi	on
 31746 06:8071: 3B           	tsc
 31747 06:8072: 38           	sec
 31748 06:8073: E9 20 00     	sbc	#L1344
 31749 06:8076: 1B           	tcs
 31750 06:8077: 0B           	phd
 31751 06:8078: 5B           	tcd
 31752             00000004   x0_0	set	4
 31753             00000006   y0_0	set	6
 31754             00000008   width_0	set	8
 31755             0000000A   height_0	set	10
 31756             0000000C   x1_0	set	12
 31757             0000000E   y1_0	set	14
 31758                        	.block	5895
 31759                        ;	long dy = 0L;
 31760                        ;	long dd = y1;
 31761                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 31762                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 31763                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 31764                        ;
 31765                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 31766                        ;
 31767                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 31768                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 31769                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 31770                        ;	//k_debug_long("difference:",difference);
 31771                        ;
 31772                        ;
 31773                        ;
 31774                        ;	for(dy = y0;dy<(y0 + height);dy++)
 31775             00000000   dy_1	set	0
 31776             00000004   dd_1	set	4
 31777             00000008   pixelLocation0_1	set	8
 31778             0000000C   pixelLocation1_1	set	12
 31779             00000010   pixelLocationD_1	set	16
 31780             00000014   difference_1	set	20
 31781                        	.sym	dy,0,7,1,32
 31782                        	.sym	dd,4,7,1,32
 31783                        	.sym	pixelLocation0,8,7,1,32
 31784                        	.sym	pixelLocation1,12,7,1,32
 31785                        	.sym	pixelLocationD,16,7,1,32
 31786                        	.sym	difference,20,7,1,32
 31787                        	.sym	x0,4,5,6,16
 31788                        	.sym	y0,6,5,6,16
 31789                        	.sym	width,8,5,6,16
 31790                        	.sym	height,10,5,6,16
 31791                        	.sym	x1,12,5,6,16
  Mon Aug  9 2021 16:52                                                Page 587


 31792                        	.sym	y1,14,5,6,16
 31793 06:8079: 64 09        	stz	<L1345+dy_1
 31794 06:807B: 64 0B        	stz	<L1345+dy_1+2
 31795 06:807D: A0 00 00     	ldy	#$0
 31796 06:8080: A5 2E        	lda	<L1344+y1_0
 31797 06:8082: 10 01        	bpl	L1347
 31798 06:8084: 88           	dey
 31799                        L1347:
 31800 06:8085: 85 0D        	sta	<L1345+dd_1
 31801 06:8087: 84 0F        	sty	<L1345+dd_1+2
 31802 06:8089: A0 00 00     	ldy	#$0
 31803 06:808C: A5 24        	lda	<L1344+x0_0
 31804 06:808E: 10 01        	bpl	L1348
 31805 06:8090: 88           	dey
 31806                        L1348:
 31807 06:8091: 85 01        	sta	<R0
 31808 06:8093: 84 03        	sty	<R0+2
 31809 06:8095: A0 00 00     	ldy	#$0
 31810 06:8098: A5 26        	lda	<L1344+y0_0
 31811 06:809A: 10 01        	bpl	L1349
 31812 06:809C: 88           	dey
 31813                        L1349:
 31814 06:809D: 85 05        	sta	<R1
 31815 06:809F: 84 07        	sty	<R1+2
 31816 06:80A1: F4 00 00     	pea	#^$280
 31817 06:80A4: F4 80 02     	pea	#<$280
 31818 06:80A7: D4 07        	pei	<R1+2
 31819 06:80A9: D4 05        	pei	<R1
 31820                        	xref	~~~lmul
 31821 06:80AB: 22 xx xx xx  	jsl	~~~lmul
 31822 06:80AF: 85 05        	sta	<R1
 31823 06:80B1: 86 07        	stx	<R1+2
 31824 06:80B3: 18           	clc
 31825 06:80B4: A5 05        	lda	<R1
 31826 06:80B6: 65 01        	adc	<R0
 31827 06:80B8: 85 11        	sta	<L1345+pixelLocation0_1
 31828 06:80BA: A5 07        	lda	<R1+2
 31829 06:80BC: 65 03        	adc	<R0+2
 31830 06:80BE: 85 13        	sta	<L1345+pixelLocation0_1+2
 31831 06:80C0: 18           	clc
 31832 06:80C1: A5 24        	lda	<L1344+x0_0
 31833 06:80C3: 65 28        	adc	<L1344+width_0
 31834 06:80C5: 85 01        	sta	<R0
 31835 06:80C7: A0 00 00     	ldy	#$0
 31836 06:80CA: A5 01        	lda	<R0
 31837 06:80CC: 10 01        	bpl	L1350
 31838 06:80CE: 88           	dey
 31839                        L1350:
 31840 06:80CF: 85 01        	sta	<R0
 31841 06:80D1: 84 03        	sty	<R0+2
 31842 06:80D3: A0 00 00     	ldy	#$0
 31843 06:80D6: A5 26        	lda	<L1344+y0_0
 31844 06:80D8: 10 01        	bpl	L1351
 31845 06:80DA: 88           	dey
 31846                        L1351:
 31847 06:80DB: 85 05        	sta	<R1
 31848 06:80DD: 84 07        	sty	<R1+2
 31849 06:80DF: F4 00 00     	pea	#^$280
  Mon Aug  9 2021 16:52                                                Page 588


 31850 06:80E2: F4 80 02     	pea	#<$280
 31851 06:80E5: D4 07        	pei	<R1+2
 31852 06:80E7: D4 05        	pei	<R1
 31853                        	xref	~~~lmul
 31854 06:80E9: 22 xx xx xx  	jsl	~~~lmul
 31855 06:80ED: 85 05        	sta	<R1
 31856 06:80EF: 86 07        	stx	<R1+2
 31857 06:80F1: 18           	clc
 31858 06:80F2: A5 05        	lda	<R1
 31859 06:80F4: 65 01        	adc	<R0
 31860 06:80F6: 85 15        	sta	<L1345+pixelLocation1_1
 31861 06:80F8: A5 07        	lda	<R1+2
 31862 06:80FA: 65 03        	adc	<R0+2
 31863 06:80FC: 85 17        	sta	<L1345+pixelLocation1_1+2
 31864 06:80FE: A0 00 00     	ldy	#$0
 31865 06:8101: A5 2C        	lda	<L1344+x1_0
 31866 06:8103: 10 01        	bpl	L1352
 31867 06:8105: 88           	dey
 31868                        L1352:
 31869 06:8106: 85 01        	sta	<R0
 31870 06:8108: 84 03        	sty	<R0+2
 31871 06:810A: A0 00 00     	ldy	#$0
 31872 06:810D: A5 2E        	lda	<L1344+y1_0
 31873 06:810F: 10 01        	bpl	L1353
 31874 06:8111: 88           	dey
 31875                        L1353:
 31876 06:8112: 85 05        	sta	<R1
 31877 06:8114: 84 07        	sty	<R1+2
 31878 06:8116: F4 00 00     	pea	#^$280
 31879 06:8119: F4 80 02     	pea	#<$280
 31880 06:811C: D4 07        	pei	<R1+2
 31881 06:811E: D4 05        	pei	<R1
 31882                        	xref	~~~lmul
 31883 06:8120: 22 xx xx xx  	jsl	~~~lmul
 31884 06:8124: 85 05        	sta	<R1
 31885 06:8126: 86 07        	stx	<R1+2
 31886 06:8128: 18           	clc
 31887 06:8129: A5 05        	lda	<R1
 31888 06:812B: 65 01        	adc	<R0
 31889 06:812D: 85 19        	sta	<L1345+pixelLocationD_1
 31890 06:812F: A5 07        	lda	<R1+2
 31891 06:8131: 65 03        	adc	<R0+2
 31892 06:8133: 85 1B        	sta	<L1345+pixelLocationD_1+2
 31893 06:8135: A0 00 00     	ldy	#$0
 31894 06:8138: A5 28        	lda	<L1344+width_0
 31895 06:813A: 10 01        	bpl	L1354
 31896 06:813C: 88           	dey
 31897                        L1354:
 31898 06:813D: 85 1D        	sta	<L1345+difference_1
 31899 06:813F: 84 1F        	sty	<L1345+difference_1+2
 31900                        	.line	5911
 31901 06:8141: A0 00 00     	ldy	#$0
 31902 06:8144: A5 26        	lda	<L1344+y0_0
 31903 06:8146: 10 01        	bpl	L1355
 31904 06:8148: 88           	dey
 31905                        L1355:
 31906 06:8149: 85 09        	sta	<L1345+dy_1
 31907 06:814B: 84 0B        	sty	<L1345+dy_1+2
  Mon Aug  9 2021 16:52                                                Page 589


 31908 06:814D: 82 8E 00     	brl	L10547
 31909                        L10546:
 31910                        ;	{
 31911                        	.line	5912
 31912                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 31913                        	.line	5913
 31914 06:8150: A0 00 00     	ldy	#$0
 31915 06:8153: A5 24        	lda	<L1344+x0_0
 31916 06:8155: 10 01        	bpl	L1356
 31917 06:8157: 88           	dey
 31918                        L1356:
 31919 06:8158: 85 01        	sta	<R0
 31920 06:815A: 84 03        	sty	<R0+2
 31921 06:815C: F4 00 00     	pea	#^$280
 31922 06:815F: F4 80 02     	pea	#<$280
 31923 06:8162: D4 0B        	pei	<L1345+dy_1+2
 31924 06:8164: D4 09        	pei	<L1345+dy_1
 31925                        	xref	~~~lmul
 31926 06:8166: 22 xx xx xx  	jsl	~~~lmul
 31927 06:816A: 85 05        	sta	<R1
 31928 06:816C: 86 07        	stx	<R1+2
 31929 06:816E: 18           	clc
 31930 06:816F: A5 05        	lda	<R1
 31931 06:8171: 65 01        	adc	<R0
 31932 06:8173: 85 11        	sta	<L1345+pixelLocation0_1
 31933 06:8175: A5 07        	lda	<R1+2
 31934 06:8177: 65 03        	adc	<R0+2
 31935 06:8179: 85 13        	sta	<L1345+pixelLocation0_1+2
 31936                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 31937                        	.line	5914
 31938 06:817B: A0 00 00     	ldy	#$0
 31939 06:817E: A5 2C        	lda	<L1344+x1_0
 31940 06:8180: 10 01        	bpl	L1357
 31941 06:8182: 88           	dey
 31942                        L1357:
 31943 06:8183: 85 01        	sta	<R0
 31944 06:8185: 84 03        	sty	<R0+2
 31945 06:8187: F4 00 00     	pea	#^$280
 31946 06:818A: F4 80 02     	pea	#<$280
 31947 06:818D: D4 0F        	pei	<L1345+dd_1+2
 31948 06:818F: D4 0D        	pei	<L1345+dd_1
 31949                        	xref	~~~lmul
 31950 06:8191: 22 xx xx xx  	jsl	~~~lmul
 31951 06:8195: 85 05        	sta	<R1
 31952 06:8197: 86 07        	stx	<R1+2
 31953 06:8199: 18           	clc
 31954 06:819A: A5 05        	lda	<R1
 31955 06:819C: 65 01        	adc	<R0
 31956 06:819E: 85 19        	sta	<L1345+pixelLocationD_1
 31957 06:81A0: A5 07        	lda	<R1+2
 31958 06:81A2: 65 03        	adc	<R0+2
 31959 06:81A4: 85 1B        	sta	<L1345+pixelLocationD_1+2
 31960                        ;		memcpy(   &((SHADOW_BANK_5)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 31961                        	.line	5915
 31962 06:81A6: D4 1D        	pei	<L1345+difference_1
  Mon Aug  9 2021 16:52                                                Page 590


 31963 06:81A8: 18           	clc
 31964 06:81A9: A9 00 00     	lda	#$0
 31965 06:81AC: 65 11        	adc	<L1345+pixelLocation0_1
 31966 06:81AE: 85 01        	sta	<R0
 31967 06:81B0: A9 0A 00     	lda	#$a
 31968 06:81B3: 65 13        	adc	<L1345+pixelLocation0_1+2
 31969 06:81B5: 85 03        	sta	<R0+2
 31970 06:81B7: D4 03        	pei	<R0+2
 31971 06:81B9: D4 01        	pei	<R0
 31972 06:81BB: 18           	clc
 31973 06:81BC: A9 00 00     	lda	#$0
 31974 06:81BF: 65 19        	adc	<L1345+pixelLocationD_1
 31975 06:81C1: 85 05        	sta	<R1
 31976 06:81C3: A9 0F 00     	lda	#$f
 31977 06:81C6: 65 1B        	adc	<L1345+pixelLocationD_1+2
 31978 06:81C8: 85 07        	sta	<R1+2
 31979 06:81CA: D4 07        	pei	<R1+2
 31980 06:81CC: D4 05        	pei	<R1
 31981 06:81CE: 22 xx xx xx  	jsl	~~memcpy
 31982                        ;
 31983                        ;		dd++;
 31984                        	.line	5917
 31985 06:81D2: E6 0D        	inc	<L1345+dd_1
 31986 06:81D4: D0 02        	bne	L1358
 31987 06:81D6: E6 0F        	inc	<L1345+dd_1+2
 31988                        L1358:
 31989                        ;	}
 31990                        	.line	5918
 31991                        L10544:
 31992 06:81D8: E6 09        	inc	<L1345+dy_1
 31993 06:81DA: D0 02        	bne	L1359
 31994 06:81DC: E6 0B        	inc	<L1345+dy_1+2
 31995                        L1359:
 31996                        L10547:
 31997 06:81DE: 18           	clc
 31998 06:81DF: A5 26        	lda	<L1344+y0_0
 31999 06:81E1: 65 2A        	adc	<L1344+height_0
 32000 06:81E3: 85 01        	sta	<R0
 32001 06:81E5: A0 00 00     	ldy	#$0
 32002 06:81E8: A5 01        	lda	<R0
 32003 06:81EA: 10 01        	bpl	L1360
 32004 06:81EC: 88           	dey
 32005                        L1360:
 32006 06:81ED: 85 01        	sta	<R0
 32007 06:81EF: 84 03        	sty	<R0+2
 32008 06:81F1: 38           	sec
 32009 06:81F2: A5 09        	lda	<L1345+dy_1
 32010 06:81F4: E5 01        	sbc	<R0
 32011 06:81F6: A5 0B        	lda	<L1345+dy_1+2
 32012 06:81F8: E5 03        	sbc	<R0+2
 32013 06:81FA: 70 03        	bvs	L1361
 32014 06:81FC: 49 00 80     	eor	#$8000
 32015                        L1361:
 32016 06:81FF: 30 03        	bmi	L1362
 32017 06:8201: 82 4C FF     	brl	L10546
 32018                        L1362:
 32019                        L10545:
 32020                        ;
  Mon Aug  9 2021 16:52                                                Page 591


 32021                        ;}
 32022                        	.line	5920
 32023                        L1363:
 32024 06:8204: A5 22        	lda	<L1344+2
 32025 06:8206: 85 2E        	sta	<L1344+2+12
 32026 06:8208: A5 21        	lda	<L1344+1
 32027 06:820A: 85 2D        	sta	<L1344+1+12
 32028 06:820C: 2B           	pld
 32029 06:820D: 3B           	tsc
 32030 06:820E: 18           	clc
 32031 06:820F: 69 2C 00     	adc	#L1344+12
 32032 06:8212: 1B           	tcs
 32033 06:8213: 6B           	rtl
 32034                        	.endblock	5920
 32035             00000020   L1344	equ	32
 32036             00000009   L1345	equ	9
 32037 06:8214:              	ends
 32038                        	efunc
 32039                        	.endfunc	5920,9,32
 32040                        	.line	5920
 32041                        ;
 32042                        ;void k_scratch_restore_bitblt(int x0, int y0, int
                     width, int height, int x1, int y1)
 32043                        ;{
 32044                        	.line	5922
 32045                        	.line	5923
 32046                        	GFX
 32047                        	xdef	~~k_scratch_restore_bitblt
 32048                        	func
 32049                        	.function	5923
 32050                        ~~k_scratch_restore_bitblt:
 32051                        	longa	on
 32052                        	longi	on
 32053 06:8214: 3B           	tsc
 32054 06:8215: 38           	sec
 32055 06:8216: E9 20 00     	sbc	#L1364
 32056 06:8219: 1B           	tcs
 32057 06:821A: 0B           	phd
 32058 06:821B: 5B           	tcd
 32059             00000004   x0_0	set	4
 32060             00000006   y0_0	set	6
 32061             00000008   width_0	set	8
 32062             0000000A   height_0	set	10
 32063             0000000C   x1_0	set	12
 32064             0000000E   y1_0	set	14
 32065                        	.block	5923
 32066                        ;	long dy = 0L;
 32067                        ;	long dd = y1;
 32068                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 32069                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 32070                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 32071                        ;
 32072                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 32073                        ;
  Mon Aug  9 2021 16:52                                                Page 592


 32074                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 32075                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 32076                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 32077                        ;	//k_debug_long("difference:",difference);
 32078                        ;
 32079                        ;
 32080                        ;
 32081                        ;	for(dy = y0;dy<(y0 + height);dy++)
 32082             00000000   dy_1	set	0
 32083             00000004   dd_1	set	4
 32084             00000008   pixelLocation0_1	set	8
 32085             0000000C   pixelLocation1_1	set	12
 32086             00000010   pixelLocationD_1	set	16
 32087             00000014   difference_1	set	20
 32088                        	.sym	dy,0,7,1,32
 32089                        	.sym	dd,4,7,1,32
 32090                        	.sym	pixelLocation0,8,7,1,32
 32091                        	.sym	pixelLocation1,12,7,1,32
 32092                        	.sym	pixelLocationD,16,7,1,32
 32093                        	.sym	difference,20,7,1,32
 32094                        	.sym	x0,4,5,6,16
 32095                        	.sym	y0,6,5,6,16
 32096                        	.sym	width,8,5,6,16
 32097                        	.sym	height,10,5,6,16
 32098                        	.sym	x1,12,5,6,16
 32099                        	.sym	y1,14,5,6,16
 32100 06:821C: 64 09        	stz	<L1365+dy_1
 32101 06:821E: 64 0B        	stz	<L1365+dy_1+2
 32102 06:8220: A0 00 00     	ldy	#$0
 32103 06:8223: A5 2E        	lda	<L1364+y1_0
 32104 06:8225: 10 01        	bpl	L1367
 32105 06:8227: 88           	dey
 32106                        L1367:
 32107 06:8228: 85 0D        	sta	<L1365+dd_1
 32108 06:822A: 84 0F        	sty	<L1365+dd_1+2
 32109 06:822C: A0 00 00     	ldy	#$0
 32110 06:822F: A5 24        	lda	<L1364+x0_0
 32111 06:8231: 10 01        	bpl	L1368
 32112 06:8233: 88           	dey
 32113                        L1368:
 32114 06:8234: 85 01        	sta	<R0
 32115 06:8236: 84 03        	sty	<R0+2
 32116 06:8238: A0 00 00     	ldy	#$0
 32117 06:823B: A5 26        	lda	<L1364+y0_0
 32118 06:823D: 10 01        	bpl	L1369
 32119 06:823F: 88           	dey
 32120                        L1369:
 32121 06:8240: 85 05        	sta	<R1
 32122 06:8242: 84 07        	sty	<R1+2
 32123 06:8244: F4 00 00     	pea	#^$280
 32124 06:8247: F4 80 02     	pea	#<$280
 32125 06:824A: D4 07        	pei	<R1+2
 32126 06:824C: D4 05        	pei	<R1
 32127                        	xref	~~~lmul
 32128 06:824E: 22 xx xx xx  	jsl	~~~lmul
  Mon Aug  9 2021 16:52                                                Page 593


 32129 06:8252: 85 05        	sta	<R1
 32130 06:8254: 86 07        	stx	<R1+2
 32131 06:8256: 18           	clc
 32132 06:8257: A5 05        	lda	<R1
 32133 06:8259: 65 01        	adc	<R0
 32134 06:825B: 85 11        	sta	<L1365+pixelLocation0_1
 32135 06:825D: A5 07        	lda	<R1+2
 32136 06:825F: 65 03        	adc	<R0+2
 32137 06:8261: 85 13        	sta	<L1365+pixelLocation0_1+2
 32138 06:8263: 18           	clc
 32139 06:8264: A5 24        	lda	<L1364+x0_0
 32140 06:8266: 65 28        	adc	<L1364+width_0
 32141 06:8268: 85 01        	sta	<R0
 32142 06:826A: A0 00 00     	ldy	#$0
 32143 06:826D: A5 01        	lda	<R0
 32144 06:826F: 10 01        	bpl	L1370
 32145 06:8271: 88           	dey
 32146                        L1370:
 32147 06:8272: 85 01        	sta	<R0
 32148 06:8274: 84 03        	sty	<R0+2
 32149 06:8276: A0 00 00     	ldy	#$0
 32150 06:8279: A5 26        	lda	<L1364+y0_0
 32151 06:827B: 10 01        	bpl	L1371
 32152 06:827D: 88           	dey
 32153                        L1371:
 32154 06:827E: 85 05        	sta	<R1
 32155 06:8280: 84 07        	sty	<R1+2
 32156 06:8282: F4 00 00     	pea	#^$280
 32157 06:8285: F4 80 02     	pea	#<$280
 32158 06:8288: D4 07        	pei	<R1+2
 32159 06:828A: D4 05        	pei	<R1
 32160                        	xref	~~~lmul
 32161 06:828C: 22 xx xx xx  	jsl	~~~lmul
 32162 06:8290: 85 05        	sta	<R1
 32163 06:8292: 86 07        	stx	<R1+2
 32164 06:8294: 18           	clc
 32165 06:8295: A5 05        	lda	<R1
 32166 06:8297: 65 01        	adc	<R0
 32167 06:8299: 85 15        	sta	<L1365+pixelLocation1_1
 32168 06:829B: A5 07        	lda	<R1+2
 32169 06:829D: 65 03        	adc	<R0+2
 32170 06:829F: 85 17        	sta	<L1365+pixelLocation1_1+2
 32171 06:82A1: A0 00 00     	ldy	#$0
 32172 06:82A4: A5 2C        	lda	<L1364+x1_0
 32173 06:82A6: 10 01        	bpl	L1372
 32174 06:82A8: 88           	dey
 32175                        L1372:
 32176 06:82A9: 85 01        	sta	<R0
 32177 06:82AB: 84 03        	sty	<R0+2
 32178 06:82AD: A0 00 00     	ldy	#$0
 32179 06:82B0: A5 2E        	lda	<L1364+y1_0
 32180 06:82B2: 10 01        	bpl	L1373
 32181 06:82B4: 88           	dey
 32182                        L1373:
 32183 06:82B5: 85 05        	sta	<R1
 32184 06:82B7: 84 07        	sty	<R1+2
 32185 06:82B9: F4 00 00     	pea	#^$280
 32186 06:82BC: F4 80 02     	pea	#<$280
  Mon Aug  9 2021 16:52                                                Page 594


 32187 06:82BF: D4 07        	pei	<R1+2
 32188 06:82C1: D4 05        	pei	<R1
 32189                        	xref	~~~lmul
 32190 06:82C3: 22 xx xx xx  	jsl	~~~lmul
 32191 06:82C7: 85 05        	sta	<R1
 32192 06:82C9: 86 07        	stx	<R1+2
 32193 06:82CB: 18           	clc
 32194 06:82CC: A5 05        	lda	<R1
 32195 06:82CE: 65 01        	adc	<R0
 32196 06:82D0: 85 19        	sta	<L1365+pixelLocationD_1
 32197 06:82D2: A5 07        	lda	<R1+2
 32198 06:82D4: 65 03        	adc	<R0+2
 32199 06:82D6: 85 1B        	sta	<L1365+pixelLocationD_1+2
 32200 06:82D8: A0 00 00     	ldy	#$0
 32201 06:82DB: A5 28        	lda	<L1364+width_0
 32202 06:82DD: 10 01        	bpl	L1374
 32203 06:82DF: 88           	dey
 32204                        L1374:
 32205 06:82E0: 85 1D        	sta	<L1365+difference_1
 32206 06:82E2: 84 1F        	sty	<L1365+difference_1+2
 32207                        	.line	5939
 32208 06:82E4: A0 00 00     	ldy	#$0
 32209 06:82E7: A5 26        	lda	<L1364+y0_0
 32210 06:82E9: 10 01        	bpl	L1375
 32211 06:82EB: 88           	dey
 32212                        L1375:
 32213 06:82EC: 85 09        	sta	<L1365+dy_1
 32214 06:82EE: 84 0B        	sty	<L1365+dy_1+2
 32215 06:82F0: 82 BA 00     	brl	L10551
 32216                        L10550:
 32217                        ;	{
 32218                        	.line	5940
 32219                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 32220                        	.line	5941
 32221 06:82F3: A0 00 00     	ldy	#$0
 32222 06:82F6: A5 24        	lda	<L1364+x0_0
 32223 06:82F8: 10 01        	bpl	L1376
 32224 06:82FA: 88           	dey
 32225                        L1376:
 32226 06:82FB: 85 01        	sta	<R0
 32227 06:82FD: 84 03        	sty	<R0+2
 32228 06:82FF: F4 00 00     	pea	#^$280
 32229 06:8302: F4 80 02     	pea	#<$280
 32230 06:8305: D4 0B        	pei	<L1365+dy_1+2
 32231 06:8307: D4 09        	pei	<L1365+dy_1
 32232                        	xref	~~~lmul
 32233 06:8309: 22 xx xx xx  	jsl	~~~lmul
 32234 06:830D: 85 05        	sta	<R1
 32235 06:830F: 86 07        	stx	<R1+2
 32236 06:8311: 18           	clc
 32237 06:8312: A5 05        	lda	<R1
 32238 06:8314: 65 01        	adc	<R0
 32239 06:8316: 85 11        	sta	<L1365+pixelLocation0_1
 32240 06:8318: A5 07        	lda	<R1+2
 32241 06:831A: 65 03        	adc	<R0+2
 32242 06:831C: 85 13        	sta	<L1365+pixelLocation0_1+2
 32243                        ;		pixelLocationD = (long)(((long)dd * 640L
  Mon Aug  9 2021 16:52                                                Page 595


                    ) + (long)x1);
 32244                        	.line	5942
 32245 06:831E: A0 00 00     	ldy	#$0
 32246 06:8321: A5 2C        	lda	<L1364+x1_0
 32247 06:8323: 10 01        	bpl	L1377
 32248 06:8325: 88           	dey
 32249                        L1377:
 32250 06:8326: 85 01        	sta	<R0
 32251 06:8328: 84 03        	sty	<R0+2
 32252 06:832A: F4 00 00     	pea	#^$280
 32253 06:832D: F4 80 02     	pea	#<$280
 32254 06:8330: D4 0F        	pei	<L1365+dd_1+2
 32255 06:8332: D4 0D        	pei	<L1365+dd_1
 32256                        	xref	~~~lmul
 32257 06:8334: 22 xx xx xx  	jsl	~~~lmul
 32258 06:8338: 85 05        	sta	<R1
 32259 06:833A: 86 07        	stx	<R1+2
 32260 06:833C: 18           	clc
 32261 06:833D: A5 05        	lda	<R1
 32262 06:833F: 65 01        	adc	<R0
 32263 06:8341: 85 19        	sta	<L1365+pixelLocationD_1
 32264 06:8343: A5 07        	lda	<R1+2
 32265 06:8345: 65 03        	adc	<R0+2
 32266 06:8347: 85 1B        	sta	<L1365+pixelLocationD_1+2
 32267                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 32268                        	.line	5943
 32269 06:8349: D4 1D        	pei	<L1365+difference_1
 32270 06:834B: 18           	clc
 32271 06:834C: A9 00 00     	lda	#$0
 32272 06:834F: 65 11        	adc	<L1365+pixelLocation0_1
 32273 06:8351: 85 01        	sta	<R0
 32274 06:8353: A9 0F 00     	lda	#$f
 32275 06:8356: 65 13        	adc	<L1365+pixelLocation0_1+2
 32276 06:8358: 85 03        	sta	<R0+2
 32277 06:835A: D4 03        	pei	<R0+2
 32278 06:835C: D4 01        	pei	<R0
 32279 06:835E: 18           	clc
 32280 06:835F: A9 00 00     	lda	#$0
 32281 06:8362: 65 19        	adc	<L1365+pixelLocationD_1
 32282 06:8364: 85 05        	sta	<R1
 32283 06:8366: A9 B0 00     	lda	#$b0
 32284 06:8369: 65 1B        	adc	<L1365+pixelLocationD_1+2
 32285 06:836B: 85 07        	sta	<R1+2
 32286 06:836D: D4 07        	pei	<R1+2
 32287 06:836F: D4 05        	pei	<R1
 32288 06:8371: 22 xx xx xx  	jsl	~~memcpy
 32289                        ;		memcpy(   &((SHADOW_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 32290                        	.line	5944
 32291 06:8375: D4 1D        	pei	<L1365+difference_1
 32292 06:8377: 18           	clc
 32293 06:8378: A9 00 00     	lda	#$0
 32294 06:837B: 65 11        	adc	<L1365+pixelLocation0_1
 32295 06:837D: 85 01        	sta	<R0
 32296 06:837F: A9 0F 00     	lda	#$f
 32297 06:8382: 65 13        	adc	<L1365+pixelLocation0_1+2
 32298 06:8384: 85 03        	sta	<R0+2
  Mon Aug  9 2021 16:52                                                Page 596


 32299 06:8386: D4 03        	pei	<R0+2
 32300 06:8388: D4 01        	pei	<R0
 32301 06:838A: 18           	clc
 32302 06:838B: A9 00 00     	lda	#$0
 32303 06:838E: 65 19        	adc	<L1365+pixelLocationD_1
 32304 06:8390: 85 05        	sta	<R1
 32305 06:8392: A9 0A 00     	lda	#$a
 32306 06:8395: 65 1B        	adc	<L1365+pixelLocationD_1+2
 32307 06:8397: 85 07        	sta	<R1+2
 32308 06:8399: D4 07        	pei	<R1+2
 32309 06:839B: D4 05        	pei	<R1
 32310 06:839D: 22 xx xx xx  	jsl	~~memcpy
 32311                        ;
 32312                        ;		dd++;
 32313                        	.line	5946
 32314 06:83A1: E6 0D        	inc	<L1365+dd_1
 32315 06:83A3: D0 02        	bne	L1378
 32316 06:83A5: E6 0F        	inc	<L1365+dd_1+2
 32317                        L1378:
 32318                        ;	}
 32319                        	.line	5947
 32320                        L10548:
 32321 06:83A7: E6 09        	inc	<L1365+dy_1
 32322 06:83A9: D0 02        	bne	L1379
 32323 06:83AB: E6 0B        	inc	<L1365+dy_1+2
 32324                        L1379:
 32325                        L10551:
 32326 06:83AD: 18           	clc
 32327 06:83AE: A5 26        	lda	<L1364+y0_0
 32328 06:83B0: 65 2A        	adc	<L1364+height_0
 32329 06:83B2: 85 01        	sta	<R0
 32330 06:83B4: A0 00 00     	ldy	#$0
 32331 06:83B7: A5 01        	lda	<R0
 32332 06:83B9: 10 01        	bpl	L1380
 32333 06:83BB: 88           	dey
 32334                        L1380:
 32335 06:83BC: 85 01        	sta	<R0
 32336 06:83BE: 84 03        	sty	<R0+2
 32337 06:83C0: 38           	sec
 32338 06:83C1: A5 09        	lda	<L1365+dy_1
 32339 06:83C3: E5 01        	sbc	<R0
 32340 06:83C5: A5 0B        	lda	<L1365+dy_1+2
 32341 06:83C7: E5 03        	sbc	<R0+2
 32342 06:83C9: 70 03        	bvs	L1381
 32343 06:83CB: 49 00 80     	eor	#$8000
 32344                        L1381:
 32345 06:83CE: 30 03        	bmi	L1382
 32346 06:83D0: 82 20 FF     	brl	L10550
 32347                        L1382:
 32348                        L10549:
 32349                        ;
 32350                        ;}
 32351                        	.line	5949
 32352                        L1383:
 32353 06:83D3: A5 22        	lda	<L1364+2
 32354 06:83D5: 85 2E        	sta	<L1364+2+12
 32355 06:83D7: A5 21        	lda	<L1364+1
 32356 06:83D9: 85 2D        	sta	<L1364+1+12
  Mon Aug  9 2021 16:52                                                Page 597


 32357 06:83DB: 2B           	pld
 32358 06:83DC: 3B           	tsc
 32359 06:83DD: 18           	clc
 32360 06:83DE: 69 2C 00     	adc	#L1364+12
 32361 06:83E1: 1B           	tcs
 32362 06:83E2: 6B           	rtl
 32363                        	.endblock	5949
 32364             00000020   L1364	equ	32
 32365             00000009   L1365	equ	9
 32366 06:83E3:              	ends
 32367                        	efunc
 32368                        	.endfunc	5949,9,32
 32369                        	.line	5949
 32370                        ;
 32371                        ;
 32372                        ;UINT k_font_getFontHeight(void)
 32373                        ;{
 32374                        	.line	5952
 32375                        	.line	5953
 32376                        	GFX
 32377                        	xdef	~~k_font_getFontHeight
 32378                        	func
 32379                        	.function	5953
 32380                        ~~k_font_getFontHeight:
 32381                        	longa	on
 32382                        	longi	on
 32383 06:83E3: 3B           	tsc
 32384 06:83E4: 38           	sec
 32385 06:83E5: E9 00 00     	sbc	#L1384
 32386 06:83E8: 1B           	tcs
 32387 06:83E9: 0B           	phd
 32388 06:83EA: 5B           	tcd
 32389                        	.block	5953
 32390                        ;	return 8;
 32391                        	.line	5954
 32392 06:83EB: A9 08 00     	lda	#$8
 32393                        L1387:
 32394 06:83EE: A8           	tay
 32395 06:83EF: 2B           	pld
 32396 06:83F0: 3B           	tsc
 32397 06:83F1: 18           	clc
 32398 06:83F2: 69 00 00     	adc	#L1384
 32399 06:83F5: 1B           	tcs
 32400 06:83F6: 98           	tya
 32401 06:83F7: 6B           	rtl
 32402                        ;}
 32403                        	.line	5955
 32404                        	.endblock	5955
 32405             00000000   L1384	equ	0
 32406             00000001   L1385	equ	1
 32407 06:83F8:              	ends
 32408                        	efunc
 32409                        	.endfunc	5955,1,0
 32410                        	.line	5955
 32411                        ;
 32412                        ;UINT k_font_getFontWidth(void)
 32413                        ;{
 32414                        	.line	5957
  Mon Aug  9 2021 16:52                                                Page 598


 32415                        	.line	5958
 32416                        	GFX
 32417                        	xdef	~~k_font_getFontWidth
 32418                        	func
 32419                        	.function	5958
 32420                        ~~k_font_getFontWidth:
 32421                        	longa	on
 32422                        	longi	on
 32423 06:83F8: 3B           	tsc
 32424 06:83F9: 38           	sec
 32425 06:83FA: E9 00 00     	sbc	#L1388
 32426 06:83FD: 1B           	tcs
 32427 06:83FE: 0B           	phd
 32428 06:83FF: 5B           	tcd
 32429                        	.block	5958
 32430                        ;	return 8;
 32431                        	.line	5959
 32432 06:8400: A9 08 00     	lda	#$8
 32433                        L1391:
 32434 06:8403: A8           	tay
 32435 06:8404: 2B           	pld
 32436 06:8405: 3B           	tsc
 32437 06:8406: 18           	clc
 32438 06:8407: 69 00 00     	adc	#L1388
 32439 06:840A: 1B           	tcs
 32440 06:840B: 98           	tya
 32441 06:840C: 6B           	rtl
 32442                        ;}
 32443                        	.line	5960
 32444                        	.endblock	5960
 32445             00000000   L1388	equ	0
 32446             00000001   L1389	equ	1
 32447 06:840D:              	ends
 32448                        	efunc
 32449                        	.endfunc	5960,1,0
 32450                        	.line	5960
 32451                        ;
 32452                        ;VOID k_gui_set_mousepointer(UINT index,LPVOID poi
                    nterData)
 32453                        ;{
 32454                        	.line	5962
 32455                        	.line	5963
 32456                        	GFX
 32457                        	xdef	~~k_gui_set_mousepointer
 32458                        	func
 32459                        	.function	5963
 32460                        ~~k_gui_set_mousepointer:
 32461                        	longa	on
 32462                        	longi	on
 32463 06:840D: 3B           	tsc
 32464 06:840E: 38           	sec
 32465 06:840F: E9 04 00     	sbc	#L1392
 32466 06:8412: 1B           	tcs
 32467 06:8413: 0B           	phd
 32468 06:8414: 5B           	tcd
 32469             00000004   index_0	set	4
 32470             00000006   pointerData_0	set	6
 32471                        	.block	5963
  Mon Aug  9 2021 16:52                                                Page 599


 32472                        ;	LPVOID pData = NULL;
 32473                        ;
 32474                        ;	if(index == 0 || index == 1)
 32475             00000000   pData_1	set	0
 32476                        	.sym	pData,0,129,1,32
 32477                        	.sym	index,4,16,6,16
 32478                        	.sym	pointerData,6,129,6,32
 32479 06:8415: 64 01        	stz	<L1393+pData_1
 32480 06:8417: 64 03        	stz	<L1393+pData_1+2
 32481                        	.line	5966
 32482                        ;	{
 32483 06:8419: A5 08        	lda	<L1392+index_0
 32484 06:841B: D0 03        	bne	L1396
 32485 06:841D: 82 0A 00     	brl	L1395
 32486                        L1396:
 32487 06:8420: A5 08        	lda	<L1392+index_0
 32488 06:8422: C9 01 00     	cmp	#<$1
 32489 06:8425: F0 03        	beq	L1397
 32490 06:8427: 82 38 00     	brl	L10552
 32491                        L1397:
 32492                        L1395:
 32493                        	.line	5967
 32494                        ;		//*MOUSE_PTR_CTRL_REG_H = 0x00;
 32495                        ;		//*MOUSE_PTR_CTRL_REG_L = index;
 32496                        ;
 32497                        ;		memcpy( MOUSE_PTR_GRAP0_START,pointerDat
                    a,sizeof(MOUSE_POINTER_ARROW));
 32498                        	.line	5971
 32499 06:842A: F4 00 01     	pea	#<$100
 32500 06:842D: D4 0C        	pei	<L1392+pointerData_0+2
 32501 06:842F: D4 0A        	pei	<L1392+pointerData_0
 32502 06:8431: F4 AF 00     	pea	#^$af0500
 32503 06:8434: F4 00 05     	pea	#<$af0500
 32504 06:8437: 22 xx xx xx  	jsl	~~memcpy
 32505                        ;		memcpy( MOUSE_PTR_GRAP1_START,MOUSE_POIN
                    TER_HOURGLASS,sizeof(MOUSE_POINTER_ARROW));
 32506                        	.line	5972
 32507 06:843B: F4 00 01     	pea	#<$100
 32508 06:843E: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 32509 06:8441: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 32510 06:8444: F4 AF 00     	pea	#^$af0600
 32511 06:8447: F4 00 06     	pea	#<$af0600
 32512 06:844A: 22 xx xx xx  	jsl	~~memcpy
 32513                        ;
 32514                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 32515                        	.line	5974
 32516 06:844E: E2 20        	sep	#$20
 32517                        	longa	off
 32518 06:8450: A9 00        	lda	#$0
 32519 06:8452: 8F 01 07 AF  	sta	>11470593	; volatile
 32520 06:8456: C2 20        	rep	#$20
 32521                        	longa	on
 32522                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 32523                        	.line	5975
 32524 06:8458: E2 20        	sep	#$20
 32525                        	longa	off
 32526 06:845A: A9 01        	lda	#$1
 32527 06:845C: 8F 00 07 AF  	sta	>11470592	; volatile
  Mon Aug  9 2021 16:52                                                Page 600


 32528 06:8460: C2 20        	rep	#$20
 32529                        	longa	on
 32530                        ;	}
 32531                        	.line	5976
 32532                        ;}
 32533                        L10552:
 32534                        	.line	5977
 32535                        L1398:
 32536 06:8462: A5 06        	lda	<L1392+2
 32537 06:8464: 85 0C        	sta	<L1392+2+6
 32538 06:8466: A5 05        	lda	<L1392+1
 32539 06:8468: 85 0B        	sta	<L1392+1+6
 32540 06:846A: 2B           	pld
 32541 06:846B: 3B           	tsc
 32542 06:846C: 18           	clc
 32543 06:846D: 69 0A 00     	adc	#L1392+6
 32544 06:8470: 1B           	tcs
 32545 06:8471: 6B           	rtl
 32546                        	.endblock	5977
 32547             00000004   L1392	equ	4
 32548             00000001   L1393	equ	1
 32549 06:8472:              	ends
 32550                        	efunc
 32551                        	.endfunc	5977,1,4
 32552                        	.line	5977
 32553                        ;
 32554                        ;VOID k_gui_init_mousepointer(BOOL enable)
 32555                        ;{
 32556                        	.line	5979
 32557                        	.line	5980
 32558                        	GFX
 32559                        	xdef	~~k_gui_init_mousepointer
 32560                        	func
 32561                        	.function	5980
 32562                        ~~k_gui_init_mousepointer:
 32563                        	longa	on
 32564                        	longi	on
 32565 06:8472: 3B           	tsc
 32566 06:8473: 38           	sec
 32567 06:8474: E9 00 00     	sbc	#L1399
 32568 06:8477: 1B           	tcs
 32569 06:8478: 0B           	phd
 32570 06:8479: 5B           	tcd
 32571             00000004   enable_0	set	4
 32572                        	.block	5980
 32573                        ;	if(enable)
 32574                        	.sym	enable,4,14,6,8
 32575                        	.line	5981
 32576                        ;	{
 32577 06:847A: A5 04        	lda	<L1399+enable_0
 32578 06:847C: 29 FF 00     	and	#$ff
 32579 06:847F: D0 03        	bne	L1402
 32580 06:8481: 82 3D 00     	brl	L10553
 32581                        L1402:
 32582                        	.line	5982
 32583                        ;		//MOUSE_POINTER_HELP
 32584                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
  Mon Aug  9 2021 16:52                                                Page 601


 32585                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 32586                        ;
 32587                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 32588                        	.line	5987
 32589 06:8484: F4 00 01     	pea	#<$100
 32590 06:8487: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 32591 06:848A: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 32592 06:848D: F4 AF 00     	pea	#^$af0500
 32593 06:8490: F4 00 05     	pea	#<$af0500
 32594 06:8493: 22 xx xx xx  	jsl	~~memcpy
 32595                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_HOURGLASS,sizeof(MOUSE_POINTER_HOURGLASS));
 32596                        	.line	5988
 32597 06:8497: F4 00 01     	pea	#<$100
 32598 06:849A: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 32599 06:849D: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 32600 06:84A0: F4 AF 00     	pea	#^$af0600
 32601 06:84A3: F4 00 06     	pea	#<$af0600
 32602 06:84A6: 22 xx xx xx  	jsl	~~memcpy
 32603                        ;
 32604                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 32605                        	.line	5990
 32606 06:84AA: E2 20        	sep	#$20
 32607                        	longa	off
 32608 06:84AC: A9 00        	lda	#$0
 32609 06:84AE: 8F 01 07 AF  	sta	>11470593	; volatile
 32610 06:84B2: C2 20        	rep	#$20
 32611                        	longa	on
 32612                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 32613                        	.line	5991
 32614 06:84B4: E2 20        	sep	#$20
 32615                        	longa	off
 32616 06:84B6: A9 01        	lda	#$1
 32617 06:84B8: 8F 00 07 AF  	sta	>11470592	; volatile
 32618 06:84BC: C2 20        	rep	#$20
 32619                        	longa	on
 32620                        ;	}
 32621                        	.line	5992
 32622                        ;	else
 32623 06:84BE: 82 3A 00     	brl	L10554
 32624                        L10553:
 32625                        ;	{
 32626                        	.line	5994
 32627                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 32628                        	.line	5995
 32629 06:84C1: F4 00 01     	pea	#<$100
 32630 06:84C4: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 32631 06:84C7: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 32632 06:84CA: F4 AF 00     	pea	#^$af0500
 32633 06:84CD: F4 00 05     	pea	#<$af0500
 32634 06:84D0: 22 xx xx xx  	jsl	~~memcpy
 32635                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 32636                        	.line	5996
 32637 06:84D4: F4 00 01     	pea	#<$100
  Mon Aug  9 2021 16:52                                                Page 602


 32638 06:84D7: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 32639 06:84DA: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 32640 06:84DD: F4 AF 00     	pea	#^$af0600
 32641 06:84E0: F4 00 06     	pea	#<$af0600
 32642 06:84E3: 22 xx xx xx  	jsl	~~memcpy
 32643                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 32644                        	.line	5997
 32645 06:84E7: E2 20        	sep	#$20
 32646                        	longa	off
 32647 06:84E9: A9 00        	lda	#$0
 32648 06:84EB: 8F 01 07 AF  	sta	>11470593	; volatile
 32649 06:84EF: C2 20        	rep	#$20
 32650                        	longa	on
 32651                        ;		*MOUSE_PTR_CTRL_REG_L = 0x00;
 32652                        	.line	5998
 32653 06:84F1: E2 20        	sep	#$20
 32654                        	longa	off
 32655 06:84F3: A9 00        	lda	#$0
 32656 06:84F5: 8F 00 07 AF  	sta	>11470592	; volatile
 32657 06:84F9: C2 20        	rep	#$20
 32658                        	longa	on
 32659                        ;	}
 32660                        	.line	5999
 32661                        L10554:
 32662                        ;}
 32663                        	.line	6000
 32664                        L1403:
 32665 06:84FB: A5 02        	lda	<L1399+2
 32666 06:84FD: 85 04        	sta	<L1399+2+2
 32667 06:84FF: A5 01        	lda	<L1399+1
 32668 06:8501: 85 03        	sta	<L1399+1+2
 32669 06:8503: 2B           	pld
 32670 06:8504: 3B           	tsc
 32671 06:8505: 18           	clc
 32672 06:8506: 69 02 00     	adc	#L1399+2
 32673 06:8509: 1B           	tcs
 32674 06:850A: 6B           	rtl
 32675                        	.endblock	6000
 32676             00000000   L1399	equ	0
 32677             00000001   L1400	equ	1
 32678 06:850B:              	ends
 32679                        	efunc
 32680                        	.endfunc	6000,1,0
 32681                        	.line	6000
 32682                        ;
 32683                        ;void k_vdma_copy_address_ex(char FAR * pdst,char 
                    FAR * psrc,int width,int height)
 32684                        ;{
 32685                        	.line	6002
 32686                        	.line	6003
 32687                        	GFX
 32688                        	xdef	~~k_vdma_copy_address_ex
 32689                        	func
 32690                        	.function	6003
 32691                        ~~k_vdma_copy_address_ex:
 32692                        	longa	on
 32693                        	longi	on
 32694 06:850B: 3B           	tsc
  Mon Aug  9 2021 16:52                                                Page 603


 32695 06:850C: 38           	sec
 32696 06:850D: E9 0D 00     	sbc	#L1404
 32697 06:8510: 1B           	tcs
 32698 06:8511: 0B           	phd
 32699 06:8512: 5B           	tcd
 32700             00000004   pdst_0	set	4
 32701             00000008   psrc_0	set	8
 32702             0000000C   width_0	set	12
 32703             0000000E   height_0	set	14
 32704                        	.block	6003
 32705                        ;	int pos = 0;
 32706                        ;	UINT spinLock = 0;
 32707                        ;	char status = VDMA_STAT_VDMA_IPS;
 32708                        ;
 32709                        ;
 32710                        ;	//k_debug_pointer("k_vdma_copy_address_ex::src  
                    offset:",psrc);
 32711                        ;	//k_debug_pointer("k_vdma_copy_address_ex::dest 
                    offset:",pdst);
 32712                        ;
 32713                        ;	//k_debug_integer("k_vdma_copy_address_ex::width
                    :",width);
 32714                        ;	//k_debug_integer("k_vdma_copy_address_ex::heigh
                    t:",height);
 32715                        ;
 32716                        ;
 32717                        ;
 32718                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D );
 32719             00000000   pos_1	set	0
 32720             00000002   spinLock_1	set	2
 32721             00000004   status_1	set	4
 32722                        	.sym	pos,0,5,1,16
 32723                        	.sym	spinLock,2,16,1,16
 32724                        	.sym	status,4,14,1,8
 32725                        	.sym	pdst,4,142,6,32
 32726                        	.sym	psrc,8,142,6,32
 32727                        	.sym	width,12,5,6,16
 32728                        	.sym	height,14,5,6,16
 32729 06:8513: 64 09        	stz	<L1405+pos_1
 32730 06:8515: 64 0B        	stz	<L1405+spinLock_1
 32731 06:8517: E2 20        	sep	#$20
 32732                        	longa	off
 32733 06:8519: A9 80        	lda	#$80
 32734 06:851B: 85 0D        	sta	<L1405+status_1
 32735 06:851D: C2 20        	rep	#$20
 32736                        	longa	on
 32737                        	.line	6017
 32738 06:851F: E2 20        	sep	#$20
 32739                        	longa	off
 32740 06:8521: A9 03        	lda	#$3
 32741 06:8523: 8F 00 04 AF  	sta	>11469824
 32742 06:8527: C2 20        	rep	#$20
 32743                        	longa	on
 32744                        ;
 32745                        ;	VDMA_SRC_ADDY_L[0] = L24BYTE((long)psrc);
 32746                        	.line	6019
 32747 06:8529: E2 20        	sep	#$20
  Mon Aug  9 2021 16:52                                                Page 604


 32748                        	longa	off
 32749 06:852B: A5 15        	lda	<L1404+psrc_0
 32750 06:852D: 8F 02 04 AF  	sta	>11469826
 32751 06:8531: C2 20        	rep	#$20
 32752                        	longa	on
 32753                        ;	VDMA_SRC_ADDY_M[0] = M24BYTE((long)psrc);
 32754                        	.line	6020
 32755 06:8533: D4 17        	pei	<L1404+psrc_0+2
 32756 06:8535: D4 15        	pei	<L1404+psrc_0
 32757 06:8537: A9 08 00     	lda	#$8
 32758                        	xref	~~~llsr
 32759 06:853A: 22 xx xx xx  	jsl	~~~llsr
 32760 06:853E: 85 01        	sta	<R0
 32761 06:8540: 86 03        	stx	<R0+2
 32762 06:8542: A5 01        	lda	<R0
 32763 06:8544: 29 FF 00     	and	#<$ff
 32764 06:8547: 85 05        	sta	<R1
 32765 06:8549: 64 07        	stz	<R1+2
 32766 06:854B: E2 20        	sep	#$20
 32767                        	longa	off
 32768 06:854D: A5 05        	lda	<R1
 32769 06:854F: 8F 03 04 AF  	sta	>11469827
 32770 06:8553: C2 20        	rep	#$20
 32771                        	longa	on
 32772                        ;	VDMA_SRC_ADDY_H[0] = H24BYTE((long)psrc);
 32773                        	.line	6021
 32774 06:8555: D4 17        	pei	<L1404+psrc_0+2
 32775 06:8557: D4 15        	pei	<L1404+psrc_0
 32776 06:8559: A9 10 00     	lda	#$10
 32777                        	xref	~~~llsr
 32778 06:855C: 22 xx xx xx  	jsl	~~~llsr
 32779 06:8560: 85 01        	sta	<R0
 32780 06:8562: 86 03        	stx	<R0+2
 32781 06:8564: A5 01        	lda	<R0
 32782 06:8566: 29 FF 00     	and	#<$ff
 32783 06:8569: 85 05        	sta	<R1
 32784 06:856B: 64 07        	stz	<R1+2
 32785 06:856D: E2 20        	sep	#$20
 32786                        	longa	off
 32787 06:856F: A5 05        	lda	<R1
 32788 06:8571: 8F 04 04 AF  	sta	>11469828
 32789 06:8575: C2 20        	rep	#$20
 32790                        	longa	on
 32791                        ;
 32792                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 32793                        	.line	6023
 32794 06:8577: E2 20        	sep	#$20
 32795                        	longa	off
 32796 06:8579: A5 11        	lda	<L1404+pdst_0
 32797 06:857B: 8F 05 04 AF  	sta	>11469829
 32798 06:857F: C2 20        	rep	#$20
 32799                        	longa	on
 32800                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 32801                        	.line	6024
 32802 06:8581: D4 13        	pei	<L1404+pdst_0+2
 32803 06:8583: D4 11        	pei	<L1404+pdst_0
 32804 06:8585: A9 08 00     	lda	#$8
 32805                        	xref	~~~llsr
  Mon Aug  9 2021 16:52                                                Page 605


 32806 06:8588: 22 xx xx xx  	jsl	~~~llsr
 32807 06:858C: 85 01        	sta	<R0
 32808 06:858E: 86 03        	stx	<R0+2
 32809 06:8590: A5 01        	lda	<R0
 32810 06:8592: 29 FF 00     	and	#<$ff
 32811 06:8595: 85 05        	sta	<R1
 32812 06:8597: 64 07        	stz	<R1+2
 32813 06:8599: E2 20        	sep	#$20
 32814                        	longa	off
 32815 06:859B: A5 05        	lda	<R1
 32816 06:859D: 8F 06 04 AF  	sta	>11469830
 32817 06:85A1: C2 20        	rep	#$20
 32818                        	longa	on
 32819                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 32820                        	.line	6025
 32821 06:85A3: D4 13        	pei	<L1404+pdst_0+2
 32822 06:85A5: D4 11        	pei	<L1404+pdst_0
 32823 06:85A7: A9 10 00     	lda	#$10
 32824                        	xref	~~~llsr
 32825 06:85AA: 22 xx xx xx  	jsl	~~~llsr
 32826 06:85AE: 85 01        	sta	<R0
 32827 06:85B0: 86 03        	stx	<R0+2
 32828 06:85B2: A5 01        	lda	<R0
 32829 06:85B4: 29 FF 00     	and	#<$ff
 32830 06:85B7: 85 05        	sta	<R1
 32831 06:85B9: 64 07        	stz	<R1+2
 32832 06:85BB: E2 20        	sep	#$20
 32833                        	longa	off
 32834 06:85BD: A5 05        	lda	<R1
 32835 06:85BF: 8F 07 04 AF  	sta	>11469831
 32836 06:85C3: C2 20        	rep	#$20
 32837                        	longa	on
 32838                        ;
 32839                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 32840                        	.line	6027
 32841 06:85C5: E2 20        	sep	#$20
 32842                        	longa	off
 32843 06:85C7: A5 19        	lda	<L1404+width_0
 32844 06:85C9: 8F 08 04 AF  	sta	>11469832
 32845 06:85CD: C2 20        	rep	#$20
 32846                        	longa	on
 32847                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 32848                        	.line	6028
 32849 06:85CF: A5 19        	lda	<L1404+width_0
 32850 06:85D1: A2 08 00     	ldx	#<$8
 32851                        	xref	~~~asr
 32852 06:85D4: 22 xx xx xx  	jsl	~~~asr
 32853 06:85D8: 29 FF 00     	and	#<$ff
 32854 06:85DB: 85 01        	sta	<R0
 32855 06:85DD: E2 20        	sep	#$20
 32856                        	longa	off
 32857 06:85DF: A5 01        	lda	<R0
 32858 06:85E1: 8F 09 04 AF  	sta	>11469833
 32859 06:85E5: C2 20        	rep	#$20
 32860                        	longa	on
 32861                        ;
 32862                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 32863                        	.line	6030
  Mon Aug  9 2021 16:52                                                Page 606


 32864 06:85E7: E2 20        	sep	#$20
 32865                        	longa	off
 32866 06:85E9: A5 1B        	lda	<L1404+height_0
 32867 06:85EB: 8F 0A 04 AF  	sta	>11469834
 32868 06:85EF: C2 20        	rep	#$20
 32869                        	longa	on
 32870                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
 32871                        	.line	6031
 32872 06:85F1: A5 1B        	lda	<L1404+height_0
 32873 06:85F3: A2 08 00     	ldx	#<$8
 32874                        	xref	~~~asr
 32875 06:85F6: 22 xx xx xx  	jsl	~~~asr
 32876 06:85FA: 29 FF 00     	and	#<$ff
 32877 06:85FD: 85 01        	sta	<R0
 32878 06:85FF: E2 20        	sep	#$20
 32879                        	longa	off
 32880 06:8601: A5 01        	lda	<R0
 32881 06:8603: 8F 0B 04 AF  	sta	>11469835
 32882 06:8607: C2 20        	rep	#$20
 32883                        	longa	on
 32884                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 32885                        	.line	6032
 32886 06:8609: E2 20        	sep	#$20
 32887                        	longa	off
 32888 06:860B: A9 00        	lda	#$0
 32889 06:860D: 8F 0C 04 AF  	sta	>11469836
 32890 06:8611: C2 20        	rep	#$20
 32891                        	longa	on
 32892                        ;
 32893                        ;
 32894                        ;	*VDMA_SRC_STRIDE_L  = 0x80;
 32895                        	.line	6035
 32896 06:8613: E2 20        	sep	#$20
 32897                        	longa	off
 32898 06:8615: A9 80        	lda	#$80
 32899 06:8617: 8F 0C 04 AF  	sta	>11469836
 32900 06:861B: C2 20        	rep	#$20
 32901                        	longa	on
 32902                        ;	*VDMA_SRC_STRIDE_H  = 0x02;
 32903                        	.line	6036
 32904 06:861D: E2 20        	sep	#$20
 32905                        	longa	off
 32906 06:861F: A9 02        	lda	#$2
 32907 06:8621: 8F 0D 04 AF  	sta	>11469837
 32908 06:8625: C2 20        	rep	#$20
 32909                        	longa	on
 32910                        ;
 32911                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 32912                        	.line	6038
 32913 06:8627: E2 20        	sep	#$20
 32914                        	longa	off
 32915 06:8629: A9 80        	lda	#$80
 32916 06:862B: 8F 0E 04 AF  	sta	>11469838
 32917 06:862F: C2 20        	rep	#$20
 32918                        	longa	on
 32919                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 32920                        	.line	6039
 32921 06:8631: E2 20        	sep	#$20
  Mon Aug  9 2021 16:52                                                Page 607


 32922                        	longa	off
 32923 06:8633: A9 02        	lda	#$2
 32924 06:8635: 8F 0F 04 AF  	sta	>11469839
 32925 06:8639: C2 20        	rep	#$20
 32926                        	longa	on
 32927                        ;
 32928                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_START_TRF);
 32929                        	.line	6041
 32930 06:863B: E2 20        	sep	#$20
 32931                        	longa	off
 32932 06:863D: A9 83        	lda	#$83
 32933 06:863F: 8F 00 04 AF  	sta	>11469824
 32934 06:8643: C2 20        	rep	#$20
 32935                        	longa	on
 32936                        ;
 32937                        ;    asm NOP;
 32938                        	.line	6043
 32939                        	asmstart
 32940 06:8645: EA           	NOP
 32941                        	asmend
 32942                        ;    asm NOP;
 32943                        	.line	6044
 32944                        	asmstart
 32945 06:8646: EA           	NOP
 32946                        	asmend
 32947                        ;    asm NOP;
 32948                        	.line	6045
 32949                        	asmstart
 32950 06:8647: EA           	NOP
 32951                        	asmend
 32952                        ;
 32953                        ;	while(status == VDMA_STAT_VDMA_IPS)
 32954                        	.line	6047
 32955                        L10555:
 32956 06:8648: E2 20        	sep	#$20
 32957                        	longa	off
 32958 06:864A: A5 0D        	lda	<L1405+status_1
 32959 06:864C: C9 80        	cmp	#<$80
 32960 06:864E: C2 20        	rep	#$20
 32961                        	longa	on
 32962 06:8650: F0 03        	beq	L1407
 32963 06:8652: 82 1E 00     	brl	L10556
 32964                        L1407:
 32965                        ;	{
 32966                        	.line	6048
 32967                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 32968                        	.line	6049
 32969 06:8655: E2 20        	sep	#$20
 32970                        	longa	off
 32971 06:8657: AF 01 04 AF  	lda	>11469825
 32972 06:865B: 29 80        	and	#<$80
 32973 06:865D: 85 0D        	sta	<L1405+status_1
 32974 06:865F: C2 20        	rep	#$20
 32975                        	longa	on
 32976                        ;		spinLock++;
 32977                        	.line	6050
  Mon Aug  9 2021 16:52                                                Page 608


 32978 06:8661: E6 0B        	inc	<L1405+spinLock_1
 32979                        ;
 32980                        ;		if(spinLock > 32000)
 32981                        	.line	6052
 32982                        ;		{
 32983 06:8663: A9 00 7D     	lda	#$7d00
 32984 06:8666: C5 0B        	cmp	<L1405+spinLock_1
 32985 06:8668: 90 03        	bcc	L1408
 32986 06:866A: 82 03 00     	brl	L10557
 32987                        L1408:
 32988                        	.line	6053
 32989                        ;			break;
 32990                        	.line	6054
 32991 06:866D: 82 03 00     	brl	L10556
 32992                        ;		}
 32993                        	.line	6055
 32994                        ;	}
 32995                        L10557:
 32996                        	.line	6056
 32997 06:8670: 82 D5 FF     	brl	L10555
 32998                        L10556:
 32999                        ;
 33000                        ;#ifdef USE_MAX_DEBUG
 33001                        ;	k_debug_integer("k_vdma_copy_address_ex::spinLoc
                    k:",spinLock);
 33002                        ;#endif
 33003                        ;
 33004                        ;	asm NOP;
 33005                        	.line	6062
 33006                        	asmstart
 33007 06:8673: EA           	NOP
 33008                        	asmend
 33009                        ;
 33010                        ;	VDMA_CONTROL_REG[0] = 0;
 33011                        	.line	6064
 33012 06:8674: E2 20        	sep	#$20
 33013                        	longa	off
 33014 06:8676: A9 00        	lda	#$0
 33015 06:8678: 8F 00 04 AF  	sta	>11469824
 33016 06:867C: C2 20        	rep	#$20
 33017                        	longa	on
 33018                        ;
 33019                        ;   return ;
 33020                        	.line	6066
 33021                        L1409:
 33022 06:867E: A5 0F        	lda	<L1404+2
 33023 06:8680: 85 1B        	sta	<L1404+2+12
 33024 06:8682: A5 0E        	lda	<L1404+1
 33025 06:8684: 85 1A        	sta	<L1404+1+12
 33026 06:8686: 2B           	pld
 33027 06:8687: 3B           	tsc
 33028 06:8688: 18           	clc
 33029 06:8689: 69 19 00     	adc	#L1404+12
 33030 06:868C: 1B           	tcs
 33031 06:868D: 6B           	rtl
 33032                        ;}
 33033                        	.line	6067
 33034                        	.endblock	6067
  Mon Aug  9 2021 16:52                                                Page 609


 33035             0000000D   L1404	equ	13
 33036             00000009   L1405	equ	9
 33037 06:868E:              	ends
 33038                        	efunc
 33039                        	.endfunc	6067,9,13
 33040                        	.line	6067
 33041                        ;
 33042                        ;
 33043                        ;LPVOID k_gui_get_title_cache(HANDLE hTitle)
 33044                        ;{
 33045                        	.line	6070
 33046                        	.line	6071
 33047                        	GFX
 33048                        	xdef	~~k_gui_get_title_cache
 33049                        	func
 33050                        	.function	6071
 33051                        ~~k_gui_get_title_cache:
 33052                        	longa	on
 33053                        	longi	on
 33054 06:868E: 3B           	tsc
 33055 06:868F: 38           	sec
 33056 06:8690: E9 00 00     	sbc	#L1410
 33057 06:8693: 1B           	tcs
 33058 06:8694: 0B           	phd
 33059 06:8695: 5B           	tcd
 33060             00000004   hTitle_0	set	4
 33061                        	.block	6071
 33062                        ;	return (LPVOID)TITLE_LINES_640x480;
 33063                        	.sym	hTitle,4,129,6,32
 33064                        	.line	6072
 33065 06:8696: AE xx xx     	ldx	|~~TITLE_LINES_640x480+2
 33066 06:8699: AD xx xx     	lda	|~~TITLE_LINES_640x480
 33067                        L1413:
 33068 06:869C: A8           	tay
 33069 06:869D: A5 02        	lda	<L1410+2
 33070 06:869F: 85 06        	sta	<L1410+2+4
 33071 06:86A1: A5 01        	lda	<L1410+1
 33072 06:86A3: 85 05        	sta	<L1410+1+4
 33073 06:86A5: 2B           	pld
 33074 06:86A6: 3B           	tsc
 33075 06:86A7: 18           	clc
 33076 06:86A8: 69 04 00     	adc	#L1410+4
 33077 06:86AB: 1B           	tcs
 33078 06:86AC: 98           	tya
 33079 06:86AD: 6B           	rtl
 33080                        ;}
 33081                        	.line	6073
 33082                        	.endblock	6073
 33083             00000000   L1410	equ	0
 33084             00000001   L1411	equ	1
 33085 06:86AE:              	ends
 33086                        	efunc
 33087                        	.endfunc	6073,1,0
 33088                        	.line	6073
 33089                        ;
 33090                        ;HANDLE k_gui_build_title_cache(LPSTR lpstrTitle)
 33091                        ;{
 33092                        	.line	6075
  Mon Aug  9 2021 16:52                                                Page 610


 33093                        	.line	6076
 33094                        	GFX
 33095                        	xdef	~~k_gui_build_title_cache
 33096                        	func
 33097                        	.function	6076
 33098                        ~~k_gui_build_title_cache:
 33099                        	longa	on
 33100                        	longi	on
 33101 06:86AE: 3B           	tsc
 33102 06:86AF: 38           	sec
 33103 06:86B0: E9 12 00     	sbc	#L1414
 33104 06:86B3: 1B           	tcs
 33105 06:86B4: 0B           	phd
 33106 06:86B5: 5B           	tcd
 33107             00000004   lpstrTitle_0	set	4
 33108                        	.block	6076
 33109                        ;	int i = 0;
 33110                        ;	int x = 0;
 33111                        ;	int y = 400;
 33112                        ;	ULONG offset = 0;
 33113                        ;
 33114                        ;	k_debug_strings("k_gui_build_title_cache:","CACH
                    ED");
 33115             00000000   i_1	set	0
 33116             00000002   x_1	set	2
 33117             00000004   y_1	set	4
 33118             00000006   offset_1	set	6
 33119                        	.sym	i,0,5,1,16
 33120                        	.sym	x,2,5,1,16
 33121                        	.sym	y,4,5,1,16
 33122                        	.sym	offset,6,18,1,32
 33123                        	.sym	lpstrTitle,4,142,6,32
 33124 06:86B6: 64 09        	stz	<L1415+i_1
 33125 06:86B8: 64 0B        	stz	<L1415+x_1
 33126 06:86BA: A9 90 01     	lda	#$190
 33127 06:86BD: 85 0D        	sta	<L1415+y_1
 33128 06:86BF: 64 0F        	stz	<L1415+offset_1
 33129 06:86C1: 64 11        	stz	<L1415+offset_1+2
 33130                        	.line	6082
 33131 06:86C3: F4 xx xx     	pea	#^L1304+25
 33132 06:86C6: F4 xx xx     	pea	#<L1304+25
 33133 06:86C9: F4 xx xx     	pea	#^L1304
 33134 06:86CC: F4 xx xx     	pea	#<L1304
 33135 06:86CF: 22 xx xx xx  	jsl	~~k_debug_strings
 33136                        ;
 33137                        ;	offset = (ULONG)k_gui_get_pixel_offset(x,y);
 33138                        	.line	6084
 33139 06:86D3: D4 0D        	pei	<L1415+y_1
 33140 06:86D5: D4 0B        	pei	<L1415+x_1
 33141 06:86D7: 22 BA 07 06  	jsl	~~k_gui_get_pixel_offset
 33142 06:86DB: 85 0F        	sta	<L1415+offset_1
 33143 06:86DD: 86 11        	stx	<L1415+offset_1+2
 33144                        ;
 33145                        ;	TITLE_LINES_640x480 = (LPSTR)((ULONG)0x080000 + 
                    (ULONG)offset);
 33146                        	.line	6086
 33147 06:86DF: 18           	clc
 33148 06:86E0: A9 00 00     	lda	#$0
  Mon Aug  9 2021 16:52                                                Page 611


 33149 06:86E3: 65 0F        	adc	<L1415+offset_1
 33150 06:86E5: 85 01        	sta	<R0
 33151 06:86E7: A9 08 00     	lda	#$8
 33152 06:86EA: 65 11        	adc	<L1415+offset_1+2
 33153 06:86EC: 85 03        	sta	<R0+2
 33154 06:86EE: A5 01        	lda	<R0
 33155 06:86F0: 8D xx xx     	sta	|~~TITLE_LINES_640x480
 33156 06:86F3: A5 03        	lda	<R0+2
 33157 06:86F5: 8D xx xx     	sta	|~~TITLE_LINES_640x480+2
 33158                        ;
 33159                        ;	k_debug_pointer("k_gui_build_title_cache:",TITLE
                    _LINES_640x480);
 33160                        	.line	6088
 33161 06:86F8: AD xx xx     	lda	|~~TITLE_LINES_640x480+2
 33162 06:86FB: 48           	pha
 33163 06:86FC: AD xx xx     	lda	|~~TITLE_LINES_640x480
 33164 06:86FF: 48           	pha
 33165 06:8700: F4 xx xx     	pea	#^L1304+32
 33166 06:8703: F4 xx xx     	pea	#<L1304+32
 33167 06:8706: 22 xx xx xx  	jsl	~~k_debug_pointer
 33168                        ;
 33169                        ;	k_vdma_fill_rect_ex(x,y,640,8,15,BITMAP_BACK);
 33170                        	.line	6090
 33171 06:870A: F4 08 00     	pea	#<$8
 33172 06:870D: F4 0F 00     	pea	#<$f
 33173 06:8710: F4 08 00     	pea	#<$8
 33174 06:8713: F4 80 02     	pea	#<$280
 33175 06:8716: A0 00 00     	ldy	#$0
 33176 06:8719: A5 0D        	lda	<L1415+y_1
 33177 06:871B: 10 01        	bpl	L1417
 33178 06:871D: 88           	dey
 33179                        L1417:
 33180 06:871E: 85 01        	sta	<R0
 33181 06:8720: 84 03        	sty	<R0+2
 33182 06:8722: D4 03        	pei	<R0+2
 33183 06:8724: D4 01        	pei	<R0
 33184 06:8726: A0 00 00     	ldy	#$0
 33185 06:8729: A5 0B        	lda	<L1415+x_1
 33186 06:872B: 10 01        	bpl	L1418
 33187 06:872D: 88           	dey
 33188                        L1418:
 33189 06:872E: 85 05        	sta	<R1
 33190 06:8730: 84 07        	sty	<R1+2
 33191 06:8732: D4 07        	pei	<R1+2
 33192 06:8734: D4 05        	pei	<R1
 33193 06:8736: 22 97 5E 06  	jsl	~~k_vdma_fill_rect_ex
 33194                        ;
 33195                        ;	for(i=0;i<80;i++)
 33196                        	.line	6092
 33197 06:873A: 64 09        	stz	<L1415+i_1
 33198                        L10560:
 33199                        ;	{
 33200                        	.line	6093
 33201                        ;		x+=k_put_wingadget_point_ex(WINICON_TITL
                    E_LINES,x,y,k_getUIGadgetColor(),0x08);
 33202                        	.line	6094
 33203 06:873C: F4 08 00     	pea	#<$8
 33204 06:873F: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
  Mon Aug  9 2021 16:52                                                Page 612


 33205 06:8743: 48           	pha
 33206 06:8744: D4 0D        	pei	<L1415+y_1
 33207 06:8746: D4 0B        	pei	<L1415+x_1
 33208 06:8748: F4 01 00     	pea	#<$1
 33209 06:874B: 22 58 2C 06  	jsl	~~k_put_wingadget_point_ex
 33210 06:874F: 85 01        	sta	<R0
 33211 06:8751: 18           	clc
 33212 06:8752: A5 01        	lda	<R0
 33213 06:8754: 65 0B        	adc	<L1415+x_1
 33214 06:8756: 85 0B        	sta	<L1415+x_1
 33215                        ;		//x+=k_put_wingadget_point_ex(WINICON_TI
                    TLE_LINES,x,y,15,0x08);
 33216                        ;	}
 33217                        	.line	6096
 33218                        L10558:
 33219 06:8758: E6 09        	inc	<L1415+i_1
 33220 06:875A: 38           	sec
 33221 06:875B: A5 09        	lda	<L1415+i_1
 33222 06:875D: E9 50 00     	sbc	#<$50
 33223 06:8760: 70 03        	bvs	L1419
 33224 06:8762: 49 00 80     	eor	#$8000
 33225                        L1419:
 33226 06:8765: 30 03        	bmi	L1420
 33227 06:8767: 82 D2 FF     	brl	L10560
 33228                        L1420:
 33229                        L10559:
 33230                        ;
 33231                        ;	k_vdma_copy_address_ex((LPSTR)((ULONG)0x080000 +
                     k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,640,8);
 33232                        	.line	6098
 33233 06:876A: F4 08 00     	pea	#<$8
 33234 06:876D: F4 80 02     	pea	#<$280
 33235 06:8770: AD xx xx     	lda	|~~TITLE_LINES_640x480+2
 33236 06:8773: 48           	pha
 33237 06:8774: AD xx xx     	lda	|~~TITLE_LINES_640x480
 33238 06:8777: 48           	pha
 33239 06:8778: F4 A4 01     	pea	#<$1a4
 33240 06:877B: F4 00 00     	pea	#<$0
 33241 06:877E: 22 BA 07 06  	jsl	~~k_gui_get_pixel_offset
 33242 06:8782: 85 01        	sta	<R0
 33243 06:8784: 86 03        	stx	<R0+2
 33244 06:8786: 18           	clc
 33245 06:8787: A9 00 00     	lda	#$0
 33246 06:878A: 65 01        	adc	<R0
 33247 06:878C: 85 05        	sta	<R1
 33248 06:878E: A9 08 00     	lda	#$8
 33249 06:8791: 65 03        	adc	<R0+2
 33250 06:8793: 85 07        	sta	<R1+2
 33251 06:8795: D4 07        	pei	<R1+2
 33252 06:8797: D4 05        	pei	<R1
 33253 06:8799: 22 0B 85 06  	jsl	~~k_vdma_copy_address_ex
 33254                        ;
 33255                        ;	return NULL;
 33256                        	.line	6100
 33257 06:879D: A9 00 00     	lda	#$0
 33258 06:87A0: AA           	tax
 33259 06:87A1: A9 00 00     	lda	#$0
 33260                        L1421:
  Mon Aug  9 2021 16:52                                                Page 613


 33261 06:87A4: A8           	tay
 33262 06:87A5: A5 14        	lda	<L1414+2
 33263 06:87A7: 85 18        	sta	<L1414+2+4
 33264 06:87A9: A5 13        	lda	<L1414+1
 33265 06:87AB: 85 17        	sta	<L1414+1+4
 33266 06:87AD: 2B           	pld
 33267 06:87AE: 3B           	tsc
 33268 06:87AF: 18           	clc
 33269 06:87B0: 69 16 00     	adc	#L1414+4
 33270 06:87B3: 1B           	tcs
 33271 06:87B4: 98           	tya
 33272 06:87B5: 6B           	rtl
 33273                        ;}
 33274                        	.line	6101
 33275                        	.endblock	6101
 33276             00000012   L1414	equ	18
 33277             00000009   L1415	equ	9
 33278 06:87B6:              	ends
 33279                        	efunc
 33280                        	.endfunc	6101,9,18
 33281                        	.line	6101
 33282                        	data
 33283                        L1304:
 33284 00:0D2B: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$62,$75,$69,$6C,
                    $64,$5F,$74,$69,$74
       00:0D2F: 69 5F 62 75 
       00:0D33: 69 6C 64 5F 
       00:0D37: 74 69 74 
 33285 00:0D3A: 6C 65 5F 63  	db	$6C,$65,$5F,$63,$61,$63,$68,$65,$3A,$00,
                    $43,$41,$43,$48,$45
       00:0D3E: 61 63 68 65 
       00:0D42: 3A 00 43 41 
       00:0D46: 43 48 45 
 33286 00:0D49: 44 00 6B 5F  	db	$44,$00,$6B,$5F,$67,$75,$69,$5F,$62,$75,
                    $69,$6C,$64,$5F,$74
       00:0D4D: 67 75 69 5F 
       00:0D51: 62 75 69 6C 
       00:0D55: 64 5F 74 
 33287 00:0D58: 69 74 6C 65  	db	$69,$74,$6C,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$00
       00:0D5C: 5F 63 61 63 
       00:0D60: 68 65 3A 00 
 33288 00:0D64:              	ends
 33289                        ;
 33290                        ;#include "bmp/cbmp.c"
 33291                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",0
 33292                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
 33293                        	.line	30
 33294                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",1
 33295                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.h",0
 33296                        	.stag	tagBITMAPFILEHEADER,96,131
 33297                        	.member	bfSize,0,18,8,32
 33298                        	.member	bfReserved1,32,15,8,16
 33299                        	.member	bfReserved2,48,15,8,16
  Mon Aug  9 2021 16:52                                                Page 614


 33300                        	.member	bfOffBits,64,18,8,32
 33301                        	.eos
 33302                        	.stag	tagBITMAPINFOHEADER,320,132
 33303                        	.member	biSize,0,18,8,32
 33304                        	.member	biWidth,32,7,8,32
 33305                        	.member	biHeight,64,7,8,32
 33306                        	.member	biPlanes,96,15,8,16
 33307                        	.member	biBitCount,112,15,8,16
 33308                        	.member	biCompression,128,18,8,32
 33309                        	.member	biSizeImage,160,18,8,32
 33310                        	.member	biXPelsPerMeter,192,18,8,32
 33311                        	.member	biYPelsPerMeter,224,18,8,32
 33312                        	.member	biClrUsed,256,18,8,32
 33313                        	.member	biClrImportant,288,18,8,32
 33314                        	.eos
 33315                        	.stag	_PixelInfo,32,133
 33316                        	.member	rgbBlue,0,14,8,8
 33317                        	.member	rgbGreen,8,14,8,8
 33318                        	.member	rgbRed,16,14,8,8
 33319                        	.member	rgbReserved,24,14,8,8
 33320                        	.eos
 33321                        	.line	49
 33322                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",2
 33323                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",33
 33324                        	.line	34
 33325                        	GFX
 33326                        	xdef	~~readBMP
 33327                        	func
 33328                        	.function	34
 33329                        ~~readBMP:
 33330                        	longa	on
 33331                        	longi	on
 33332 06:87B6: 3B           	tsc
 33333 06:87B7: 38           	sec
 33334 06:87B8: E9 45 00     	sbc	#L1423
 33335 06:87BB: 1B           	tcs
 33336 06:87BC: 0B           	phd
 33337 06:87BD: 5B           	tcd
 33338             00000004   path_0	set	4
 33339                        	.block	34
 33340             00000000   dir_1	set	0
 33341             00000004   fs_1	set	4
 33342             00000008   f_1	set	8
 33343             0000000C   fileInfo_1	set	12
 33344             00000010   fr_1	set	16
 33345             00000012   drive_1	set	18
 33346             00000016   read_1	set	22
 33347             00000018   data_1	set	24
 33348             0000001C   num_colors_1	set	28
 33349             0000001E   x_1	set	30
 33350             00000022   y_1	set	34
 33351             00000026   i_1	set	38
 33352             0000002A   c_1	set	42
 33353             0000002B   dx_1	set	43
 33354             0000002F   dy_1	set	47
 33355             00000033   bitmap_offset_1	set	51
  Mon Aug  9 2021 16:52                                                Page 615


 33356             00000037   fileType_1	set	55
 33357             00000039   pPalette_1	set	57
 33358                        	.sym	dir,0,138,1,32,87
 33359                        	.sym	fs,4,138,1,32,84
 33360                        	.sym	f,8,138,1,32,86
 33361                        	.sym	fileInfo,12,138,1,32,88
 33362                        	.sym	fr,16,5,1,16
 33363                        	.sym	drive,18,142,1,32
 33364                        	.sym	read,22,16,1,16
 33365                        	.sym	data,24,142,1,32
 33366                        	.sym	num_colors,28,16,1,16
 33367                        	.sym	x,30,18,1,32
 33368                        	.sym	y,34,18,1,32
 33369                        	.sym	i,38,18,1,32
 33370                        	.sym	c,42,14,1,8
 33371                        	.sym	dx,43,18,1,32
 33372                        	.sym	dy,47,18,1,32
 33373                        	.sym	bitmap_offset,51,18,1,32
 33374                        	.sym	fileType,55,15,1,16
 33375                        	.sym	pPalette,57,142,1,32
 33376                        	.sym	path,4,142,6,32
 33377 06:87BE: 64 0D        	stz	<L1424+fs_1
 33378 06:87C0: 64 0F        	stz	<L1424+fs_1+2
 33379 06:87C2: 64 11        	stz	<L1424+f_1
 33380 06:87C4: 64 13        	stz	<L1424+f_1+2
 33381 06:87C6: 64 19        	stz	<L1424+fr_1
 33382 06:87C8: 64 1B        	stz	<L1424+drive_1
 33383 06:87CA: 64 1D        	stz	<L1424+drive_1+2
 33384 06:87CC: 64 21        	stz	<L1424+data_1
 33385 06:87CE: 64 23        	stz	<L1424+data_1+2
 33386 06:87D0: 64 25        	stz	<L1424+num_colors_1
 33387 06:87D2: 64 34        	stz	<L1424+dx_1
 33388 06:87D4: 64 36        	stz	<L1424+dx_1+2
 33389 06:87D6: 64 38        	stz	<L1424+dy_1
 33390 06:87D8: 64 3A        	stz	<L1424+dy_1+2
 33391 06:87DA: 64 42        	stz	<L1424+pPalette_1
 33392 06:87DC: 64 44        	stz	<L1424+pPalette_1+2
 33393                        	.line	60
 33394 06:87DE: F4 3A 00     	pea	#<$3a
 33395 06:87E1: D4 4B        	pei	<L1423+path_0+2
 33396 06:87E3: D4 49        	pei	<L1423+path_0
 33397 06:87E5: 22 xx xx xx  	jsl	~~k_string_copy_to_delimiter
 33398 06:87E9: 85 1B        	sta	<L1424+drive_1
 33399 06:87EB: 86 1D        	stx	<L1424+drive_1+2
 33400                        	.line	62
 33401 06:87ED: F4 00 00     	pea	#^$34
 33402 06:87F0: F4 34 00     	pea	#<$34
 33403 06:87F3: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 33404 06:87F7: 85 09        	sta	<L1424+dir_1
 33405 06:87F9: 86 0B        	stx	<L1424+dir_1+2
 33406                        	.line	63
 33407 06:87FB: F4 00 00     	pea	#^$233
 33408 06:87FE: F4 33 02     	pea	#<$233
 33409 06:8801: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 33410 06:8805: 85 0D        	sta	<L1424+fs_1
 33411 06:8807: 86 0F        	stx	<L1424+fs_1+2
 33412                        	.line	64
 33413 06:8809: F4 00 00     	pea	#^$226
  Mon Aug  9 2021 16:52                                                Page 616


 33414 06:880C: F4 26 02     	pea	#<$226
 33415 06:880F: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 33416 06:8813: 85 11        	sta	<L1424+f_1
 33417 06:8815: 86 13        	stx	<L1424+f_1+2
 33418                        	.line	68
 33419 06:8817: A9 00 20     	lda	#$2000
 33420 06:881A: 85 42        	sta	<L1424+pPalette_1
 33421 06:881C: A9 AF 00     	lda	#$af
 33422 06:881F: 85 44        	sta	<L1424+pPalette_1+2
 33423                        	.line	70
 33424 06:8821: F4 01 00     	pea	#<$1
 33425 06:8824: D4 1D        	pei	<L1424+drive_1+2
 33426 06:8826: D4 1B        	pei	<L1424+drive_1
 33427 06:8828: F4 00 00     	pea	#^$0
 33428 06:882B: F4 00 00     	pea	#<$0
 33429 06:882E: 22 xx xx xx  	jsl	~~f_mount
 33430 06:8832: 85 19        	sta	<L1424+fr_1
 33431                        	.line	71
 33432 06:8834: F4 01 00     	pea	#<$1
 33433 06:8837: D4 1D        	pei	<L1424+drive_1+2
 33434 06:8839: D4 1B        	pei	<L1424+drive_1
 33435 06:883B: D4 0F        	pei	<L1424+fs_1+2
 33436 06:883D: D4 0D        	pei	<L1424+fs_1
 33437 06:883F: 22 xx xx xx  	jsl	~~f_mount
 33438 06:8843: 85 19        	sta	<L1424+fr_1
 33439                        	.line	72
 33440 06:8845: A5 19        	lda	<L1424+fr_1
 33441 06:8847: F0 03        	beq	L1426
 33442 06:8849: 82 38 03     	brl	L10561
 33443                        L1426:
 33444                        	.line	73
 33445                        	.line	74
 33446 06:884C: F4 01 00     	pea	#<$1
 33447 06:884F: D4 4B        	pei	<L1423+path_0+2
 33448 06:8851: D4 49        	pei	<L1423+path_0
 33449 06:8853: D4 13        	pei	<L1424+f_1+2
 33450 06:8855: D4 11        	pei	<L1424+f_1
 33451 06:8857: 22 xx xx xx  	jsl	~~f_open
 33452 06:885B: 85 19        	sta	<L1424+fr_1
 33453                        	.line	75
 33454 06:885D: A5 19        	lda	<L1424+fr_1
 33455 06:885F: F0 03        	beq	L1427
 33456 06:8861: 82 20 03     	brl	L10562
 33457                        L1427:
 33458                        	.line	76
 33459                        	.line	77
 33460 06:8864: F4 00 00     	pea	#0
 33461 06:8867: 18           	clc
 33462 06:8868: 7B           	tdc
 33463 06:8869: 69 1F 00     	adc	#<L1424+read_1
 33464 06:886C: 48           	pha
 33465 06:886D: F4 02 00     	pea	#<$2
 33466 06:8870: F4 00 00     	pea	#0
 33467 06:8873: 18           	clc
 33468 06:8874: 7B           	tdc
 33469 06:8875: 69 40 00     	adc	#<L1424+fileType_1
 33470 06:8878: 48           	pha
 33471 06:8879: D4 13        	pei	<L1424+f_1+2
  Mon Aug  9 2021 16:52                                                Page 617


 33472 06:887B: D4 11        	pei	<L1424+f_1
 33473 06:887D: 22 xx xx xx  	jsl	~~f_read
 33474 06:8881: 85 19        	sta	<L1424+fr_1
 33475                        	.line	78
 33476 06:8883: A5 19        	lda	<L1424+fr_1
 33477 06:8885: F0 03        	beq	L1428
 33478 06:8887: 82 FA 02     	brl	L10563
 33479                        L1428:
 33480 06:888A: A5 40        	lda	<L1424+fileType_1
 33481 06:888C: C9 42 4D     	cmp	#<$4d42
 33482 06:888F: F0 03        	beq	L1429
 33483 06:8891: 82 F0 02     	brl	L10563
 33484                        L1429:
 33485                        	.line	79
 33486                        	.line	83
 33487 06:8894: F4 00 00     	pea	#0
 33488 06:8897: 18           	clc
 33489 06:8898: 7B           	tdc
 33490 06:8899: 69 1F 00     	adc	#<L1424+read_1
 33491 06:889C: 48           	pha
 33492 06:889D: F4 0C 00     	pea	#<$c
 33493 06:88A0: A9 xx xx     	lda	#<~~fileHeader
 33494 06:88A3: 85 01        	sta	<R0
 33495                        	xref	_BEG_DATA
 33496 06:88A5: A9 xx xx     	lda	#_BEG_DATA>>16
 33497 06:88A8: 85 03        	sta	<R0+2
 33498 06:88AA: D4 03        	pei	<R0+2
 33499 06:88AC: D4 01        	pei	<R0
 33500 06:88AE: D4 13        	pei	<L1424+f_1+2
 33501 06:88B0: D4 11        	pei	<L1424+f_1
 33502 06:88B2: 22 xx xx xx  	jsl	~~f_read
 33503 06:88B6: 85 19        	sta	<L1424+fr_1
 33504                        	.line	87
 33505 06:88B8: F4 00 00     	pea	#0
 33506 06:88BB: 18           	clc
 33507 06:88BC: 7B           	tdc
 33508 06:88BD: 69 1F 00     	adc	#<L1424+read_1
 33509 06:88C0: 48           	pha
 33510 06:88C1: F4 28 00     	pea	#<$28
 33511 06:88C4: A9 xx xx     	lda	#<~~infoHeader
 33512 06:88C7: 85 01        	sta	<R0
 33513                        	xref	_BEG_DATA
 33514 06:88C9: A9 xx xx     	lda	#_BEG_DATA>>16
 33515 06:88CC: 85 03        	sta	<R0+2
 33516 06:88CE: D4 03        	pei	<R0+2
 33517 06:88D0: D4 01        	pei	<R0
 33518 06:88D2: D4 13        	pei	<L1424+f_1+2
 33519 06:88D4: D4 11        	pei	<L1424+f_1
 33520 06:88D6: 22 xx xx xx  	jsl	~~f_read
 33521 06:88DA: 85 19        	sta	<L1424+fr_1
 33522                        	.line	91
 33523 06:88DC: AD xx xx     	lda	|~~infoHeader+4+2
 33524 06:88DF: 30 0D        	bmi	L1430
 33525 06:88E1: D0 08        	bne	L1431
 33526 06:88E3: AD xx xx     	lda	|~~infoHeader+4
 33527 06:88E6: C9 80 02     	cmp	#640
 33528 06:88E9: 90 03        	bcc	L1430
 33529                        L1431:
  Mon Aug  9 2021 16:52                                                Page 618


 33530 06:88EB: 82 34 00     	brl	L10564
 33531                        L1430:
 33532                        	.line	92
 33533                        	.line	93
 33534 06:88EE: F4 00 00     	pea	#^$2
 33535 06:88F1: F4 02 00     	pea	#<$2
 33536 06:88F4: AD xx xx     	lda	|~~infoHeader+4+2
 33537 06:88F7: 48           	pha
 33538 06:88F8: AD xx xx     	lda	|~~infoHeader+4
 33539 06:88FB: 48           	pha
 33540                        	xref	~~~ldiv
 33541 06:88FC: 22 xx xx xx  	jsl	~~~ldiv
 33542 06:8900: 85 01        	sta	<R0
 33543 06:8902: 86 03        	stx	<R0+2
 33544 06:8904: 38           	sec
 33545 06:8905: A9 40 01     	lda	#$140
 33546 06:8908: E5 01        	sbc	<R0
 33547 06:890A: 85 05        	sta	<R1
 33548 06:890C: A9 00 00     	lda	#$0
 33549 06:890F: E5 03        	sbc	<R0+2
 33550 06:8911: 85 07        	sta	<R1+2
 33551 06:8913: 18           	clc
 33552 06:8914: A9 E7 FF     	lda	#$ffe7
 33553 06:8917: 65 05        	adc	<R1
 33554 06:8919: 85 34        	sta	<L1424+dx_1
 33555 06:891B: A9 FF FF     	lda	#$ffff
 33556 06:891E: 65 07        	adc	<R1+2
 33557 06:8920: 85 36        	sta	<L1424+dx_1+2
 33558                        	.line	94
 33559                        L10564:
 33560                        	.line	95
 33561 06:8922: AD xx xx     	lda	|~~infoHeader+8+2
 33562 06:8925: 30 0D        	bmi	L1432
 33563 06:8927: D0 08        	bne	L1433
 33564 06:8929: AD xx xx     	lda	|~~infoHeader+8
 33565 06:892C: C9 80 02     	cmp	#640
 33566 06:892F: 90 03        	bcc	L1432
 33567                        L1433:
 33568 06:8931: 82 25 00     	brl	L10565
 33569                        L1432:
 33570                        	.line	96
 33571                        	.line	97
 33572 06:8934: F4 00 00     	pea	#^$2
 33573 06:8937: F4 02 00     	pea	#<$2
 33574 06:893A: AD xx xx     	lda	|~~infoHeader+8+2
 33575 06:893D: 48           	pha
 33576 06:893E: AD xx xx     	lda	|~~infoHeader+8
 33577 06:8941: 48           	pha
 33578                        	xref	~~~ldiv
 33579 06:8942: 22 xx xx xx  	jsl	~~~ldiv
 33580 06:8946: 85 01        	sta	<R0
 33581 06:8948: 86 03        	stx	<R0+2
 33582 06:894A: 38           	sec
 33583 06:894B: A9 F0 00     	lda	#$f0
 33584 06:894E: E5 01        	sbc	<R0
 33585 06:8950: 85 38        	sta	<L1424+dy_1
 33586 06:8952: A9 00 00     	lda	#$0
 33587 06:8955: E5 03        	sbc	<R0+2
  Mon Aug  9 2021 16:52                                                Page 619


 33588 06:8957: 85 3A        	sta	<L1424+dy_1+2
 33589                        	.line	98
 33590                        L10565:
 33591                        	.line	100
 33592 06:8959: AD xx xx     	lda	|~~infoHeader+32
 33593 06:895C: 0D xx xx     	ora	|~~infoHeader+32+2
 33594 06:895F: F0 03        	beq	L1434
 33595 06:8961: 82 05 00     	brl	L10566
 33596                        L1434:
 33597                        	.line	101
 33598 06:8964: A9 00 01     	lda	#$100
 33599 06:8967: 85 25        	sta	<L1424+num_colors_1
 33600                        L10566:
 33601                        	.line	104
 33602 06:8969: 64 2F        	stz	<L1424+i_1
 33603 06:896B: 64 31        	stz	<L1424+i_1+2
 33604 06:896D: 82 0F 01     	brl	L10570
 33605                        L10569:
 33606                        	.line	105
 33607                        	.line	107
 33608 06:8970: F4 00 00     	pea	#0
 33609 06:8973: 18           	clc
 33610 06:8974: 7B           	tdc
 33611 06:8975: 69 1F 00     	adc	#<L1424+read_1
 33612 06:8978: 48           	pha
 33613 06:8979: F4 01 00     	pea	#<$1
 33614 06:897C: F4 00 00     	pea	#0
 33615 06:897F: 18           	clc
 33616 06:8980: 7B           	tdc
 33617 06:8981: 69 33 00     	adc	#<L1424+c_1
 33618 06:8984: 48           	pha
 33619 06:8985: D4 13        	pei	<L1424+f_1+2
 33620 06:8987: D4 11        	pei	<L1424+f_1
 33621 06:8989: 22 xx xx xx  	jsl	~~f_read
 33622                        	.line	109
 33623 06:898D: A5 2F        	lda	<L1424+i_1
 33624 06:898F: 85 01        	sta	<R0
 33625 06:8991: A5 31        	lda	<L1424+i_1+2
 33626 06:8993: 85 03        	sta	<R0+2
 33627 06:8995: 06 01        	asl	<R0
 33628 06:8997: 26 03        	rol	<R0+2
 33629 06:8999: 06 01        	asl	<R0
 33630 06:899B: 26 03        	rol	<R0+2
 33631 06:899D: E2 20        	sep	#$20
 33632                        	longa	off
 33633 06:899F: A5 33        	lda	<L1424+c_1
 33634 06:89A1: A4 01        	ldy	<R0
 33635 06:89A3: 97 42        	sta	[<L1424+pPalette_1],Y
 33636 06:89A5: C2 20        	rep	#$20
 33637                        	longa	on
 33638                        	.line	110
 33639 06:89A7: F4 00 00     	pea	#0
 33640 06:89AA: 18           	clc
 33641 06:89AB: 7B           	tdc
 33642 06:89AC: 69 1F 00     	adc	#<L1424+read_1
 33643 06:89AF: 48           	pha
 33644 06:89B0: F4 01 00     	pea	#<$1
 33645 06:89B3: F4 00 00     	pea	#0
  Mon Aug  9 2021 16:52                                                Page 620


 33646 06:89B6: 18           	clc
 33647 06:89B7: 7B           	tdc
 33648 06:89B8: 69 33 00     	adc	#<L1424+c_1
 33649 06:89BB: 48           	pha
 33650 06:89BC: D4 13        	pei	<L1424+f_1+2
 33651 06:89BE: D4 11        	pei	<L1424+f_1
 33652 06:89C0: 22 xx xx xx  	jsl	~~f_read
 33653                        	.line	112
 33654 06:89C4: A5 2F        	lda	<L1424+i_1
 33655 06:89C6: 85 01        	sta	<R0
 33656 06:89C8: A5 31        	lda	<L1424+i_1+2
 33657 06:89CA: 85 03        	sta	<R0+2
 33658 06:89CC: 06 01        	asl	<R0
 33659 06:89CE: 26 03        	rol	<R0+2
 33660 06:89D0: 06 01        	asl	<R0
 33661 06:89D2: 26 03        	rol	<R0+2
 33662 06:89D4: 18           	clc
 33663 06:89D5: A9 01 00     	lda	#$1
 33664 06:89D8: 65 01        	adc	<R0
 33665 06:89DA: 85 05        	sta	<R1
 33666 06:89DC: A9 00 00     	lda	#$0
 33667 06:89DF: 65 03        	adc	<R0+2
 33668 06:89E1: 85 07        	sta	<R1+2
 33669 06:89E3: E2 20        	sep	#$20
 33670                        	longa	off
 33671 06:89E5: A5 33        	lda	<L1424+c_1
 33672 06:89E7: A4 05        	ldy	<R1
 33673 06:89E9: 97 42        	sta	[<L1424+pPalette_1],Y
 33674 06:89EB: C2 20        	rep	#$20
 33675                        	longa	on
 33676                        	.line	113
 33677 06:89ED: F4 00 00     	pea	#0
 33678 06:89F0: 18           	clc
 33679 06:89F1: 7B           	tdc
 33680 06:89F2: 69 1F 00     	adc	#<L1424+read_1
 33681 06:89F5: 48           	pha
 33682 06:89F6: F4 01 00     	pea	#<$1
 33683 06:89F9: F4 00 00     	pea	#0
 33684 06:89FC: 18           	clc
 33685 06:89FD: 7B           	tdc
 33686 06:89FE: 69 33 00     	adc	#<L1424+c_1
 33687 06:8A01: 48           	pha
 33688 06:8A02: D4 13        	pei	<L1424+f_1+2
 33689 06:8A04: D4 11        	pei	<L1424+f_1
 33690 06:8A06: 22 xx xx xx  	jsl	~~f_read
 33691                        	.line	115
 33692 06:8A0A: A5 2F        	lda	<L1424+i_1
 33693 06:8A0C: 85 01        	sta	<R0
 33694 06:8A0E: A5 31        	lda	<L1424+i_1+2
 33695 06:8A10: 85 03        	sta	<R0+2
 33696 06:8A12: 06 01        	asl	<R0
 33697 06:8A14: 26 03        	rol	<R0+2
 33698 06:8A16: 06 01        	asl	<R0
 33699 06:8A18: 26 03        	rol	<R0+2
 33700 06:8A1A: 18           	clc
 33701 06:8A1B: A9 02 00     	lda	#$2
 33702 06:8A1E: 65 01        	adc	<R0
 33703 06:8A20: 85 05        	sta	<R1
  Mon Aug  9 2021 16:52                                                Page 621


 33704 06:8A22: A9 00 00     	lda	#$0
 33705 06:8A25: 65 03        	adc	<R0+2
 33706 06:8A27: 85 07        	sta	<R1+2
 33707 06:8A29: E2 20        	sep	#$20
 33708                        	longa	off
 33709 06:8A2B: A5 33        	lda	<L1424+c_1
 33710 06:8A2D: A4 05        	ldy	<R1
 33711 06:8A2F: 97 42        	sta	[<L1424+pPalette_1],Y
 33712 06:8A31: C2 20        	rep	#$20
 33713                        	longa	on
 33714                        	.line	116
 33715 06:8A33: F4 00 00     	pea	#0
 33716 06:8A36: 18           	clc
 33717 06:8A37: 7B           	tdc
 33718 06:8A38: 69 1F 00     	adc	#<L1424+read_1
 33719 06:8A3B: 48           	pha
 33720 06:8A3C: F4 01 00     	pea	#<$1
 33721 06:8A3F: F4 00 00     	pea	#0
 33722 06:8A42: 18           	clc
 33723 06:8A43: 7B           	tdc
 33724 06:8A44: 69 33 00     	adc	#<L1424+c_1
 33725 06:8A47: 48           	pha
 33726 06:8A48: D4 13        	pei	<L1424+f_1+2
 33727 06:8A4A: D4 11        	pei	<L1424+f_1
 33728 06:8A4C: 22 xx xx xx  	jsl	~~f_read
 33729                        	.line	117
 33730 06:8A50: A5 2F        	lda	<L1424+i_1
 33731 06:8A52: 85 01        	sta	<R0
 33732 06:8A54: A5 31        	lda	<L1424+i_1+2
 33733 06:8A56: 85 03        	sta	<R0+2
 33734 06:8A58: 06 01        	asl	<R0
 33735 06:8A5A: 26 03        	rol	<R0+2
 33736 06:8A5C: 06 01        	asl	<R0
 33737 06:8A5E: 26 03        	rol	<R0+2
 33738 06:8A60: 18           	clc
 33739 06:8A61: A9 03 00     	lda	#$3
 33740 06:8A64: 65 01        	adc	<R0
 33741 06:8A66: 85 05        	sta	<R1
 33742 06:8A68: A9 00 00     	lda	#$0
 33743 06:8A6B: 65 03        	adc	<R0+2
 33744 06:8A6D: 85 07        	sta	<R1+2
 33745 06:8A6F: E2 20        	sep	#$20
 33746                        	longa	off
 33747 06:8A71: A9 00        	lda	#$0
 33748 06:8A73: A4 05        	ldy	<R1
 33749 06:8A75: 97 42        	sta	[<L1424+pPalette_1],Y
 33750 06:8A77: C2 20        	rep	#$20
 33751                        	longa	on
 33752                        	.line	120
 33753                        L10567:
 33754 06:8A79: E6 2F        	inc	<L1424+i_1
 33755 06:8A7B: D0 02        	bne	L1435
 33756 06:8A7D: E6 31        	inc	<L1424+i_1+2
 33757                        L1435:
 33758                        L10570:
 33759 06:8A7F: A5 25        	lda	<L1424+num_colors_1
 33760 06:8A81: 85 01        	sta	<R0
 33761 06:8A83: 64 03        	stz	<R0+2
  Mon Aug  9 2021 16:52                                                Page 622


 33762 06:8A85: A5 2F        	lda	<L1424+i_1
 33763 06:8A87: C5 01        	cmp	<R0
 33764 06:8A89: A5 31        	lda	<L1424+i_1+2
 33765 06:8A8B: E5 03        	sbc	<R0+2
 33766 06:8A8D: B0 03        	bcs	L1436
 33767 06:8A8F: 82 DE FE     	brl	L10569
 33768                        L1436:
 33769                        L10568:
 33770                        	.line	124
 33771                        	.line	126
 33772 06:8A92: AD xx xx     	lda	|~~fileHeader+8+2
 33773 06:8A95: 48           	pha
 33774 06:8A96: AD xx xx     	lda	|~~fileHeader+8
 33775 06:8A99: 48           	pha
 33776 06:8A9A: D4 13        	pei	<L1424+f_1+2
 33777 06:8A9C: D4 11        	pei	<L1424+f_1
 33778 06:8A9E: 22 xx xx xx  	jsl	~~f_lseek
 33779                        	.line	130
 33780 06:8AA2: F4 00 00     	pea	#^$4
 33781 06:8AA5: F4 04 00     	pea	#<$4
 33782 06:8AA8: AD xx xx     	lda	|~~infoHeader+4+2
 33783 06:8AAB: 48           	pha
 33784 06:8AAC: AD xx xx     	lda	|~~infoHeader+4
 33785 06:8AAF: 48           	pha
 33786                        	xref	~~~ldiv
 33787 06:8AB0: 22 xx xx xx  	jsl	~~~ldiv
 33788 06:8AB4: 85 05        	sta	<R1
 33789 06:8AB6: 86 07        	stx	<R1+2
 33790 06:8AB8: A5 05        	lda	<R1
 33791 06:8ABA: 0A           	asl	A
 33792 06:8ABB: 0A           	asl	A
 33793 06:8ABC: 85 01        	sta	<R0
 33794 06:8ABE: A5 01        	lda	<R0
 33795 06:8AC0: CD xx xx     	cmp	|~~infoHeader+4
 33796 06:8AC3: D0 03        	bne	L1437
 33797 06:8AC5: 82 2D 00     	brl	L10571
 33798                        L1437:
 33799                        	.line	131
 33800                        	.line	132
 33801 06:8AC8: F4 00 00     	pea	#^$4
 33802 06:8ACB: F4 04 00     	pea	#<$4
 33803 06:8ACE: AD xx xx     	lda	|~~infoHeader+4+2
 33804 06:8AD1: 48           	pha
 33805 06:8AD2: AD xx xx     	lda	|~~infoHeader+4
 33806 06:8AD5: 48           	pha
 33807                        	xref	~~~ldiv
 33808 06:8AD6: 22 xx xx xx  	jsl	~~~ldiv
 33809 06:8ADA: 85 05        	sta	<R1
 33810 06:8ADC: 86 07        	stx	<R1+2
 33811 06:8ADE: A5 05        	lda	<R1
 33812 06:8AE0: 0A           	asl	A
 33813 06:8AE1: 0A           	asl	A
 33814 06:8AE2: 85 01        	sta	<R0
 33815 06:8AE4: 18           	clc
 33816 06:8AE5: A9 04 00     	lda	#$4
 33817 06:8AE8: 65 01        	adc	<R0
 33818 06:8AEA: 85 05        	sta	<R1
 33819 06:8AEC: A5 05        	lda	<R1
  Mon Aug  9 2021 16:52                                                Page 623


 33820 06:8AEE: 85 3C        	sta	<L1424+bitmap_offset_1
 33821 06:8AF0: 64 3E        	stz	<L1424+bitmap_offset_1+2
 33822                        	.line	133
 33823 06:8AF2: 82 0A 00     	brl	L10572
 33824                        L10571:
 33825                        	.line	135
 33826                        	.line	136
 33827 06:8AF5: AD xx xx     	lda	|~~infoHeader+4
 33828 06:8AF8: 85 3C        	sta	<L1424+bitmap_offset_1
 33829 06:8AFA: AD xx xx     	lda	|~~infoHeader+4+2
 33830 06:8AFD: 85 3E        	sta	<L1424+bitmap_offset_1+2
 33831                        	.line	137
 33832                        L10572:
 33833                        	.line	141
 33834 06:8AFF: AD xx xx     	lda	|~~infoHeader+8
 33835 06:8B02: 85 2B        	sta	<L1424+y_1
 33836 06:8B04: AD xx xx     	lda	|~~infoHeader+8+2
 33837 06:8B07: 85 2D        	sta	<L1424+y_1+2
 33838 06:8B09: 82 61 00     	brl	L10576
 33839                        L10575:
 33840                        	.line	142
 33841                        	.line	143
 33842 06:8B0C: F4 00 00     	pea	#0
 33843 06:8B0F: 18           	clc
 33844 06:8B10: 7B           	tdc
 33845 06:8B11: 69 1F 00     	adc	#<L1424+read_1
 33846 06:8B14: 48           	pha
 33847 06:8B15: D4 3C        	pei	<L1424+bitmap_offset_1
 33848 06:8B17: 18           	clc
 33849 06:8B18: A5 2B        	lda	<L1424+y_1
 33850 06:8B1A: 65 38        	adc	<L1424+dy_1
 33851 06:8B1C: 85 01        	sta	<R0
 33852 06:8B1E: A5 2D        	lda	<L1424+y_1+2
 33853 06:8B20: 65 3A        	adc	<L1424+dy_1+2
 33854 06:8B22: 85 03        	sta	<R0+2
 33855 06:8B24: F4 00 00     	pea	#^$280
 33856 06:8B27: F4 80 02     	pea	#<$280
 33857 06:8B2A: D4 03        	pei	<R0+2
 33858 06:8B2C: D4 01        	pei	<R0
 33859                        	xref	~~~lmul
 33860 06:8B2E: 22 xx xx xx  	jsl	~~~lmul
 33861 06:8B32: 85 01        	sta	<R0
 33862 06:8B34: 86 03        	stx	<R0+2
 33863 06:8B36: 18           	clc
 33864 06:8B37: A5 01        	lda	<R0
 33865 06:8B39: 65 34        	adc	<L1424+dx_1
 33866 06:8B3B: 85 05        	sta	<R1
 33867 06:8B3D: A5 03        	lda	<R0+2
 33868 06:8B3F: 65 36        	adc	<L1424+dx_1+2
 33869 06:8B41: 85 07        	sta	<R1+2
 33870 06:8B43: 18           	clc
 33871 06:8B44: A9 00 00     	lda	#$0
 33872 06:8B47: 65 05        	adc	<R1
 33873 06:8B49: 85 01        	sta	<R0
 33874 06:8B4B: A9 B8 00     	lda	#$b8
 33875 06:8B4E: 65 07        	adc	<R1+2
 33876 06:8B50: 85 03        	sta	<R0+2
 33877 06:8B52: D4 03        	pei	<R0+2
  Mon Aug  9 2021 16:52                                                Page 624


 33878 06:8B54: D4 01        	pei	<R0
 33879 06:8B56: D4 13        	pei	<L1424+f_1+2
 33880 06:8B58: D4 11        	pei	<L1424+f_1
 33881 06:8B5A: 22 xx xx xx  	jsl	~~f_read
 33882                        	.line	145
 33883 06:8B5E: A5 1F        	lda	<L1424+read_1
 33884 06:8B60: D0 03        	bne	L1438
 33885 06:8B62: 82 17 00     	brl	L10574
 33886                        L1438:
 33887                        	.line	147
 33888                        L10573:
 33889 06:8B65: A5 2B        	lda	<L1424+y_1
 33890 06:8B67: D0 02        	bne	L1439
 33891 06:8B69: C6 2D        	dec	<L1424+y_1+2
 33892                        L1439:
 33893 06:8B6B: C6 2B        	dec	<L1424+y_1
 33894                        L10576:
 33895 06:8B6D: A5 2B        	lda	<L1424+y_1
 33896 06:8B6F: C9 00 00     	cmp	#<$0
 33897 06:8B72: A5 2D        	lda	<L1424+y_1+2
 33898 06:8B74: E9 00 00     	sbc	#^$0
 33899 06:8B77: 90 03        	bcc	L1440
 33900 06:8B79: 82 90 FF     	brl	L10575
 33901                        L1440:
 33902                        L10574:
 33903                        	.line	149
 33904                        	.line	152
 33905 06:8B7C: D4 13        	pei	<L1424+f_1+2
 33906 06:8B7E: D4 11        	pei	<L1424+f_1
 33907 06:8B80: 22 xx xx xx  	jsl	~~f_close
 33908                        	.line	153
 33909                        L10563:
 33910                        	.line	154
 33911                        L10562:
 33912                        	.line	155
 33913                        L10561:
 33914                        	.line	158
 33915 06:8B84: D4 13        	pei	<L1424+f_1+2
 33916 06:8B86: D4 11        	pei	<L1424+f_1
 33917 06:8B88: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 33918                        	.line	159
 33919 06:8B8C: D4 0F        	pei	<L1424+fs_1+2
 33920 06:8B8E: D4 0D        	pei	<L1424+fs_1
 33921 06:8B90: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 33922                        	.line	160
 33923 06:8B94: D4 0B        	pei	<L1424+dir_1+2
 33924 06:8B96: D4 09        	pei	<L1424+dir_1
 33925 06:8B98: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 33926                        	.line	161
 33927                        L1441:
 33928 06:8B9C: A5 47        	lda	<L1423+2
 33929 06:8B9E: 85 4B        	sta	<L1423+2+4
 33930 06:8BA0: A5 46        	lda	<L1423+1
 33931 06:8BA2: 85 4A        	sta	<L1423+1+4
 33932 06:8BA4: 2B           	pld
 33933 06:8BA5: 3B           	tsc
 33934 06:8BA6: 18           	clc
 33935 06:8BA7: 69 49 00     	adc	#L1423+4
  Mon Aug  9 2021 16:52                                                Page 625


 33936 06:8BAA: 1B           	tcs
 33937 06:8BAB: 6B           	rtl
 33938                        	.endblock	161
 33939             00000045   L1423	equ	69
 33940             00000009   L1424	equ	9
 33941 06:8BAC:              	ends
 33942                        	efunc
 33943                        	.endfunc	161,9,69
 33944                        	.line	161
 33945                        	.line	163
 33946                        	.line	164
 33947                        	GFX
 33948                        	xdef	~~k_read_bitmap
 33949                        	func
 33950                        	.function	164
 33951                        ~~k_read_bitmap:
 33952                        	longa	on
 33953                        	longi	on
 33954 06:8BAC: 3B           	tsc
 33955 06:8BAD: 38           	sec
 33956 06:8BAE: E9 45 00     	sbc	#L1442
 33957 06:8BB1: 1B           	tcs
 33958 06:8BB2: 0B           	phd
 33959 06:8BB3: 5B           	tcd
 33960             00000004   path_0	set	4
 33961             00000008   buffer_0	set	8
 33962                        	.block	164
 33963             00000000   dir_1	set	0
 33964             00000004   fs_1	set	4
 33965             00000008   f_1	set	8
 33966             0000000C   fileInfo_1	set	12
 33967             00000010   fr_1	set	16
 33968             00000012   drive_1	set	18
 33969             00000016   read_1	set	22
 33970             00000018   data_1	set	24
 33971             0000001C   num_colors_1	set	28
 33972             0000001E   x_1	set	30
 33973             00000022   y_1	set	34
 33974             00000026   i_1	set	38
 33975             0000002A   c_1	set	42
 33976             0000002B   dx_1	set	43
 33977             0000002F   dy_1	set	47
 33978             00000033   bitmap_offset_1	set	51
 33979             00000037   fileType_1	set	55
 33980             00000039   pPalette_1	set	57
 33981                        	.sym	dir,0,138,1,32,87
 33982                        	.sym	fs,4,138,1,32,84
 33983                        	.sym	f,8,138,1,32,86
 33984                        	.sym	fileInfo,12,138,1,32,88
 33985                        	.sym	fr,16,5,1,16
 33986                        	.sym	drive,18,142,1,32
 33987                        	.sym	read,22,16,1,16
 33988                        	.sym	data,24,142,1,32
 33989                        	.sym	num_colors,28,16,1,16
 33990                        	.sym	x,30,18,1,32
 33991                        	.sym	y,34,18,1,32
 33992                        	.sym	i,38,18,1,32
 33993                        	.sym	c,42,14,1,8
  Mon Aug  9 2021 16:52                                                Page 626


 33994                        	.sym	dx,43,18,1,32
 33995                        	.sym	dy,47,18,1,32
 33996                        	.sym	bitmap_offset,51,18,1,32
 33997                        	.sym	fileType,55,15,1,16
 33998                        	.sym	pPalette,57,142,1,32
 33999                        	.sym	path,4,142,6,32
 34000                        	.sym	buffer,8,129,6,32
 34001 06:8BB4: 64 0D        	stz	<L1443+fs_1
 34002 06:8BB6: 64 0F        	stz	<L1443+fs_1+2
 34003 06:8BB8: 64 11        	stz	<L1443+f_1
 34004 06:8BBA: 64 13        	stz	<L1443+f_1+2
 34005 06:8BBC: 64 19        	stz	<L1443+fr_1
 34006 06:8BBE: 64 1B        	stz	<L1443+drive_1
 34007 06:8BC0: 64 1D        	stz	<L1443+drive_1+2
 34008 06:8BC2: 64 21        	stz	<L1443+data_1
 34009 06:8BC4: 64 23        	stz	<L1443+data_1+2
 34010 06:8BC6: 64 25        	stz	<L1443+num_colors_1
 34011 06:8BC8: 64 34        	stz	<L1443+dx_1
 34012 06:8BCA: 64 36        	stz	<L1443+dx_1+2
 34013 06:8BCC: 64 38        	stz	<L1443+dy_1
 34014 06:8BCE: 64 3A        	stz	<L1443+dy_1+2
 34015 06:8BD0: 64 42        	stz	<L1443+pPalette_1
 34016 06:8BD2: 64 44        	stz	<L1443+pPalette_1+2
 34017                        	.line	187
 34018 06:8BD4: F4 3A 00     	pea	#<$3a
 34019 06:8BD7: D4 4B        	pei	<L1442+path_0+2
 34020 06:8BD9: D4 49        	pei	<L1442+path_0
 34021 06:8BDB: 22 xx xx xx  	jsl	~~k_string_copy_to_delimiter
 34022 06:8BDF: 85 1B        	sta	<L1443+drive_1
 34023 06:8BE1: 86 1D        	stx	<L1443+drive_1+2
 34024                        	.line	189
 34025 06:8BE3: F4 00 00     	pea	#^$34
 34026 06:8BE6: F4 34 00     	pea	#<$34
 34027 06:8BE9: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 34028 06:8BED: 85 09        	sta	<L1443+dir_1
 34029 06:8BEF: 86 0B        	stx	<L1443+dir_1+2
 34030                        	.line	190
 34031 06:8BF1: F4 00 00     	pea	#^$233
 34032 06:8BF4: F4 33 02     	pea	#<$233
 34033 06:8BF7: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 34034 06:8BFB: 85 0D        	sta	<L1443+fs_1
 34035 06:8BFD: 86 0F        	stx	<L1443+fs_1+2
 34036                        	.line	191
 34037 06:8BFF: F4 00 00     	pea	#^$226
 34038 06:8C02: F4 26 02     	pea	#<$226
 34039 06:8C05: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 34040 06:8C09: 85 11        	sta	<L1443+f_1
 34041 06:8C0B: 86 13        	stx	<L1443+f_1+2
 34042                        	.line	195
 34043 06:8C0D: A9 00 20     	lda	#$2000
 34044 06:8C10: 85 42        	sta	<L1443+pPalette_1
 34045 06:8C12: A9 AF 00     	lda	#$af
 34046 06:8C15: 85 44        	sta	<L1443+pPalette_1+2
 34047                        	.line	197
 34048 06:8C17: F4 01 00     	pea	#<$1
 34049 06:8C1A: D4 1D        	pei	<L1443+drive_1+2
 34050 06:8C1C: D4 1B        	pei	<L1443+drive_1
 34051 06:8C1E: F4 00 00     	pea	#^$0
  Mon Aug  9 2021 16:52                                                Page 627


 34052 06:8C21: F4 00 00     	pea	#<$0
 34053 06:8C24: 22 xx xx xx  	jsl	~~f_mount
 34054 06:8C28: 85 19        	sta	<L1443+fr_1
 34055                        	.line	198
 34056 06:8C2A: F4 01 00     	pea	#<$1
 34057 06:8C2D: D4 1D        	pei	<L1443+drive_1+2
 34058 06:8C2F: D4 1B        	pei	<L1443+drive_1
 34059 06:8C31: D4 0F        	pei	<L1443+fs_1+2
 34060 06:8C33: D4 0D        	pei	<L1443+fs_1
 34061 06:8C35: 22 xx xx xx  	jsl	~~f_mount
 34062 06:8C39: 85 19        	sta	<L1443+fr_1
 34063                        	.line	199
 34064 06:8C3B: A5 19        	lda	<L1443+fr_1
 34065 06:8C3D: F0 03        	beq	L1445
 34066 06:8C3F: 82 36 03     	brl	L10577
 34067                        L1445:
 34068                        	.line	200
 34069                        	.line	201
 34070 06:8C42: F4 01 00     	pea	#<$1
 34071 06:8C45: D4 4B        	pei	<L1442+path_0+2
 34072 06:8C47: D4 49        	pei	<L1442+path_0
 34073 06:8C49: D4 13        	pei	<L1443+f_1+2
 34074 06:8C4B: D4 11        	pei	<L1443+f_1
 34075 06:8C4D: 22 xx xx xx  	jsl	~~f_open
 34076 06:8C51: 85 19        	sta	<L1443+fr_1
 34077                        	.line	202
 34078 06:8C53: A5 19        	lda	<L1443+fr_1
 34079 06:8C55: F0 03        	beq	L1446
 34080 06:8C57: 82 1E 03     	brl	L10578
 34081                        L1446:
 34082                        	.line	203
 34083                        	.line	204
 34084 06:8C5A: F4 00 00     	pea	#0
 34085 06:8C5D: 18           	clc
 34086 06:8C5E: 7B           	tdc
 34087 06:8C5F: 69 1F 00     	adc	#<L1443+read_1
 34088 06:8C62: 48           	pha
 34089 06:8C63: F4 02 00     	pea	#<$2
 34090 06:8C66: F4 00 00     	pea	#0
 34091 06:8C69: 18           	clc
 34092 06:8C6A: 7B           	tdc
 34093 06:8C6B: 69 40 00     	adc	#<L1443+fileType_1
 34094 06:8C6E: 48           	pha
 34095 06:8C6F: D4 13        	pei	<L1443+f_1+2
 34096 06:8C71: D4 11        	pei	<L1443+f_1
 34097 06:8C73: 22 xx xx xx  	jsl	~~f_read
 34098 06:8C77: 85 19        	sta	<L1443+fr_1
 34099                        	.line	205
 34100 06:8C79: A5 19        	lda	<L1443+fr_1
 34101 06:8C7B: F0 03        	beq	L1447
 34102 06:8C7D: 82 F8 02     	brl	L10579
 34103                        L1447:
 34104 06:8C80: A5 40        	lda	<L1443+fileType_1
 34105 06:8C82: C9 42 4D     	cmp	#<$4d42
 34106 06:8C85: F0 03        	beq	L1448
 34107 06:8C87: 82 EE 02     	brl	L10579
 34108                        L1448:
 34109                        	.line	206
  Mon Aug  9 2021 16:52                                                Page 628


 34110                        	.line	210
 34111 06:8C8A: F4 00 00     	pea	#0
 34112 06:8C8D: 18           	clc
 34113 06:8C8E: 7B           	tdc
 34114 06:8C8F: 69 1F 00     	adc	#<L1443+read_1
 34115 06:8C92: 48           	pha
 34116 06:8C93: F4 0C 00     	pea	#<$c
 34117 06:8C96: A9 xx xx     	lda	#<~~fileHeader
 34118 06:8C99: 85 01        	sta	<R0
 34119                        	xref	_BEG_DATA
 34120 06:8C9B: A9 xx xx     	lda	#_BEG_DATA>>16
 34121 06:8C9E: 85 03        	sta	<R0+2
 34122 06:8CA0: D4 03        	pei	<R0+2
 34123 06:8CA2: D4 01        	pei	<R0
 34124 06:8CA4: D4 13        	pei	<L1443+f_1+2
 34125 06:8CA6: D4 11        	pei	<L1443+f_1
 34126 06:8CA8: 22 xx xx xx  	jsl	~~f_read
 34127 06:8CAC: 85 19        	sta	<L1443+fr_1
 34128                        	.line	214
 34129 06:8CAE: F4 00 00     	pea	#0
 34130 06:8CB1: 18           	clc
 34131 06:8CB2: 7B           	tdc
 34132 06:8CB3: 69 1F 00     	adc	#<L1443+read_1
 34133 06:8CB6: 48           	pha
 34134 06:8CB7: F4 28 00     	pea	#<$28
 34135 06:8CBA: A9 xx xx     	lda	#<~~infoHeader
 34136 06:8CBD: 85 01        	sta	<R0
 34137                        	xref	_BEG_DATA
 34138 06:8CBF: A9 xx xx     	lda	#_BEG_DATA>>16
 34139 06:8CC2: 85 03        	sta	<R0+2
 34140 06:8CC4: D4 03        	pei	<R0+2
 34141 06:8CC6: D4 01        	pei	<R0
 34142 06:8CC8: D4 13        	pei	<L1443+f_1+2
 34143 06:8CCA: D4 11        	pei	<L1443+f_1
 34144 06:8CCC: 22 xx xx xx  	jsl	~~f_read
 34145 06:8CD0: 85 19        	sta	<L1443+fr_1
 34146                        	.line	218
 34147 06:8CD2: AD xx xx     	lda	|~~infoHeader+4+2
 34148 06:8CD5: 30 0D        	bmi	L1449
 34149 06:8CD7: D0 08        	bne	L1450
 34150 06:8CD9: AD xx xx     	lda	|~~infoHeader+4
 34151 06:8CDC: C9 80 02     	cmp	#640
 34152 06:8CDF: 90 03        	bcc	L1449
 34153                        L1450:
 34154 06:8CE1: 82 34 00     	brl	L10580
 34155                        L1449:
 34156                        	.line	219
 34157                        	.line	220
 34158 06:8CE4: F4 00 00     	pea	#^$2
 34159 06:8CE7: F4 02 00     	pea	#<$2
 34160 06:8CEA: AD xx xx     	lda	|~~infoHeader+4+2
 34161 06:8CED: 48           	pha
 34162 06:8CEE: AD xx xx     	lda	|~~infoHeader+4
 34163 06:8CF1: 48           	pha
 34164                        	xref	~~~ldiv
 34165 06:8CF2: 22 xx xx xx  	jsl	~~~ldiv
 34166 06:8CF6: 85 01        	sta	<R0
 34167 06:8CF8: 86 03        	stx	<R0+2
  Mon Aug  9 2021 16:52                                                Page 629


 34168 06:8CFA: 38           	sec
 34169 06:8CFB: A9 40 01     	lda	#$140
 34170 06:8CFE: E5 01        	sbc	<R0
 34171 06:8D00: 85 05        	sta	<R1
 34172 06:8D02: A9 00 00     	lda	#$0
 34173 06:8D05: E5 03        	sbc	<R0+2
 34174 06:8D07: 85 07        	sta	<R1+2
 34175 06:8D09: 18           	clc
 34176 06:8D0A: A9 E7 FF     	lda	#$ffe7
 34177 06:8D0D: 65 05        	adc	<R1
 34178 06:8D0F: 85 34        	sta	<L1443+dx_1
 34179 06:8D11: A9 FF FF     	lda	#$ffff
 34180 06:8D14: 65 07        	adc	<R1+2
 34181 06:8D16: 85 36        	sta	<L1443+dx_1+2
 34182                        	.line	221
 34183                        L10580:
 34184                        	.line	222
 34185 06:8D18: AD xx xx     	lda	|~~infoHeader+8+2
 34186 06:8D1B: 30 0D        	bmi	L1451
 34187 06:8D1D: D0 08        	bne	L1452
 34188 06:8D1F: AD xx xx     	lda	|~~infoHeader+8
 34189 06:8D22: C9 80 02     	cmp	#640
 34190 06:8D25: 90 03        	bcc	L1451
 34191                        L1452:
 34192 06:8D27: 82 25 00     	brl	L10581
 34193                        L1451:
 34194                        	.line	223
 34195                        	.line	224
 34196 06:8D2A: F4 00 00     	pea	#^$2
 34197 06:8D2D: F4 02 00     	pea	#<$2
 34198 06:8D30: AD xx xx     	lda	|~~infoHeader+8+2
 34199 06:8D33: 48           	pha
 34200 06:8D34: AD xx xx     	lda	|~~infoHeader+8
 34201 06:8D37: 48           	pha
 34202                        	xref	~~~ldiv
 34203 06:8D38: 22 xx xx xx  	jsl	~~~ldiv
 34204 06:8D3C: 85 01        	sta	<R0
 34205 06:8D3E: 86 03        	stx	<R0+2
 34206 06:8D40: 38           	sec
 34207 06:8D41: A9 F0 00     	lda	#$f0
 34208 06:8D44: E5 01        	sbc	<R0
 34209 06:8D46: 85 38        	sta	<L1443+dy_1
 34210 06:8D48: A9 00 00     	lda	#$0
 34211 06:8D4B: E5 03        	sbc	<R0+2
 34212 06:8D4D: 85 3A        	sta	<L1443+dy_1+2
 34213                        	.line	225
 34214                        L10581:
 34215                        	.line	227
 34216 06:8D4F: AD xx xx     	lda	|~~infoHeader+32
 34217 06:8D52: 0D xx xx     	ora	|~~infoHeader+32+2
 34218 06:8D55: F0 03        	beq	L1453
 34219 06:8D57: 82 05 00     	brl	L10582
 34220                        L1453:
 34221                        	.line	228
 34222 06:8D5A: A9 00 01     	lda	#$100
 34223 06:8D5D: 85 25        	sta	<L1443+num_colors_1
 34224                        L10582:
 34225                        	.line	231
  Mon Aug  9 2021 16:52                                                Page 630


 34226 06:8D5F: 64 2F        	stz	<L1443+i_1
 34227 06:8D61: 64 31        	stz	<L1443+i_1+2
 34228 06:8D63: 82 0F 01     	brl	L10586
 34229                        L10585:
 34230                        	.line	232
 34231                        	.line	234
 34232 06:8D66: F4 00 00     	pea	#0
 34233 06:8D69: 18           	clc
 34234 06:8D6A: 7B           	tdc
 34235 06:8D6B: 69 1F 00     	adc	#<L1443+read_1
 34236 06:8D6E: 48           	pha
 34237 06:8D6F: F4 01 00     	pea	#<$1
 34238 06:8D72: F4 00 00     	pea	#0
 34239 06:8D75: 18           	clc
 34240 06:8D76: 7B           	tdc
 34241 06:8D77: 69 33 00     	adc	#<L1443+c_1
 34242 06:8D7A: 48           	pha
 34243 06:8D7B: D4 13        	pei	<L1443+f_1+2
 34244 06:8D7D: D4 11        	pei	<L1443+f_1
 34245 06:8D7F: 22 xx xx xx  	jsl	~~f_read
 34246                        	.line	236
 34247 06:8D83: A5 2F        	lda	<L1443+i_1
 34248 06:8D85: 85 01        	sta	<R0
 34249 06:8D87: A5 31        	lda	<L1443+i_1+2
 34250 06:8D89: 85 03        	sta	<R0+2
 34251 06:8D8B: 06 01        	asl	<R0
 34252 06:8D8D: 26 03        	rol	<R0+2
 34253 06:8D8F: 06 01        	asl	<R0
 34254 06:8D91: 26 03        	rol	<R0+2
 34255 06:8D93: E2 20        	sep	#$20
 34256                        	longa	off
 34257 06:8D95: A5 33        	lda	<L1443+c_1
 34258 06:8D97: A4 01        	ldy	<R0
 34259 06:8D99: 97 42        	sta	[<L1443+pPalette_1],Y
 34260 06:8D9B: C2 20        	rep	#$20
 34261                        	longa	on
 34262                        	.line	237
 34263 06:8D9D: F4 00 00     	pea	#0
 34264 06:8DA0: 18           	clc
 34265 06:8DA1: 7B           	tdc
 34266 06:8DA2: 69 1F 00     	adc	#<L1443+read_1
 34267 06:8DA5: 48           	pha
 34268 06:8DA6: F4 01 00     	pea	#<$1
 34269 06:8DA9: F4 00 00     	pea	#0
 34270 06:8DAC: 18           	clc
 34271 06:8DAD: 7B           	tdc
 34272 06:8DAE: 69 33 00     	adc	#<L1443+c_1
 34273 06:8DB1: 48           	pha
 34274 06:8DB2: D4 13        	pei	<L1443+f_1+2
 34275 06:8DB4: D4 11        	pei	<L1443+f_1
 34276 06:8DB6: 22 xx xx xx  	jsl	~~f_read
 34277                        	.line	239
 34278 06:8DBA: A5 2F        	lda	<L1443+i_1
 34279 06:8DBC: 85 01        	sta	<R0
 34280 06:8DBE: A5 31        	lda	<L1443+i_1+2
 34281 06:8DC0: 85 03        	sta	<R0+2
 34282 06:8DC2: 06 01        	asl	<R0
 34283 06:8DC4: 26 03        	rol	<R0+2
  Mon Aug  9 2021 16:52                                                Page 631


 34284 06:8DC6: 06 01        	asl	<R0
 34285 06:8DC8: 26 03        	rol	<R0+2
 34286 06:8DCA: 18           	clc
 34287 06:8DCB: A9 01 00     	lda	#$1
 34288 06:8DCE: 65 01        	adc	<R0
 34289 06:8DD0: 85 05        	sta	<R1
 34290 06:8DD2: A9 00 00     	lda	#$0
 34291 06:8DD5: 65 03        	adc	<R0+2
 34292 06:8DD7: 85 07        	sta	<R1+2
 34293 06:8DD9: E2 20        	sep	#$20
 34294                        	longa	off
 34295 06:8DDB: A5 33        	lda	<L1443+c_1
 34296 06:8DDD: A4 05        	ldy	<R1
 34297 06:8DDF: 97 42        	sta	[<L1443+pPalette_1],Y
 34298 06:8DE1: C2 20        	rep	#$20
 34299                        	longa	on
 34300                        	.line	240
 34301 06:8DE3: F4 00 00     	pea	#0
 34302 06:8DE6: 18           	clc
 34303 06:8DE7: 7B           	tdc
 34304 06:8DE8: 69 1F 00     	adc	#<L1443+read_1
 34305 06:8DEB: 48           	pha
 34306 06:8DEC: F4 01 00     	pea	#<$1
 34307 06:8DEF: F4 00 00     	pea	#0
 34308 06:8DF2: 18           	clc
 34309 06:8DF3: 7B           	tdc
 34310 06:8DF4: 69 33 00     	adc	#<L1443+c_1
 34311 06:8DF7: 48           	pha
 34312 06:8DF8: D4 13        	pei	<L1443+f_1+2
 34313 06:8DFA: D4 11        	pei	<L1443+f_1
 34314 06:8DFC: 22 xx xx xx  	jsl	~~f_read
 34315                        	.line	242
 34316 06:8E00: A5 2F        	lda	<L1443+i_1
 34317 06:8E02: 85 01        	sta	<R0
 34318 06:8E04: A5 31        	lda	<L1443+i_1+2
 34319 06:8E06: 85 03        	sta	<R0+2
 34320 06:8E08: 06 01        	asl	<R0
 34321 06:8E0A: 26 03        	rol	<R0+2
 34322 06:8E0C: 06 01        	asl	<R0
 34323 06:8E0E: 26 03        	rol	<R0+2
 34324 06:8E10: 18           	clc
 34325 06:8E11: A9 02 00     	lda	#$2
 34326 06:8E14: 65 01        	adc	<R0
 34327 06:8E16: 85 05        	sta	<R1
 34328 06:8E18: A9 00 00     	lda	#$0
 34329 06:8E1B: 65 03        	adc	<R0+2
 34330 06:8E1D: 85 07        	sta	<R1+2
 34331 06:8E1F: E2 20        	sep	#$20
 34332                        	longa	off
 34333 06:8E21: A5 33        	lda	<L1443+c_1
 34334 06:8E23: A4 05        	ldy	<R1
 34335 06:8E25: 97 42        	sta	[<L1443+pPalette_1],Y
 34336 06:8E27: C2 20        	rep	#$20
 34337                        	longa	on
 34338                        	.line	243
 34339 06:8E29: F4 00 00     	pea	#0
 34340 06:8E2C: 18           	clc
 34341 06:8E2D: 7B           	tdc
  Mon Aug  9 2021 16:52                                                Page 632


 34342 06:8E2E: 69 1F 00     	adc	#<L1443+read_1
 34343 06:8E31: 48           	pha
 34344 06:8E32: F4 01 00     	pea	#<$1
 34345 06:8E35: F4 00 00     	pea	#0
 34346 06:8E38: 18           	clc
 34347 06:8E39: 7B           	tdc
 34348 06:8E3A: 69 33 00     	adc	#<L1443+c_1
 34349 06:8E3D: 48           	pha
 34350 06:8E3E: D4 13        	pei	<L1443+f_1+2
 34351 06:8E40: D4 11        	pei	<L1443+f_1
 34352 06:8E42: 22 xx xx xx  	jsl	~~f_read
 34353                        	.line	244
 34354 06:8E46: A5 2F        	lda	<L1443+i_1
 34355 06:8E48: 85 01        	sta	<R0
 34356 06:8E4A: A5 31        	lda	<L1443+i_1+2
 34357 06:8E4C: 85 03        	sta	<R0+2
 34358 06:8E4E: 06 01        	asl	<R0
 34359 06:8E50: 26 03        	rol	<R0+2
 34360 06:8E52: 06 01        	asl	<R0
 34361 06:8E54: 26 03        	rol	<R0+2
 34362 06:8E56: 18           	clc
 34363 06:8E57: A9 03 00     	lda	#$3
 34364 06:8E5A: 65 01        	adc	<R0
 34365 06:8E5C: 85 05        	sta	<R1
 34366 06:8E5E: A9 00 00     	lda	#$0
 34367 06:8E61: 65 03        	adc	<R0+2
 34368 06:8E63: 85 07        	sta	<R1+2
 34369 06:8E65: E2 20        	sep	#$20
 34370                        	longa	off
 34371 06:8E67: A9 00        	lda	#$0
 34372 06:8E69: A4 05        	ldy	<R1
 34373 06:8E6B: 97 42        	sta	[<L1443+pPalette_1],Y
 34374 06:8E6D: C2 20        	rep	#$20
 34375                        	longa	on
 34376                        	.line	247
 34377                        L10583:
 34378 06:8E6F: E6 2F        	inc	<L1443+i_1
 34379 06:8E71: D0 02        	bne	L1454
 34380 06:8E73: E6 31        	inc	<L1443+i_1+2
 34381                        L1454:
 34382                        L10586:
 34383 06:8E75: A5 25        	lda	<L1443+num_colors_1
 34384 06:8E77: 85 01        	sta	<R0
 34385 06:8E79: 64 03        	stz	<R0+2
 34386 06:8E7B: A5 2F        	lda	<L1443+i_1
 34387 06:8E7D: C5 01        	cmp	<R0
 34388 06:8E7F: A5 31        	lda	<L1443+i_1+2
 34389 06:8E81: E5 03        	sbc	<R0+2
 34390 06:8E83: B0 03        	bcs	L1455
 34391 06:8E85: 82 DE FE     	brl	L10585
 34392                        L1455:
 34393                        L10584:
 34394                        	.line	251
 34395                        	.line	253
 34396 06:8E88: AD xx xx     	lda	|~~fileHeader+8+2
 34397 06:8E8B: 48           	pha
 34398 06:8E8C: AD xx xx     	lda	|~~fileHeader+8
 34399 06:8E8F: 48           	pha
  Mon Aug  9 2021 16:52                                                Page 633


 34400 06:8E90: D4 13        	pei	<L1443+f_1+2
 34401 06:8E92: D4 11        	pei	<L1443+f_1
 34402 06:8E94: 22 xx xx xx  	jsl	~~f_lseek
 34403                        	.line	257
 34404 06:8E98: F4 00 00     	pea	#^$4
 34405 06:8E9B: F4 04 00     	pea	#<$4
 34406 06:8E9E: AD xx xx     	lda	|~~infoHeader+4+2
 34407 06:8EA1: 48           	pha
 34408 06:8EA2: AD xx xx     	lda	|~~infoHeader+4
 34409 06:8EA5: 48           	pha
 34410                        	xref	~~~ldiv
 34411 06:8EA6: 22 xx xx xx  	jsl	~~~ldiv
 34412 06:8EAA: 85 05        	sta	<R1
 34413 06:8EAC: 86 07        	stx	<R1+2
 34414 06:8EAE: A5 05        	lda	<R1
 34415 06:8EB0: 0A           	asl	A
 34416 06:8EB1: 0A           	asl	A
 34417 06:8EB2: 85 01        	sta	<R0
 34418 06:8EB4: A5 01        	lda	<R0
 34419 06:8EB6: CD xx xx     	cmp	|~~infoHeader+4
 34420 06:8EB9: D0 03        	bne	L1456
 34421 06:8EBB: 82 2D 00     	brl	L10587
 34422                        L1456:
 34423                        	.line	258
 34424                        	.line	259
 34425 06:8EBE: F4 00 00     	pea	#^$4
 34426 06:8EC1: F4 04 00     	pea	#<$4
 34427 06:8EC4: AD xx xx     	lda	|~~infoHeader+4+2
 34428 06:8EC7: 48           	pha
 34429 06:8EC8: AD xx xx     	lda	|~~infoHeader+4
 34430 06:8ECB: 48           	pha
 34431                        	xref	~~~ldiv
 34432 06:8ECC: 22 xx xx xx  	jsl	~~~ldiv
 34433 06:8ED0: 85 05        	sta	<R1
 34434 06:8ED2: 86 07        	stx	<R1+2
 34435 06:8ED4: A5 05        	lda	<R1
 34436 06:8ED6: 0A           	asl	A
 34437 06:8ED7: 0A           	asl	A
 34438 06:8ED8: 85 01        	sta	<R0
 34439 06:8EDA: 18           	clc
 34440 06:8EDB: A9 04 00     	lda	#$4
 34441 06:8EDE: 65 01        	adc	<R0
 34442 06:8EE0: 85 05        	sta	<R1
 34443 06:8EE2: A5 05        	lda	<R1
 34444 06:8EE4: 85 3C        	sta	<L1443+bitmap_offset_1
 34445 06:8EE6: 64 3E        	stz	<L1443+bitmap_offset_1+2
 34446                        	.line	260
 34447 06:8EE8: 82 0A 00     	brl	L10588
 34448                        L10587:
 34449                        	.line	262
 34450                        	.line	263
 34451 06:8EEB: AD xx xx     	lda	|~~infoHeader+4
 34452 06:8EEE: 85 3C        	sta	<L1443+bitmap_offset_1
 34453 06:8EF0: AD xx xx     	lda	|~~infoHeader+4+2
 34454 06:8EF3: 85 3E        	sta	<L1443+bitmap_offset_1+2
 34455                        	.line	264
 34456                        L10588:
 34457                        	.line	268
  Mon Aug  9 2021 16:52                                                Page 634


 34458 06:8EF5: AD xx xx     	lda	|~~infoHeader+8
 34459 06:8EF8: 85 2B        	sta	<L1443+y_1
 34460 06:8EFA: AD xx xx     	lda	|~~infoHeader+8+2
 34461 06:8EFD: 85 2D        	sta	<L1443+y_1+2
 34462 06:8EFF: 82 5F 00     	brl	L10592
 34463                        L10591:
 34464                        	.line	269
 34465                        	.line	270
 34466 06:8F02: F4 00 00     	pea	#0
 34467 06:8F05: 18           	clc
 34468 06:8F06: 7B           	tdc
 34469 06:8F07: 69 1F 00     	adc	#<L1443+read_1
 34470 06:8F0A: 48           	pha
 34471 06:8F0B: D4 3C        	pei	<L1443+bitmap_offset_1
 34472 06:8F0D: 18           	clc
 34473 06:8F0E: A5 2B        	lda	<L1443+y_1
 34474 06:8F10: 65 38        	adc	<L1443+dy_1
 34475 06:8F12: 85 01        	sta	<R0
 34476 06:8F14: A5 2D        	lda	<L1443+y_1+2
 34477 06:8F16: 65 3A        	adc	<L1443+dy_1+2
 34478 06:8F18: 85 03        	sta	<R0+2
 34479 06:8F1A: F4 00 00     	pea	#^$280
 34480 06:8F1D: F4 80 02     	pea	#<$280
 34481 06:8F20: D4 03        	pei	<R0+2
 34482 06:8F22: D4 01        	pei	<R0
 34483                        	xref	~~~lmul
 34484 06:8F24: 22 xx xx xx  	jsl	~~~lmul
 34485 06:8F28: 85 01        	sta	<R0
 34486 06:8F2A: 86 03        	stx	<R0+2
 34487 06:8F2C: 18           	clc
 34488 06:8F2D: A5 01        	lda	<R0
 34489 06:8F2F: 65 34        	adc	<L1443+dx_1
 34490 06:8F31: 85 05        	sta	<R1
 34491 06:8F33: A5 03        	lda	<R0+2
 34492 06:8F35: 65 36        	adc	<L1443+dx_1+2
 34493 06:8F37: 85 07        	sta	<R1+2
 34494 06:8F39: 18           	clc
 34495 06:8F3A: A5 4D        	lda	<L1442+buffer_0
 34496 06:8F3C: 65 05        	adc	<R1
 34497 06:8F3E: 85 01        	sta	<R0
 34498 06:8F40: A5 4F        	lda	<L1442+buffer_0+2
 34499 06:8F42: 65 07        	adc	<R1+2
 34500 06:8F44: 85 03        	sta	<R0+2
 34501 06:8F46: D4 03        	pei	<R0+2
 34502 06:8F48: D4 01        	pei	<R0
 34503 06:8F4A: D4 13        	pei	<L1443+f_1+2
 34504 06:8F4C: D4 11        	pei	<L1443+f_1
 34505 06:8F4E: 22 xx xx xx  	jsl	~~f_read
 34506                        	.line	272
 34507 06:8F52: A5 1F        	lda	<L1443+read_1
 34508 06:8F54: D0 03        	bne	L1457
 34509 06:8F56: 82 17 00     	brl	L10590
 34510                        L1457:
 34511                        	.line	274
 34512                        L10589:
 34513 06:8F59: A5 2B        	lda	<L1443+y_1
 34514 06:8F5B: D0 02        	bne	L1458
 34515 06:8F5D: C6 2D        	dec	<L1443+y_1+2
  Mon Aug  9 2021 16:52                                                Page 635


 34516                        L1458:
 34517 06:8F5F: C6 2B        	dec	<L1443+y_1
 34518                        L10592:
 34519 06:8F61: A5 2B        	lda	<L1443+y_1
 34520 06:8F63: C9 00 00     	cmp	#<$0
 34521 06:8F66: A5 2D        	lda	<L1443+y_1+2
 34522 06:8F68: E9 00 00     	sbc	#^$0
 34523 06:8F6B: 90 03        	bcc	L1459
 34524 06:8F6D: 82 92 FF     	brl	L10591
 34525                        L1459:
 34526                        L10590:
 34527                        	.line	276
 34528                        	.line	279
 34529 06:8F70: D4 13        	pei	<L1443+f_1+2
 34530 06:8F72: D4 11        	pei	<L1443+f_1
 34531 06:8F74: 22 xx xx xx  	jsl	~~f_close
 34532                        	.line	280
 34533                        L10579:
 34534                        	.line	281
 34535                        L10578:
 34536                        	.line	282
 34537                        L10577:
 34538                        	.line	285
 34539 06:8F78: D4 13        	pei	<L1443+f_1+2
 34540 06:8F7A: D4 11        	pei	<L1443+f_1
 34541 06:8F7C: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 34542                        	.line	286
 34543 06:8F80: D4 0F        	pei	<L1443+fs_1+2
 34544 06:8F82: D4 0D        	pei	<L1443+fs_1
 34545 06:8F84: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 34546                        	.line	287
 34547 06:8F88: D4 0B        	pei	<L1443+dir_1+2
 34548 06:8F8A: D4 09        	pei	<L1443+dir_1
 34549 06:8F8C: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 34550                        	.line	288
 34551                        L1460:
 34552 06:8F90: A5 47        	lda	<L1442+2
 34553 06:8F92: 85 4F        	sta	<L1442+2+8
 34554 06:8F94: A5 46        	lda	<L1442+1
 34555 06:8F96: 85 4E        	sta	<L1442+1+8
 34556 06:8F98: 2B           	pld
 34557 06:8F99: 3B           	tsc
 34558 06:8F9A: 18           	clc
 34559 06:8F9B: 69 4D 00     	adc	#L1442+8
 34560 06:8F9E: 1B           	tcs
 34561 06:8F9F: 6B           	rtl
 34562                        	.endblock	288
 34563             00000045   L1442	equ	69
 34564             00000009   L1443	equ	9
 34565 06:8FA0:              	ends
 34566                        	efunc
 34567                        	.endfunc	288,9,69
 34568                        	.line	288
 34569                        	.line	289
 34570                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",6103
 34571                        ;
 34572                        ;/*
  Mon Aug  9 2021 16:52                                                Page 636


 34573                        ;
 34574                        ;
 34575                        ;
 34576                        ;
 34577                        ; */
 34578                        ;
 34579                        	.line	6110
 34580                        	xref	~~k_get_device_driver
 34581                        	xref	~~f_mount
 34582                        	xref	~~f_lseek
 34583                        	xref	~~f_read
 34584                        	xref	~~f_close
 34585                        	xref	~~f_open
 34586                        	xref	~~k_clear_screen
 34587                        	xref	~~k_disable_border
 34588                        	xref	~~k_send_message
 34589                        	xref	~~k_user_SetRect
 34590                        	xref	~~k_user_getSystemMetric
 34591                        	xref	~~k_mem_deallocate_heap
 34592                        	xref	~~k_mem_allocate_heap
 34593                        	xref	~~k_string_replace
 34594                        	xref	~~k_string_copy_to_delimiter
 34595                        	xref	~~k_get_c256_release
 34596                        	xref	~~k_debug_strings
 34597                        	xref	~~k_debug_message
 34598                        	xref	~~k_debug_hex
 34599                        	xref	~~k_debug_long
 34600                        	xref	~~k_debug_integer
 34601                        	xref	~~k_debug_pointer
 34602                        	xref	~~k_debug_string
 34603                        	xref	~~k_unlock_irq
 34604                        	xref	~~k_lock_irq
 34605                        	xref	~~k_delay
 34606                        	xref	~~sleep
 34607                        	xref	~~toupper
 34608                        	xref	~~strupr
 34609                        	xref	~~strlen
 34610                        	xref	~~strcpy
 34611                        	xref	~~memset
 34612                        	xref	~~memcpy
 34613                        	xref	~~abs
 34614                        	udata
 34615                        ~~infoHeader
 34616 00:0000:              	ds	40
 34617 00:0028:              	ends
 34618                        	udata
 34619                        ~~fileHeader
 34620 00:0028:              	ds	12
 34621 00:0034:              	ends
 34622                        	udata
 34623                        ~~_k_guiCacheSlots
 34624 00:0034:              	ds	60
 34625 00:0070:              	ends
 34626                        	udata
 34627                        ~~_k_currentPalatte
 34628 00:0070:              	ds	50
 34629 00:00A2:              	ends
 34630                        	xref	~~Bm437ToshibaLCD8x8
  Mon Aug  9 2021 16:52                                                Page 637


 34631                        	xref	~~windowIconImg
 34632                        	xref	~~windowChromeImg
 34633                        	xref	~~fontImg
 34634                        	xref	~~characterROMMapping
 34635                        	.sym	~~k_read_bitmap,~~k_read_bitmap,65,2,0
 34636                        	.sym	~~infoHeader,~~infoHeader,10,3,320,132
 34637                        	.sym	~~fileHeader,~~fileHeader,10,3,96,131
 34638                        	.sym	PixelInfo,0,10,14,32,133
 34639                        	.sym	BITMAPINFOHEADER,0,10,14,320,132
 34640                        	.sym	BITMAPFILEHEADER,0,10,14,96,131
 34641                        	.sym	~~k_show_image,~~k_show_image,65,2,0
 34642                        	.sym	~~k_init_splash,~~k_init_splash,80,2,0
 34643                        	.sym	~~k_vdma_fill_address_old,~~k_vdma_fill_
                    address_old,65,2,0
 34644                        	.sym	~~k_draw_filled_rect_slow,~~k_draw_fille
                    d_rect_slow,65,2,0
 34645                        	.sym	~~k_draw_rect_ex,~~k_draw_rect_ex,65,2,0
 34646                        	.sym	~~k_draw_line_with_pattern,~~k_draw_line
                    _with_pattern,65,2,0
 34647                        	.sym	~~k_draw_filled_segments,~~k_draw_filled
                    _segments,65,2,0
 34648                        	.sym	~~k_set_text_color,~~k_set_text_color,65
                    ,2,0
 34649                        	.sym	~~k_set_text_gamma,~~k_set_text_gamma,65
                    ,2,0
 34650                        	.sym	~~k_set_foreground_palette,~~k_set_foreg
                    round_palette,65,2,0
 34651                        	.sym	~~_k_guiCacheSlots,~~_k_guiCacheSlots,11
                    0,3,0,60
 34652                        	.sym	~~_k_currentPalatte,~~_k_currentPalatte,
                    10,3,400,68
 34653                        	.sym	~~BG_FILL_LINE_EVEN,~~BG_FILL_LINE_EVEN,
                    110,3,0,80
 34654                        	.sym	~~BG_FILL_LINE_ODD,~~BG_FILL_LINE_ODD,11
                    0,3,0,80
 34655                        	.sym	~~MOUSE_POINTER_EMPTY,~~MOUSE_POINTER_EM
                    PTY,110,2,0,256
 34656                        	.sym	~~TEXT_BG_COLORS,~~TEXT_BG_COLORS,110,3,
                    0,64
 34657                        	.sym	~~TEXT_FG_COLORS,~~TEXT_FG_COLORS,110,3,
                    0,64
 34658                        	.sym	~~TITLE_LINES_640x480,~~TITLE_LINES_640x
                    480,142,3,32
 34659                        	.sym	~~TEXT_CAPTION_BLOCK,~~TEXT_CAPTION_BLOC
                    K,110,3,0,1
 34660                        	.sym	~~readBMP,~~readBMP,65,2,0
 34661                        	.sym	~~k_get_device_driver,~~k_get_device_dri
                    ver,1098,18,32,58
 34662                        	.sym	FILE,0,138,14,32,130
 34663                        	.sym	FILE_POINTER,0,10,14,112,130
 34664                        	.sym	PDOSHANDLE,0,138,14,32,129
 34665                        	.sym	DOSHANDLE,0,10,14,80,129
 34666                        	.sym	PFXDOSDEVICE,0,138,14,32,127
 34667                        	.sym	FXDOSDEVICE,0,10,14,5744,127
 34668                        	.sym	DOSINITDEVICE,0,641,14,32
 34669                        	.sym	DOSSECTORWRITER,0,654,14,32
 34670                        	.sym	DOSSECTORREADER,0,654,14,32
 34671                        	.sym	PIDENTIFY_DEVICE_DATA,0,138,14,32,126
  Mon Aug  9 2021 16:52                                                Page 638


 34672                        	.sym	IDENTIFY_DEVICE_DATA,0,10,14,4096,126
 34673                        	.sym	PIDSECTOR,0,138,14,32,103
 34674                        	.sym	IDSECTOR,0,10,14,2048,103
 34675                        	.sym	PLFN,0,138,14,32,102
 34676                        	.sym	LFN,0,10,14,256,102
 34677                        	.sym	PFAT16ENTRYLONG,0,138,14,32,101
 34678                        	.sym	FAT16ENTRYLONG,0,10,14,288,101
 34679                        	.sym	PFAT16ENTRY,0,138,14,32,100
 34680                        	.sym	FAT16ENTRY,0,10,14,256,100
 34681                        	.sym	Fat16BootSector,0,10,14,4096,99
 34682                        	.sym	PPARTITIONTABLE,0,138,14,32,98
 34683                        	.sym	PARTITIONTABLE,0,10,14,128,98
 34684                        	.sym	PFATBOOTSECTOR,0,138,14,32,97
 34685                        	.sym	FATBOOTSECTOR,0,10,14,928,97
 34686                        	.sym	fat_BS_t,0,10,14,688,96
 34687                        	.sym	fat_extBS_16_t,0,10,14,192,95
 34688                        	.sym	PFAT32EXT,0,138,14,32,94
 34689                        	.sym	fat_extBS_32_t,0,10,14,416,94
 34690                        	.sym	P_FX_FAT_DIR_INFO,0,138,14,32,93
 34691                        	.sym	FX_FAT_DIR_INFO,0,10,14,256,93
 34692                        	.sym	PFILEINFO,0,138,14,32,92
 34693                        	.sym	FILEINFO,0,10,14,136,92
 34694                        	.sym	PDISKINFO,0,138,14,32,91
 34695                        	.sym	DISKINFO,0,10,14,416,91
 34696                        	.sym	PDIRENTRY,0,138,14,32,90
 34697                        	.sym	DIRENTRY,0,10,14,256,90
 34698                        	.sym	DRESULT,0,5,14,16
 34699                        	.sym	DSTATUS,0,14,14,8
 34700                        	.sym	~~f_mount,~~f_mount,69,18,0
 34701                        	.sym	~~f_lseek,~~f_lseek,69,18,0
 34702                        	.sym	~~f_read,~~f_read,69,18,0
 34703                        	.sym	~~f_close,~~f_close,69,18,0
 34704                        	.sym	~~f_open,~~f_open,69,18,0
 34705                        	.sym	FRESULT,0,5,14,16
 34706                        	.sym	MKFS_PARM,0,10,14,80,89
 34707                        	.sym	FILINFO,0,10,14,2224,88
 34708                        	.sym	DIR,0,10,14,416,87
 34709                        	.sym	FIL,0,10,14,4400,86
 34710                        	.sym	FFOBJID,0,10,14,128,85
 34711                        	.sym	FATFS,0,10,14,4504,84
 34712                        	.sym	LBA_t,0,18,14,32
 34713                        	.sym	FSIZE_t,0,18,14,32
 34714                        	.sym	TCHAR,0,14,14,8
 34715                        	.sym	~~k_clear_screen,~~k_clear_screen,65,18,
                    0
 34716                        	.sym	~~k_disable_border,~~k_disable_border,65
                    ,18,0
 34717                        	.sym	PCOMMANDARGS,0,138,14,32,83
 34718                        	.sym	COMMANDARGS,0,10,14,64,83
 34719                        	.sym	PTOKENIZESTATE,0,133,14,32
 34720                        	.sym	TOKENIZESTATE,0,5,14,16
 34721                        	.sym	PTOKEN,0,138,14,32,82
 34722                        	.sym	TOKEN,0,10,14,64,82
 34723                        	.sym	PTOKENTYPE,0,133,14,32
 34724                        	.sym	TOKENTYPE,0,5,14,16
 34725                        	.sym	FXCommandHandler,0,656,14,32
 34726                        	.sym	PCONSOLECTX,0,138,14,32,81
 34727                        	.sym	CONSOLECTX,0,10,14,1144,81
  Mon Aug  9 2021 16:52                                                Page 639


 34728                        	.sym	PSPINNERCTX,0,138,14,32,80
 34729                        	.sym	SPINNERCTX,0,10,14,48,80
 34730                        	.sym	HCLIP,0,138,14,32,79
 34731                        	.sym	PCLIPBOARD_DATA,0,138,14,32,79
 34732                        	.sym	CLIPBOARD_DATA,0,10,14,168,79
 34733                        	.sym	~~k_send_message,~~k_send_message,78,18,
                    0
 34734                        	.sym	PEVENTMANAGER,0,138,14,32,78
 34735                        	.sym	EVENTMANAGER,0,10,14,192,78
 34736                        	.sym	EV_RUN,0,656,14,32
 34737                        	.sym	EV_QUERY_METRIC,0,656,14,32
 34738                        	.sym	EV_CONFIGURE,0,656,14,32
 34739                        	.sym	EV_UNINIT,0,641,14,32
 34740                        	.sym	EV_INIT,0,8833,14,32
 34741                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,77
 34742                        	.sym	MOUSE_MSG_STATE,0,10,14,184,77
 34743                        	.sym	PFXEVENTPROCESS,0,138,14,32,76
 34744                        	.sym	FXEVENTPROCESS,0,10,14,64,76
 34745                        	.sym	FXASYNCPROCESS,0,641,14,32
 34746                        	.sym	PMARSHALDATA,0,139,14,32,75
 34747                        	.sym	MARSHALDATA,0,11,14,32,75
 34748                        	.sym	FXIDLEPROCESS,0,641,14,32
 34749                        	.sym	FXEventProc,0,641,14,32
 34750                        	.sym	PMOUSEMSGDATA,0,138,14,32,74
 34751                        	.sym	MOUSEMSGDATA,0,10,14,64,74
 34752                        	.sym	MSGIRQ,0,5,14,16
 34753                        	.sym	MAINLOOPARGS,0,10,14,16,73
 34754                        	.sym	PEACHCHILD_MSG,0,138,14,32,72
 34755                        	.sym	EACHCHILD_MSG,0,10,14,64,72
 34756                        	.sym	~~k_user_SetRect,~~k_user_SetRect,65,18,
                    0
 34757                        	.sym	PMSGBOX_DATA,0,138,14,32,71
 34758                        	.sym	MSGBOX_DATA,0,10,14,96,71
 34759                        	.sym	PDESKTOP_DATA,0,138,14,32,70
 34760                        	.sym	DESKTOP_DATA,0,10,14,64,70
 34761                        	.sym	~~k_user_getSystemMetric,~~k_user_getSys
                    temMetric,69,18,0
 34762                        	.sym	PWINDOWMANAGER,0,138,14,32,69
 34763                        	.sym	WINDOWMANAGER,0,10,14,160,69
 34764                        	.sym	WM_DOPROCS,0,641,14,32
 34765                        	.sym	WM_QUERY_METRIC,0,656,14,32
 34766                        	.sym	WM_CONFIGURE,0,656,14,32
 34767                        	.sym	WM_HANDLE_EVENT,0,8833,14,32
 34768                        	.sym	WM_EVENTS,0,641,14,32
 34769                        	.sym	~~k_ToRECTP,~~k_ToRECTP,65,2,0
 34770                        	.sym	~~k_ToRECT,~~k_ToRECT,65,2,0
 34771                        	.sym	~~k_new_RECTP,~~k_new_RECTP,1098,2,32,27
 34772                        	.sym	~~k_new_RECT,~~k_new_RECT,1098,2,32,26
 34773                        	.sym	~~k_gui_get_image_cache,~~k_gui_get_imag
                    e_cache,78,2,0
 34774                        	.sym	~~k_gui_set_image_cache,~~k_gui_set_imag
                    e_cache,80,2,0
 34775                        	.sym	~~k_gui_free_image_cache_slot,~~k_gui_fr
                    ee_image_cache_slot,65,2,0
 34776                        	.sym	~~k_gui_alloc_image_cache_slot,~~k_gui_a
                    lloc_image_cache_slot,80,2,0
 34777                        	.sym	~~k_gui_init_image_cache_slot,~~k_gui_in
                    it_image_cache_slot,65,2,0
  Mon Aug  9 2021 16:52                                                Page 640


 34778                        	.sym	~~k_set_text_colors,~~k_set_text_colors,
                    65,2,0
 34779                        	.sym	~~k_gui_set_mousepointer,~~k_gui_set_mou
                    sepointer,65,2,0
 34780                        	.sym	~~k_gui_init_mousepointer,~~k_gui_init_m
                    ousepointer,65,2,0
 34781                        	.sym	~~k_font_getFontWidth,~~k_font_getFontWi
                    dth,80,2,0
 34782                        	.sym	~~k_font_getFontHeight,~~k_font_getFontH
                    eight,80,2,0
 34783                        	.sym	~~k_gadget_title_back_callback,~~k_gadge
                    t_title_back_callback,65,2,0
 34784                        	.sym	~~k_gadget_title_front_callback,~~k_gadg
                    et_title_front_callback,65,2,0
 34785                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,2,32,33
 34786                        	.sym	~~k_free_context_menu,~~k_free_context_m
                    enu,65,2,0
 34787                        	.sym	~~k_render_context_menu,~~k_render_conte
                    xt_menu,1098,2,32,36
 34788                        	.sym	~~k_create_context_menus,~~k_create_cont
                    ext_menus,1098,2,32,36
 34789                        	.sym	~~k_create_context_menu_in_window_ex,~~k
                    _create_context_menu_in_window_ex,1098,2,32,36
 34790                        	.sym	~~k_create_context_menu_in_window,~~k_cr
                    eate_context_menu_in_window,1098,2,32,36
 34791                        	.sym	~~k_create_context_menu,~~k_create_conte
                    xt_menu,1098,2,32,36
 34792                        	.sym	~~k_vdma_copy_address_ex,~~k_vdma_copy_a
                    ddress_ex,65,2,0
 34793                        	.sym	~~k_vdma_fill_address_ex,~~k_vdma_fill_a
                    ddress_ex,65,2,0
 34794                        	.sym	~~k_vdma_fill_rect_ex,~~k_vdma_fill_rect
                    _ex,65,2,0
 34795                        	.sym	~~k_vdma_fill_rect,~~k_vdma_fill_rect,65
                    ,2,0
 34796                        	.sym	~~k_vdma_fill_address,~~k_vdma_fill_addr
                    ess,65,2,0
 34797                        	.sym	~~k_vdma_fill,~~k_vdma_fill,65,2,0
 34798                        	.sym	~~k_vdma_move_rect,~~k_vdma_move_rect,65
                    ,2,0
 34799                        	.sym	~~k_gui_build_title_cache,~~k_gui_build_
                    title_cache,1089,2,32
 34800                        	.sym	~~k_gui_get_title_cache,~~k_gui_get_titl
                    e_cache,1089,2,32
 34801                        	.sym	~~k_gui_DrawWindow,~~k_gui_DrawWindow,65
                    ,2,0
 34802                        	.sym	~~k_vdraw_ui_window_ex,~~k_vdraw_ui_wind
                    ow_ex,65,2,0
 34803                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,2,0
 34804                        	.sym	~~k_draw_ui_window,~~k_draw_ui_window,65
                    ,2,0
 34805                        	.sym	~~k_put_winicon_scaled,~~k_put_winicon_s
                    caled,65,2,0
 34806                        	.sym	~~k_put_winicon_point_ex,~~k_put_winicon
                    _point_ex,69,2,0
 34807                        	.sym	~~k_put_winicon_point,~~k_put_winicon_po
  Mon Aug  9 2021 16:52                                                Page 641


                    int,69,2,0
 34808                        	.sym	~~k_gui_DrawWidget,~~k_gui_DrawWidget,69
                    ,2,0
 34809                        	.sym	~~k_put_wingadget_point_ex,~~k_put_winga
                    dget_point_ex,69,2,0
 34810                        	.sym	~~k_put_wingadget_point,~~k_put_wingadge
                    t_point,69,2,0
 34811                        	.sym	~~k_draw_char_scaled,~~k_draw_char_scale
                    d,65,2,0
 34812                        	.sym	~~k_get_font_metrics,~~k_get_font_metric
                    s,69,2,0
 34813                        	.sym	~~k_draw_fontset,~~k_draw_fontset,65,2,0
 34814                        	.sym	~~k_draw_char,~~k_draw_char,65,2,0
 34815                        	.sym	~~k_put_draw_text,~~k_put_draw_text,69,2
                    ,0
 34816                        	.sym	~~k_draw_char_scaled_point,~~k_draw_char
                    _scaled_point,65,2,0
 34817                        	.sym	~~k_gui_DrawText,~~k_gui_DrawText,69,2,0
 34818                        	.sym	~~k_draw_text_point_with_font_ex,~~k_dra
                    w_text_point_with_font_ex,69,2,0
 34819                        	.sym	~~k_draw_text_point_with_font,~~k_draw_t
                    ext_point_with_font,69,2,0
 34820                        	.sym	~~k_draw_text_point_ex,~~k_draw_text_poi
                    nt_ex,69,2,0
 34821                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,2,0
 34822                        	.sym	~~k_put_font_point,~~k_put_font_point,69
                    ,2,0
 34823                        	.sym	~~k_draw_text_scaled,~~k_draw_text_scale
                    d,69,2,0
 34824                        	.sym	~~k_draw_text,~~k_draw_text,69,2,0
 34825                        	.sym	~~k_put_binary_variablefont_point_ex,~~k
                    _put_binary_variablefont_point_ex,69,2,0
 34826                        	.sym	~~k_put_binary_variablefont_point,~~k_pu
                    t_binary_variablefont_point,69,2,0
 34827                        	.sym	~~k_put_binary_font_point,~~k_put_binary
                    _font_point,69,2,0
 34828                        	.sym	~~k_put_font_scaled,~~k_put_font_scaled,
                    65,2,0
 34829                        	.sym	~~k_put_font,~~k_put_font,65,2,0
 34830                        	.sym	~~k_fill_line,~~k_fill_line,65,2,0
 34831                        	.sym	~~k_paint_brush_at_address,~~k_paint_bru
                    sh_at_address,65,2,0
 34832                        	.sym	~~k_paint_brush_rect,~~k_paint_brush_rec
                    t,65,2,0
 34833                        	.sym	~~k_vdraw_filled_rect,~~k_vdraw_filled_r
                    ect,65,2,0
 34834                        	.sym	~~k_draw_filled_rect,~~k_draw_filled_rec
                    t,65,2,0
 34835                        	.sym	~~k_draw_rect,~~k_draw_rect,65,2,0
 34836                        	.sym	~~k_draw_rect_slow,~~k_draw_rect_slow,65
                    ,2,0
 34837                        	.sym	~~k_draw_line_ex,~~k_draw_line_ex,65,2,0
 34838                        	.sym	~~k_draw_line,~~k_draw_line,65,2,0
 34839                        	.sym	~~k_draw_filled_circle,~~k_draw_filled_c
                    ircle,65,2,0
 34840                        	.sym	~~k_draw_circle,~~k_draw_circle,65,2,0
 34841                        	.sym	~~k_draw_segments,~~k_draw_segments,65,2
  Mon Aug  9 2021 16:52                                                Page 642


                    ,0
 34842                        	.sym	~~k_draw_pixel_D0,~~k_draw_pixel_D0,65,2
                    ,0
 34843                        	.sym	~~k_draw_pixel_back,~~k_draw_pixel_back,
                    65,2,0
 34844                        	.sym	~~k_draw_pixel_front,~~k_draw_pixel_fron
                    t,65,2,0
 34845                        	.sym	~~k_draw_pixel_ex,~~k_draw_pixel_ex,65,2
                    ,0
 34846                        	.sym	~~k_draw_pixel,~~k_draw_pixel,65,2,0
 34847                        	.sym	~~k_draw_lines,~~k_draw_lines,65,2,0
 34848                        	.sym	~~k_memory_bitblt,~~k_memory_bitblt,65,2
                    ,0
 34849                        	.sym	~~k_bitblt,~~k_bitblt,65,2,0
 34850                        	.sym	~~k_scratch_restore_bitblt,~~k_scratch_r
                    estore_bitblt,65,2,0
 34851                        	.sym	~~k_scratch_save_bitblt,~~k_scratch_save
                    _bitblt,65,2,0
 34852                        	.sym	~~k_shadow_fill_rect_address,~~k_shadow_
                    fill_rect_address,65,2,0
 34853                        	.sym	~~k_shadow_fill_rect,~~k_shadow_fill_rec
                    t,65,2,0
 34854                        	.sym	~~k_shadow_bitblt,~~k_shadow_bitblt,65,2
                    ,0
 34855                        	.sym	~~k_is_overlapped_rect_points,~~k_is_ove
                    rlapped_rect_points,69,2,0
 34856                        	.sym	~~k_is_overlapped_rect,~~k_is_overlapped
                    _rect,69,2,0
 34857                        	.sym	~~k_is_inside_rect,~~k_is_inside_rect,78
                    ,2,0
 34858                        	.sym	~~k_set_rect,~~k_set_rect,65,2,0
 34859                        	.sym	~~k_copy_rect,~~k_copy_rect,65,2,0
 34860                        	.sym	~~defineGrayPalette,~~defineGrayPalette,
                    65,2,0
 34861                        	.sym	~~setColors,~~setColors,65,2,0
 34862                        	.sym	~~k_init_desktop,~~k_init_desktop,65,2,0
 34863                        	.sym	~~k_gui_cache_desktop_widgets,~~k_gui_ca
                    che_desktop_widgets,65,2,0
 34864                        	.sym	~~k_gui_get_pixel_offset_width,~~k_gui_g
                    et_pixel_offset_width,71,2,0
 34865                        	.sym	~~k_gui_get_pixel_offset,~~k_gui_get_pix
                    el_offset,71,2,0
 34866                        	.sym	~~k_get_video_mode,~~k_get_video_mode,80
                    ,2,0
 34867                        	.sym	~~k_enable_bitmap_mode,~~k_enable_bitmap
                    _mode,65,2,0
 34868                        	.sym	~~k_gui_size_nonclient_area,~~k_gui_size
                    _nonclient_area,78,2,0
 34869                        	.sym	~~k_HWNDToWINRECT,~~k_HWNDToWINRECT,1098
                    ,2,32,26
 34870                        	.sym	~~k_getUIColor,~~k_getUIColor,69,2,0
 34871                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
                    r,69,2,0
 34872                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,2,0
 34873                        	.sym	~~k_getUIWindowShadowColor,~~k_getUIWind
                    owShadowColor,69,2,0
 34874                        	.sym	~~k_getUIWindowBorderColor,~~k_getUIWind
  Mon Aug  9 2021 16:52                                                Page 643


                    owBorderColor,69,2,0
 34875                        	.sym	~~k_getUIWindowFrameColor,~~k_getUIWindo
                    wFrameColor,69,2,0
 34876                        	.sym	~~k_getUIHighlightColor,~~k_getUIHighlig
                    htColor,69,2,0
 34877                        	.sym	~~k_getUIFontSelectedColor,~~k_getUIFont
                    SelectedColor,69,2,0
 34878                        	.sym	~~k_getUIFontColor,~~k_getUIFontColor,69
                    ,2,0
 34879                        	.sym	~~k_getUIDesktopColor,~~k_getUIDesktopCo
                    lor,69,2,0
 34880                        	.sym	~~k_getUIBackgroundColor,~~k_getUIBackgr
                    oundColor,69,2,0
 34881                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,68
 34882                        	.sym	CUR_PALETTE_MAP,0,10,14,400,68
 34883                        	.sym	~~k_render_menu,~~k_render_menu,1098,2,3
                    2,36
 34884                        	.sym	~~k_vdraw_ui_menu_with_rect,~~k_vdraw_ui
                    _menu_with_rect,1098,2,32,36
 34885                        	.sym	~~k_vdraw_ui_menu_ex,~~k_vdraw_ui_menu_e
                    x,1098,2,32,36
 34886                        	.sym	~~k_vdraw_ui_menu,~~k_vdraw_ui_menu,1098
                    ,2,32,36
 34887                        	.sym	~~k_draw_menu,~~k_draw_menu,1098,2,32,36
 34888                        	.sym	PCLICKDETECTED,0,138,14,32,67
 34889                        	.sym	CLICKDETECTED,0,10,14,64,67
 34890                        	.sym	OBJECTCLICKED,0,641,14,32
 34891                        	.sym	~~MOUSE_POINTER_RESIZE,~~MOUSE_POINTER_R
                    ESIZE,110,2,0,256
 34892                        	.sym	~~MOUSE_POINTER_HOURGLASS,~~MOUSE_POINTE
                    R_HOURGLASS,110,2,0,256
 34893                        	.sym	~~MOUSE_POINTER_HELP,~~MOUSE_POINTER_HEL
                    P,110,2,0,256
 34894                        	.sym	~~MOUSE_POINTER_ARROW,~~MOUSE_POINTER_AR
                    ROW,110,2,0,256
 34895                        	.sym	~~Bm437ToshibaLCD8x8,~~Bm437ToshibaLCD8x
                    8,110,18,0,0
 34896                        	.sym	~~windowIconImg,~~windowIconImg,878,18,0
                    ,0,256
 34897                        	.sym	~~windowChromeImg,~~windowChromeImg,878,
                    18,0,0,64
 34898                        	.sym	~~fontImg,~~fontImg,878,18,0,0,64
 34899                        	.sym	~~characterROMMapping,~~characterROMMapp
                    ing,101,18,0,0
 34900                        	.sym	PALLOCATIONHEADER,0,138,14,32,66
 34901                        	.sym	ALLOCATIONHEADER,0,10,14,80,66
 34902                        	.sym	PIPCPORT,0,138,14,32,65
 34903                        	.sym	IPCPORT,0,10,14,144,65
 34904                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
 34905                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 34906                        	.sym	MemoryCallback,0,641,14,32
 34907                        	.sym	PFXMEMORYMAP,0,138,14,32,64
 34908                        	.sym	FXMEMORYMAP,0,10,14,2072,64
 34909                        	.sym	UMM_HEAP_INFO,0,10,14,256,63
 34910                        	.sym	PEXECUTIVE,0,138,14,32,62
 34911                        	.sym	EXECUTIVE,0,10,14,128,62
  Mon Aug  9 2021 16:52                                                Page 644


 34912                        	.sym	EX_QUERY_METRIC,0,656,14,32
 34913                        	.sym	EX_CONFIGURE,0,656,14,32
 34914                        	.sym	EX_UNINIT,0,641,14,32
 34915                        	.sym	EX_INIT,0,8833,14,32
 34916                        	.sym	~~k_string_replace,~~k_string_replace,11
                    02,18,32
 34917                        	.sym	~~k_string_copy_to_delimiter,~~k_string_
                    copy_to_delimiter,1102,18,32
 34918                        	.sym	PFXSTRING,0,138,14,32,61
 34919                        	.sym	FXSTRING,0,10,14,64,61
 34920                        	.sym	PIRQCHAIN,0,138,14,32,60
 34921                        	.sym	IRQCHAIN,0,10,14,128,60
 34922                        	.sym	DEVICEDRIVER_COMMAND,0,654,14,32
 34923                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 34924                        	.sym	DEVICEDRIVER_WRITE,0,654,14,32
 34925                        	.sym	DEVICEDRIVER_READ,0,654,14,32
 34926                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 34927                        	.sym	DEVICEDRIVER_IRQ,0,641,14,32
 34928                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,59
 34929                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,808,59
 34930                        	.sym	GETDRIVERDEF,0,8842,14,32,58
 34931                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,58
 34932                        	.sym	FX_DEVICE_DRIVER,0,10,14,776,58
 34933                        	.sym	~~k_get_c256_release,~~k_get_c256_releas
                    e,65,18,0
 34934                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 34935                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
 34936                        	.sym	~~k_debug_hex,~~k_debug_hex,65,18,0
 34937                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
 34938                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 34939                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
                    8,0
 34940                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 34941                        	.sym	~~k_unlock_irq,~~k_unlock_irq,80,18,0
 34942                        	.sym	~~k_lock_irq,~~k_lock_irq,80,18,0
 34943                        	.sym	~~k_delay,~~k_delay,65,18,0
 34944                        	.sym	~~sleep,~~sleep,65,18,0
 34945                        	.sym	PSEGMENTHEADER,0,138,14,32,57
 34946                        	.sym	SEGMENTHEADER,0,10,14,160,57
 34947                        	.sym	PDEBUGBYTEBITS,0,138,14,32,56
 34948                        	.sym	DEBUGBYTEBITS,0,10,14,8,56
 34949                        	.sym	PFXENVIRONMENT,0,138,14,32,55
 34950                        	.sym	FXENVIRONMENT,0,10,14,96,55
 34951                        	.sym	PFXZEROPAGE,0,138,14,32,54
 34952                        	.sym	FXZEROPAGE,0,10,14,720,54
 34953                        	.sym	IRQBUFFER,0,10,14,32,53
 34954                        	.sym	KERNELTRAPCALL,0,641,14,32
 34955                        	.sym	PFXKERNEL_API_CALLTABLE,0,138,14,32,52
 34956                        	.sym	FXKERNEL_API_CALLTABLE,0,10,14,8192,52
 34957                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 34958                        	.sym	FOREACHNODE,0,641,14,32
 34959                        	.sym	PFXRFHEADER_STRING_ENTRY,0,138,14,32,51
 34960                        	.sym	FXRFHEADER_STRING_ENTRY,0,10,14,40,51
 34961                        	.sym	PFXRFHEADER_STRING,0,138,14,32,50
  Mon Aug  9 2021 16:52                                                Page 645


 34962                        	.sym	FXRFHEADER_STRING,0,10,14,32,50
 34963                        	.sym	PFXRFHEADER_FONT,0,138,14,32,49
 34964                        	.sym	FXRFHEADER_FONT,0,10,14,144,49
 34965                        	.sym	PFXRFHEADER,0,138,14,32,48
 34966                        	.sym	FXRFHEADER,0,10,14,72,48
 34967                        	.sym	PFXCOMBUFFER,0,138,14,32,47
 34968                        	.sym	FXCOMBUFFER,0,10,14,2080,47
 34969                        	.sym	PSUBMENULIST,0,138,14,32,46
 34970                        	.sym	SUBMENULIST,0,10,14,40,46
 34971                        	.sym	HSUBMENU,0,7,14,32
 34972                        	.sym	PSUBMENU,0,138,14,32,45
 34973                        	.sym	SUBMENU,0,10,14,64,45
 34974                        	.sym	MenuAction,0,641,14,32
 34975                        	.sym	PMENUANCHOR,0,138,14,32,44
 34976                        	.sym	MENUANCHOR,0,10,14,272,44
 34977                        	.sym	PMSGBOX,0,138,14,32,43
 34978                        	.sym	MSGBOX,0,10,14,144,43
 34979                        	.sym	PTEXTBOX,0,138,14,32,42
 34980                        	.sym	TEXTBOX,0,10,14,144,42
 34981                        	.sym	PLISTBOX,0,138,14,32,41
 34982                        	.sym	LISTBOX,0,10,14,240,41
 34983                        	.sym	PSCROLLBAR,0,138,14,32,40
 34984                        	.sym	SCROLLBAR,0,10,14,240,40
 34985                        	.sym	PBUTTON,0,138,14,32,39
 34986                        	.sym	BUTTON,0,10,14,96,39
 34987                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,38
 34988                        	.sym	MENUDROPDOWNDATA,0,10,14,5152,38
 34989                        	.sym	PMENUTAG,0,138,14,32,37
 34990                        	.sym	MENUTAG,0,10,14,160,37
 34991                        	.sym	PMENU,0,138,14,32,36
 34992                        	.sym	MENU,0,10,14,280,36
 34993                        	.sym	HMENURESOURCE,0,129,14,32
 34994                        	.sym	FONTMETRIC,0,10,14,32,35
 34995                        	.sym	TITLE,0,142,14,32
 34996                        	.sym	PHANDLE,0,1153,14,32
 34997                        	.sym	HANDLE,0,129,14,32
 34998                        	.sym	PWINDOWEX,0,138,14,32,34
 34999                        	.sym	WINDOWEX,0,10,14,3880,34
 35000                        	.sym	PWINDOW,0,138,14,32,33
 35001                        	.sym	WINDOW,0,10,14,3904,33
 35002                        	.sym	PDRAGDATA,0,138,14,32,32
 35003                        	.sym	DRAGDATA,0,10,14,216,32
 35004                        	.sym	PNCCLICKABLE,0,138,14,32,31
 35005                        	.sym	NCCLICKABLE,0,10,14,136,31
 35006                        	.sym	HCLICKABLE,0,7,14,32
 35007                        	.sym	PCLICKABLE,0,138,14,32,30
 35008                        	.sym	CLICKABLE,0,10,14,152,30
 35009                        	.sym	PWNDCLASS,0,138,14,32,29
 35010                        	.sym	WNDCLASS,0,10,14,272,29
 35011                        	.sym	HBRUSH,0,129,14,32
 35012                        	.sym	HCURSOR,0,129,14,32
 35013                        	.sym	HICON,0,129,14,32
 35014                        	.sym	HINSTANCE,0,129,14,32
 35015                        	.sym	FXWndProc,0,654,14,32
 35016                        	.sym	PDRECT,0,138,14,32,28
 35017                        	.sym	DRECT,0,10,14,112,28
 35018                        	.sym	PRECTP,0,138,14,32,27
 35019                        	.sym	RECTP,0,10,14,96,27
  Mon Aug  9 2021 16:52                                                Page 646


 35020                        	.sym	PRECT,0,138,14,32,26
 35021                        	.sym	RECT,0,10,14,112,26
 35022                        	.sym	PPOINT,0,138,14,32,25
 35023                        	.sym	POINT,0,10,14,32,25
 35024                        	.sym	PFXPROPERTY,0,138,14,32,23
 35025                        	.sym	FXPROPERTY,0,10,14,384,23
 35026                        	.sym	PKEYSTATE,0,138,14,32,22
 35027                        	.sym	KEYSTATE,0,10,14,112,22
 35028                        	.sym	SCANCODE,0,14,14,8
 35029                        	.sym	KEYCODE,0,16,14,16
 35030                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
 35031                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
 35032                        	.sym	PFXPROCESS,0,138,14,32,20
 35033                        	.sym	FXPROCESS,0,10,14,800,20
 35034                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
 35035                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
 35036                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
 35037                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
 35038                        	.sym	FXProcessProc,0,641,14,32
 35039                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
 35040                        	.sym	FXCMDMESSAGE,0,10,14,312,17
 35041                        	.sym	PFXOSMESSAGE,0,138,14,32,16
 35042                        	.sym	FXOSMESSAGE,0,10,14,312,16
 35043                        	.sym	PINT_REGS,0,138,14,32,15
 35044                        	.sym	INT_REGS,0,10,14,104,15
 35045                        	.sym	TASK_STACK,0,10,14,32,14
 35046                        	.sym	TASK,0,10,14,48,13
 35047                        	.sym	PIRQDATA,0,138,14,32,12
 35048                        	.sym	IRQDATA,0,10,14,48,12
 35049                        	.sym	HMENU,0,129,14,32
 35050                        	.sym	HWND,0,129,14,32
 35051                        	.sym	MSGDATA,0,14,14,8
 35052                        	.sym	MSGDEST,0,18,14,32
 35053                        	.sym	MSGSRC,0,18,14,32
 35054                        	.sym	MSGTYPE,0,16,14,16
 35055                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
 35056                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
 35057                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
 35058                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
 35059                        	.sym	FILE_PATH_LIST,0,138,14,32,6
 35060                        	.sym	PROCEDURE_LIST,0,138,14,32,6
 35061                        	.sym	FILE_HANDLE,0,138,14,32,11
 35062                        	.sym	FILE_BLOCK,0,10,14,552,11
 35063                        	.sym	SEMAPHORE,0,10,14,16,10
 35064                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
 35065                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
 35066                        	.sym	KRESULT,0,18,14,32
 35067                        	.sym	PKERNEL_ERROR,0,138,14,32,8
 35068                        	.sym	KERNEL_ERROR,0,10,14,32,8
 35069                        	.sym	PROCESS_STATUS,0,16,14,16
 35070                        	.sym	FILE_PATH_NAME,0,142,14,32
 35071                        	.sym	PROCESS_RESOURCE,0,129,14,32
 35072                        	.sym	PROCESS_TLS,0,129,14,32
 35073                        	.sym	PROCESS_CTX,0,129,14,32
 35074                        	.sym	USERID,0,16,14,16
 35075                        	.sym	PROCESS_ID,0,18,14,32
 35076                        	.sym	PROCESS_BANK,0,14,14,8
 35077                        	.sym	PFXQUEUE,0,138,14,32,7
  Mon Aug  9 2021 16:52                                                Page 647


 35078                        	.sym	FXQUEUE,0,10,14,80,7
 35079                        	.sym	PFXNODELIST,0,138,14,32,6
 35080                        	.sym	FXNODELIST,0,10,14,96,6
 35081                        	.sym	NodeListDeallocator,0,641,14,32
 35082                        	.sym	PFXNODE,0,138,14,32,5
 35083                        	.sym	FXNODE,0,10,14,384,5
 35084                        	.sym	PBYTEBITS,0,138,14,32,4
 35085                        	.sym	BYTEBITS,0,10,14,8,4
 35086                        	.sym	HRESULT,0,18,14,32
 35087                        	.sym	LPWCHAR,0,144,14,32
 35088                        	.sym	WCHAR,0,16,14,16
 35089                        	.sym	HSTRINGTABLE,0,129,14,32
 35090                        	.sym	HCOLOR,0,129,14,32
 35091                        	.sym	HFONT,0,129,14,32
 35092                        	.sym	HDC,0,129,14,32
 35093                        	.sym	HPOINTER,0,129,14,32
 35094                        	.sym	uint32_t,0,18,14,32
 35095                        	.sym	uint8_t,0,14,14,8
 35096                        	.sym	LPBOOL,0,142,14,32
 35097                        	.sym	BOOL,0,14,14,8
 35098                        	.sym	DWORD,0,18,14,32
 35099                        	.sym	ULONG,0,18,14,32
 35100                        	.sym	LPLONG,0,135,14,32
 35101                        	.sym	LONG,0,7,14,32
 35102                        	.sym	PUINT,0,144,14,32
 35103                        	.sym	USHORT,0,16,14,16
 35104                        	.sym	UINT,0,16,14,16
 35105                        	.sym	INT,0,5,14,16
 35106                        	.sym	WORD,0,5,14,16
 35107                        	.sym	PBYTE,0,142,14,32
 35108                        	.sym	BYTE,0,14,14,8
 35109                        	.sym	IOPORT,0,142,14,32
 35110                        	.sym	PUCHAR,0,142,14,32
 35111                        	.sym	UCHAR,0,14,14,8
 35112                        	.sym	LPWCSTR,0,142,14,32
 35113                        	.sym	LPCSTR,0,142,14,32
 35114                        	.sym	LPSTR,0,142,14,32
 35115                        	.sym	LPCHAR,0,142,14,32
 35116                        	.sym	CHAR,0,14,14,8
 35117                        	.sym	PUINT_32,0,146,14,32
 35118                        	.sym	UINT_32,0,18,14,32
 35119                        	.sym	PUINT_16,0,144,14,32
 35120                        	.sym	UINT_16,0,16,14,16
 35121                        	.sym	PUINT_8,0,142,14,32
 35122                        	.sym	UINT_8,0,14,14,8
 35123                        	.sym	LPVOID,0,129,14,32
 35124                        	.sym	VOID,0,1,14,32
 35125                        	.sym	~~toupper,~~toupper,69,18,0
 35126                        	.sym	~~strupr,~~strupr,1102,18,32
 35127                        	.sym	~~strlen,~~strlen,80,18,0
 35128                        	.sym	~~strcpy,~~strcpy,1102,18,32
 35129                        	.sym	~~memset,~~memset,1089,18,32
 35130                        	.sym	~~memcpy,~~memcpy,1089,18,32
 35131                        	.sym	Boolean_T,0,5,14,16
 35132                        	.sym	~~abs,~~abs,69,18,0
 35133                        	.sym	ldiv_t,0,10,14,64,2
 35134                        	.sym	div_t,0,10,14,32,1
 35135                        	.sym	wctype_t,0,16,14,16
  Mon Aug  9 2021 16:52                                                Page 648


 35136                        	.sym	wint_t,0,16,14,16
 35137                        	.sym	wchar_t,0,14,14,8
 35138                        	.sym	ptrdiff_t,0,7,14,32
 35139                        	.sym	size_t,0,16,14,16
 35140                        	end


      Lines assembled: 35140
      Errors: 0
